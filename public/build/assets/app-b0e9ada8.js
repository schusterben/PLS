function l0(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const f in a)if(f!=="default"&&!(f in e)){const d=Object.getOwnPropertyDescriptor(a,f);d&&Object.defineProperty(e,f,d.get?d:{enumerable:!0,get:()=>a[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function u0(e,t){return function(){return e.apply(t,arguments)}}const{toString:bm}=Object.prototype,{getPrototypeOf:Wf}=Object,Su=(e=>t=>{const r=bm.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yi=e=>(e=e.toLowerCase(),t=>Su(t)===e),Tu=e=>t=>typeof t===e,{isArray:Ds}=Array,ba=Tu("undefined");function Rm(e){return e!==null&&!ba(e)&&e.constructor!==null&&!ba(e.constructor)&&Dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const c0=yi("ArrayBuffer");function Nm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&c0(e.buffer),t}const Om=Tu("string"),Dr=Tu("function"),f0=Tu("number"),Iu=e=>e!==null&&typeof e=="object",Pm=e=>e===!0||e===!1,Pl=e=>{if(Su(e)!=="object")return!1;const t=Wf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lm=yi("Date"),Mm=yi("File"),Dm=yi("Blob"),km=yi("FileList"),Bm=e=>Iu(e)&&Dr(e.pipe),Fm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Dr(e.append)&&((t=Su(e))==="formdata"||t==="object"&&Dr(e.toString)&&e.toString()==="[object FormData]"))},zm=yi("URLSearchParams"),Um=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ya(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,f;if(typeof e!="object"&&(e=[e]),Ds(e))for(a=0,f=e.length;a<f;a++)t.call(null,e[a],a,e);else{const d=r?Object.getOwnPropertyNames(e):Object.keys(e),x=d.length;let v;for(a=0;a<x;a++)v=d[a],t.call(null,e[v],v,e)}}function h0(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,f;for(;a-- >0;)if(f=r[a],t===f.toLowerCase())return f;return null}const d0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),p0=e=>!ba(e)&&e!==d0;function Bc(){const{caseless:e}=p0(this)&&this||{},t={},r=(a,f)=>{const d=e&&h0(t,f)||f;Pl(t[d])&&Pl(a)?t[d]=Bc(t[d],a):Pl(a)?t[d]=Bc({},a):Ds(a)?t[d]=a.slice():t[d]=a};for(let a=0,f=arguments.length;a<f;a++)arguments[a]&&Ya(arguments[a],r);return t}const jm=(e,t,r,{allOwnKeys:a}={})=>(Ya(t,(f,d)=>{r&&Dr(f)?e[d]=u0(f,r):e[d]=f},{allOwnKeys:a}),e),Hm=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vm=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Wm=(e,t,r,a)=>{let f,d,x;const v={};if(t=t||{},e==null)return t;do{for(f=Object.getOwnPropertyNames(e),d=f.length;d-- >0;)x=f[d],(!a||a(x,e,t))&&!v[x]&&(t[x]=e[x],v[x]=!0);e=r!==!1&&Wf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Zm=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Gm=e=>{if(!e)return null;if(Ds(e))return e;let t=e.length;if(!f0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Xm=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wf(Uint8Array)),Ym=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let f;for(;(f=a.next())&&!f.done;){const d=f.value;t.call(e,d[0],d[1])}},Km=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},qm=yi("HTMLFormElement"),Qm=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,f){return a.toUpperCase()+f}),gd=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Jm=yi("RegExp"),g0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Ya(r,(f,d)=>{let x;(x=t(f,d,e))!==!1&&(a[d]=x||f)}),Object.defineProperties(e,a)},$m=e=>{g0(e,(t,r)=>{if(Dr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Dr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},e2=(e,t)=>{const r={},a=f=>{f.forEach(d=>{r[d]=!0})};return Ds(e)?a(e):a(String(e).split(t)),r},t2=()=>{},n2=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ic="abcdefghijklmnopqrstuvwxyz",md="0123456789",m0={DIGIT:md,ALPHA:ic,ALPHA_DIGIT:ic+ic.toUpperCase()+md},r2=(e=16,t=m0.ALPHA_DIGIT)=>{let r="";const{length:a}=t;for(;e--;)r+=t[Math.random()*a|0];return r};function i2(e){return!!(e&&Dr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const o2=e=>{const t=new Array(10),r=(a,f)=>{if(Iu(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[f]=a;const d=Ds(a)?[]:{};return Ya(a,(x,v)=>{const E=r(x,f+1);!ba(E)&&(d[v]=E)}),t[f]=void 0,d}}return a};return r(e,0)},s2=yi("AsyncFunction"),a2=e=>e&&(Iu(e)||Dr(e))&&Dr(e.then)&&Dr(e.catch),ae={isArray:Ds,isArrayBuffer:c0,isBuffer:Rm,isFormData:Fm,isArrayBufferView:Nm,isString:Om,isNumber:f0,isBoolean:Pm,isObject:Iu,isPlainObject:Pl,isUndefined:ba,isDate:Lm,isFile:Mm,isBlob:Dm,isRegExp:Jm,isFunction:Dr,isStream:Bm,isURLSearchParams:zm,isTypedArray:Xm,isFileList:km,forEach:Ya,merge:Bc,extend:jm,trim:Um,stripBOM:Hm,inherits:Vm,toFlatObject:Wm,kindOf:Su,kindOfTest:yi,endsWith:Zm,toArray:Gm,forEachEntry:Ym,matchAll:Km,isHTMLForm:qm,hasOwnProperty:gd,hasOwnProp:gd,reduceDescriptors:g0,freezeMethods:$m,toObjectSet:e2,toCamelCase:Qm,noop:t2,toFiniteNumber:n2,findKey:h0,global:d0,isContextDefined:p0,ALPHABET:m0,generateString:r2,isSpecCompliantForm:i2,toJSONObject:o2,isAsyncFn:s2,isThenable:a2};function wt(e,t,r,a,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),f&&(this.response=f)}ae.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const x0=wt.prototype,_0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_0[e]={value:e}});Object.defineProperties(wt,_0);Object.defineProperty(x0,"isAxiosError",{value:!0});wt.from=(e,t,r,a,f,d)=>{const x=Object.create(x0);return ae.toFlatObject(e,x,function(E){return E!==Error.prototype},v=>v!=="isAxiosError"),wt.call(x,e.message,t,r,a,f),x.cause=e,x.name=e.name,d&&Object.assign(x,d),x};const l2=null;function Fc(e){return ae.isPlainObject(e)||ae.isArray(e)}function w0(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function xd(e,t,r){return e?e.concat(t).map(function(f,d){return f=w0(f),!r&&d?"["+f+"]":f}).join(r?".":""):t}function u2(e){return ae.isArray(e)&&!e.some(Fc)}const c2=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function bu(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,se){return!ae.isUndefined(se[z])});const a=r.metaTokens,f=r.visitor||I,d=r.dots,x=r.indexes,E=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(f))throw new TypeError("visitor must be a function");function y(j){if(j===null)return"";if(ae.isDate(j))return j.toISOString();if(!E&&ae.isBlob(j))throw new wt("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(j)||ae.isTypedArray(j)?E&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function I(j,z,se){let F=j;if(j&&!se&&typeof j=="object"){if(ae.endsWith(z,"{}"))z=a?z:z.slice(0,-2),j=JSON.stringify(j);else if(ae.isArray(j)&&u2(j)||(ae.isFileList(j)||ae.endsWith(z,"[]"))&&(F=ae.toArray(j)))return z=w0(z),F.forEach(function(B,k){!(ae.isUndefined(B)||B===null)&&t.append(x===!0?xd([z],k,d):x===null?z:z+"[]",y(B))}),!1}return Fc(j)?!0:(t.append(xd(se,z,d),y(j)),!1)}const N=[],P=Object.assign(c2,{defaultVisitor:I,convertValue:y,isVisitable:Fc});function W(j,z){if(!ae.isUndefined(j)){if(N.indexOf(j)!==-1)throw Error("Circular reference detected in "+z.join("."));N.push(j),ae.forEach(j,function(F,D){(!(ae.isUndefined(F)||F===null)&&f.call(t,F,ae.isString(D)?D.trim():D,z,P))===!0&&W(F,z?z.concat(D):[D])}),N.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return W(e),t}function _d(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Zf(e,t){this._pairs=[],e&&bu(e,this,t)}const y0=Zf.prototype;y0.append=function(t,r){this._pairs.push([t,r])};y0.toString=function(t){const r=t?function(a){return t.call(this,a,_d)}:_d;return this._pairs.map(function(f){return r(f[0])+"="+r(f[1])},"").join("&")};function f2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v0(e,t,r){if(!t)return e;const a=r&&r.encode||f2,f=r&&r.serialize;let d;if(f?d=f(t,r):d=ae.isURLSearchParams(t)?t.toString():new Zf(t,r).toString(a),d){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class h2{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(a){a!==null&&t(a)})}}const wd=h2,E0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},d2=typeof URLSearchParams<"u"?URLSearchParams:Zf,p2=typeof FormData<"u"?FormData:null,g2=typeof Blob<"u"?Blob:null,m2=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),x2=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xi={isBrowser:!0,classes:{URLSearchParams:d2,FormData:p2,Blob:g2},isStandardBrowserEnv:m2,isStandardBrowserWebWorkerEnv:x2,protocols:["http","https","file","blob","url","data"]};function _2(e,t){return bu(e,new xi.classes.URLSearchParams,Object.assign({visitor:function(r,a,f,d){return xi.isNode&&ae.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function w2(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function y2(e){const t={},r=Object.keys(e);let a;const f=r.length;let d;for(a=0;a<f;a++)d=r[a],t[d]=e[d];return t}function C0(e){function t(r,a,f,d){let x=r[d++];const v=Number.isFinite(+x),E=d>=r.length;return x=!x&&ae.isArray(f)?f.length:x,E?(ae.hasOwnProp(f,x)?f[x]=[f[x],a]:f[x]=a,!v):((!f[x]||!ae.isObject(f[x]))&&(f[x]=[]),t(r,a,f[x],d)&&ae.isArray(f[x])&&(f[x]=y2(f[x])),!v)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(a,f)=>{t(w2(a),f,r,0)}),r}return null}function v2(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Gf={transitional:E0,adapter:["xhr","http"],transformRequest:[function(t,r){const a=r.getContentType()||"",f=a.indexOf("application/json")>-1,d=ae.isObject(t);if(d&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return f&&f?JSON.stringify(C0(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let v;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return _2(t,this.formSerializer).toString();if((v=ae.isFileList(t))||a.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return bu(v?{"files[]":t}:t,E&&new E,this.formSerializer)}}return d||f?(r.setContentType("application/json",!1),v2(t)):t}],transformResponse:[function(t){const r=this.transitional||Gf.transitional,a=r&&r.forcedJSONParsing,f=this.responseType==="json";if(t&&ae.isString(t)&&(a&&!this.responseType||f)){const x=!(r&&r.silentJSONParsing)&&f;try{return JSON.parse(t)}catch(v){if(x)throw v.name==="SyntaxError"?wt.from(v,wt.ERR_BAD_RESPONSE,this,null,this.response):v}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xi.classes.FormData,Blob:xi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Gf.headers[e]={}});const Xf=Gf,E2=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C2=e=>{const t={};let r,a,f;return e&&e.split(`
`).forEach(function(x){f=x.indexOf(":"),r=x.substring(0,f).trim().toLowerCase(),a=x.substring(f+1).trim(),!(!r||t[r]&&E2[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},yd=Symbol("internals");function ta(e){return e&&String(e).trim().toLowerCase()}function Ll(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Ll):String(e)}function A2(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const S2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oc(e,t,r,a,f){if(ae.isFunction(a))return a.call(this,t,r);if(f&&(t=r),!!ae.isString(t)){if(ae.isString(a))return t.indexOf(a)!==-1;if(ae.isRegExp(a))return a.test(t)}}function T2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function I2(e,t){const r=ae.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(f,d,x){return this[a].call(this,t,f,d,x)},configurable:!0})})}class Ru{constructor(t){t&&this.set(t)}set(t,r,a){const f=this;function d(v,E,y){const I=ta(E);if(!I)throw new Error("header name must be a non-empty string");const N=ae.findKey(f,I);(!N||f[N]===void 0||y===!0||y===void 0&&f[N]!==!1)&&(f[N||E]=Ll(v))}const x=(v,E)=>ae.forEach(v,(y,I)=>d(y,I,E));return ae.isPlainObject(t)||t instanceof this.constructor?x(t,r):ae.isString(t)&&(t=t.trim())&&!S2(t)?x(C2(t),r):t!=null&&d(r,t,a),this}get(t,r){if(t=ta(t),t){const a=ae.findKey(this,t);if(a){const f=this[a];if(!r)return f;if(r===!0)return A2(f);if(ae.isFunction(r))return r.call(this,f,a);if(ae.isRegExp(r))return r.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ta(t),t){const a=ae.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||oc(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let f=!1;function d(x){if(x=ta(x),x){const v=ae.findKey(a,x);v&&(!r||oc(a,a[v],v,r))&&(delete a[v],f=!0)}}return ae.isArray(t)?t.forEach(d):d(t),f}clear(t){const r=Object.keys(this);let a=r.length,f=!1;for(;a--;){const d=r[a];(!t||oc(this,this[d],d,t,!0))&&(delete this[d],f=!0)}return f}normalize(t){const r=this,a={};return ae.forEach(this,(f,d)=>{const x=ae.findKey(a,d);if(x){r[x]=Ll(f),delete r[d];return}const v=t?T2(d):String(d).trim();v!==d&&delete r[d],r[v]=Ll(f),a[v]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ae.forEach(this,(a,f)=>{a!=null&&a!==!1&&(r[f]=t&&ae.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(f=>a.set(f)),a}static accessor(t){const a=(this[yd]=this[yd]={accessors:{}}).accessors,f=this.prototype;function d(x){const v=ta(x);a[v]||(I2(f,x),a[v]=!0)}return ae.isArray(t)?t.forEach(d):d(t),this}}Ru.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Ru.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ae.freezeMethods(Ru);const Li=Ru;function sc(e,t){const r=this||Xf,a=t||r,f=Li.from(a.headers);let d=a.data;return ae.forEach(e,function(v){d=v.call(r,d,f.normalize(),t?t.status:void 0)}),f.normalize(),d}function A0(e){return!!(e&&e.__CANCEL__)}function Ka(e,t,r){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,r),this.name="CanceledError"}ae.inherits(Ka,wt,{__CANCEL__:!0});function b2(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new wt("Request failed with status code "+r.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const R2=xi.isStandardBrowserEnv?function(){return{write:function(r,a,f,d,x,v){const E=[];E.push(r+"="+encodeURIComponent(a)),ae.isNumber(f)&&E.push("expires="+new Date(f).toGMTString()),ae.isString(d)&&E.push("path="+d),ae.isString(x)&&E.push("domain="+x),v===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(r){const a=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function N2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function O2(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function S0(e,t){return e&&!N2(t)?O2(e,t):t}const P2=xi.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function f(d){let x=d;return t&&(r.setAttribute("href",x),x=r.href),r.setAttribute("href",x),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=f(window.location.href),function(x){const v=ae.isString(x)?f(x):x;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}();function L2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function M2(e,t){e=e||10;const r=new Array(e),a=new Array(e);let f=0,d=0,x;return t=t!==void 0?t:1e3,function(E){const y=Date.now(),I=a[d];x||(x=y),r[f]=E,a[f]=y;let N=d,P=0;for(;N!==f;)P+=r[N++],N=N%e;if(f=(f+1)%e,f===d&&(d=(d+1)%e),y-x<t)return;const W=I&&y-I;return W?Math.round(P*1e3/W):void 0}}function vd(e,t){let r=0;const a=M2(50,250);return f=>{const d=f.loaded,x=f.lengthComputable?f.total:void 0,v=d-r,E=a(v),y=d<=x;r=d;const I={loaded:d,total:x,progress:x?d/x:void 0,bytes:v,rate:E||void 0,estimated:E&&x&&y?(x-d)/E:void 0,event:f};I[t?"download":"upload"]=!0,e(I)}}const D2=typeof XMLHttpRequest<"u",k2=D2&&function(e){return new Promise(function(r,a){let f=e.data;const d=Li.from(e.headers).normalize(),x=e.responseType;let v;function E(){e.cancelToken&&e.cancelToken.unsubscribe(v),e.signal&&e.signal.removeEventListener("abort",v)}let y;ae.isFormData(f)&&(xi.isStandardBrowserEnv||xi.isStandardBrowserWebWorkerEnv?d.setContentType(!1):d.getContentType(/^\s*multipart\/form-data/)?ae.isString(y=d.getContentType())&&d.setContentType(y.replace(/^\s*(multipart\/form-data);+/,"$1")):d.setContentType("multipart/form-data"));let I=new XMLHttpRequest;if(e.auth){const j=e.auth.username||"",z=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(j+":"+z))}const N=S0(e.baseURL,e.url);I.open(e.method.toUpperCase(),v0(N,e.params,e.paramsSerializer),!0),I.timeout=e.timeout;function P(){if(!I)return;const j=Li.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),se={data:!x||x==="text"||x==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:j,config:e,request:I};b2(function(D){r(D),E()},function(D){a(D),E()},se),I=null}if("onloadend"in I?I.onloadend=P:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(P)},I.onabort=function(){I&&(a(new wt("Request aborted",wt.ECONNABORTED,e,I)),I=null)},I.onerror=function(){a(new wt("Network Error",wt.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let z=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const se=e.transitional||E0;e.timeoutErrorMessage&&(z=e.timeoutErrorMessage),a(new wt(z,se.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,I)),I=null},xi.isStandardBrowserEnv){const j=P2(N)&&e.xsrfCookieName&&R2.read(e.xsrfCookieName);j&&d.set(e.xsrfHeaderName,j)}f===void 0&&d.setContentType(null),"setRequestHeader"in I&&ae.forEach(d.toJSON(),function(z,se){I.setRequestHeader(se,z)}),ae.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),x&&x!=="json"&&(I.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&I.addEventListener("progress",vd(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",vd(e.onUploadProgress)),(e.cancelToken||e.signal)&&(v=j=>{I&&(a(!j||j.type?new Ka(null,e,I):j),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(v),e.signal&&(e.signal.aborted?v():e.signal.addEventListener("abort",v)));const W=L2(N);if(W&&xi.protocols.indexOf(W)===-1){a(new wt("Unsupported protocol "+W+":",wt.ERR_BAD_REQUEST,e));return}I.send(f||null)})},zc={http:l2,xhr:k2};ae.forEach(zc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ed=e=>`- ${e}`,B2=e=>ae.isFunction(e)||e===null||e===!1,T0={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let r,a;const f={};for(let d=0;d<t;d++){r=e[d];let x;if(a=r,!B2(r)&&(a=zc[(x=String(r)).toLowerCase()],a===void 0))throw new wt(`Unknown adapter '${x}'`);if(a)break;f[x||"#"+d]=a}if(!a){const d=Object.entries(f).map(([v,E])=>`adapter ${v} `+(E===!1?"is not supported by the environment":"is not available in the build"));let x=t?d.length>1?`since :
`+d.map(Ed).join(`
`):" "+Ed(d[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return a},adapters:zc};function ac(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ka(null,e)}function Cd(e){return ac(e),e.headers=Li.from(e.headers),e.data=sc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T0.getAdapter(e.adapter||Xf.adapter)(e).then(function(a){return ac(e),a.data=sc.call(e,e.transformResponse,a),a.headers=Li.from(a.headers),a},function(a){return A0(a)||(ac(e),a&&a.response&&(a.response.data=sc.call(e,e.transformResponse,a.response),a.response.headers=Li.from(a.response.headers))),Promise.reject(a)})}const Ad=e=>e instanceof Li?e.toJSON():e;function Is(e,t){t=t||{};const r={};function a(y,I,N){return ae.isPlainObject(y)&&ae.isPlainObject(I)?ae.merge.call({caseless:N},y,I):ae.isPlainObject(I)?ae.merge({},I):ae.isArray(I)?I.slice():I}function f(y,I,N){if(ae.isUndefined(I)){if(!ae.isUndefined(y))return a(void 0,y,N)}else return a(y,I,N)}function d(y,I){if(!ae.isUndefined(I))return a(void 0,I)}function x(y,I){if(ae.isUndefined(I)){if(!ae.isUndefined(y))return a(void 0,y)}else return a(void 0,I)}function v(y,I,N){if(N in t)return a(y,I);if(N in e)return a(void 0,y)}const E={url:d,method:d,data:d,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:v,headers:(y,I)=>f(Ad(y),Ad(I),!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),function(I){const N=E[I]||f,P=N(e[I],t[I],I);ae.isUndefined(P)&&N!==v||(r[I]=P)}),r}const I0="1.6.0",Yf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Sd={};Yf.transitional=function(t,r,a){function f(d,x){return"[Axios v"+I0+"] Transitional option '"+d+"'"+x+(a?". "+a:"")}return(d,x,v)=>{if(t===!1)throw new wt(f(x," has been removed"+(r?" in "+r:"")),wt.ERR_DEPRECATED);return r&&!Sd[x]&&(Sd[x]=!0,console.warn(f(x," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,x,v):!0}};function F2(e,t,r){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let f=a.length;for(;f-- >0;){const d=a[f],x=t[d];if(x){const v=e[d],E=v===void 0||x(v,d,e);if(E!==!0)throw new wt("option "+d+" must be "+E,wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wt("Unknown option "+d,wt.ERR_BAD_OPTION)}}const Uc={assertOptions:F2,validators:Yf},Ji=Uc.validators;class Xl{constructor(t){this.defaults=t,this.interceptors={request:new wd,response:new wd}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Is(this.defaults,r);const{transitional:a,paramsSerializer:f,headers:d}=r;a!==void 0&&Uc.assertOptions(a,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),f!=null&&(ae.isFunction(f)?r.paramsSerializer={serialize:f}:Uc.assertOptions(f,{encode:Ji.function,serialize:Ji.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let x=d&&ae.merge(d.common,d[r.method]);d&&ae.forEach(["delete","get","head","post","put","patch","common"],j=>{delete d[j]}),r.headers=Li.concat(x,d);const v=[];let E=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(r)===!1||(E=E&&z.synchronous,v.unshift(z.fulfilled,z.rejected))});const y=[];this.interceptors.response.forEach(function(z){y.push(z.fulfilled,z.rejected)});let I,N=0,P;if(!E){const j=[Cd.bind(this),void 0];for(j.unshift.apply(j,v),j.push.apply(j,y),P=j.length,I=Promise.resolve(r);N<P;)I=I.then(j[N++],j[N++]);return I}P=v.length;let W=r;for(N=0;N<P;){const j=v[N++],z=v[N++];try{W=j(W)}catch(se){z.call(this,se);break}}try{I=Cd.call(this,W)}catch(j){return Promise.reject(j)}for(N=0,P=y.length;N<P;)I=I.then(y[N++],y[N++]);return I}getUri(t){t=Is(this.defaults,t);const r=S0(t.baseURL,t.url);return v0(r,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){Xl.prototype[t]=function(r,a){return this.request(Is(a||{},{method:t,url:r,data:(a||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function r(a){return function(d,x,v){return this.request(Is(v||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:x}))}}Xl.prototype[t]=r(),Xl.prototype[t+"Form"]=r(!0)});const Ml=Xl;class Kf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(f=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](f);a._listeners=null}),this.promise.then=f=>{let d;const x=new Promise(v=>{a.subscribe(v),d=v}).then(f);return x.cancel=function(){a.unsubscribe(d)},x},t(function(d,x,v){a.reason||(a.reason=new Ka(d,x,v),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Kf(function(f){t=f}),cancel:t}}}const z2=Kf;function U2(e){return function(r){return e.apply(null,r)}}function j2(e){return ae.isObject(e)&&e.isAxiosError===!0}const jc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jc).forEach(([e,t])=>{jc[t]=e});const H2=jc;function b0(e){const t=new Ml(e),r=u0(Ml.prototype.request,t);return ae.extend(r,Ml.prototype,t,{allOwnKeys:!0}),ae.extend(r,t,null,{allOwnKeys:!0}),r.create=function(f){return b0(Is(e,f))},r}const _n=b0(Xf);_n.Axios=Ml;_n.CanceledError=Ka;_n.CancelToken=z2;_n.isCancel=A0;_n.VERSION=I0;_n.toFormData=bu;_n.AxiosError=wt;_n.Cancel=_n.CanceledError;_n.all=function(t){return Promise.all(t)};_n.spread=U2;_n.isAxiosError=j2;_n.mergeConfig=Is;_n.AxiosHeaders=Li;_n.formToJSON=e=>C0(ae.isHTMLForm(e)?new FormData(e):e);_n.getAdapter=T0.getAdapter;_n.HttpStatusCode=H2;_n.default=_n;const R0=_n;window.axios=R0;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N0={exports:{}},Nu={},O0={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),V2=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),K2=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),Q2=Symbol.for("react.memo"),J2=Symbol.for("react.lazy"),Td=Symbol.iterator;function $2(e){return e===null||typeof e!="object"?null:(e=Td&&e[Td]||e["@@iterator"],typeof e=="function"?e:null)}var P0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L0=Object.assign,M0={};function ks(e,t,r){this.props=e,this.context=t,this.refs=M0,this.updater=r||P0}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D0(){}D0.prototype=ks.prototype;function Qf(e,t,r){this.props=e,this.context=t,this.refs=M0,this.updater=r||P0}var Jf=Qf.prototype=new D0;Jf.constructor=Qf;L0(Jf,ks.prototype);Jf.isPureReactComponent=!0;var Id=Array.isArray,k0=Object.prototype.hasOwnProperty,$f={current:null},B0={key:!0,ref:!0,__self:!0,__source:!0};function F0(e,t,r){var a,f={},d=null,x=null;if(t!=null)for(a in t.ref!==void 0&&(x=t.ref),t.key!==void 0&&(d=""+t.key),t)k0.call(t,a)&&!B0.hasOwnProperty(a)&&(f[a]=t[a]);var v=arguments.length-2;if(v===1)f.children=r;else if(1<v){for(var E=Array(v),y=0;y<v;y++)E[y]=arguments[y+2];f.children=E}if(e&&e.defaultProps)for(a in v=e.defaultProps,v)f[a]===void 0&&(f[a]=v[a]);return{$$typeof:qa,type:e,key:d,ref:x,props:f,_owner:$f.current}}function ex(e,t){return{$$typeof:qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===qa}function tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bd=/\/+/g;function lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tx(""+e.key):t.toString(36)}function Dl(e,t,r,a,f){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case qa:case V2:x=!0}}if(x)return x=e,f=f(x),e=a===""?"."+lc(x,0):a,Id(f)?(r="",e!=null&&(r=e.replace(bd,"$&/")+"/"),Dl(f,t,r,"",function(y){return y})):f!=null&&(eh(f)&&(f=ex(f,r+(!f.key||x&&x.key===f.key?"":(""+f.key).replace(bd,"$&/")+"/")+e)),t.push(f)),1;if(x=0,a=a===""?".":a+":",Id(e))for(var v=0;v<e.length;v++){d=e[v];var E=a+lc(d,v);x+=Dl(d,t,r,E,f)}else if(E=$2(e),typeof E=="function")for(e=E.call(e),v=0;!(d=e.next()).done;)d=d.value,E=a+lc(d,v++),x+=Dl(d,t,r,E,f);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return x}function gl(e,t,r){if(e==null)return e;var a=[],f=0;return Dl(e,a,"","",function(d){return t.call(r,d,f++)}),a}function nx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tr={current:null},kl={transition:null},rx={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:kl,ReactCurrentOwner:$f};gt.Children={map:gl,forEach:function(e,t,r){gl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gl(e,function(){t++}),t},toArray:function(e){return gl(e,function(t){return t})||[]},only:function(e){if(!eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=ks;gt.Fragment=W2;gt.Profiler=G2;gt.PureComponent=Qf;gt.StrictMode=Z2;gt.Suspense=q2;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=L0({},e.props),f=e.key,d=e.ref,x=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,x=$f.current),t.key!==void 0&&(f=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(E in t)k0.call(t,E)&&!B0.hasOwnProperty(E)&&(a[E]=t[E]===void 0&&v!==void 0?v[E]:t[E])}var E=arguments.length-2;if(E===1)a.children=r;else if(1<E){v=Array(E);for(var y=0;y<E;y++)v[y]=arguments[y+2];a.children=v}return{$$typeof:qa,type:e.type,key:f,ref:d,props:a,_owner:x}};gt.createContext=function(e){return e={$$typeof:Y2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X2,_context:e},e.Consumer=e};gt.createElement=F0;gt.createFactory=function(e){var t=F0.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:K2,render:e}};gt.isValidElement=eh;gt.lazy=function(e){return{$$typeof:J2,_payload:{_status:-1,_result:e},_init:nx}};gt.memo=function(e,t){return{$$typeof:Q2,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=kl.transition;kl.transition={};try{e()}finally{kl.transition=t}};gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gt.useCallback=function(e,t){return tr.current.useCallback(e,t)};gt.useContext=function(e){return tr.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return tr.current.useDeferredValue(e)};gt.useEffect=function(e,t){return tr.current.useEffect(e,t)};gt.useId=function(){return tr.current.useId()};gt.useImperativeHandle=function(e,t,r){return tr.current.useImperativeHandle(e,t,r)};gt.useInsertionEffect=function(e,t){return tr.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return tr.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return tr.current.useMemo(e,t)};gt.useReducer=function(e,t,r){return tr.current.useReducer(e,t,r)};gt.useRef=function(e){return tr.current.useRef(e)};gt.useState=function(e){return tr.current.useState(e)};gt.useSyncExternalStore=function(e,t,r){return tr.current.useSyncExternalStore(e,t,r)};gt.useTransition=function(){return tr.current.useTransition()};gt.version="18.2.0";O0.exports=gt;var ne=O0.exports;const Ra=qf(ne),ix=l0({__proto__:null,default:Ra},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=ne,sx=Symbol.for("react.element"),ax=Symbol.for("react.fragment"),lx=Object.prototype.hasOwnProperty,ux=ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cx={key:!0,ref:!0,__self:!0,__source:!0};function z0(e,t,r){var a,f={},d=null,x=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(x=t.ref);for(a in t)lx.call(t,a)&&!cx.hasOwnProperty(a)&&(f[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)f[a]===void 0&&(f[a]=t[a]);return{$$typeof:sx,type:e,key:d,ref:x,props:f,_owner:ux.current}}Nu.Fragment=ax;Nu.jsx=z0;Nu.jsxs=z0;N0.exports=Nu;var Z=N0.exports,Hc={},U0={exports:{}},Er={},j0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,Pe){var pe=oe.length;oe.push(Pe);e:for(;0<pe;){var Be=pe-1>>>1,Me=oe[Be];if(0<f(Me,Pe))oe[Be]=Pe,oe[pe]=Me,pe=Be;else break e}}function r(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var Pe=oe[0],pe=oe.pop();if(pe!==Pe){oe[0]=pe;e:for(var Be=0,Me=oe.length,St=Me>>>1;Be<St;){var Ge=2*(Be+1)-1,rt=oe[Ge],ge=Ge+1,at=oe[ge];if(0>f(rt,pe))ge<Me&&0>f(at,rt)?(oe[Be]=at,oe[ge]=pe,Be=ge):(oe[Be]=rt,oe[Ge]=pe,Be=Ge);else if(ge<Me&&0>f(at,pe))oe[Be]=at,oe[ge]=pe,Be=ge;else break e}}return Pe}function f(oe,Pe){var pe=oe.sortIndex-Pe.sortIndex;return pe!==0?pe:oe.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,v=x.now();e.unstable_now=function(){return x.now()-v}}var E=[],y=[],I=1,N=null,P=3,W=!1,j=!1,z=!1,se=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(oe){for(var Pe=r(y);Pe!==null;){if(Pe.callback===null)a(y);else if(Pe.startTime<=oe)a(y),Pe.sortIndex=Pe.expirationTime,t(E,Pe);else break;Pe=r(y)}}function k(oe){if(z=!1,B(oe),!j)if(r(E)!==null)j=!0,$e(ue);else{var Pe=r(y);Pe!==null&&ke(k,Pe.startTime-oe)}}function ue(oe,Pe){j=!1,z&&(z=!1,F(le),le=-1),W=!0;var pe=P;try{for(B(Pe),N=r(E);N!==null&&(!(N.expirationTime>Pe)||oe&&!Ve());){var Be=N.callback;if(typeof Be=="function"){N.callback=null,P=N.priorityLevel;var Me=Be(N.expirationTime<=Pe);Pe=e.unstable_now(),typeof Me=="function"?N.callback=Me:N===r(E)&&a(E),B(Pe)}else a(E);N=r(E)}if(N!==null)var St=!0;else{var Ge=r(y);Ge!==null&&ke(k,Ge.startTime-Pe),St=!1}return St}finally{N=null,P=pe,W=!1}}var ie=!1,X=null,le=-1,re=5,ze=-1;function Ve(){return!(e.unstable_now()-ze<re)}function Se(){if(X!==null){var oe=e.unstable_now();ze=oe;var Pe=!0;try{Pe=X(!0,oe)}finally{Pe?Je():(ie=!1,X=null)}}else ie=!1}var Je;if(typeof D=="function")Je=function(){D(Se)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,Q=ht.port2;ht.port1.onmessage=Se,Je=function(){Q.postMessage(null)}}else Je=function(){se(Se,0)};function $e(oe){X=oe,ie||(ie=!0,Je())}function ke(oe,Pe){le=se(function(){oe(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){j||W||(j=!0,$e(ue))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return r(E)},e.unstable_next=function(oe){switch(P){case 1:case 2:case 3:var Pe=3;break;default:Pe=P}var pe=P;P=Pe;try{return oe()}finally{P=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,Pe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var pe=P;P=oe;try{return Pe()}finally{P=pe}},e.unstable_scheduleCallback=function(oe,Pe,pe){var Be=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,oe){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=pe+Me,oe={id:I++,callback:Pe,priorityLevel:oe,startTime:pe,expirationTime:Me,sortIndex:-1},pe>Be?(oe.sortIndex=pe,t(y,oe),r(E)===null&&oe===r(y)&&(z?(F(le),le=-1):z=!0,ke(k,pe-Be))):(oe.sortIndex=Me,t(E,oe),j||W||(j=!0,$e(ue))),oe},e.unstable_shouldYield=Ve,e.unstable_wrapCallback=function(oe){var Pe=P;return function(){var pe=P;P=Pe;try{return oe.apply(this,arguments)}finally{P=pe}}}})(H0);j0.exports=H0;var fx=j0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0=ne,vr=fx;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W0=new Set,Na={};function Go(e,t){bs(e,t),bs(e+"Capture",t)}function bs(e,t){for(Na[e]=t,e=0;e<t.length;e++)W0.add(t[e])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=Object.prototype.hasOwnProperty,hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rd={},Nd={};function dx(e){return Vc.call(Nd,e)?!0:Vc.call(Rd,e)?!1:hx.test(e)?Nd[e]=!0:(Rd[e]=!0,!1)}function px(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gx(e,t,r,a){if(t===null||typeof t>"u"||px(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nr(e,t,r,a,f,d,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=f,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=x}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var th=/[\-:]([a-z])/g;function nh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(th,nh);Dn[t]=new nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(th,nh);Dn[t]=new nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(th,nh);Dn[t]=new nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new nr(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function rh(e,t,r,a){var f=Dn.hasOwnProperty(t)?Dn[t]:null;(f!==null?f.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gx(t,r,f,a)&&(r=null),a||f===null?dx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):f.mustUseProperty?e[f.propertyName]=r===null?f.type===3?!1:"":r:(t=f.attributeName,a=f.attributeNamespace,r===null?e.removeAttribute(t):(f=f.type,r=f===3||f===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var zi=V0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),os=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),sh=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),X0=Symbol.for("react.offscreen"),Od=Symbol.iterator;function na(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,uc;function pa(e){if(uc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uc=t&&t[1]||""}return`
`+uc+e}var cc=!1;function fc(e,t){if(!e||cc)return"";cc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var a=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){a=y}e.call(t.prototype)}else{try{throw Error()}catch(y){a=y}e()}}catch(y){if(y&&a&&typeof y.stack=="string"){for(var f=y.stack.split(`
`),d=a.stack.split(`
`),x=f.length-1,v=d.length-1;1<=x&&0<=v&&f[x]!==d[v];)v--;for(;1<=x&&0<=v;x--,v--)if(f[x]!==d[v]){if(x!==1||v!==1)do if(x--,v--,0>v||f[x]!==d[v]){var E=`
`+f[x].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=x&&0<=v);break}}}finally{cc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pa(e):""}function mx(e){switch(e.tag){case 5:return pa(e.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return e=fc(e.type,!1),e;case 11:return e=fc(e.type.render,!1),e;case 1:return e=fc(e.type,!0),e;default:return""}}function Xc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case os:return"Portal";case Wc:return"Profiler";case ih:return"StrictMode";case Zc:return"Suspense";case Gc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G0:return(e.displayName||"Context")+".Consumer";case Z0:return(e._context.displayName||"Context")+".Provider";case oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sh:return t=e.displayName||null,t!==null?t:Xc(e.type)||"Memo";case eo:t=e._payload,e=e._init;try{return Xc(e(t))}catch{}}return null}function xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xc(t);case 8:return t===ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _x(e){var t=Y0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xl(e){e._valueTracker||(e._valueTracker=_x(e))}function K0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Y0(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yc(e,t){var r=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pd(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q0(e,t){t=t.checked,t!=null&&rh(e,"checked",t,!1)}function Kc(e,t){q0(e,t);var r=mo(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qc(e,t.type,r):t.hasOwnProperty("defaultValue")&&qc(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ld(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qc(e,t,r){(t!=="number"||Yl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ga=Array.isArray;function ys(e,t,r,a){if(e=e.options,t){t={};for(var f=0;f<r.length;f++)t["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=t.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&a&&(e[r].defaultSelected=!0)}else{for(r=""+mo(r),t=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Md(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(ga(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mo(r)}}function Q0(e,t){var r=mo(t.value),a=mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Dd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _l,$0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,f){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,f)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_l=_l||document.createElement("div"),_l.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_l.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wx=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(e){wx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_a[t]=_a[e]})});function ep(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_a.hasOwnProperty(e)&&_a[e]?(""+t).trim():t+"px"}function tp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,f=ep(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,f):e[r]=f}}var yx=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(e,t){if(t){if(yx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=null;function ah(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nf=null,vs=null,Es=null;function kd(e){if(e=$a(e)){if(typeof nf!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Du(t),nf(e.stateNode,e.type,t))}}function np(e){vs?Es?Es.push(e):Es=[e]:vs=e}function rp(){if(vs){var e=vs,t=Es;if(Es=vs=null,kd(e),t)for(e=0;e<t.length;e++)kd(t[e])}}function ip(e,t){return e(t)}function op(){}var hc=!1;function sp(e,t,r){if(hc)return e(t,r);hc=!0;try{return ip(e,t,r)}finally{hc=!1,(vs!==null||Es!==null)&&(op(),rp())}}function Pa(e,t){var r=e.stateNode;if(r===null)return null;var a=Du(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var rf=!1;if(Di)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){rf=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{rf=!1}function vx(e,t,r,a,f,d,x,v,E){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(I){this.onError(I)}}var wa=!1,Kl=null,ql=!1,of=null,Ex={onError:function(e){wa=!0,Kl=e}};function Cx(e,t,r,a,f,d,x,v,E){wa=!1,Kl=null,vx.apply(Ex,arguments)}function Ax(e,t,r,a,f,d,x,v,E){if(Cx.apply(this,arguments),wa){if(wa){var y=Kl;wa=!1,Kl=null}else throw Error(_e(198));ql||(ql=!0,of=y)}}function Xo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ap(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bd(e){if(Xo(e)!==e)throw Error(_e(188))}function Sx(e){var t=e.alternate;if(!t){if(t=Xo(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,a=t;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(a=f.return,a!==null){r=a;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return Bd(f),e;if(d===a)return Bd(f),t;d=d.sibling}throw Error(_e(188))}if(r.return!==a.return)r=f,a=d;else{for(var x=!1,v=f.child;v;){if(v===r){x=!0,r=f,a=d;break}if(v===a){x=!0,a=f,r=d;break}v=v.sibling}if(!x){for(v=d.child;v;){if(v===r){x=!0,r=d,a=f;break}if(v===a){x=!0,a=d,r=f;break}v=v.sibling}if(!x)throw Error(_e(189))}}if(r.alternate!==a)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function lp(e){return e=Sx(e),e!==null?up(e):null}function up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=up(e);if(t!==null)return t;e=e.sibling}return null}var cp=vr.unstable_scheduleCallback,Fd=vr.unstable_cancelCallback,Tx=vr.unstable_shouldYield,Ix=vr.unstable_requestPaint,hn=vr.unstable_now,bx=vr.unstable_getCurrentPriorityLevel,lh=vr.unstable_ImmediatePriority,fp=vr.unstable_UserBlockingPriority,Ql=vr.unstable_NormalPriority,Rx=vr.unstable_LowPriority,hp=vr.unstable_IdlePriority,Ou=null,_i=null;function Nx(e){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(Ou,e,void 0,(e.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:Lx,Ox=Math.log,Px=Math.LN2;function Lx(e){return e>>>=0,e===0?32:31-(Ox(e)/Px|0)|0}var wl=64,yl=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jl(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,f=e.suspendedLanes,d=e.pingedLanes,x=r&268435455;if(x!==0){var v=x&~f;v!==0?a=ma(v):(d&=x,d!==0&&(a=ma(d)))}else x=r&~f,x!==0?a=ma(x):d!==0&&(a=ma(d));if(a===0)return 0;if(t!==0&&t!==a&&!(t&f)&&(f=a&-a,d=t&-t,f>=d||f===16&&(d&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-ri(t),f=1<<r,a|=e[r],t&=~f;return a}function Mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dx(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-ri(d),v=1<<x,E=f[x];E===-1?(!(v&r)||v&a)&&(f[x]=Mx(v,t)):E<=t&&(e.expiredLanes|=v),d&=~v}}function sf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dp(){var e=wl;return wl<<=1,!(wl&4194240)&&(wl=64),e}function dc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ri(t),e[t]=r}function kx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var f=31-ri(r),d=1<<f;t[f]=0,a[f]=-1,e[f]=-1,r&=~d}}function uh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-ri(r),f=1<<a;f&t|e[a]&t&&(e[a]|=t),r&=~f}}var Ot=0;function pp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gp,ch,mp,xp,_p,af=!1,vl=[],so=null,ao=null,lo=null,La=new Map,Ma=new Map,no=[],Bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(t.pointerId)}}function ia(e,t,r,a,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:d,targetContainers:[f]},t!==null&&(t=$a(t),t!==null&&ch(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Fx(e,t,r,a,f){switch(t){case"focusin":return so=ia(so,e,t,r,a,f),!0;case"dragenter":return ao=ia(ao,e,t,r,a,f),!0;case"mouseover":return lo=ia(lo,e,t,r,a,f),!0;case"pointerover":var d=f.pointerId;return La.set(d,ia(La.get(d)||null,e,t,r,a,f)),!0;case"gotpointercapture":return d=f.pointerId,Ma.set(d,ia(Ma.get(d)||null,e,t,r,a,f)),!0}return!1}function wp(e){var t=Mo(e.target);if(t!==null){var r=Xo(t);if(r!==null){if(t=r.tag,t===13){if(t=ap(r),t!==null){e.blockedOn=t,_p(e.priority,function(){mp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);tf=a,r.target.dispatchEvent(a),tf=null}else return t=$a(r),t!==null&&ch(t),e.blockedOn=r,!1;t.shift()}return!0}function Ud(e,t,r){Bl(e)&&r.delete(t)}function zx(){af=!1,so!==null&&Bl(so)&&(so=null),ao!==null&&Bl(ao)&&(ao=null),lo!==null&&Bl(lo)&&(lo=null),La.forEach(Ud),Ma.forEach(Ud)}function oa(e,t){e.blockedOn===t&&(e.blockedOn=null,af||(af=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,zx)))}function Da(e){function t(f){return oa(f,e)}if(0<vl.length){oa(vl[0],e);for(var r=1;r<vl.length;r++){var a=vl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(so!==null&&oa(so,e),ao!==null&&oa(ao,e),lo!==null&&oa(lo,e),La.forEach(t),Ma.forEach(t),r=0;r<no.length;r++)a=no[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<no.length&&(r=no[0],r.blockedOn===null);)wp(r),r.blockedOn===null&&no.shift()}var Cs=zi.ReactCurrentBatchConfig,$l=!0;function Ux(e,t,r,a){var f=Ot,d=Cs.transition;Cs.transition=null;try{Ot=1,fh(e,t,r,a)}finally{Ot=f,Cs.transition=d}}function jx(e,t,r,a){var f=Ot,d=Cs.transition;Cs.transition=null;try{Ot=4,fh(e,t,r,a)}finally{Ot=f,Cs.transition=d}}function fh(e,t,r,a){if($l){var f=lf(e,t,r,a);if(f===null)Cc(e,t,a,eu,r),zd(e,a);else if(Fx(f,e,t,r,a))a.stopPropagation();else if(zd(e,a),t&4&&-1<Bx.indexOf(e)){for(;f!==null;){var d=$a(f);if(d!==null&&gp(d),d=lf(e,t,r,a),d===null&&Cc(e,t,a,eu,r),d===f)break;f=d}f!==null&&a.stopPropagation()}else Cc(e,t,a,null,r)}}var eu=null;function lf(e,t,r,a){if(eu=null,e=ah(a),e=Mo(e),e!==null)if(t=Xo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ap(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eu=e,null}function yp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bx()){case lh:return 1;case fp:return 4;case Ql:case Rx:return 16;case hp:return 536870912;default:return 16}default:return 16}}var io=null,hh=null,Fl=null;function vp(){if(Fl)return Fl;var e,t=hh,r=t.length,a,f="value"in io?io.value:io.textContent,d=f.length;for(e=0;e<r&&t[e]===f[e];e++);var x=r-e;for(a=1;a<=x&&t[r-a]===f[d-a];a++);return Fl=f.slice(e,1<a?1-a:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function jd(){return!1}function Cr(e){function t(r,a,f,d,x){this._reactName=r,this._targetInst=f,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?El:jd,this.isPropagationStopped=jd,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=Cr(Bs),Ja=rn({},Bs,{view:0,detail:0}),Hx=Cr(Ja),pc,gc,sa,Pu=rn({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(pc=e.screenX-sa.screenX,gc=e.screenY-sa.screenY):gc=pc=0,sa=e),pc)},movementY:function(e){return"movementY"in e?e.movementY:gc}}),Hd=Cr(Pu),Vx=rn({},Pu,{dataTransfer:0}),Wx=Cr(Vx),Zx=rn({},Ja,{relatedTarget:0}),mc=Cr(Zx),Gx=rn({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xx=Cr(Gx),Yx=rn({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kx=Cr(Yx),qx=rn({},Bs,{data:0}),Vd=Cr(qx),Qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$x[e])?!!t[e]:!1}function ph(){return e_}var t_=rn({},Ja,{key:function(e){if(e.key){var t=Qx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n_=Cr(t_),r_=rn({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wd=Cr(r_),i_=rn({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),o_=Cr(i_),s_=rn({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),a_=Cr(s_),l_=rn({},Pu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=Cr(l_),c_=[9,13,27,32],gh=Di&&"CompositionEvent"in window,ya=null;Di&&"documentMode"in document&&(ya=document.documentMode);var f_=Di&&"TextEvent"in window&&!ya,Ep=Di&&(!gh||ya&&8<ya&&11>=ya),Zd=String.fromCharCode(32),Gd=!1;function Cp(e,t){switch(e){case"keyup":return c_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function h_(e,t){switch(e){case"compositionend":return Ap(t);case"keypress":return t.which!==32?null:(Gd=!0,Zd);case"textInput":return e=t.data,e===Zd&&Gd?null:e;default:return null}}function d_(e,t){if(as)return e==="compositionend"||!gh&&Cp(e,t)?(e=vp(),Fl=hh=io=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ep&&t.locale!=="ko"?null:t.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p_[e.type]:t==="textarea"}function Sp(e,t,r,a){np(a),t=tu(t,"onChange"),0<t.length&&(r=new dh("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var va=null,ka=null;function g_(e){kp(e,0)}function Lu(e){var t=cs(e);if(K0(t))return e}function m_(e,t){if(e==="change")return t}var Tp=!1;if(Di){var xc;if(Di){var _c="oninput"in document;if(!_c){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),_c=typeof Yd.oninput=="function"}xc=_c}else xc=!1;Tp=xc&&(!document.documentMode||9<document.documentMode)}function Kd(){va&&(va.detachEvent("onpropertychange",Ip),ka=va=null)}function Ip(e){if(e.propertyName==="value"&&Lu(ka)){var t=[];Sp(t,ka,e,ah(e)),sp(g_,t)}}function x_(e,t,r){e==="focusin"?(Kd(),va=t,ka=r,va.attachEvent("onpropertychange",Ip)):e==="focusout"&&Kd()}function __(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(ka)}function w_(e,t){if(e==="click")return Lu(t)}function y_(e,t){if(e==="input"||e==="change")return Lu(t)}function v_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oi=typeof Object.is=="function"?Object.is:v_;function Ba(e,t){if(oi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var f=r[a];if(!Vc.call(t,f)||!oi(e[f],t[f]))return!1}return!0}function qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qd(e,t){var r=qd(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qd(r)}}function bp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rp(){for(var e=window,t=Yl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yl(e.document)}return t}function mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E_(e){var t=Rp(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bp(r.ownerDocument.documentElement,r)){if(a!==null&&mh(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var f=r.textContent.length,d=Math.min(a.start,f);a=a.end===void 0?d:Math.min(a.end,f),!e.extend&&d>a&&(f=a,a=d,d=f),f=Qd(r,d);var x=Qd(r,a);f&&x&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var C_=Di&&"documentMode"in document&&11>=document.documentMode,ls=null,uf=null,Ea=null,cf=!1;function Jd(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cf||ls==null||ls!==Yl(a)||(a=ls,"selectionStart"in a&&mh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ea&&Ba(Ea,a)||(Ea=a,a=tu(uf,"onSelect"),0<a.length&&(t=new dh("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ls)))}function Cl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var us={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},wc={},Np={};Di&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Mu(e){if(wc[e])return wc[e];if(!us[e])return e;var t=us[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Np)return wc[e]=t[r];return e}var Op=Mu("animationend"),Pp=Mu("animationiteration"),Lp=Mu("animationstart"),Mp=Mu("transitionend"),Dp=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(e,t){Dp.set(e,t),Go(t,[e])}for(var yc=0;yc<$d.length;yc++){var vc=$d[yc],A_=vc.toLowerCase(),S_=vc[0].toUpperCase()+vc.slice(1);_o(A_,"on"+S_)}_o(Op,"onAnimationEnd");_o(Pp,"onAnimationIteration");_o(Lp,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(Mp,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T_=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function e1(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Ax(a,t,void 0,e),e.currentTarget=null}function kp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],f=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var x=a.length-1;0<=x;x--){var v=a[x],E=v.instance,y=v.currentTarget;if(v=v.listener,E!==d&&f.isPropagationStopped())break e;e1(f,v,y),d=E}else for(x=0;x<a.length;x++){if(v=a[x],E=v.instance,y=v.currentTarget,v=v.listener,E!==d&&f.isPropagationStopped())break e;e1(f,v,y),d=E}}}if(ql)throw e=of,ql=!1,of=null,e}function Zt(e,t){var r=t[gf];r===void 0&&(r=t[gf]=new Set);var a=e+"__bubble";r.has(a)||(Bp(t,e,2,!1),r.add(a))}function Ec(e,t,r){var a=0;t&&(a|=4),Bp(r,e,a,t)}var Al="_reactListening"+Math.random().toString(36).slice(2);function Fa(e){if(!e[Al]){e[Al]=!0,W0.forEach(function(r){r!=="selectionchange"&&(T_.has(r)||Ec(r,!1,e),Ec(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Al]||(t[Al]=!0,Ec("selectionchange",!1,t))}}function Bp(e,t,r,a){switch(yp(t)){case 1:var f=Ux;break;case 4:f=jx;break;default:f=fh}r=f.bind(null,t,r,e),f=void 0,!rf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,r,{capture:!0,passive:f}):e.addEventListener(t,r,!0):f!==void 0?e.addEventListener(t,r,{passive:f}):e.addEventListener(t,r,!1)}function Cc(e,t,r,a,f){var d=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var v=a.stateNode.containerInfo;if(v===f||v.nodeType===8&&v.parentNode===f)break;if(x===4)for(x=a.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===f||E.nodeType===8&&E.parentNode===f))return;x=x.return}for(;v!==null;){if(x=Mo(v),x===null)return;if(E=x.tag,E===5||E===6){a=d=x;continue e}v=v.parentNode}}a=a.return}sp(function(){var y=d,I=ah(r),N=[];e:{var P=Dp.get(e);if(P!==void 0){var W=dh,j=e;switch(e){case"keypress":if(zl(r)===0)break e;case"keydown":case"keyup":W=n_;break;case"focusin":j="focus",W=mc;break;case"focusout":j="blur",W=mc;break;case"beforeblur":case"afterblur":W=mc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=o_;break;case Op:case Pp:case Lp:W=Xx;break;case Mp:W=a_;break;case"scroll":W=Hx;break;case"wheel":W=u_;break;case"copy":case"cut":case"paste":W=Kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Wd}var z=(t&4)!==0,se=!z&&e==="scroll",F=z?P!==null?P+"Capture":null:P;z=[];for(var D=y,B;D!==null;){B=D;var k=B.stateNode;if(B.tag===5&&k!==null&&(B=k,F!==null&&(k=Pa(D,F),k!=null&&z.push(za(D,k,B)))),se)break;D=D.return}0<z.length&&(P=new W(P,j,null,r,I),N.push({event:P,listeners:z}))}}if(!(t&7)){e:{if(P=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",P&&r!==tf&&(j=r.relatedTarget||r.fromElement)&&(Mo(j)||j[ki]))break e;if((W||P)&&(P=I.window===I?I:(P=I.ownerDocument)?P.defaultView||P.parentWindow:window,W?(j=r.relatedTarget||r.toElement,W=y,j=j?Mo(j):null,j!==null&&(se=Xo(j),j!==se||j.tag!==5&&j.tag!==6)&&(j=null)):(W=null,j=y),W!==j)){if(z=Hd,k="onMouseLeave",F="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(z=Wd,k="onPointerLeave",F="onPointerEnter",D="pointer"),se=W==null?P:cs(W),B=j==null?P:cs(j),P=new z(k,D+"leave",W,r,I),P.target=se,P.relatedTarget=B,k=null,Mo(I)===y&&(z=new z(F,D+"enter",j,r,I),z.target=B,z.relatedTarget=se,k=z),se=k,W&&j)t:{for(z=W,F=j,D=0,B=z;B;B=ns(B))D++;for(B=0,k=F;k;k=ns(k))B++;for(;0<D-B;)z=ns(z),D--;for(;0<B-D;)F=ns(F),B--;for(;D--;){if(z===F||F!==null&&z===F.alternate)break t;z=ns(z),F=ns(F)}z=null}else z=null;W!==null&&t1(N,P,W,z,!1),j!==null&&se!==null&&t1(N,se,j,z,!0)}}e:{if(P=y?cs(y):window,W=P.nodeName&&P.nodeName.toLowerCase(),W==="select"||W==="input"&&P.type==="file")var ue=m_;else if(Xd(P))if(Tp)ue=y_;else{ue=__;var ie=x_}else(W=P.nodeName)&&W.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(ue=w_);if(ue&&(ue=ue(e,y))){Sp(N,ue,r,I);break e}ie&&ie(e,P,y),e==="focusout"&&(ie=P._wrapperState)&&ie.controlled&&P.type==="number"&&qc(P,"number",P.value)}switch(ie=y?cs(y):window,e){case"focusin":(Xd(ie)||ie.contentEditable==="true")&&(ls=ie,uf=y,Ea=null);break;case"focusout":Ea=uf=ls=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,Jd(N,r,I);break;case"selectionchange":if(C_)break;case"keydown":case"keyup":Jd(N,r,I)}var X;if(gh)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else as?Cp(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Ep&&r.locale!=="ko"&&(as||le!=="onCompositionStart"?le==="onCompositionEnd"&&as&&(X=vp()):(io=I,hh="value"in io?io.value:io.textContent,as=!0)),ie=tu(y,le),0<ie.length&&(le=new Vd(le,e,null,r,I),N.push({event:le,listeners:ie}),X?le.data=X:(X=Ap(r),X!==null&&(le.data=X)))),(X=f_?h_(e,r):d_(e,r))&&(y=tu(y,"onBeforeInput"),0<y.length&&(I=new Vd("onBeforeInput","beforeinput",null,r,I),N.push({event:I,listeners:y}),I.data=X))}kp(N,t)})}function za(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tu(e,t){for(var r=t+"Capture",a=[];e!==null;){var f=e,d=f.stateNode;f.tag===5&&d!==null&&(f=d,d=Pa(e,r),d!=null&&a.unshift(za(e,d,f)),d=Pa(e,t),d!=null&&a.push(za(e,d,f))),e=e.return}return a}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function t1(e,t,r,a,f){for(var d=t._reactName,x=[];r!==null&&r!==a;){var v=r,E=v.alternate,y=v.stateNode;if(E!==null&&E===a)break;v.tag===5&&y!==null&&(v=y,f?(E=Pa(r,d),E!=null&&x.unshift(za(r,E,v))):f||(E=Pa(r,d),E!=null&&x.push(za(r,E,v)))),r=r.return}x.length!==0&&e.push({event:t,listeners:x})}var I_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function n1(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(b_,"")}function Sl(e,t,r){if(t=n1(t),n1(e)!==t&&r)throw Error(_e(425))}function nu(){}var ff=null,hf=null;function df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,N_=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(e){return r1.resolve(null).then(e).catch(O_)}:pf;function O_(e){setTimeout(function(){throw e})}function Ac(e,t){var r=t,a=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(a===0){e.removeChild(f),Da(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=f}while(r);Da(t)}function uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function i1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),mi="__reactFiber$"+Fs,Ua="__reactProps$"+Fs,ki="__reactContainer$"+Fs,gf="__reactEvents$"+Fs,P_="__reactListeners$"+Fs,L_="__reactHandles$"+Fs;function Mo(e){var t=e[mi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ki]||r[mi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=i1(e);e!==null;){if(r=e[mi])return r;e=i1(e)}return t}e=r,r=e.parentNode}return null}function $a(e){return e=e[mi]||e[ki],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Du(e){return e[Ua]||null}var mf=[],fs=-1;function wo(e){return{current:e}}function Xt(e){0>fs||(e.current=mf[fs],mf[fs]=null,fs--)}function Ut(e,t){fs++,mf[fs]=e.current,e.current=t}var xo={},Zn=wo(xo),cr=wo(!1),Uo=xo;function Rs(e,t){var r=e.type.contextTypes;if(!r)return xo;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var f={},d;for(d in r)f[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function fr(e){return e=e.childContextTypes,e!=null}function ru(){Xt(cr),Xt(Zn)}function o1(e,t,r){if(Zn.current!==xo)throw Error(_e(168));Ut(Zn,t),Ut(cr,r)}function Fp(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var f in a)if(!(f in t))throw Error(_e(108,xx(e)||"Unknown",f));return rn({},r,a)}function iu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,Uo=Zn.current,Ut(Zn,e),Ut(cr,cr.current),!0}function s1(e,t,r){var a=e.stateNode;if(!a)throw Error(_e(169));r?(e=Fp(e,t,Uo),a.__reactInternalMemoizedMergedChildContext=e,Xt(cr),Xt(Zn),Ut(Zn,e)):Xt(cr),Ut(cr,r)}var Ni=null,ku=!1,Sc=!1;function zp(e){Ni===null?Ni=[e]:Ni.push(e)}function M_(e){ku=!0,zp(e)}function yo(){if(!Sc&&Ni!==null){Sc=!0;var e=0,t=Ot;try{var r=Ni;for(Ot=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Ni=null,ku=!1}catch(f){throw Ni!==null&&(Ni=Ni.slice(e+1)),cp(lh,yo),f}finally{Ot=t,Sc=!1}}return null}var hs=[],ds=0,ou=null,su=0,Pr=[],Lr=0,jo=null,Oi=1,Pi="";function Po(e,t){hs[ds++]=su,hs[ds++]=ou,ou=e,su=t}function Up(e,t,r){Pr[Lr++]=Oi,Pr[Lr++]=Pi,Pr[Lr++]=jo,jo=e;var a=Oi;e=Pi;var f=32-ri(a)-1;a&=~(1<<f),r+=1;var d=32-ri(t)+f;if(30<d){var x=f-f%5;d=(a&(1<<x)-1).toString(32),a>>=x,f-=x,Oi=1<<32-ri(t)+f|r<<f|a,Pi=d+e}else Oi=1<<d|r<<f|a,Pi=e}function xh(e){e.return!==null&&(Po(e,1),Up(e,1,0))}function _h(e){for(;e===ou;)ou=hs[--ds],hs[ds]=null,su=hs[--ds],hs[ds]=null;for(;e===jo;)jo=Pr[--Lr],Pr[Lr]=null,Pi=Pr[--Lr],Pr[Lr]=null,Oi=Pr[--Lr],Pr[Lr]=null}var yr=null,wr=null,Kt=!1,ni=null;function jp(e,t){var r=Mr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function a1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yr=e,wr=uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yr=e,wr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jo!==null?{id:Oi,overflow:Pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yr=e,wr=null,!0):!1;default:return!1}}function xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _f(e){if(Kt){var t=wr;if(t){var r=t;if(!a1(e,t)){if(xf(e))throw Error(_e(418));t=uo(r.nextSibling);var a=yr;t&&a1(e,t)?jp(a,r):(e.flags=e.flags&-4097|2,Kt=!1,yr=e)}}else{if(xf(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Kt=!1,yr=e}}}function l1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yr=e}function Tl(e){if(e!==yr)return!1;if(!Kt)return l1(e),Kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!df(e.type,e.memoizedProps)),t&&(t=wr)){if(xf(e))throw Hp(),Error(_e(418));for(;t;)jp(e,t),t=uo(t.nextSibling)}if(l1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wr=uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wr=null}}else wr=yr?uo(e.stateNode.nextSibling):null;return!0}function Hp(){for(var e=wr;e;)e=uo(e.nextSibling)}function Ns(){wr=yr=null,Kt=!1}function wh(e){ni===null?ni=[e]:ni.push(e)}var D_=zi.ReactCurrentBatchConfig;function $r(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var au=wo(null),lu=null,ps=null,yh=null;function vh(){yh=ps=lu=null}function Eh(e){var t=au.current;Xt(au),e._currentValue=t}function wf(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function As(e,t){lu=e,yh=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ur=!0),e.firstContext=null)}function Br(e){var t=e._currentValue;if(yh!==e)if(e={context:e,memoizedValue:t,next:null},ps===null){if(lu===null)throw Error(_e(308));ps=e,lu.dependencies={lanes:0,firstContext:e}}else ps=ps.next=e;return t}var Do=null;function Ch(e){Do===null?Do=[e]:Do.push(e)}function Vp(e,t,r,a){var f=t.interleaved;return f===null?(r.next=r,Ch(t)):(r.next=f.next,f.next=r),t.interleaved=r,Bi(e,a)}function Bi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var to=!1;function Ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ct&2){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,Bi(e,r)}return f=a.interleaved,f===null?(t.next=t,Ch(a)):(t.next=f.next,f.next=t),a.interleaved=t,Bi(e,r)}function Ul(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,uh(e,r)}}function u1(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var x={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?f=d=x:d=d.next=x,r=r.next}while(r!==null);d===null?f=d=t:d=d.next=t}else f=d=t;r={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uu(e,t,r,a){var f=e.updateQueue;to=!1;var d=f.firstBaseUpdate,x=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var E=v,y=E.next;E.next=null,x===null?d=y:x.next=y,x=E;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==x&&(v===null?I.firstBaseUpdate=y:v.next=y,I.lastBaseUpdate=E))}if(d!==null){var N=f.baseState;x=0,I=y=E=null,v=d;do{var P=v.lane,W=v.eventTime;if((a&P)===P){I!==null&&(I=I.next={eventTime:W,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var j=e,z=v;switch(P=t,W=r,z.tag){case 1:if(j=z.payload,typeof j=="function"){N=j.call(W,N,P);break e}N=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=z.payload,P=typeof j=="function"?j.call(W,N,P):j,P==null)break e;N=rn({},N,P);break e;case 2:to=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,P=f.effects,P===null?f.effects=[v]:P.push(v))}else W={eventTime:W,lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(y=I=W,E=N):I=I.next=W,x|=P;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;P=v,v=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(1);if(I===null&&(E=N),f.baseState=E,f.firstBaseUpdate=y,f.lastBaseUpdate=I,t=f.shared.interleaved,t!==null){f=t;do x|=f.lane,f=f.next;while(f!==t)}else d===null&&(f.shared.lanes=0);Vo|=x,e.lanes=x,e.memoizedState=N}}function c1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],f=a.callback;if(f!==null){if(a.callback=null,a=r,typeof f!="function")throw Error(_e(191,f));f.call(a)}}}var Zp=new V0.Component().refs;function yf(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:rn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bu={isMounted:function(e){return(e=e._reactInternals)?Xo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=er(),f=ho(e),d=Mi(a,f);d.payload=t,r!=null&&(d.callback=r),t=co(e,d,f),t!==null&&(ii(t,e,f,a),Ul(t,e,f))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=er(),f=ho(e),d=Mi(a,f);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=co(e,d,f),t!==null&&(ii(t,e,f,a),Ul(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=er(),a=ho(e),f=Mi(r,a);f.tag=2,t!=null&&(f.callback=t),t=co(e,f,a),t!==null&&(ii(t,e,a,r),Ul(t,e,a))}};function f1(e,t,r,a,f,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):t.prototype&&t.prototype.isPureReactComponent?!Ba(r,a)||!Ba(f,d):!0}function Gp(e,t,r){var a=!1,f=xo,d=t.contextType;return typeof d=="object"&&d!==null?d=Br(d):(f=fr(t)?Uo:Zn.current,a=t.contextTypes,d=(a=a!=null)?Rs(e,f):xo),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bu,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=d),t}function h1(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Bu.enqueueReplaceState(t,t.state,null)}function vf(e,t,r,a){var f=e.stateNode;f.props=r,f.state=e.memoizedState,f.refs=Zp,Ah(e);var d=t.contextType;typeof d=="object"&&d!==null?f.context=Br(d):(d=fr(t)?Uo:Zn.current,f.context=Rs(e,d)),f.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(yf(e,t,d,r),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&Bu.enqueueReplaceState(f,f.state,null),uu(e,r,f,a),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function aa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var a=r.stateNode}if(!a)throw Error(_e(147,e));var f=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(x){var v=f.refs;v===Zp&&(v=f.refs={}),x===null?delete v[d]:v[d]=x},t._stringRef=d,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Il(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function d1(e){var t=e._init;return t(e._payload)}function Xp(e){function t(F,D){if(e){var B=F.deletions;B===null?(F.deletions=[D],F.flags|=16):B.push(D)}}function r(F,D){if(!e)return null;for(;D!==null;)t(F,D),D=D.sibling;return null}function a(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function f(F,D){return F=po(F,D),F.index=0,F.sibling=null,F}function d(F,D,B){return F.index=B,e?(B=F.alternate,B!==null?(B=B.index,B<D?(F.flags|=2,D):B):(F.flags|=2,D)):(F.flags|=1048576,D)}function x(F){return e&&F.alternate===null&&(F.flags|=2),F}function v(F,D,B,k){return D===null||D.tag!==6?(D=Pc(B,F.mode,k),D.return=F,D):(D=f(D,B),D.return=F,D)}function E(F,D,B,k){var ue=B.type;return ue===ss?I(F,D,B.props.children,k,B.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===eo&&d1(ue)===D.type)?(k=f(D,B.props),k.ref=aa(F,D,B),k.return=F,k):(k=Gl(B.type,B.key,B.props,null,F.mode,k),k.ref=aa(F,D,B),k.return=F,k)}function y(F,D,B,k){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Lc(B,F.mode,k),D.return=F,D):(D=f(D,B.children||[]),D.return=F,D)}function I(F,D,B,k,ue){return D===null||D.tag!==7?(D=zo(B,F.mode,k,ue),D.return=F,D):(D=f(D,B),D.return=F,D)}function N(F,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Pc(""+D,F.mode,B),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ml:return B=Gl(D.type,D.key,D.props,null,F.mode,B),B.ref=aa(F,null,D),B.return=F,B;case os:return D=Lc(D,F.mode,B),D.return=F,D;case eo:var k=D._init;return N(F,k(D._payload),B)}if(ga(D)||na(D))return D=zo(D,F.mode,B,null),D.return=F,D;Il(F,D)}return null}function P(F,D,B,k){var ue=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ue!==null?null:v(F,D,""+B,k);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ml:return B.key===ue?E(F,D,B,k):null;case os:return B.key===ue?y(F,D,B,k):null;case eo:return ue=B._init,P(F,D,ue(B._payload),k)}if(ga(B)||na(B))return ue!==null?null:I(F,D,B,k,null);Il(F,B)}return null}function W(F,D,B,k,ue){if(typeof k=="string"&&k!==""||typeof k=="number")return F=F.get(B)||null,v(D,F,""+k,ue);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ml:return F=F.get(k.key===null?B:k.key)||null,E(D,F,k,ue);case os:return F=F.get(k.key===null?B:k.key)||null,y(D,F,k,ue);case eo:var ie=k._init;return W(F,D,B,ie(k._payload),ue)}if(ga(k)||na(k))return F=F.get(B)||null,I(D,F,k,ue,null);Il(D,k)}return null}function j(F,D,B,k){for(var ue=null,ie=null,X=D,le=D=0,re=null;X!==null&&le<B.length;le++){X.index>le?(re=X,X=null):re=X.sibling;var ze=P(F,X,B[le],k);if(ze===null){X===null&&(X=re);break}e&&X&&ze.alternate===null&&t(F,X),D=d(ze,D,le),ie===null?ue=ze:ie.sibling=ze,ie=ze,X=re}if(le===B.length)return r(F,X),Kt&&Po(F,le),ue;if(X===null){for(;le<B.length;le++)X=N(F,B[le],k),X!==null&&(D=d(X,D,le),ie===null?ue=X:ie.sibling=X,ie=X);return Kt&&Po(F,le),ue}for(X=a(F,X);le<B.length;le++)re=W(X,F,le,B[le],k),re!==null&&(e&&re.alternate!==null&&X.delete(re.key===null?le:re.key),D=d(re,D,le),ie===null?ue=re:ie.sibling=re,ie=re);return e&&X.forEach(function(Ve){return t(F,Ve)}),Kt&&Po(F,le),ue}function z(F,D,B,k){var ue=na(B);if(typeof ue!="function")throw Error(_e(150));if(B=ue.call(B),B==null)throw Error(_e(151));for(var ie=ue=null,X=D,le=D=0,re=null,ze=B.next();X!==null&&!ze.done;le++,ze=B.next()){X.index>le?(re=X,X=null):re=X.sibling;var Ve=P(F,X,ze.value,k);if(Ve===null){X===null&&(X=re);break}e&&X&&Ve.alternate===null&&t(F,X),D=d(Ve,D,le),ie===null?ue=Ve:ie.sibling=Ve,ie=Ve,X=re}if(ze.done)return r(F,X),Kt&&Po(F,le),ue;if(X===null){for(;!ze.done;le++,ze=B.next())ze=N(F,ze.value,k),ze!==null&&(D=d(ze,D,le),ie===null?ue=ze:ie.sibling=ze,ie=ze);return Kt&&Po(F,le),ue}for(X=a(F,X);!ze.done;le++,ze=B.next())ze=W(X,F,le,ze.value,k),ze!==null&&(e&&ze.alternate!==null&&X.delete(ze.key===null?le:ze.key),D=d(ze,D,le),ie===null?ue=ze:ie.sibling=ze,ie=ze);return e&&X.forEach(function(Se){return t(F,Se)}),Kt&&Po(F,le),ue}function se(F,D,B,k){if(typeof B=="object"&&B!==null&&B.type===ss&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ml:e:{for(var ue=B.key,ie=D;ie!==null;){if(ie.key===ue){if(ue=B.type,ue===ss){if(ie.tag===7){r(F,ie.sibling),D=f(ie,B.props.children),D.return=F,F=D;break e}}else if(ie.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===eo&&d1(ue)===ie.type){r(F,ie.sibling),D=f(ie,B.props),D.ref=aa(F,ie,B),D.return=F,F=D;break e}r(F,ie);break}else t(F,ie);ie=ie.sibling}B.type===ss?(D=zo(B.props.children,F.mode,k,B.key),D.return=F,F=D):(k=Gl(B.type,B.key,B.props,null,F.mode,k),k.ref=aa(F,D,B),k.return=F,F=k)}return x(F);case os:e:{for(ie=B.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){r(F,D.sibling),D=f(D,B.children||[]),D.return=F,F=D;break e}else{r(F,D);break}else t(F,D);D=D.sibling}D=Lc(B,F.mode,k),D.return=F,F=D}return x(F);case eo:return ie=B._init,se(F,D,ie(B._payload),k)}if(ga(B))return j(F,D,B,k);if(na(B))return z(F,D,B,k);Il(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(r(F,D.sibling),D=f(D,B),D.return=F,F=D):(r(F,D),D=Pc(B,F.mode,k),D.return=F,F=D),x(F)):r(F,D)}return se}var Os=Xp(!0),Yp=Xp(!1),el={},wi=wo(el),ja=wo(el),Ha=wo(el);function ko(e){if(e===el)throw Error(_e(174));return e}function Sh(e,t){switch(Ut(Ha,t),Ut(ja,e),Ut(wi,el),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jc(t,e)}Xt(wi),Ut(wi,t)}function Ps(){Xt(wi),Xt(ja),Xt(Ha)}function Kp(e){ko(Ha.current);var t=ko(wi.current),r=Jc(t,e.type);t!==r&&(Ut(ja,e),Ut(wi,r))}function Th(e){ja.current===e&&(Xt(wi),Xt(ja))}var tn=wo(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tc=[];function Ih(){for(var e=0;e<Tc.length;e++)Tc[e]._workInProgressVersionPrimary=null;Tc.length=0}var jl=zi.ReactCurrentDispatcher,Ic=zi.ReactCurrentBatchConfig,Ho=0,nn=null,Cn=null,Nn=null,fu=!1,Ca=!1,Va=0,k_=0;function Hn(){throw Error(_e(321))}function bh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!oi(e[r],t[r]))return!1;return!0}function Rh(e,t,r,a,f,d){if(Ho=d,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jl.current=e===null||e.memoizedState===null?U_:j_,e=r(a,f),Ca){d=0;do{if(Ca=!1,Va=0,25<=d)throw Error(_e(301));d+=1,Nn=Cn=null,t.updateQueue=null,jl.current=H_,e=r(a,f)}while(Ca)}if(jl.current=hu,t=Cn!==null&&Cn.next!==null,Ho=0,Nn=Cn=nn=null,fu=!1,t)throw Error(_e(300));return e}function Nh(){var e=Va!==0;return Va=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?nn.memoizedState=Nn=e:Nn=Nn.next=e,Nn}function Fr(){if(Cn===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=Cn.next;var t=Nn===null?nn.memoizedState:Nn.next;if(t!==null)Nn=t,Cn=e;else{if(e===null)throw Error(_e(310));Cn=e,e={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Nn===null?nn.memoizedState=Nn=e:Nn=Nn.next=e}return Nn}function Wa(e,t){return typeof t=="function"?t(e):t}function bc(e){var t=Fr(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var a=Cn,f=a.baseQueue,d=r.pending;if(d!==null){if(f!==null){var x=f.next;f.next=d.next,d.next=x}a.baseQueue=f=d,r.pending=null}if(f!==null){d=f.next,a=a.baseState;var v=x=null,E=null,y=d;do{var I=y.lane;if((Ho&I)===I)E!==null&&(E=E.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),a=y.hasEagerState?y.eagerState:e(a,y.action);else{var N={lane:I,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};E===null?(v=E=N,x=a):E=E.next=N,nn.lanes|=I,Vo|=I}y=y.next}while(y!==null&&y!==d);E===null?x=a:E.next=v,oi(a,t.memoizedState)||(ur=!0),t.memoizedState=a,t.baseState=x,t.baseQueue=E,r.lastRenderedState=a}if(e=r.interleaved,e!==null){f=e;do d=f.lane,nn.lanes|=d,Vo|=d,f=f.next;while(f!==e)}else f===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rc(e){var t=Fr(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var a=r.dispatch,f=r.pending,d=t.memoizedState;if(f!==null){r.pending=null;var x=f=f.next;do d=e(d,x.action),x=x.next;while(x!==f);oi(d,t.memoizedState)||(ur=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,a]}function qp(){}function Qp(e,t){var r=nn,a=Fr(),f=t(),d=!oi(a.memoizedState,f);if(d&&(a.memoizedState=f,ur=!0),a=a.queue,Oh(eg.bind(null,r,a,e),[e]),a.getSnapshot!==t||d||Nn!==null&&Nn.memoizedState.tag&1){if(r.flags|=2048,Za(9,$p.bind(null,r,a,f,t),void 0,null),On===null)throw Error(_e(349));Ho&30||Jp(r,t,f)}return f}function Jp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $p(e,t,r,a){t.value=r,t.getSnapshot=a,tg(t)&&ng(e)}function eg(e,t,r){return r(function(){tg(t)&&ng(e)})}function tg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!oi(e,r)}catch{return!0}}function ng(e){var t=Bi(e,1);t!==null&&ii(t,e,1,-1)}function p1(e){var t=gi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t.queue=e,e=e.dispatch=z_.bind(null,nn,e),[t.memoizedState,e]}function Za(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function rg(){return Fr().memoizedState}function Hl(e,t,r,a){var f=gi();nn.flags|=e,f.memoizedState=Za(1|t,r,void 0,a===void 0?null:a)}function Fu(e,t,r,a){var f=Fr();a=a===void 0?null:a;var d=void 0;if(Cn!==null){var x=Cn.memoizedState;if(d=x.destroy,a!==null&&bh(a,x.deps)){f.memoizedState=Za(t,r,d,a);return}}nn.flags|=e,f.memoizedState=Za(1|t,r,d,a)}function g1(e,t){return Hl(8390656,8,e,t)}function Oh(e,t){return Fu(2048,8,e,t)}function ig(e,t){return Fu(4,2,e,t)}function og(e,t){return Fu(4,4,e,t)}function sg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ag(e,t,r){return r=r!=null?r.concat([e]):null,Fu(4,4,sg.bind(null,t,e),r)}function Ph(){}function lg(e,t){var r=Fr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&bh(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function ug(e,t){var r=Fr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&bh(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function cg(e,t,r){return Ho&21?(oi(r,t)||(r=dp(),nn.lanes|=r,Vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ur=!0),e.memoizedState=r)}function B_(e,t){var r=Ot;Ot=r!==0&&4>r?r:4,e(!0);var a=Ic.transition;Ic.transition={};try{e(!1),t()}finally{Ot=r,Ic.transition=a}}function fg(){return Fr().memoizedState}function F_(e,t,r){var a=ho(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},hg(e))dg(t,r);else if(r=Vp(e,t,r,a),r!==null){var f=er();ii(r,e,a,f),pg(r,t,a)}}function z_(e,t,r){var a=ho(e),f={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(hg(e))dg(t,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var x=t.lastRenderedState,v=d(x,r);if(f.hasEagerState=!0,f.eagerState=v,oi(v,x)){var E=t.interleaved;E===null?(f.next=f,Ch(t)):(f.next=E.next,E.next=f),t.interleaved=f;return}}catch{}finally{}r=Vp(e,t,f,a),r!==null&&(f=er(),ii(r,e,a,f),pg(r,t,a))}}function hg(e){var t=e.alternate;return e===nn||t!==null&&t===nn}function dg(e,t){Ca=fu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pg(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,uh(e,r)}}var hu={readContext:Br,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},U_={readContext:Br,useCallback:function(e,t){return gi().memoizedState=[e,t===void 0?null:t],e},useContext:Br,useEffect:g1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hl(4194308,4,sg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var r=gi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=gi();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=F_.bind(null,nn,e),[a.memoizedState,e]},useRef:function(e){var t=gi();return e={current:e},t.memoizedState=e},useState:p1,useDebugValue:Ph,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=p1(!1),t=e[0];return e=B_.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=nn,f=gi();if(Kt){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),On===null)throw Error(_e(349));Ho&30||Jp(a,t,r)}f.memoizedState=r;var d={value:r,getSnapshot:t};return f.queue=d,g1(eg.bind(null,a,d,e),[e]),a.flags|=2048,Za(9,$p.bind(null,a,d,r,t),void 0,null),r},useId:function(){var e=gi(),t=On.identifierPrefix;if(Kt){var r=Pi,a=Oi;r=(a&~(1<<32-ri(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Va++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=k_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j_={readContext:Br,useCallback:lg,useContext:Br,useEffect:Oh,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:og,useMemo:ug,useReducer:bc,useRef:rg,useState:function(){return bc(Wa)},useDebugValue:Ph,useDeferredValue:function(e){var t=Fr();return cg(t,Cn.memoizedState,e)},useTransition:function(){var e=bc(Wa)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Qp,useId:fg,unstable_isNewReconciler:!1},H_={readContext:Br,useCallback:lg,useContext:Br,useEffect:Oh,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:og,useMemo:ug,useReducer:Rc,useRef:rg,useState:function(){return Rc(Wa)},useDebugValue:Ph,useDeferredValue:function(e){var t=Fr();return Cn===null?t.memoizedState=e:cg(t,Cn.memoizedState,e)},useTransition:function(){var e=Rc(Wa)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Qp,useId:fg,unstable_isNewReconciler:!1};function Ls(e,t){try{var r="",a=t;do r+=mx(a),a=a.return;while(a);var f=r}catch(d){f=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:f,digest:null}}function Nc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ef(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function gg(e,t,r){r=Mi(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){pu||(pu=!0,Pf=a),Ef(e,t)},r}function mg(e,t,r){r=Mi(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var f=t.value;r.payload=function(){return a(f)},r.callback=function(){Ef(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Ef(e,t),typeof a!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),r}function m1(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new V_;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(r)||(f.add(r),e=rw.bind(null,e,t,r),t.then(e,e))}function x1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _1(e,t,r,a,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mi(-1,1),t.tag=2,co(r,t,1))),r.lanes|=1),e)}var W_=zi.ReactCurrentOwner,ur=!1;function $n(e,t,r,a){t.child=e===null?Yp(t,null,r,a):Os(t,e.child,r,a)}function w1(e,t,r,a,f){r=r.render;var d=t.ref;return As(t,f),a=Rh(e,t,r,a,d,f),r=Nh(),e!==null&&!ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Fi(e,t,f)):(Kt&&r&&xh(t),t.flags|=1,$n(e,t,a,f),t.child)}function y1(e,t,r,a,f){if(e===null){var d=r.type;return typeof d=="function"&&!Uh(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,xg(e,t,d,a,f)):(e=Gl(r.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&f)){var x=d.memoizedProps;if(r=r.compare,r=r!==null?r:Ba,r(x,a)&&e.ref===t.ref)return Fi(e,t,f)}return t.flags|=1,e=po(d,a),e.ref=t.ref,e.return=t,t.child=e}function xg(e,t,r,a,f){if(e!==null){var d=e.memoizedProps;if(Ba(d,a)&&e.ref===t.ref)if(ur=!1,t.pendingProps=a=d,(e.lanes&f)!==0)e.flags&131072&&(ur=!0);else return t.lanes=e.lanes,Fi(e,t,f)}return Cf(e,t,r,a,f)}function _g(e,t,r){var a=t.pendingProps,f=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(ms,_r),_r|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(ms,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:r,Ut(ms,_r),_r|=a}else d!==null?(a=d.baseLanes|r,t.memoizedState=null):a=r,Ut(ms,_r),_r|=a;return $n(e,t,f,r),t.child}function wg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cf(e,t,r,a,f){var d=fr(r)?Uo:Zn.current;return d=Rs(t,d),As(t,f),r=Rh(e,t,r,a,d,f),a=Nh(),e!==null&&!ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Fi(e,t,f)):(Kt&&a&&xh(t),t.flags|=1,$n(e,t,r,f),t.child)}function v1(e,t,r,a,f){if(fr(r)){var d=!0;iu(t)}else d=!1;if(As(t,f),t.stateNode===null)Vl(e,t),Gp(t,r,a),vf(t,r,a,f),a=!0;else if(e===null){var x=t.stateNode,v=t.memoizedProps;x.props=v;var E=x.context,y=r.contextType;typeof y=="object"&&y!==null?y=Br(y):(y=fr(r)?Uo:Zn.current,y=Rs(t,y));var I=r.getDerivedStateFromProps,N=typeof I=="function"||typeof x.getSnapshotBeforeUpdate=="function";N||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(v!==a||E!==y)&&h1(t,x,a,y),to=!1;var P=t.memoizedState;x.state=P,uu(t,a,x,f),E=t.memoizedState,v!==a||P!==E||cr.current||to?(typeof I=="function"&&(yf(t,r,I,a),E=t.memoizedState),(v=to||f1(t,r,v,a,P,E,y))?(N||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),x.props=a,x.state=E,x.context=y,a=v):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{x=t.stateNode,Wp(e,t),v=t.memoizedProps,y=t.type===t.elementType?v:$r(t.type,v),x.props=y,N=t.pendingProps,P=x.context,E=r.contextType,typeof E=="object"&&E!==null?E=Br(E):(E=fr(r)?Uo:Zn.current,E=Rs(t,E));var W=r.getDerivedStateFromProps;(I=typeof W=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(v!==N||P!==E)&&h1(t,x,a,E),to=!1,P=t.memoizedState,x.state=P,uu(t,a,x,f);var j=t.memoizedState;v!==N||P!==j||cr.current||to?(typeof W=="function"&&(yf(t,r,W,a),j=t.memoizedState),(y=to||f1(t,r,y,a,P,j,E)||!1)?(I||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,j,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,j,E)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=j),x.props=a,x.state=j,x.context=E,a=y):(typeof x.componentDidUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return Af(e,t,r,a,d,f)}function Af(e,t,r,a,f,d){wg(e,t);var x=(t.flags&128)!==0;if(!a&&!x)return f&&s1(t,r,!1),Fi(e,t,d);a=t.stateNode,W_.current=t;var v=x&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&x?(t.child=Os(t,e.child,null,d),t.child=Os(t,null,v,d)):$n(e,t,v,d),t.memoizedState=a.state,f&&s1(t,r,!0),t.child}function yg(e){var t=e.stateNode;t.pendingContext?o1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&o1(e,t.context,!1),Sh(e,t.containerInfo)}function E1(e,t,r,a,f){return Ns(),wh(f),t.flags|=256,$n(e,t,r,a),t.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function Tf(e){return{baseLanes:e,cachePool:null,transitions:null}}function vg(e,t,r){var a=t.pendingProps,f=tn.current,d=!1,x=(t.flags&128)!==0,v;if((v=x)||(v=e!==null&&e.memoizedState===null?!1:(f&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Ut(tn,f&1),e===null)return _f(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(x=a.children,e=a.fallback,d?(a=t.mode,d=t.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=ju(x,a,0,null),e=zo(e,a,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Tf(r),t.memoizedState=Sf,e):Lh(t,x));if(f=e.memoizedState,f!==null&&(v=f.dehydrated,v!==null))return Z_(e,t,x,a,v,f,r);if(d){d=a.fallback,x=t.mode,f=e.child,v=f.sibling;var E={mode:"hidden",children:a.children};return!(x&1)&&t.child!==f?(a=t.child,a.childLanes=0,a.pendingProps=E,t.deletions=null):(a=po(f,E),a.subtreeFlags=f.subtreeFlags&14680064),v!==null?d=po(v,d):(d=zo(d,x,r,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,x=e.child.memoizedState,x=x===null?Tf(r):{baseLanes:x.baseLanes|r,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~r,t.memoizedState=Sf,a}return d=e.child,e=d.sibling,a=po(d,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Lh(e,t){return t=ju({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bl(e,t,r,a){return a!==null&&wh(a),Os(t,e.child,null,r),e=Lh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z_(e,t,r,a,f,d,x){if(r)return t.flags&256?(t.flags&=-257,a=Nc(Error(_e(422))),bl(e,t,x,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,f=t.mode,a=ju({mode:"visible",children:a.children},f,0,null),d=zo(d,f,x,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,t.mode&1&&Os(t,e.child,null,x),t.child.memoizedState=Tf(x),t.memoizedState=Sf,d);if(!(t.mode&1))return bl(e,t,x,null);if(f.data==="$!"){if(a=f.nextSibling&&f.nextSibling.dataset,a)var v=a.dgst;return a=v,d=Error(_e(419)),a=Nc(d,a,void 0),bl(e,t,x,a)}if(v=(x&e.childLanes)!==0,ur||v){if(a=On,a!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(a.suspendedLanes|x)?0:f,f!==0&&f!==d.retryLane&&(d.retryLane=f,Bi(e,f),ii(a,e,f,-1))}return zh(),a=Nc(Error(_e(421))),bl(e,t,x,a)}return f.data==="$?"?(t.flags|=128,t.child=e.child,t=iw.bind(null,e),f._reactRetry=t,null):(e=d.treeContext,wr=uo(f.nextSibling),yr=t,Kt=!0,ni=null,e!==null&&(Pr[Lr++]=Oi,Pr[Lr++]=Pi,Pr[Lr++]=jo,Oi=e.id,Pi=e.overflow,jo=t),t=Lh(t,a.children),t.flags|=4096,t)}function C1(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),wf(e.return,t,r)}function Oc(e,t,r,a,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:f}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=r,d.tailMode=f)}function Eg(e,t,r){var a=t.pendingProps,f=a.revealOrder,d=a.tail;if($n(e,t,a.children,r),a=tn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C1(e,r,t);else if(e.tag===19)C1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ut(tn,a),!(t.mode&1))t.memoizedState=null;else switch(f){case"forwards":for(r=t.child,f=null;r!==null;)e=r.alternate,e!==null&&cu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=t.child,t.child=null):(f=r.sibling,r.sibling=null),Oc(t,!1,f,r,d);break;case"backwards":for(r=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&cu(e)===null){t.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}Oc(t,!0,r,null,d);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function G_(e,t,r){switch(t.tag){case 3:yg(t),Ns();break;case 5:Kp(t);break;case 1:fr(t.type)&&iu(t);break;case 4:Sh(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,f=t.memoizedProps.value;Ut(au,a._currentValue),a._currentValue=f;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ut(tn,tn.current&1),t.flags|=128,null):r&t.child.childLanes?vg(e,t,r):(Ut(tn,tn.current&1),e=Fi(e,t,r),e!==null?e.sibling:null);Ut(tn,tn.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Eg(e,t,r);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ut(tn,tn.current),a)break;return null;case 22:case 23:return t.lanes=0,_g(e,t,r)}return Fi(e,t,r)}var Cg,If,Ag,Sg;Cg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};If=function(){};Ag=function(e,t,r,a){var f=e.memoizedProps;if(f!==a){e=t.stateNode,ko(wi.current);var d=null;switch(r){case"input":f=Yc(e,f),a=Yc(e,a),d=[];break;case"select":f=rn({},f,{value:void 0}),a=rn({},a,{value:void 0}),d=[];break;case"textarea":f=Qc(e,f),a=Qc(e,a),d=[];break;default:typeof f.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=nu)}$c(r,a);var x;r=null;for(y in f)if(!a.hasOwnProperty(y)&&f.hasOwnProperty(y)&&f[y]!=null)if(y==="style"){var v=f[y];for(x in v)v.hasOwnProperty(x)&&(r||(r={}),r[x]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Na.hasOwnProperty(y)?d||(d=[]):(d=d||[]).push(y,null));for(y in a){var E=a[y];if(v=f!=null?f[y]:void 0,a.hasOwnProperty(y)&&E!==v&&(E!=null||v!=null))if(y==="style")if(v){for(x in v)!v.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(r||(r={}),r[x]="");for(x in E)E.hasOwnProperty(x)&&v[x]!==E[x]&&(r||(r={}),r[x]=E[x])}else r||(d||(d=[]),d.push(y,r)),r=E;else y==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(d=d||[]).push(y,E)):y==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(y,""+E):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Na.hasOwnProperty(y)?(E!=null&&y==="onScroll"&&Zt("scroll",e),d||v===E||(d=[])):(d=d||[]).push(y,E))}r&&(d=d||[]).push("style",r);var y=d;(t.updateQueue=y)&&(t.flags|=4)}};Sg=function(e,t,r,a){r!==a&&(t.flags|=4)};function la(e,t){if(!Kt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,a|=f.subtreeFlags&14680064,a|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function X_(e,t,r){var a=t.pendingProps;switch(_h(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(t),null;case 1:return fr(t.type)&&ru(),Vn(t),null;case 3:return a=t.stateNode,Ps(),Xt(cr),Xt(Zn),Ih(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Tl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ni!==null&&(Df(ni),ni=null))),If(e,t),Vn(t),null;case 5:Th(t);var f=ko(Ha.current);if(r=t.type,e!==null&&t.stateNode!=null)Ag(e,t,r,a,f),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(_e(166));return Vn(t),null}if(e=ko(wi.current),Tl(t)){a=t.stateNode,r=t.type;var d=t.memoizedProps;switch(a[mi]=t,a[Ua]=d,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",a),Zt("close",a);break;case"iframe":case"object":case"embed":Zt("load",a);break;case"video":case"audio":for(f=0;f<xa.length;f++)Zt(xa[f],a);break;case"source":Zt("error",a);break;case"img":case"image":case"link":Zt("error",a),Zt("load",a);break;case"details":Zt("toggle",a);break;case"input":Pd(a,d),Zt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Zt("invalid",a);break;case"textarea":Md(a,d),Zt("invalid",a)}$c(r,d),f=null;for(var x in d)if(d.hasOwnProperty(x)){var v=d[x];x==="children"?typeof v=="string"?a.textContent!==v&&(d.suppressHydrationWarning!==!0&&Sl(a.textContent,v,e),f=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Sl(a.textContent,v,e),f=["children",""+v]):Na.hasOwnProperty(x)&&v!=null&&x==="onScroll"&&Zt("scroll",a)}switch(r){case"input":xl(a),Ld(a,d,!0);break;case"textarea":xl(a),Dd(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=nu)}a=f,t.updateQueue=a,a!==null&&(t.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(r,{is:a.is}):(e=x.createElement(r),r==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,r),e[mi]=t,e[Ua]=a,Cg(e,t,!1,!1),t.stateNode=e;e:{switch(x=ef(r,a),r){case"dialog":Zt("cancel",e),Zt("close",e),f=a;break;case"iframe":case"object":case"embed":Zt("load",e),f=a;break;case"video":case"audio":for(f=0;f<xa.length;f++)Zt(xa[f],e);f=a;break;case"source":Zt("error",e),f=a;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),f=a;break;case"details":Zt("toggle",e),f=a;break;case"input":Pd(e,a),f=Yc(e,a),Zt("invalid",e);break;case"option":f=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},f=rn({},a,{value:void 0}),Zt("invalid",e);break;case"textarea":Md(e,a),f=Qc(e,a),Zt("invalid",e);break;default:f=a}$c(r,f),v=f;for(d in v)if(v.hasOwnProperty(d)){var E=v[d];d==="style"?tp(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&$0(e,E)):d==="children"?typeof E=="string"?(r!=="textarea"||E!=="")&&Oa(e,E):typeof E=="number"&&Oa(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Na.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Zt("scroll",e):E!=null&&rh(e,d,E,x))}switch(r){case"input":xl(e),Ld(e,a,!1);break;case"textarea":xl(e),Dd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+mo(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?ys(e,!!a.multiple,d,!1):a.defaultValue!=null&&ys(e,!!a.multiple,a.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=nu)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vn(t),null;case 6:if(e&&t.stateNode!=null)Sg(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(_e(166));if(r=ko(Ha.current),ko(wi.current),Tl(t)){if(a=t.stateNode,r=t.memoizedProps,a[mi]=t,(d=a.nodeValue!==r)&&(e=yr,e!==null))switch(e.tag){case 3:Sl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sl(a.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[mi]=t,t.stateNode=a}return Vn(t),null;case 13:if(Xt(tn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kt&&wr!==null&&t.mode&1&&!(t.flags&128))Hp(),Ns(),t.flags|=98560,d=!1;else if(d=Tl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(_e(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(_e(317));d[mi]=t}else Ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vn(t),d=!1}else ni!==null&&(Df(ni),ni=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||tn.current&1?An===0&&(An=3):zh())),t.updateQueue!==null&&(t.flags|=4),Vn(t),null);case 4:return Ps(),If(e,t),e===null&&Fa(t.stateNode.containerInfo),Vn(t),null;case 10:return Eh(t.type._context),Vn(t),null;case 17:return fr(t.type)&&ru(),Vn(t),null;case 19:if(Xt(tn),d=t.memoizedState,d===null)return Vn(t),null;if(a=(t.flags&128)!==0,x=d.rendering,x===null)if(a)la(d,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(x=cu(e),x!==null){for(t.flags|=128,la(d,!1),a=x.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)d=r,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(tn,tn.current&1|2),t.child}e=e.sibling}d.tail!==null&&hn()>Ms&&(t.flags|=128,a=!0,la(d,!1),t.lanes=4194304)}else{if(!a)if(e=cu(x),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),la(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Kt)return Vn(t),null}else 2*hn()-d.renderingStartTime>Ms&&r!==1073741824&&(t.flags|=128,a=!0,la(d,!1),t.lanes=4194304);d.isBackwards?(x.sibling=t.child,t.child=x):(r=d.last,r!==null?r.sibling=x:t.child=x,d.last=x)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=hn(),t.sibling=null,r=tn.current,Ut(tn,a?r&1|2:r&1),t):(Vn(t),null);case 22:case 23:return Fh(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?_r&1073741824&&(Vn(t),t.subtreeFlags&6&&(t.flags|=8192)):Vn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function Y_(e,t){switch(_h(t),t.tag){case 1:return fr(t.type)&&ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),Xt(cr),Xt(Zn),Ih(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Th(t),null;case 13:if(Xt(tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(tn),null;case 4:return Ps(),null;case 10:return Eh(t.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var Rl=!1,Wn=!1,K_=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function gs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ln(e,t,a)}else r.current=null}function bf(e,t,r){try{r()}catch(a){ln(e,t,a)}}var A1=!1;function q_(e,t){if(ff=$l,e=Rp(),mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var f=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var x=0,v=-1,E=-1,y=0,I=0,N=e,P=null;t:for(;;){for(var W;N!==r||f!==0&&N.nodeType!==3||(v=x+f),N!==d||a!==0&&N.nodeType!==3||(E=x+a),N.nodeType===3&&(x+=N.nodeValue.length),(W=N.firstChild)!==null;)P=N,N=W;for(;;){if(N===e)break t;if(P===r&&++y===f&&(v=x),P===d&&++I===a&&(E=x),(W=N.nextSibling)!==null)break;N=P,P=N.parentNode}N=W}r=v===-1||E===-1?null:{start:v,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(hf={focusedElem:e,selectionRange:r},$l=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var z=j.memoizedProps,se=j.memoizedState,F=t.stateNode,D=F.getSnapshotBeforeUpdate(t.elementType===t.type?z:$r(t.type,z),se);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(k){ln(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return j=A1,A1=!1,j}function Aa(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&e)===e){var d=f.destroy;f.destroy=void 0,d!==void 0&&bf(t,r,d)}f=f.next}while(f!==a)}}function zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Rf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Tg(e){var t=e.alternate;t!==null&&(e.alternate=null,Tg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mi],delete t[Ua],delete t[gf],delete t[P_],delete t[L_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ig(e){return e.tag===5||e.tag===3||e.tag===4}function S1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nu));else if(a!==4&&(e=e.child,e!==null))for(Nf(e,t,r),e=e.sibling;e!==null;)Nf(e,t,r),e=e.sibling}function Of(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Of(e,t,r),e=e.sibling;e!==null;)Of(e,t,r),e=e.sibling}var Ln=null,ei=!1;function $i(e,t,r){for(r=r.child;r!==null;)bg(e,t,r),r=r.sibling}function bg(e,t,r){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(Ou,r)}catch{}switch(r.tag){case 5:Wn||gs(r,t);case 6:var a=Ln,f=ei;Ln=null,$i(e,t,r),Ln=a,ei=f,Ln!==null&&(ei?(e=Ln,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ln.removeChild(r.stateNode));break;case 18:Ln!==null&&(ei?(e=Ln,r=r.stateNode,e.nodeType===8?Ac(e.parentNode,r):e.nodeType===1&&Ac(e,r),Da(e)):Ac(Ln,r.stateNode));break;case 4:a=Ln,f=ei,Ln=r.stateNode.containerInfo,ei=!0,$i(e,t,r),Ln=a,ei=f;break;case 0:case 11:case 14:case 15:if(!Wn&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){f=a=a.next;do{var d=f,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&bf(r,t,x),f=f.next}while(f!==a)}$i(e,t,r);break;case 1:if(!Wn&&(gs(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(v){ln(r,t,v)}$i(e,t,r);break;case 21:$i(e,t,r);break;case 22:r.mode&1?(Wn=(a=Wn)||r.memoizedState!==null,$i(e,t,r),Wn=a):$i(e,t,r);break;default:$i(e,t,r)}}function T1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new K_),t.forEach(function(a){var f=ow.bind(null,e,a);r.has(a)||(r.add(a),a.then(f,f))})}}function Jr(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var f=r[a];try{var d=e,x=t,v=x;e:for(;v!==null;){switch(v.tag){case 5:Ln=v.stateNode,ei=!1;break e;case 3:Ln=v.stateNode.containerInfo,ei=!0;break e;case 4:Ln=v.stateNode.containerInfo,ei=!0;break e}v=v.return}if(Ln===null)throw Error(_e(160));bg(d,x,f),Ln=null,ei=!1;var E=f.alternate;E!==null&&(E.return=null),f.return=null}catch(y){ln(f,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rg(t,e),t=t.sibling}function Rg(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jr(t,e),pi(e),a&4){try{Aa(3,e,e.return),zu(3,e)}catch(z){ln(e,e.return,z)}try{Aa(5,e,e.return)}catch(z){ln(e,e.return,z)}}break;case 1:Jr(t,e),pi(e),a&512&&r!==null&&gs(r,r.return);break;case 5:if(Jr(t,e),pi(e),a&512&&r!==null&&gs(r,r.return),e.flags&32){var f=e.stateNode;try{Oa(f,"")}catch(z){ln(e,e.return,z)}}if(a&4&&(f=e.stateNode,f!=null)){var d=e.memoizedProps,x=r!==null?r.memoizedProps:d,v=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&q0(f,d),ef(v,x);var y=ef(v,d);for(x=0;x<E.length;x+=2){var I=E[x],N=E[x+1];I==="style"?tp(f,N):I==="dangerouslySetInnerHTML"?$0(f,N):I==="children"?Oa(f,N):rh(f,I,N,y)}switch(v){case"input":Kc(f,d);break;case"textarea":Q0(f,d);break;case"select":var P=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?ys(f,!!d.multiple,W,!1):P!==!!d.multiple&&(d.defaultValue!=null?ys(f,!!d.multiple,d.defaultValue,!0):ys(f,!!d.multiple,d.multiple?[]:"",!1))}f[Ua]=d}catch(z){ln(e,e.return,z)}}break;case 6:if(Jr(t,e),pi(e),a&4){if(e.stateNode===null)throw Error(_e(162));f=e.stateNode,d=e.memoizedProps;try{f.nodeValue=d}catch(z){ln(e,e.return,z)}}break;case 3:if(Jr(t,e),pi(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Da(t.containerInfo)}catch(z){ln(e,e.return,z)}break;case 4:Jr(t,e),pi(e);break;case 13:Jr(t,e),pi(e),f=e.child,f.flags&8192&&(d=f.memoizedState!==null,f.stateNode.isHidden=d,!d||f.alternate!==null&&f.alternate.memoizedState!==null||(kh=hn())),a&4&&T1(e);break;case 22:if(I=r!==null&&r.memoizedState!==null,e.mode&1?(Wn=(y=Wn)||I,Jr(t,e),Wn=y):Jr(t,e),pi(e),a&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!I&&e.mode&1)for(Oe=e,I=e.child;I!==null;){for(N=Oe=I;Oe!==null;){switch(P=Oe,W=P.child,P.tag){case 0:case 11:case 14:case 15:Aa(4,P,P.return);break;case 1:gs(P,P.return);var j=P.stateNode;if(typeof j.componentWillUnmount=="function"){a=P,r=P.return;try{t=a,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(z){ln(a,r,z)}}break;case 5:gs(P,P.return);break;case 22:if(P.memoizedState!==null){b1(N);continue}}W!==null?(W.return=P,Oe=W):b1(N)}I=I.sibling}e:for(I=null,N=e;;){if(N.tag===5){if(I===null){I=N;try{f=N.stateNode,y?(d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=N.stateNode,E=N.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=ep("display",x))}catch(z){ln(e,e.return,z)}}}else if(N.tag===6){if(I===null)try{N.stateNode.nodeValue=y?"":N.memoizedProps}catch(z){ln(e,e.return,z)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;I===N&&(I=null),N=N.return}I===N&&(I=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Jr(t,e),pi(e),a&4&&T1(e);break;case 21:break;default:Jr(t,e),pi(e)}}function pi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ig(r)){var a=r;break e}r=r.return}throw Error(_e(160))}switch(a.tag){case 5:var f=a.stateNode;a.flags&32&&(Oa(f,""),a.flags&=-33);var d=S1(e);Of(e,d,f);break;case 3:case 4:var x=a.stateNode.containerInfo,v=S1(e);Nf(e,v,x);break;default:throw Error(_e(161))}}catch(E){ln(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q_(e,t,r){Oe=e,Ng(e)}function Ng(e,t,r){for(var a=(e.mode&1)!==0;Oe!==null;){var f=Oe,d=f.child;if(f.tag===22&&a){var x=f.memoizedState!==null||Rl;if(!x){var v=f.alternate,E=v!==null&&v.memoizedState!==null||Wn;v=Rl;var y=Wn;if(Rl=x,(Wn=E)&&!y)for(Oe=f;Oe!==null;)x=Oe,E=x.child,x.tag===22&&x.memoizedState!==null?R1(f):E!==null?(E.return=x,Oe=E):R1(f);for(;d!==null;)Oe=d,Ng(d),d=d.sibling;Oe=f,Rl=v,Wn=y}I1(e)}else f.subtreeFlags&8772&&d!==null?(d.return=f,Oe=d):I1(e)}}function I1(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wn||zu(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Wn)if(r===null)a.componentDidMount();else{var f=t.elementType===t.type?r.memoizedProps:$r(t.type,r.memoizedProps);a.componentDidUpdate(f,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&c1(t,d,a);break;case 3:var x=t.updateQueue;if(x!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}c1(t,x,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&r.focus();break;case"img":E.src&&(r.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var I=y.memoizedState;if(I!==null){var N=I.dehydrated;N!==null&&Da(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Wn||t.flags&512&&Rf(t)}catch(P){ln(t,t.return,P)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function b1(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function R1(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zu(4,t)}catch(E){ln(t,r,E)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var f=t.return;try{a.componentDidMount()}catch(E){ln(t,f,E)}}var d=t.return;try{Rf(t)}catch(E){ln(t,d,E)}break;case 5:var x=t.return;try{Rf(t)}catch(E){ln(t,x,E)}}}catch(E){ln(t,t.return,E)}if(t===e){Oe=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Oe=v;break}Oe=t.return}}var J_=Math.ceil,du=zi.ReactCurrentDispatcher,Mh=zi.ReactCurrentOwner,kr=zi.ReactCurrentBatchConfig,Ct=0,On=null,xn=null,Mn=0,_r=0,ms=wo(0),An=0,Ga=null,Vo=0,Uu=0,Dh=0,Sa=null,lr=null,kh=0,Ms=1/0,Ri=null,pu=!1,Pf=null,fo=null,Nl=!1,oo=null,gu=0,Ta=0,Lf=null,Wl=-1,Zl=0;function er(){return Ct&6?hn():Wl!==-1?Wl:Wl=hn()}function ho(e){return e.mode&1?Ct&2&&Mn!==0?Mn&-Mn:D_.transition!==null?(Zl===0&&(Zl=dp()),Zl):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:yp(e.type)),e):1}function ii(e,t,r,a){if(50<Ta)throw Ta=0,Lf=null,Error(_e(185));Qa(e,r,a),(!(Ct&2)||e!==On)&&(e===On&&(!(Ct&2)&&(Uu|=r),An===4&&ro(e,Mn)),hr(e,a),r===1&&Ct===0&&!(t.mode&1)&&(Ms=hn()+500,ku&&yo()))}function hr(e,t){var r=e.callbackNode;Dx(e,t);var a=Jl(e,e===On?Mn:0);if(a===0)r!==null&&Fd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&Fd(r),t===1)e.tag===0?M_(N1.bind(null,e)):zp(N1.bind(null,e)),N_(function(){!(Ct&6)&&yo()}),r=null;else{switch(pp(a)){case 1:r=lh;break;case 4:r=fp;break;case 16:r=Ql;break;case 536870912:r=hp;break;default:r=Ql}r=Fg(r,Og.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Og(e,t){if(Wl=-1,Zl=0,Ct&6)throw Error(_e(327));var r=e.callbackNode;if(Ss()&&e.callbackNode!==r)return null;var a=Jl(e,e===On?Mn:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=mu(e,a);else{t=a;var f=Ct;Ct|=2;var d=Lg();(On!==e||Mn!==t)&&(Ri=null,Ms=hn()+500,Fo(e,t));do try{tw();break}catch(v){Pg(e,v)}while(1);vh(),du.current=d,Ct=f,xn!==null?t=0:(On=null,Mn=0,t=An)}if(t!==0){if(t===2&&(f=sf(e),f!==0&&(a=f,t=Mf(e,f))),t===1)throw r=Ga,Fo(e,0),ro(e,a),hr(e,hn()),r;if(t===6)ro(e,a);else{if(f=e.current.alternate,!(a&30)&&!$_(f)&&(t=mu(e,a),t===2&&(d=sf(e),d!==0&&(a=d,t=Mf(e,d))),t===1))throw r=Ga,Fo(e,0),ro(e,a),hr(e,hn()),r;switch(e.finishedWork=f,e.finishedLanes=a,t){case 0:case 1:throw Error(_e(345));case 2:Lo(e,lr,Ri);break;case 3:if(ro(e,a),(a&130023424)===a&&(t=kh+500-hn(),10<t)){if(Jl(e,0)!==0)break;if(f=e.suspendedLanes,(f&a)!==a){er(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=pf(Lo.bind(null,e,lr,Ri),t);break}Lo(e,lr,Ri);break;case 4:if(ro(e,a),(a&4194240)===a)break;for(t=e.eventTimes,f=-1;0<a;){var x=31-ri(a);d=1<<x,x=t[x],x>f&&(f=x),a&=~d}if(a=f,a=hn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*J_(a/1960))-a,10<a){e.timeoutHandle=pf(Lo.bind(null,e,lr,Ri),a);break}Lo(e,lr,Ri);break;case 5:Lo(e,lr,Ri);break;default:throw Error(_e(329))}}}return hr(e,hn()),e.callbackNode===r?Og.bind(null,e):null}function Mf(e,t){var r=Sa;return e.current.memoizedState.isDehydrated&&(Fo(e,t).flags|=256),e=mu(e,t),e!==2&&(t=lr,lr=r,t!==null&&Df(t)),e}function Df(e){lr===null?lr=e:lr.push.apply(lr,e)}function $_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var f=r[a],d=f.getSnapshot;f=f.value;try{if(!oi(d(),f))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ro(e,t){for(t&=~Dh,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ri(t),a=1<<r;e[r]=-1,t&=~a}}function N1(e){if(Ct&6)throw Error(_e(327));Ss();var t=Jl(e,0);if(!(t&1))return hr(e,hn()),null;var r=mu(e,t);if(e.tag!==0&&r===2){var a=sf(e);a!==0&&(t=a,r=Mf(e,a))}if(r===1)throw r=Ga,Fo(e,0),ro(e,t),hr(e,hn()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lo(e,lr,Ri),hr(e,hn()),null}function Bh(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(Ms=hn()+500,ku&&yo())}}function Wo(e){oo!==null&&oo.tag===0&&!(Ct&6)&&Ss();var t=Ct;Ct|=1;var r=kr.transition,a=Ot;try{if(kr.transition=null,Ot=1,e)return e()}finally{Ot=a,kr.transition=r,Ct=t,!(Ct&6)&&yo()}}function Fh(){_r=ms.current,Xt(ms)}function Fo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,R_(r)),xn!==null)for(r=xn.return;r!==null;){var a=r;switch(_h(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ru();break;case 3:Ps(),Xt(cr),Xt(Zn),Ih();break;case 5:Th(a);break;case 4:Ps();break;case 13:Xt(tn);break;case 19:Xt(tn);break;case 10:Eh(a.type._context);break;case 22:case 23:Fh()}r=r.return}if(On=e,xn=e=po(e.current,null),Mn=_r=t,An=0,Ga=null,Dh=Uu=Vo=0,lr=Sa=null,Do!==null){for(t=0;t<Do.length;t++)if(r=Do[t],a=r.interleaved,a!==null){r.interleaved=null;var f=a.next,d=r.pending;if(d!==null){var x=d.next;d.next=f,a.next=x}r.pending=a}Do=null}return e}function Pg(e,t){do{var r=xn;try{if(vh(),jl.current=hu,fu){for(var a=nn.memoizedState;a!==null;){var f=a.queue;f!==null&&(f.pending=null),a=a.next}fu=!1}if(Ho=0,Nn=Cn=nn=null,Ca=!1,Va=0,Mh.current=null,r===null||r.return===null){An=1,Ga=t,xn=null;break}e:{var d=e,x=r.return,v=r,E=t;if(t=Mn,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var y=E,I=v,N=I.tag;if(!(I.mode&1)&&(N===0||N===11||N===15)){var P=I.alternate;P?(I.updateQueue=P.updateQueue,I.memoizedState=P.memoizedState,I.lanes=P.lanes):(I.updateQueue=null,I.memoizedState=null)}var W=x1(x);if(W!==null){W.flags&=-257,_1(W,x,v,d,t),W.mode&1&&m1(d,y,t),t=W,E=y;var j=t.updateQueue;if(j===null){var z=new Set;z.add(E),t.updateQueue=z}else j.add(E);break e}else{if(!(t&1)){m1(d,y,t),zh();break e}E=Error(_e(426))}}else if(Kt&&v.mode&1){var se=x1(x);if(se!==null){!(se.flags&65536)&&(se.flags|=256),_1(se,x,v,d,t),wh(Ls(E,v));break e}}d=E=Ls(E,v),An!==4&&(An=2),Sa===null?Sa=[d]:Sa.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var F=gg(d,E,t);u1(d,F);break e;case 1:v=E;var D=d.type,B=d.stateNode;if(!(d.flags&128)&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(fo===null||!fo.has(B)))){d.flags|=65536,t&=-t,d.lanes|=t;var k=mg(d,v,t);u1(d,k);break e}}d=d.return}while(d!==null)}Dg(r)}catch(ue){t=ue,xn===r&&r!==null&&(xn=r=r.return);continue}break}while(1)}function Lg(){var e=du.current;return du.current=hu,e===null?hu:e}function zh(){(An===0||An===3||An===2)&&(An=4),On===null||!(Vo&268435455)&&!(Uu&268435455)||ro(On,Mn)}function mu(e,t){var r=Ct;Ct|=2;var a=Lg();(On!==e||Mn!==t)&&(Ri=null,Fo(e,t));do try{ew();break}catch(f){Pg(e,f)}while(1);if(vh(),Ct=r,du.current=a,xn!==null)throw Error(_e(261));return On=null,Mn=0,An}function ew(){for(;xn!==null;)Mg(xn)}function tw(){for(;xn!==null&&!Tx();)Mg(xn)}function Mg(e){var t=Bg(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?Dg(e):xn=t,Mh.current=null}function Dg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Y_(r,t),r!==null){r.flags&=32767,xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{An=6,xn=null;return}}else if(r=X_(r,t,_r),r!==null){xn=r;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);An===0&&(An=5)}function Lo(e,t,r){var a=Ot,f=kr.transition;try{kr.transition=null,Ot=1,nw(e,t,r,a)}finally{kr.transition=f,Ot=a}return null}function nw(e,t,r,a){do Ss();while(oo!==null);if(Ct&6)throw Error(_e(327));r=e.finishedWork;var f=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(kx(e,d),e===On&&(xn=On=null,Mn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nl||(Nl=!0,Fg(Ql,function(){return Ss(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=kr.transition,kr.transition=null;var x=Ot;Ot=1;var v=Ct;Ct|=4,Mh.current=null,q_(e,r),Rg(r,e),E_(hf),$l=!!ff,hf=ff=null,e.current=r,Q_(r),Ix(),Ct=v,Ot=x,kr.transition=d}else e.current=r;if(Nl&&(Nl=!1,oo=e,gu=f),d=e.pendingLanes,d===0&&(fo=null),Nx(r.stateNode),hr(e,hn()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)f=t[r],a(f.value,{componentStack:f.stack,digest:f.digest});if(pu)throw pu=!1,e=Pf,Pf=null,e;return gu&1&&e.tag!==0&&Ss(),d=e.pendingLanes,d&1?e===Lf?Ta++:(Ta=0,Lf=e):Ta=0,yo(),null}function Ss(){if(oo!==null){var e=pp(gu),t=kr.transition,r=Ot;try{if(kr.transition=null,Ot=16>e?16:e,oo===null)var a=!1;else{if(e=oo,oo=null,gu=0,Ct&6)throw Error(_e(331));var f=Ct;for(Ct|=4,Oe=e.current;Oe!==null;){var d=Oe,x=d.child;if(Oe.flags&16){var v=d.deletions;if(v!==null){for(var E=0;E<v.length;E++){var y=v[E];for(Oe=y;Oe!==null;){var I=Oe;switch(I.tag){case 0:case 11:case 15:Aa(8,I,d)}var N=I.child;if(N!==null)N.return=I,Oe=N;else for(;Oe!==null;){I=Oe;var P=I.sibling,W=I.return;if(Tg(I),I===y){Oe=null;break}if(P!==null){P.return=W,Oe=P;break}Oe=W}}}var j=d.alternate;if(j!==null){var z=j.child;if(z!==null){j.child=null;do{var se=z.sibling;z.sibling=null,z=se}while(z!==null)}}Oe=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,Oe=x;else e:for(;Oe!==null;){if(d=Oe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Aa(9,d,d.return)}var F=d.sibling;if(F!==null){F.return=d.return,Oe=F;break e}Oe=d.return}}var D=e.current;for(Oe=D;Oe!==null;){x=Oe;var B=x.child;if(x.subtreeFlags&2064&&B!==null)B.return=x,Oe=B;else e:for(x=D;Oe!==null;){if(v=Oe,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:zu(9,v)}}catch(ue){ln(v,v.return,ue)}if(v===x){Oe=null;break e}var k=v.sibling;if(k!==null){k.return=v.return,Oe=k;break e}Oe=v.return}}if(Ct=f,yo(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(Ou,e)}catch{}a=!0}return a}finally{Ot=r,kr.transition=t}}return!1}function O1(e,t,r){t=Ls(r,t),t=gg(e,t,1),e=co(e,t,1),t=er(),e!==null&&(Qa(e,1,t),hr(e,t))}function ln(e,t,r){if(e.tag===3)O1(e,e,r);else for(;t!==null;){if(t.tag===3){O1(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(fo===null||!fo.has(a))){e=Ls(r,e),e=mg(t,e,1),t=co(t,e,1),e=er(),t!==null&&(Qa(t,1,e),hr(t,e));break}}t=t.return}}function rw(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=er(),e.pingedLanes|=e.suspendedLanes&r,On===e&&(Mn&r)===r&&(An===4||An===3&&(Mn&130023424)===Mn&&500>hn()-kh?Fo(e,0):Dh|=r),hr(e,t)}function kg(e,t){t===0&&(e.mode&1?(t=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):t=1);var r=er();e=Bi(e,t),e!==null&&(Qa(e,t,r),hr(e,r))}function iw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kg(e,r)}function ow(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(_e(314))}a!==null&&a.delete(t),kg(e,r)}var Bg;Bg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cr.current)ur=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ur=!1,G_(e,t,r);ur=!!(e.flags&131072)}else ur=!1,Kt&&t.flags&1048576&&Up(t,su,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vl(e,t),e=t.pendingProps;var f=Rs(t,Zn.current);As(t,r),f=Rh(null,t,a,e,f,r);var d=Nh();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fr(a)?(d=!0,iu(t)):d=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ah(t),f.updater=Bu,t.stateNode=f,f._reactInternals=t,vf(t,a,e,r),t=Af(null,t,a,!0,d,r)):(t.tag=0,Kt&&d&&xh(t),$n(null,t,f,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,f=a._init,a=f(a._payload),t.type=a,f=t.tag=aw(a),e=$r(a,e),f){case 0:t=Cf(null,t,a,e,r);break e;case 1:t=v1(null,t,a,e,r);break e;case 11:t=w1(null,t,a,e,r);break e;case 14:t=y1(null,t,a,$r(a.type,e),r);break e}throw Error(_e(306,a,""))}return t;case 0:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:$r(a,f),Cf(e,t,a,f,r);case 1:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:$r(a,f),v1(e,t,a,f,r);case 3:e:{if(yg(t),e===null)throw Error(_e(387));a=t.pendingProps,d=t.memoizedState,f=d.element,Wp(e,t),uu(t,a,null,r);var x=t.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){f=Ls(Error(_e(423)),t),t=E1(e,t,a,r,f);break e}else if(a!==f){f=Ls(Error(_e(424)),t),t=E1(e,t,a,r,f);break e}else for(wr=uo(t.stateNode.containerInfo.firstChild),yr=t,Kt=!0,ni=null,r=Yp(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ns(),a===f){t=Fi(e,t,r);break e}$n(e,t,a,r)}t=t.child}return t;case 5:return Kp(t),e===null&&_f(t),a=t.type,f=t.pendingProps,d=e!==null?e.memoizedProps:null,x=f.children,df(a,f)?x=null:d!==null&&df(a,d)&&(t.flags|=32),wg(e,t),$n(e,t,x,r),t.child;case 6:return e===null&&_f(t),null;case 13:return vg(e,t,r);case 4:return Sh(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Os(t,null,a,r):$n(e,t,a,r),t.child;case 11:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:$r(a,f),w1(e,t,a,f,r);case 7:return $n(e,t,t.pendingProps,r),t.child;case 8:return $n(e,t,t.pendingProps.children,r),t.child;case 12:return $n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,f=t.pendingProps,d=t.memoizedProps,x=f.value,Ut(au,a._currentValue),a._currentValue=x,d!==null)if(oi(d.value,x)){if(d.children===f.children&&!cr.current){t=Fi(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){x=d.child;for(var E=v.firstContext;E!==null;){if(E.context===a){if(d.tag===1){E=Mi(-1,r&-r),E.tag=2;var y=d.updateQueue;if(y!==null){y=y.shared;var I=y.pending;I===null?E.next=E:(E.next=I.next,I.next=E),y.pending=E}}d.lanes|=r,E=d.alternate,E!==null&&(E.lanes|=r),wf(d.return,r,t),v.lanes|=r;break}E=E.next}}else if(d.tag===10)x=d.type===t.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(_e(341));x.lanes|=r,v=x.alternate,v!==null&&(v.lanes|=r),wf(x,r,t),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}$n(e,t,f.children,r),t=t.child}return t;case 9:return f=t.type,a=t.pendingProps.children,As(t,r),f=Br(f),a=a(f),t.flags|=1,$n(e,t,a,r),t.child;case 14:return a=t.type,f=$r(a,t.pendingProps),f=$r(a.type,f),y1(e,t,a,f,r);case 15:return xg(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:$r(a,f),Vl(e,t),t.tag=1,fr(a)?(e=!0,iu(t)):e=!1,As(t,r),Gp(t,a,f),vf(t,a,f,r),Af(null,t,a,!0,e,r);case 19:return Eg(e,t,r);case 22:return _g(e,t,r)}throw Error(_e(156,t.tag))};function Fg(e,t){return cp(e,t)}function sw(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,r,a){return new sw(e,t,r,a)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aw(e){if(typeof e=="function")return Uh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oh)return 11;if(e===sh)return 14}return 2}function po(e,t){var r=e.alternate;return r===null?(r=Mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gl(e,t,r,a,f,d){var x=2;if(a=e,typeof e=="function")Uh(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case ss:return zo(r.children,f,d,t);case ih:x=8,f|=8;break;case Wc:return e=Mr(12,r,t,f|2),e.elementType=Wc,e.lanes=d,e;case Zc:return e=Mr(13,r,t,f),e.elementType=Zc,e.lanes=d,e;case Gc:return e=Mr(19,r,t,f),e.elementType=Gc,e.lanes=d,e;case X0:return ju(r,f,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z0:x=10;break e;case G0:x=9;break e;case oh:x=11;break e;case sh:x=14;break e;case eo:x=16,a=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Mr(x,r,t,f),t.elementType=e,t.type=a,t.lanes=d,t}function zo(e,t,r,a){return e=Mr(7,e,a,t),e.lanes=r,e}function ju(e,t,r,a){return e=Mr(22,e,a,t),e.elementType=X0,e.lanes=r,e.stateNode={isHidden:!1},e}function Pc(e,t,r){return e=Mr(6,e,null,t),e.lanes=r,e}function Lc(e,t,r){return t=Mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lw(e,t,r,a,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=a,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function jh(e,t,r,a,f,d,x,v,E){return e=new lw(e,t,r,v,E),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Mr(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(d),e}function uw(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function zg(e){if(!e)return xo;e=e._reactInternals;e:{if(Xo(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(fr(r))return Fp(e,r,t)}return t}function Ug(e,t,r,a,f,d,x,v,E){return e=jh(r,a,!0,e,f,d,x,v,E),e.context=zg(null),r=e.current,a=er(),f=ho(r),d=Mi(a,f),d.callback=t??null,co(r,d,f),e.current.lanes=f,Qa(e,f,a),hr(e,a),e}function Hu(e,t,r,a){var f=t.current,d=er(),x=ho(f);return r=zg(r),t.context===null?t.context=r:t.pendingContext=r,t=Mi(d,x),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=co(f,t,x),e!==null&&(ii(e,f,x,d),Ul(e,f,x)),x}function xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function P1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hh(e,t){P1(e,t),(e=e.alternate)&&P1(e,t)}function cw(){return null}var jg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vh(e){this._internalRoot=e}Vu.prototype.render=Vh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Hu(e,t,null,null)};Vu.prototype.unmount=Vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wo(function(){Hu(null,e,null,null)}),t[ki]=null}};function Vu(e){this._internalRoot=e}Vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<no.length&&t!==0&&t<no[r].priority;r++);no.splice(r,0,e),r===0&&wp(e)}};function Wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function L1(){}function fw(e,t,r,a,f){if(f){if(typeof a=="function"){var d=a;a=function(){var y=xu(x);d.call(y)}}var x=Ug(t,a,e,0,null,!1,!1,"",L1);return e._reactRootContainer=x,e[ki]=x.current,Fa(e.nodeType===8?e.parentNode:e),Wo(),x}for(;f=e.lastChild;)e.removeChild(f);if(typeof a=="function"){var v=a;a=function(){var y=xu(E);v.call(y)}}var E=jh(e,0,!1,null,null,!1,!1,"",L1);return e._reactRootContainer=E,e[ki]=E.current,Fa(e.nodeType===8?e.parentNode:e),Wo(function(){Hu(t,E,r,a)}),E}function Zu(e,t,r,a,f){var d=r._reactRootContainer;if(d){var x=d;if(typeof f=="function"){var v=f;f=function(){var E=xu(x);v.call(E)}}Hu(t,x,e,f)}else x=fw(r,t,e,f,a);return xu(x)}gp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ma(t.pendingLanes);r!==0&&(uh(t,r|1),hr(t,hn()),!(Ct&6)&&(Ms=hn()+500,yo()))}break;case 13:Wo(function(){var a=Bi(e,1);if(a!==null){var f=er();ii(a,e,1,f)}}),Hh(e,1)}};ch=function(e){if(e.tag===13){var t=Bi(e,134217728);if(t!==null){var r=er();ii(t,e,134217728,r)}Hh(e,134217728)}};mp=function(e){if(e.tag===13){var t=ho(e),r=Bi(e,t);if(r!==null){var a=er();ii(r,e,t,a)}Hh(e,t)}};xp=function(){return Ot};_p=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};nf=function(e,t,r){switch(t){case"input":if(Kc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var f=Du(a);if(!f)throw Error(_e(90));K0(a),Kc(a,f)}}}break;case"textarea":Q0(e,r);break;case"select":t=r.value,t!=null&&ys(e,!!r.multiple,t,!1)}};ip=Bh;op=Wo;var hw={usingClientEntryPoint:!1,Events:[$a,cs,Du,np,rp,Bh]},ua={findFiberByHostInstance:Mo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dw={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lp(e),e===null?null:e.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Ou=Ol.inject(dw),_i=Ol}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hw;Er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(t))throw Error(_e(200));return uw(e,t,null,r)};Er.createRoot=function(e,t){if(!Wh(e))throw Error(_e(299));var r=!1,a="",f=jg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=jh(e,1,!1,null,null,r,!1,a,f),e[ki]=t.current,Fa(e.nodeType===8?e.parentNode:e),new Vh(t)};Er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=lp(t),e=e===null?null:e.stateNode,e};Er.flushSync=function(e){return Wo(e)};Er.hydrate=function(e,t,r){if(!Wu(t))throw Error(_e(200));return Zu(null,e,t,!0,r)};Er.hydrateRoot=function(e,t,r){if(!Wh(e))throw Error(_e(405));var a=r!=null&&r.hydratedSources||null,f=!1,d="",x=jg;if(r!=null&&(r.unstable_strictMode===!0&&(f=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),t=Ug(t,null,e,1,r??null,f,!1,d,x),e[ki]=t.current,Fa(e),a)for(e=0;e<a.length;e++)r=a[e],f=r._getVersion,f=f(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,f]:t.mutableSourceEagerHydrationData.push(r,f);return new Vu(t)};Er.render=function(e,t,r){if(!Wu(t))throw Error(_e(200));return Zu(null,e,t,!1,r)};Er.unmountComponentAtNode=function(e){if(!Wu(e))throw Error(_e(40));return e._reactRootContainer?(Wo(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[ki]=null})}),!0):!1};Er.unstable_batchedUpdates=Bh;Er.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Wu(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return Zu(e,t,r,!1,a)};Er.version="18.2.0-next-9e3b772b8-20220608";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(e){console.error(e)}}Hg(),U0.exports=Er;var Vg=U0.exports,M1=Vg;Hc.createRoot=M1.createRoot,Hc.hydrateRoot=M1.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},en.apply(this,arguments)}var cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cn||(cn={}));const D1="popstate";function pw(e){e===void 0&&(e={});function t(a,f){let{pathname:d,search:x,hash:v}=a.location;return Xa("",{pathname:d,search:x,hash:v},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function r(a,f){return typeof f=="string"?f:tl(f)}return mw(t,r,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gw(){return Math.random().toString(36).substr(2,8)}function k1(e,t){return{usr:e.state,key:e.key,idx:t}}function Xa(e,t,r,a){return r===void 0&&(r=null),en({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t,{state:r,key:t&&t.key||a||gw()})}function tl(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ui(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function mw(e,t,r,a){a===void 0&&(a={});let{window:f=document.defaultView,v5Compat:d=!1}=a,x=f.history,v=cn.Pop,E=null,y=I();y==null&&(y=0,x.replaceState(en({},x.state,{idx:y}),""));function I(){return(x.state||{idx:null}).idx}function N(){v=cn.Pop;let se=I(),F=se==null?null:se-y;y=se,E&&E({action:v,location:z.location,delta:F})}function P(se,F){v=cn.Push;let D=Xa(z.location,se,F);r&&r(D,se),y=I()+1;let B=k1(D,y),k=z.createHref(D);try{x.pushState(B,"",k)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;f.location.assign(k)}d&&E&&E({action:v,location:z.location,delta:1})}function W(se,F){v=cn.Replace;let D=Xa(z.location,se,F);r&&r(D,se),y=I();let B=k1(D,y),k=z.createHref(D);x.replaceState(B,"",k),d&&E&&E({action:v,location:z.location,delta:0})}function j(se){let F=f.location.origin!=="null"?f.location.origin:f.location.href,D=typeof se=="string"?se:tl(se);return ft(F,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,F)}let z={get action(){return v},get location(){return e(f,x)},listen(se){if(E)throw new Error("A history only accepts one active listener");return f.addEventListener(D1,N),E=se,()=>{f.removeEventListener(D1,N),E=null}},createHref(se){return t(f,se)},createURL:j,encodeLocation(se){let F=j(se);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:P,replace:W,go(se){return x.go(se)}};return z}var fn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fn||(fn={}));const xw=new Set(["lazy","caseSensitive","path","id","index","children"]);function _w(e){return e.index===!0}function kf(e,t,r,a){return r===void 0&&(r=[]),a===void 0&&(a={}),e.map((f,d)=>{let x=[...r,d],v=typeof f.id=="string"?f.id:x.join("-");if(ft(f.index!==!0||!f.children,"Cannot specify children on an index route"),ft(!a[v],'Found a route id collision on id "'+v+`".  Route id's must be globally unique within Data Router usages`),_w(f)){let E=en({},f,t(f),{id:v});return a[v]=E,E}else{let E=en({},f,t(f),{id:v,children:void 0});return a[v]=E,f.children&&(E.children=kf(f.children,t,x,a)),E}})}function xs(e,t,r){r===void 0&&(r="/");let a=typeof t=="string"?Ui(t):t,f=nl(a.pathname||"/",r);if(f==null)return null;let d=Wg(e);yw(d);let x=null;for(let v=0;x==null&&v<d.length;++v)x=Rw(d[v],Pw(f));return x}function ww(e,t){let{route:r,pathname:a,params:f}=e;return{id:r.id,pathname:a,params:f,data:t[r.id],handle:r.handle}}function Wg(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let f=(d,x,v)=>{let E={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};E.relativePath.startsWith("/")&&(ft(E.relativePath.startsWith(a),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(a.length));let y=go([a,E.relativePath]),I=r.concat(E);d.children&&d.children.length>0&&(ft(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Wg(d.children,t,I,y)),!(d.path==null&&!d.index)&&t.push({path:y,score:Iw(y,d.index),routesMeta:I})};return e.forEach((d,x)=>{var v;if(d.path===""||!((v=d.path)!=null&&v.includes("?")))f(d,x);else for(let E of Zg(d.path))f(d,x,E)}),t}function Zg(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,f=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return f?[d,""]:[d];let x=Zg(a.join("/")),v=[];return v.push(...x.map(E=>E===""?d:[d,E].join("/"))),f&&v.push(...x),v.map(E=>e.startsWith("/")&&E===""?"/":E)}function yw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bw(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const vw=/^:\w+$/,Ew=3,Cw=2,Aw=1,Sw=10,Tw=-2,B1=e=>e==="*";function Iw(e,t){let r=e.split("/"),a=r.length;return r.some(B1)&&(a+=Tw),t&&(a+=Cw),r.filter(f=>!B1(f)).reduce((f,d)=>f+(vw.test(d)?Ew:d===""?Aw:Sw),a)}function bw(e,t){return e.length===t.length&&e.slice(0,-1).every((a,f)=>a===t[f])?e[e.length-1]-t[t.length-1]:0}function Rw(e,t){let{routesMeta:r}=e,a={},f="/",d=[];for(let x=0;x<r.length;++x){let v=r[x],E=x===r.length-1,y=f==="/"?t:t.slice(f.length)||"/",I=Nw({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},y);if(!I)return null;Object.assign(a,I.params);let N=v.route;d.push({params:a,pathname:go([f,I.pathname]),pathnameBase:kw(go([f,I.pathnameBase])),route:N}),I.pathnameBase!=="/"&&(f=go([f,I.pathnameBase]))}return d}function Nw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Ow(e.path,e.caseSensitive,e.end),f=t.match(r);if(!f)return null;let d=f[0],x=d.replace(/(.)\/+$/,"$1"),v=f.slice(1);return{params:a.reduce((y,I,N)=>{if(I==="*"){let P=v[N]||"";x=d.slice(0,d.length-P.length).replace(/(.)\/+$/,"$1")}return y[I]=Lw(v[N]||"",I),y},{}),pathname:d,pathnameBase:x,pattern:e}}function Ow(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Zo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],f="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(x,v)=>(a.push(v),"/([^\\/]+)"));return e.endsWith("*")?(a.push("*"),f+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?f+="\\/*$":e!==""&&e!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,t?void 0:"i"),a]}function Pw(e){try{return decodeURI(e)}catch(t){return Zo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lw(e,t){try{return decodeURIComponent(e)}catch(r){return Zo(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function nl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function Mw(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:f=""}=typeof e=="string"?Ui(e):e;return{pathname:r?r.startsWith("/")?r:Dw(r,t):t,search:Bw(a),hash:Fw(f)}}function Dw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(f=>{f===".."?r.length>1&&r.pop():f!=="."&&r.push(f)}),r.length>1?r.join("/"):"/"}function Mc(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gu(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zh(e,t,r,a){a===void 0&&(a=!1);let f;typeof e=="string"?f=Ui(e):(f=en({},e),ft(!f.pathname||!f.pathname.includes("?"),Mc("?","pathname","search",f)),ft(!f.pathname||!f.pathname.includes("#"),Mc("#","pathname","hash",f)),ft(!f.search||!f.search.includes("#"),Mc("#","search","hash",f)));let d=e===""||f.pathname==="",x=d?"/":f.pathname,v;if(a||x==null)v=r;else{let N=t.length-1;if(x.startsWith("..")){let P=x.split("/");for(;P[0]==="..";)P.shift(),N-=1;f.pathname=P.join("/")}v=N>=0?t[N]:"/"}let E=Mw(f,v),y=x&&x!=="/"&&x.endsWith("/"),I=(d||x===".")&&r.endsWith("/");return!E.pathname.endsWith("/")&&(y||I)&&(E.pathname+="/"),E}const go=e=>e.join("/").replace(/\/\/+/g,"/"),kw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Gh{constructor(t,r,a,f){f===void 0&&(f=!1),this.status=t,this.statusText=r||"",this.internal=f,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Gg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xg=["post","put","patch","delete"],zw=new Set(Xg),Uw=["get",...Xg],jw=new Set(Uw),Hw=new Set([301,302,303,307,308]),Vw=new Set([307,308]),Dc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ww={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ca={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zw=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Kg="remix-router-transitions";function Gw(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!r;ft(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let f;if(e.mapRouteProperties)f=e.mapRouteProperties;else if(e.detectErrorBoundary){let G=e.detectErrorBoundary;f=te=>({hasErrorBoundary:G(te)})}else f=Zw;let d={},x=kf(e.routes,f,void 0,d),v,E=e.basename||"/",y=en({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),I=null,N=new Set,P=null,W=null,j=null,z=e.hydrationData!=null,se=xs(x,e.history.location,E),F=null;if(se==null){let G=Or(404,{pathname:e.history.location.pathname}),{matches:te,route:ce}=Z1(x);se=te,F={[ce.id]:G}}let D=!se.some(G=>G.route.lazy)&&(!se.some(G=>G.route.loader)||e.hydrationData!=null),B,k={historyAction:e.history.action,location:e.history.location,matches:se,initialized:D,navigation:Dc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||F,fetchers:new Map,blockers:new Map},ue=cn.Pop,ie=!1,X,le=!1,re=new Map,ze=null,Ve=!1,Se=!1,Je=[],ht=[],Q=new Map,$e=0,ke=-1,oe=new Map,Pe=new Set,pe=new Map,Be=new Map,Me=new Map,St=!1;function Ge(){if(I=e.history.listen(G=>{let{action:te,location:ce,delta:Te}=G;if(St){St=!1;return}Zo(Me.size===0||Te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=Hi({currentLocation:k.location,nextLocation:ce,historyAction:te});if(ye&&Te!=null){St=!0,e.history.go(Te*-1),on(ye,{state:"blocked",location:ce,proceed(){on(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),e.history.go(Te)},reset(){let Fe=new Map(k.blockers);Fe.set(ye,ca),at({blockers:Fe})}});return}return Dt(te,ce)}),r){ry(t,re);let G=()=>iy(t,re);t.addEventListener("pagehide",G),ze=()=>t.removeEventListener("pagehide",G)}return k.initialized||Dt(cn.Pop,k.location),B}function rt(){I&&I(),ze&&ze(),N.clear(),X&&X.abort(),k.fetchers.forEach((G,te)=>Vr(te)),k.blockers.forEach((G,te)=>or(te))}function ge(G){return N.add(G),()=>N.delete(G)}function at(G,te){k=en({},k,G),N.forEach(ce=>ce(k,{unstable_viewTransitionOpts:te}))}function yt(G,te){var ce,Te;let ye=k.actionData!=null&&k.navigation.formMethod!=null&&ti(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ce=G.state)==null?void 0:ce._isRedirect)!==!0,Fe;te.actionData?Object.keys(te.actionData).length>0?Fe=te.actionData:Fe=null:ye?Fe=k.actionData:Fe=null;let Ze=te.loaderData?W1(k.loaderData,te.loaderData,te.matches||[],te.errors):k.loaderData,je=k.blockers;je.size>0&&(je=new Map(je),je.forEach((Qe,Ke)=>je.set(Ke,ca)));let Re=ie===!0||k.navigation.formMethod!=null&&ti(k.navigation.formMethod)&&((Te=G.state)==null?void 0:Te._isRedirect)!==!0;v&&(x=v,v=void 0),Ve||ue===cn.Pop||(ue===cn.Push?e.history.push(G,G.state):ue===cn.Replace&&e.history.replace(G,G.state));let vt;if(ue===cn.Pop){let Qe=re.get(k.location.pathname);Qe&&Qe.has(G.pathname)?vt={currentLocation:k.location,nextLocation:G}:re.has(G.pathname)&&(vt={currentLocation:G,nextLocation:k.location})}else if(le){let Qe=re.get(k.location.pathname);Qe?Qe.add(G.pathname):(Qe=new Set([G.pathname]),re.set(k.location.pathname,Qe)),vt={currentLocation:k.location,nextLocation:G}}at(en({},te,{actionData:Fe,loaderData:Ze,historyAction:ue,location:G,initialized:!0,navigation:Dc,revalidation:"idle",restoreScrollPosition:jt(G,te.matches||k.matches),preventScrollReset:Re,blockers:je}),vt),ue=cn.Pop,ie=!1,le=!1,Ve=!1,Se=!1,Je=[],ht=[]}async function zr(G,te){if(typeof G=="number"){e.history.go(G);return}let ce=Bf(k.location,k.matches,E,y.v7_prependBasename,G,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:Te,submission:ye,error:Fe}=F1(y.v7_normalizeFormMethod,!1,ce,te),Ze=k.location,je=Xa(k.location,Te,te&&te.state);je=en({},je,e.history.encodeLocation(je));let Re=te&&te.replace!=null?te.replace:void 0,vt=cn.Push;Re===!0?vt=cn.Replace:Re===!1||ye!=null&&ti(ye.formMethod)&&ye.formAction===k.location.pathname+k.location.search&&(vt=cn.Replace);let Qe=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Ke=Hi({currentLocation:Ze,nextLocation:je,historyAction:vt});if(Ke){on(Ke,{state:"blocked",location:je,proceed(){on(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),zr(G,te)},reset(){let dt=new Map(k.blockers);dt.set(Ke,ca),at({blockers:dt})}});return}return await Dt(vt,je,{submission:ye,pendingError:Fe,preventScrollReset:Qe,replace:te&&te.replace,enableViewTransition:te&&te.unstable_viewTransition})}function Ur(){if(Hr(),at({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Dt(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Dt(ue||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function Dt(G,te,ce){X&&X.abort(),X=null,ue=G,Ve=(ce&&ce.startUninterruptedRevalidation)===!0,we(k.location,k.matches),ie=(ce&&ce.preventScrollReset)===!0,le=(ce&&ce.enableViewTransition)===!0;let Te=v||x,ye=ce&&ce.overrideNavigation,Fe=xs(Te,te,E);if(!Fe){let dt=Or(404,{pathname:te.pathname}),{matches:xt,route:Zr}=Z1(Te);Wr(),yt(te,{matches:xt,loaderData:{},errors:{[Zr.id]:dt}});return}if(k.initialized&&!Se&&Qw(k.location,te)&&!(ce&&ce.submission&&ti(ce.submission.formMethod))){yt(te,{matches:Fe});return}X=new AbortController;let Ze=ha(e.history,te,X.signal,ce&&ce.submission),je,Re;if(ce&&ce.pendingError)Re={[_s(Fe).route.id]:ce.pendingError};else if(ce&&ce.submission&&ti(ce.submission.formMethod)){let dt=await Ar(Ze,te,ce.submission,Fe,{replace:ce.replace});if(dt.shortCircuited)return;je=dt.pendingActionData,Re=dt.pendingActionError,ye=kc(te,ce.submission),Ze=new Request(Ze.url,{signal:Ze.signal})}let{shortCircuited:vt,loaderData:Qe,errors:Ke}=await lt(Ze,te,Fe,ye,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,je,Re);vt||(X=null,yt(te,en({matches:Fe},je?{actionData:je}:{},{loaderData:Qe,errors:Ke})))}async function Ar(G,te,ce,Te,ye){ye===void 0&&(ye={}),Hr();let Fe=ty(te,ce);at({navigation:Fe});let Ze,je=zf(Te,te);if(!je.route.action&&!je.route.lazy)Ze={type:fn.error,error:Or(405,{method:G.method,pathname:te.pathname,routeId:je.route.id})};else if(Ze=await fa("action",G,je,Te,d,f,E),G.signal.aborted)return{shortCircuited:!0};if(Ts(Ze)){let Re;return ye&&ye.replace!=null?Re=ye.replace:Re=Ze.location===k.location.pathname+k.location.search,await ut(k,Ze,{submission:ce,replace:Re}),{shortCircuited:!0}}if(Ia(Ze)){let Re=_s(Te,je.route.id);return(ye&&ye.replace)!==!0&&(ue=cn.Push),{pendingActionData:{},pendingActionError:{[Re.route.id]:Ze.error}}}if(Bo(Ze))throw Or(400,{type:"defer-action"});return{pendingActionData:{[je.route.id]:Ze.data}}}async function lt(G,te,ce,Te,ye,Fe,Ze,je,Re){let vt=Te||kc(te,ye),Qe=ye||Fe||Y1(vt),Ke=v||x,[dt,xt]=z1(e.history,k,ce,Qe,te,Se,Je,ht,pe,Pe,Ke,E,je,Re);if(Wr(ot=>!(ce&&ce.some(Qt=>Qt.route.id===ot))||dt&&dt.some(Qt=>Qt.route.id===ot)),ke=++$e,dt.length===0&&xt.length===0){let ot=ji();return yt(te,en({matches:ce,loaderData:{},errors:Re||null},je?{actionData:je}:{},ot?{fetchers:new Map(k.fetchers)}:{})),{shortCircuited:!0}}if(!Ve){xt.forEach(Qt=>{let kn=k.fetchers.get(Qt.key),Bn=da(void 0,kn?kn.data:void 0);k.fetchers.set(Qt.key,Bn)});let ot=je||k.actionData;at(en({navigation:vt},ot?Object.keys(ot).length===0?{actionData:null}:{actionData:ot}:{},xt.length>0?{fetchers:new Map(k.fetchers)}:{}))}xt.forEach(ot=>{Q.has(ot.key)&&rr(ot.key),ot.controller&&Q.set(ot.key,ot.controller)});let Zr=()=>xt.forEach(ot=>rr(ot.key));X&&X.signal.addEventListener("abort",Zr);let{results:Pn,loaderResults:Gr,fetcherResults:Rt}=await it(k.matches,ce,dt,xt,G);if(G.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",Zr),xt.forEach(ot=>Q.delete(ot.key));let Ae=G1(Pn);if(Ae){if(Ae.idx>=dt.length){let ot=xt[Ae.idx-dt.length].key;Pe.add(ot)}return await ut(k,Ae.result,{replace:Ze}),{shortCircuited:!0}}let{loaderData:Ht,errors:Ce}=V1(k,ce,dt,Gr,Re,xt,Rt,Be);Be.forEach((ot,Qt)=>{ot.subscribe(kn=>{(kn||ot.done)&&Be.delete(Qt)})});let dr=ji(),ai=Sn(ke),sn=dr||ai||xt.length>0;return en({loaderData:Ht,errors:Ce},sn?{fetchers:new Map(k.fetchers)}:{})}function jr(G){return k.fetchers.get(G)||Ww}function Gn(G,te,ce,Te){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Q.has(G)&&rr(G);let ye=v||x,Fe=Bf(k.location,k.matches,E,y.v7_prependBasename,ce,te,Te==null?void 0:Te.relative),Ze=xs(ye,Fe,E);if(!Ze){Ie(G,te,Or(404,{pathname:Fe}));return}let{path:je,submission:Re,error:vt}=F1(y.v7_normalizeFormMethod,!0,Fe,Te);if(vt){Ie(G,te,vt);return}let Qe=zf(Ze,je);if(ie=(Te&&Te.preventScrollReset)===!0,Re&&ti(Re.formMethod)){si(G,te,je,Qe,Ze,Re);return}pe.set(G,{routeId:te,path:je}),qt(G,te,je,Qe,Ze,Re)}async function si(G,te,ce,Te,ye,Fe){if(Hr(),pe.delete(G),!Te.route.action&&!Te.route.lazy){let Jt=Or(405,{method:Fe.formMethod,pathname:ce,routeId:te});Ie(G,te,Jt);return}let Ze=k.fetchers.get(G),je=ny(Fe,Ze);k.fetchers.set(G,je),at({fetchers:new Map(k.fetchers)});let Re=new AbortController,vt=ha(e.history,ce,Re.signal,Fe);Q.set(G,Re);let Qe=$e,Ke=await fa("action",vt,Te,ye,d,f,E);if(vt.signal.aborted){Q.get(G)===Re&&Q.delete(G);return}if(Ts(Ke))if(Q.delete(G),ke>Qe){let Jt=is(void 0);k.fetchers.set(G,Jt),at({fetchers:new Map(k.fetchers)});return}else{Pe.add(G);let Jt=da(Fe);return k.fetchers.set(G,Jt),at({fetchers:new Map(k.fetchers)}),ut(k,Ke,{fetcherSubmission:Fe})}if(Ia(Ke)){Ie(G,te,Ke.error);return}if(Bo(Ke))throw Or(400,{type:"defer-action"});let dt=k.navigation.location||k.location,xt=ha(e.history,dt,Re.signal),Zr=v||x,Pn=k.navigation.state!=="idle"?xs(Zr,k.navigation.location,E):k.matches;ft(Pn,"Didn't find any matches after fetcher action");let Gr=++$e;oe.set(G,Gr);let Rt=da(Fe,Ke.data);k.fetchers.set(G,Rt);let[Ae,Ht]=z1(e.history,k,Pn,Fe,dt,Se,Je,ht,pe,Pe,Zr,E,{[Te.route.id]:Ke.data},void 0);Ht.filter(Jt=>Jt.key!==G).forEach(Jt=>{let vi=Jt.key,Xn=k.fetchers.get(vi),dn=da(void 0,Xn?Xn.data:void 0);k.fetchers.set(vi,dn),Q.has(vi)&&rr(vi),Jt.controller&&Q.set(vi,Jt.controller)}),at({fetchers:new Map(k.fetchers)});let Ce=()=>Ht.forEach(Jt=>rr(Jt.key));Re.signal.addEventListener("abort",Ce);let{results:dr,loaderResults:ai,fetcherResults:sn}=await it(k.matches,Pn,Ae,Ht,xt);if(Re.signal.aborted)return;Re.signal.removeEventListener("abort",Ce),oe.delete(G),Q.delete(G),Ht.forEach(Jt=>Q.delete(Jt.key));let ot=G1(dr);if(ot){if(ot.idx>=Ae.length){let Jt=Ht[ot.idx-Ae.length].key;Pe.add(Jt)}return ut(k,ot.result)}let{loaderData:Qt,errors:kn}=V1(k,k.matches,Ae,ai,void 0,Ht,sn,Be);if(k.fetchers.has(G)){let Jt=is(Ke.data);k.fetchers.set(G,Jt)}let Bn=Sn(Gr);k.navigation.state==="loading"&&Gr>ke?(ft(ue,"Expected pending action"),X&&X.abort(),yt(k.navigation.location,{matches:Pn,loaderData:Qt,errors:kn,fetchers:new Map(k.fetchers)})):(at(en({errors:kn,loaderData:W1(k.loaderData,Qt,Pn,kn)},Bn||Ht.length>0?{fetchers:new Map(k.fetchers)}:{})),Se=!1)}async function qt(G,te,ce,Te,ye,Fe){let Ze=k.fetchers.get(G),je=da(Fe,Ze?Ze.data:void 0);k.fetchers.set(G,je),at({fetchers:new Map(k.fetchers)});let Re=new AbortController,vt=ha(e.history,ce,Re.signal);Q.set(G,Re);let Qe=$e,Ke=await fa("loader",vt,Te,ye,d,f,E);if(Bo(Ke)&&(Ke=await Jg(Ke,vt.signal,!0)||Ke),Q.get(G)===Re&&Q.delete(G),vt.signal.aborted)return;if(Ts(Ke))if(ke>Qe){let xt=is(void 0);k.fetchers.set(G,xt),at({fetchers:new Map(k.fetchers)});return}else{Pe.add(G),await ut(k,Ke);return}if(Ia(Ke)){let xt=_s(k.matches,te);k.fetchers.delete(G),at({fetchers:new Map(k.fetchers),errors:{[xt.route.id]:Ke.error}});return}ft(!Bo(Ke),"Unhandled fetcher deferred data");let dt=is(Ke.data);k.fetchers.set(G,dt),at({fetchers:new Map(k.fetchers)})}async function ut(G,te,ce){let{submission:Te,fetcherSubmission:ye,replace:Fe}=ce===void 0?{}:ce;te.revalidate&&(Se=!0);let Ze=Xa(G.location,te.location,{_isRedirect:!0});if(ft(Ze,"Expected a location on the redirect navigation"),r){let dt=!1;if(te.reloadDocument)dt=!0;else if(Yg.test(te.location)){const xt=e.history.createURL(te.location);dt=xt.origin!==t.location.origin||nl(xt.pathname,E)==null}if(dt){Fe?t.location.replace(te.location):t.location.assign(te.location);return}}X=null;let je=Fe===!0?cn.Replace:cn.Push,{formMethod:Re,formAction:vt,formEncType:Qe}=G.navigation;!Te&&!ye&&Re&&vt&&Qe&&(Te=Y1(G.navigation));let Ke=Te||ye;if(Vw.has(te.status)&&Ke&&ti(Ke.formMethod))await Dt(je,Ze,{submission:en({},Ke,{formAction:te.location}),preventScrollReset:ie});else{let dt=kc(Ze,Te);await Dt(je,Ze,{overrideNavigation:dt,fetcherSubmission:ye,preventScrollReset:ie})}}async function it(G,te,ce,Te,ye){let Fe=await Promise.all([...ce.map(Re=>fa("loader",ye,Re,te,d,f,E)),...Te.map(Re=>Re.matches&&Re.match&&Re.controller?fa("loader",ha(e.history,Re.path,Re.controller.signal),Re.match,Re.matches,d,f,E):{type:fn.error,error:Or(404,{pathname:Re.path})})]),Ze=Fe.slice(0,ce.length),je=Fe.slice(ce.length);return await Promise.all([X1(G,ce,Ze,Ze.map(()=>ye.signal),!1,k.loaderData),X1(G,Te.map(Re=>Re.match),je,Te.map(Re=>Re.controller?Re.controller.signal:null),!0)]),{results:Fe,loaderResults:Ze,fetcherResults:je}}function Hr(){Se=!0,Je.push(...Wr()),pe.forEach((G,te)=>{Q.has(te)&&(ht.push(te),rr(te))})}function Ie(G,te,ce){let Te=_s(k.matches,te);Vr(G),at({errors:{[Te.route.id]:ce},fetchers:new Map(k.fetchers)})}function Vr(G){let te=k.fetchers.get(G);Q.has(G)&&!(te&&te.state==="loading"&&oe.has(G))&&rr(G),pe.delete(G),oe.delete(G),Pe.delete(G),k.fetchers.delete(G)}function rr(G){let te=Q.get(G);ft(te,"Expected fetch controller: "+G),te.abort(),Q.delete(G)}function ir(G){for(let te of G){let ce=jr(te),Te=is(ce.data);k.fetchers.set(te,Te)}}function ji(){let G=[],te=!1;for(let ce of Pe){let Te=k.fetchers.get(ce);ft(Te,"Expected fetcher: "+ce),Te.state==="loading"&&(Pe.delete(ce),G.push(ce),te=!0)}return ir(G),te}function Sn(G){let te=[];for(let[ce,Te]of oe)if(Te<G){let ye=k.fetchers.get(ce);ft(ye,"Expected fetcher: "+ce),ye.state==="loading"&&(rr(ce),oe.delete(ce),te.push(ce))}return ir(te),te.length>0}function Eo(G,te){let ce=k.blockers.get(G)||ca;return Me.get(G)!==te&&Me.set(G,te),ce}function or(G){k.blockers.delete(G),Me.delete(G)}function on(G,te){let ce=k.blockers.get(G)||ca;ft(ce.state==="unblocked"&&te.state==="blocked"||ce.state==="blocked"&&te.state==="blocked"||ce.state==="blocked"&&te.state==="proceeding"||ce.state==="blocked"&&te.state==="unblocked"||ce.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+ce.state+" -> "+te.state);let Te=new Map(k.blockers);Te.set(G,te),at({blockers:Te})}function Hi(G){let{currentLocation:te,nextLocation:ce,historyAction:Te}=G;if(Me.size===0)return;Me.size>1&&Zo(!1,"A router only supports one blocker at a time");let ye=Array.from(Me.entries()),[Fe,Ze]=ye[ye.length-1],je=k.blockers.get(Fe);if(!(je&&je.state==="proceeding")&&Ze({currentLocation:te,nextLocation:ce,historyAction:Te}))return Fe}function Wr(G){let te=[];return Be.forEach((ce,Te)=>{(!G||G(Te))&&(ce.cancel(),te.push(Te),Be.delete(Te))}),te}function zs(G,te,ce){if(P=G,j=te,W=ce||null,!z&&k.navigation===Dc){z=!0;let Te=jt(k.location,k.matches);Te!=null&&at({restoreScrollPosition:Te})}return()=>{P=null,j=null,W=null}}function kt(G,te){return W&&W(G,te.map(Te=>ww(Te,k.loaderData)))||G.key}function we(G,te){if(P&&j){let ce=kt(G,te);P[ce]=j()}}function jt(G,te){if(P){let ce=kt(G,te),Te=P[ce];if(typeof Te=="number")return Te}return null}function Tt(G){d={},v=kf(G,f,void 0,d)}return B={get basename(){return E},get state(){return k},get routes(){return x},get window(){return t},initialize:Ge,subscribe:ge,enableScrollRestoration:zs,navigate:zr,fetch:Gn,revalidate:Ur,createHref:G=>e.history.createHref(G),encodeLocation:G=>e.history.encodeLocation(G),getFetcher:jr,deleteFetcher:Vr,dispose:rt,getBlocker:Eo,deleteBlocker:or,_internalFetchControllers:Q,_internalActiveDeferreds:Be,_internalSetRoutes:Tt},B}function Xw(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Bf(e,t,r,a,f,d,x){let v,E;if(d!=null&&x!=="path"){v=[];for(let I of t)if(v.push(I),I.route.id===d){E=I;break}}else v=t,E=t[t.length-1];let y=Zh(f||".",Gu(v).map(I=>I.pathnameBase),nl(e.pathname,r)||e.pathname,x==="path");return f==null&&(y.search=e.search,y.hash=e.hash),(f==null||f===""||f===".")&&E&&E.route.index&&!Xh(y.search)&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),a&&r!=="/"&&(y.pathname=y.pathname==="/"?r:go([r,y.pathname])),tl(y)}function F1(e,t,r,a){if(!a||!Xw(a))return{path:r};if(a.formMethod&&!ey(a.formMethod))return{path:r,error:Or(405,{method:a.formMethod})};let f=()=>({path:r,error:Or(400,{type:"invalid-body"})}),d=a.formMethod||"get",x=e?d.toUpperCase():d.toLowerCase(),v=Qg(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!ti(x))return f();let P=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((W,j)=>{let[z,se]=j;return""+W+z+"="+se+`
`},""):String(a.body);return{path:r,submission:{formMethod:x,formAction:v,formEncType:a.formEncType,formData:void 0,json:void 0,text:P}}}else if(a.formEncType==="application/json"){if(!ti(x))return f();try{let P=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:x,formAction:v,formEncType:a.formEncType,formData:void 0,json:P,text:void 0}}}catch{return f()}}}ft(typeof FormData=="function","FormData is not available in this environment");let E,y;if(a.formData)E=Ff(a.formData),y=a.formData;else if(a.body instanceof FormData)E=Ff(a.body),y=a.body;else if(a.body instanceof URLSearchParams)E=a.body,y=H1(E);else if(a.body==null)E=new URLSearchParams,y=new FormData;else try{E=new URLSearchParams(a.body),y=H1(E)}catch{return f()}let I={formMethod:x,formAction:v,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(ti(I.formMethod))return{path:r,submission:I};let N=Ui(r);return t&&N.search&&Xh(N.search)&&E.append("index",""),N.search="?"+E,{path:tl(N),submission:I}}function Yw(e,t){let r=e;if(t){let a=e.findIndex(f=>f.route.id===t);a>=0&&(r=e.slice(0,a))}return r}function z1(e,t,r,a,f,d,x,v,E,y,I,N,P,W){let j=W?Object.values(W)[0]:P?Object.values(P)[0]:void 0,z=e.createURL(t.location),se=e.createURL(f),F=W?Object.keys(W)[0]:void 0,B=Yw(r,F).filter((ue,ie)=>{if(ue.route.lazy)return!0;if(ue.route.loader==null)return!1;if(Kw(t.loaderData,t.matches[ie],ue)||x.some(re=>re===ue.route.id))return!0;let X=t.matches[ie],le=ue;return U1(ue,en({currentUrl:z,currentParams:X.params,nextUrl:se,nextParams:le.params},a,{actionResult:j,defaultShouldRevalidate:d||z.pathname+z.search===se.pathname+se.search||z.search!==se.search||qg(X,le)}))}),k=[];return E.forEach((ue,ie)=>{if(!r.some(Ve=>Ve.route.id===ue.routeId))return;let X=xs(I,ue.path,N);if(!X){k.push({key:ie,routeId:ue.routeId,path:ue.path,matches:null,match:null,controller:null});return}let le=t.fetchers.get(ie),re=zf(X,ue.path),ze=!1;y.has(ie)?ze=!1:v.includes(ie)?ze=!0:le&&le.state!=="idle"&&le.data===void 0?ze=d:ze=U1(re,en({currentUrl:z,currentParams:t.matches[t.matches.length-1].params,nextUrl:se,nextParams:r[r.length-1].params},a,{actionResult:j,defaultShouldRevalidate:d})),ze&&k.push({key:ie,routeId:ue.routeId,path:ue.path,matches:X,match:re,controller:new AbortController})}),[B,k]}function Kw(e,t,r){let a=!t||r.route.id!==t.route.id,f=e[r.route.id]===void 0;return a||f}function qg(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function U1(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function j1(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let f=r[e.id];ft(f,"No route found in manifest");let d={};for(let x in a){let E=f[x]!==void 0&&x!=="hasErrorBoundary";Zo(!E,'Route "'+f.id+'" has a static property "'+x+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+x+'" will be ignored.')),!E&&!xw.has(x)&&(d[x]=a[x])}Object.assign(f,d),Object.assign(f,en({},t(f),{lazy:void 0}))}async function fa(e,t,r,a,f,d,x,v){v===void 0&&(v={});let E,y,I,N=j=>{let z,se=new Promise((F,D)=>z=D);return I=()=>z(),t.signal.addEventListener("abort",I),Promise.race([j({request:t,params:r.params,context:v.requestContext}),se])};try{let j=r.route[e];if(r.route.lazy)if(j){let z,se=await Promise.all([N(j).catch(F=>{z=F}),j1(r.route,d,f)]);if(z)throw z;y=se[0]}else if(await j1(r.route,d,f),j=r.route[e],j)y=await N(j);else if(e==="action"){let z=new URL(t.url),se=z.pathname+z.search;throw Or(405,{method:t.method,pathname:se,routeId:r.route.id})}else return{type:fn.data,data:void 0};else if(j)y=await N(j);else{let z=new URL(t.url),se=z.pathname+z.search;throw Or(404,{pathname:se})}ft(y!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(j){E=fn.error,y=j}finally{I&&t.signal.removeEventListener("abort",I)}if($w(y)){let j=y.status;if(Hw.has(j)){let F=y.headers.get("Location");if(ft(F,"Redirects returned/thrown from loaders/actions must have a Location header"),!Yg.test(F))F=Bf(new URL(t.url),a.slice(0,a.indexOf(r)+1),x,!0,F);else if(!v.isStaticRequest){let D=new URL(t.url),B=F.startsWith("//")?new URL(D.protocol+F):new URL(F),k=nl(B.pathname,x)!=null;B.origin===D.origin&&k&&(F=B.pathname+B.search+B.hash)}if(v.isStaticRequest)throw y.headers.set("Location",F),y;return{type:fn.redirect,status:j,location:F,revalidate:y.headers.get("X-Remix-Revalidate")!==null,reloadDocument:y.headers.get("X-Remix-Reload-Document")!==null}}if(v.isRouteRequest)throw{type:E===fn.error?fn.error:fn.data,response:y};let z,se=y.headers.get("Content-Type");return se&&/\bapplication\/json\b/.test(se)?z=await y.json():z=await y.text(),E===fn.error?{type:E,error:new Gh(j,y.statusText,z),headers:y.headers}:{type:fn.data,data:z,statusCode:y.status,headers:y.headers}}if(E===fn.error)return{type:E,error:y};if(Jw(y)){var P,W;return{type:fn.deferred,deferredData:y,statusCode:(P=y.init)==null?void 0:P.status,headers:((W=y.init)==null?void 0:W.headers)&&new Headers(y.init.headers)}}return{type:fn.data,data:y}}function ha(e,t,r,a){let f=e.createURL(Qg(t)).toString(),d={signal:r};if(a&&ti(a.formMethod)){let{formMethod:x,formEncType:v}=a;d.method=x.toUpperCase(),v==="application/json"?(d.headers=new Headers({"Content-Type":v}),d.body=JSON.stringify(a.json)):v==="text/plain"?d.body=a.text:v==="application/x-www-form-urlencoded"&&a.formData?d.body=Ff(a.formData):d.body=a.formData}return new Request(f,d)}function Ff(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,typeof a=="string"?a:a.name);return t}function H1(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function qw(e,t,r,a,f){let d={},x=null,v,E=!1,y={};return r.forEach((I,N)=>{let P=t[N].route.id;if(ft(!Ts(I),"Cannot handle redirect results in processLoaderData"),Ia(I)){let W=_s(e,P),j=I.error;a&&(j=Object.values(a)[0],a=void 0),x=x||{},x[W.route.id]==null&&(x[W.route.id]=j),d[P]=void 0,E||(E=!0,v=Gg(I.error)?I.error.status:500),I.headers&&(y[P]=I.headers)}else Bo(I)?(f.set(P,I.deferredData),d[P]=I.deferredData.data):d[P]=I.data,I.statusCode!=null&&I.statusCode!==200&&!E&&(v=I.statusCode),I.headers&&(y[P]=I.headers)}),a&&(x=a,d[Object.keys(a)[0]]=void 0),{loaderData:d,errors:x,statusCode:v||200,loaderHeaders:y}}function V1(e,t,r,a,f,d,x,v){let{loaderData:E,errors:y}=qw(t,r,a,f,v);for(let I=0;I<d.length;I++){let{key:N,match:P,controller:W}=d[I];ft(x!==void 0&&x[I]!==void 0,"Did not find corresponding fetcher result");let j=x[I];if(!(W&&W.signal.aborted))if(Ia(j)){let z=_s(e.matches,P==null?void 0:P.route.id);y&&y[z.route.id]||(y=en({},y,{[z.route.id]:j.error})),e.fetchers.delete(N)}else if(Ts(j))ft(!1,"Unhandled fetcher revalidation redirect");else if(Bo(j))ft(!1,"Unhandled fetcher deferred data");else{let z=is(j.data);e.fetchers.set(N,z)}}return{loaderData:E,errors:y}}function W1(e,t,r,a){let f=en({},t);for(let d of r){let x=d.route.id;if(t.hasOwnProperty(x)?t[x]!==void 0&&(f[x]=t[x]):e[x]!==void 0&&d.route.loader&&(f[x]=e[x]),a&&a.hasOwnProperty(x))break}return f}function _s(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Z1(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Or(e,t){let{pathname:r,routeId:a,method:f,type:d}=t===void 0?{}:t,x="Unknown Server Error",v="Unknown @remix-run/router error";return e===400?(x="Bad Request",f&&r&&a?v="You made a "+f+' request to "'+r+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":d==="defer-action"?v="defer() is not supported in actions":d==="invalid-body"&&(v="Unable to encode submission body")):e===403?(x="Forbidden",v='Route "'+a+'" does not match URL "'+r+'"'):e===404?(x="Not Found",v='No route matches URL "'+r+'"'):e===405&&(x="Method Not Allowed",f&&r&&a?v="You made a "+f.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":f&&(v='Invalid request method "'+f.toUpperCase()+'"')),new Gh(e||500,x,new Error(v),!0)}function G1(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Ts(r))return{result:r,idx:t}}}function Qg(e){let t=typeof e=="string"?Ui(e):e;return tl(en({},t,{hash:""}))}function Qw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Bo(e){return e.type===fn.deferred}function Ia(e){return e.type===fn.error}function Ts(e){return(e&&e.type)===fn.redirect}function Jw(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function $w(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ey(e){return jw.has(e.toLowerCase())}function ti(e){return zw.has(e.toLowerCase())}async function X1(e,t,r,a,f,d){for(let x=0;x<r.length;x++){let v=r[x],E=t[x];if(!E)continue;let y=e.find(N=>N.route.id===E.route.id),I=y!=null&&!qg(y,E)&&(d&&d[E.route.id])!==void 0;if(Bo(v)&&(f||I)){let N=a[x];ft(N,"Expected an AbortSignal for revalidating fetcher deferred result"),await Jg(v,N,f).then(P=>{P&&(r[x]=P||r[x])})}}}async function Jg(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:fn.data,data:e.deferredData.unwrappedData}}catch(f){return{type:fn.error,error:f}}return{type:fn.data,data:e.deferredData.data}}}function Xh(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function zf(e,t){let r=typeof t=="string"?Ui(t).search:t.search;if(e[e.length-1].route.index&&Xh(r||""))return e[e.length-1];let a=Gu(e);return a[a.length-1]}function Y1(e){let{formMethod:t,formAction:r,formEncType:a,text:f,formData:d,json:x}=e;if(!(!t||!r||!a)){if(f!=null)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:f};if(d!=null)return{formMethod:t,formAction:r,formEncType:a,formData:d,json:void 0,text:void 0};if(x!==void 0)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:x,text:void 0}}}function kc(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ty(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function da(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ny(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function is(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ry(e,t){try{let r=e.sessionStorage.getItem(Kg);if(r){let a=JSON.parse(r);for(let[f,d]of Object.entries(a||{}))d&&Array.isArray(d)&&t.set(f,new Set(d||[]))}}catch{}}function iy(e,t){if(t.size>0){let r={};for(let[a,f]of t)r[a]=[...f];try{e.sessionStorage.setItem(Kg,JSON.stringify(r))}catch(a){Zo(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_u.apply(this,arguments)}const Xu=ne.createContext(null),$g=ne.createContext(null),Yu=ne.createContext(null),Ku=ne.createContext(null),Yo=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),em=ne.createContext(null);function rl(){return ne.useContext(Ku)!=null}function Yh(){return rl()||ft(!1),ne.useContext(Ku).location}function tm(e){ne.useContext(Yu).static||ne.useLayoutEffect(e)}function vo(){let{isDataRoute:e}=ne.useContext(Yo);return e?my():oy()}function oy(){rl()||ft(!1);let e=ne.useContext(Xu),{basename:t,navigator:r}=ne.useContext(Yu),{matches:a}=ne.useContext(Yo),{pathname:f}=Yh(),d=JSON.stringify(Gu(a).map(E=>E.pathnameBase)),x=ne.useRef(!1);return tm(()=>{x.current=!0}),ne.useCallback(function(E,y){if(y===void 0&&(y={}),!x.current)return;if(typeof E=="number"){r.go(E);return}let I=Zh(E,JSON.parse(d),f,y.relative==="path");e==null&&t!=="/"&&(I.pathname=I.pathname==="/"?t:go([t,I.pathname])),(y.replace?r.replace:r.push)(I,y.state,y)},[t,r,d,f,e])}function sy(e,t,r){rl()||ft(!1);let{navigator:a}=ne.useContext(Yu),{matches:f}=ne.useContext(Yo),d=f[f.length-1],x=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let E=Yh(),y;if(t){var I;let z=typeof t=="string"?Ui(t):t;v==="/"||(I=z.pathname)!=null&&I.startsWith(v)||ft(!1),y=z}else y=E;let N=y.pathname||"/",P=v==="/"?N:N.slice(v.length)||"/",W=xs(e,{pathname:P}),j=fy(W&&W.map(z=>Object.assign({},z,{params:Object.assign({},x,z.params),pathname:go([v,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:go([v,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),f,r);return t&&j?ne.createElement(Ku.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:cn.Pop}},j):j}function ay(){let e=gy(),t=Gg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},d=null;return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),r?ne.createElement("pre",{style:f},r):null,d)}const ly=ne.createElement(ay,null);class uy extends ne.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?ne.createElement(Yo.Provider,{value:this.props.routeContext},ne.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cy(e){let{routeContext:t,match:r,children:a}=e,f=ne.useContext(Xu);return f&&f.static&&f.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=r.route.id),ne.createElement(Yo.Provider,{value:t},a)}function fy(e,t,r){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var f;if((f=r)!=null&&f.errors)e=r.matches;else return null}let d=e,x=(a=r)==null?void 0:a.errors;if(x!=null){let v=d.findIndex(E=>E.route.id&&(x==null?void 0:x[E.route.id]));v>=0||ft(!1),d=d.slice(0,Math.min(d.length,v+1))}return d.reduceRight((v,E,y)=>{let I=E.route.id?x==null?void 0:x[E.route.id]:null,N=null;r&&(N=E.route.errorElement||ly);let P=t.concat(d.slice(0,y+1)),W=()=>{let j;return I?j=N:E.route.Component?j=ne.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=v,ne.createElement(cy,{match:E,routeContext:{outlet:v,matches:P,isDataRoute:r!=null},children:j})};return r&&(E.route.ErrorBoundary||E.route.errorElement||y===0)?ne.createElement(uy,{location:r.location,revalidation:r.revalidation,component:N,error:I,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):W()},null)}var nm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nm||{}),wu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wu||{});function hy(e){let t=ne.useContext(Xu);return t||ft(!1),t}function dy(e){let t=ne.useContext($g);return t||ft(!1),t}function py(e){let t=ne.useContext(Yo);return t||ft(!1),t}function rm(e){let t=py(),r=t.matches[t.matches.length-1];return r.route.id||ft(!1),r.route.id}function gy(){var e;let t=ne.useContext(em),r=dy(wu.UseRouteError),a=rm(wu.UseRouteError);return t||((e=r.errors)==null?void 0:e[a])}function my(){let{router:e}=hy(nm.UseNavigateStable),t=rm(wu.UseNavigateStable),r=ne.useRef(!1);return tm(()=>{r.current=!0}),ne.useCallback(function(f,d){d===void 0&&(d={}),r.current&&(typeof f=="number"?e.navigate(f):e.navigate(f,_u({fromRouteId:t},d)))},[e,t])}function yu(e){let{to:t,replace:r,state:a,relative:f}=e;rl()||ft(!1);let{matches:d}=ne.useContext(Yo),{pathname:x}=Yh(),v=vo(),E=Zh(t,Gu(d).map(I=>I.pathnameBase),x,f==="path"),y=JSON.stringify(E);return ne.useEffect(()=>v(JSON.parse(y),{replace:r,state:a,relative:f}),[v,y,f,r,a]),null}function xy(e){let{basename:t="/",children:r=null,location:a,navigationType:f=cn.Pop,navigator:d,static:x=!1}=e;rl()&&ft(!1);let v=t.replace(/^\/*/,"/"),E=ne.useMemo(()=>({basename:v,navigator:d,static:x}),[v,d,x]);typeof a=="string"&&(a=Ui(a));let{pathname:y="/",search:I="",hash:N="",state:P=null,key:W="default"}=a,j=ne.useMemo(()=>{let z=nl(y,v);return z==null?null:{location:{pathname:z,search:I,hash:N,state:P,key:W},navigationType:f}},[v,y,I,N,P,W,f]);return j==null?null:ne.createElement(Yu.Provider,{value:E},ne.createElement(Ku.Provider,{children:r,value:j}))}new Promise(()=>{});function _y(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:ne.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:ne.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vu.apply(this,arguments)}function wy(e,t){return Gw({basename:t==null?void 0:t.basename,future:vu({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:pw({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||yy(),routes:e,mapRouteProperties:_y,window:t==null?void 0:t.window}).initialize()}function yy(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=vu({},t,{errors:vy(t.errors)})),t}function vy(e){if(!e)return null;let t=Object.entries(e),r={};for(let[a,f]of t)if(f&&f.__type==="RouteErrorResponse")r[a]=new Gh(f.status,f.statusText,f.data,f.internal===!0);else if(f&&f.__type==="Error"){if(f.__subType){let d=window[f.__subType];if(typeof d=="function")try{let x=new d(f.message);x.stack="",r[a]=x}catch{}}if(r[a]==null){let d=new Error(f.message);d.stack="",r[a]=d}}else r[a]=f;return r}const Ey=ne.createContext({isTransitioning:!1}),Cy="startTransition",K1=ix[Cy];function Ay(e){K1?K1(e):e()}class Sy{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",r(a))}})}}function Ty(e){let{fallbackElement:t,router:r,future:a}=e,[f,d]=ne.useState(r.state),[x,v]=ne.useState(),[E,y]=ne.useState({isTransitioning:!1}),[I,N]=ne.useState(),[P,W]=ne.useState(),[j,z]=ne.useState(),{v7_startTransition:se}=a||{},F=ne.useCallback(ie=>{se?Ay(ie):ie()},[se]),D=ne.useCallback((ie,X)=>{let{unstable_viewTransitionOpts:le}=X;!le||r.window==null||typeof r.window.document.startViewTransition!="function"?F(()=>d(ie)):P&&I?(I.resolve(),P.skipTransition(),z({state:ie,currentLocation:le.currentLocation,nextLocation:le.nextLocation})):(v(ie),y({isTransitioning:!0,currentLocation:le.currentLocation,nextLocation:le.nextLocation}))},[F,P,I,r.window]);ne.useLayoutEffect(()=>r.subscribe(D),[r,D]),ne.useEffect(()=>{E.isTransitioning&&N(new Sy)},[E.isTransitioning]),ne.useEffect(()=>{if(I&&x&&r.window){let ie=x,X=I.promise,le=r.window.document.startViewTransition(async()=>{F(()=>d(ie)),await X});le.finished.finally(()=>{N(void 0),W(void 0),v(void 0),y({isTransitioning:!1})}),W(le)}},[F,x,I,r.window]),ne.useEffect(()=>{I&&x&&f.location.key===x.location.key&&I.resolve()},[I,P,f.location,x]),ne.useEffect(()=>{!E.isTransitioning&&j&&(v(j.state),y({isTransitioning:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),z(void 0))},[E.isTransitioning,j]);let B=ne.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ie=>r.navigate(ie),push:(ie,X,le)=>r.navigate(ie,{state:X,preventScrollReset:le==null?void 0:le.preventScrollReset}),replace:(ie,X,le)=>r.navigate(ie,{replace:!0,state:X,preventScrollReset:le==null?void 0:le.preventScrollReset})}),[r]),k=r.basename||"/",ue=ne.useMemo(()=>({router:r,navigator:B,static:!1,basename:k}),[r,B,k]);return ne.createElement(ne.Fragment,null,ne.createElement(Xu.Provider,{value:ue},ne.createElement($g.Provider,{value:f},ne.createElement(Ey.Provider,{value:E},ne.createElement(xy,{basename:k,location:f.location,navigationType:f.historyAction,navigator:B},f.initialized?ne.createElement(Iy,{routes:r.routes,state:f}):t)))),null)}function Iy(e){let{routes:t,state:r}=e;return sy(t,void 0,r)}var q1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(q1||(q1={}));var Q1;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Q1||(Q1={}));var Ne;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var J1=new Map([[Ne.QR_CODE,"QR_CODE"],[Ne.AZTEC,"AZTEC"],[Ne.CODABAR,"CODABAR"],[Ne.CODE_39,"CODE_39"],[Ne.CODE_93,"CODE_93"],[Ne.CODE_128,"CODE_128"],[Ne.DATA_MATRIX,"DATA_MATRIX"],[Ne.MAXICODE,"MAXICODE"],[Ne.ITF,"ITF"],[Ne.EAN_13,"EAN_13"],[Ne.EAN_8,"EAN_8"],[Ne.PDF_417,"PDF_417"],[Ne.RSS_14,"RSS_14"],[Ne.RSS_EXPANDED,"RSS_EXPANDED"],[Ne.UPC_A,"UPC_A"],[Ne.UPC_E,"UPC_E"],[Ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),$1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})($1||($1={}));function by(e){return Object.values(Ne).includes(e)}var Eu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Eu||(Eu={}));var Ry=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Eu.SCAN_TYPE_CAMERA,Eu.SCAN_TYPE_FILE],e}(),im=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!J1.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,J1.get(t))},e}(),e0=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Uf;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Uf||(Uf={}));var Ny=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Uf.UNKWOWN_ERROR}},e}(),Oy=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bi(e){return typeof e>"u"||e===null}var ws=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),om=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var a=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(f),x=Object.keys(t),v=0,E=x;v<E.length;v++){var y=E[v];if(d.has(y))return r.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}(),jf={exports:{}};(function(e,t){(function(r,a){a(t)})(rs,function(r){function a(S){return S==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,n){S.__proto__=n}||function(S,n){for(var i in n)n.hasOwnProperty(i)&&(S[i]=n[i])};function d(S,n){f(S,n);function i(){this.constructor=S}S.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function x(S,n){var i=Object.setPrototypeOf;i?i(S,n):S.__proto__=n}function v(S,n){n===void 0&&(n=S.constructor);var i=Error.captureStackTrace;i&&i(S,n)}var E=function(S){d(n,S);function n(i){var s=this.constructor,l=S.call(this,i)||this;return Object.defineProperty(l,"name",{value:s.name,enumerable:!1}),x(l,s.prototype),v(l),l}return n}(Error);class y extends E{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}y.kind="Exception";class I extends y{}I.kind="ArgumentException";class N extends y{}N.kind="IllegalArgumentException";class P{constructor(n){if(this.binarizer=n,n===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,l){const u=this.binarizer.getLuminanceSource().crop(n,i,s,l);return new P(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new P(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new P(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends y{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class j{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class z{static arraycopy(n,i,s,l,u){for(;u--;)s[l++]=n[i++]}static currentTimeMillis(){return Date.now()}}class se extends y{}se.kind="IndexOutOfBoundsException";class F extends se{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}F.kind="ArrayIndexOutOfBoundsException";class D{static fill(n,i){for(let s=0,l=n.length;s<l;s++)n[s]=i}static fillWithin(n,i,s,l){D.rangeCheck(n.length,i,s);for(let u=i;u<s;u++)n[u]=l}static rangeCheck(n,i,s){if(i>s)throw new N("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new F(i);if(s>n)throw new F(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(u=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(u=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,l=n.length;s<l;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const l=s-i,u=new Int32Array(l);return z.arraycopy(n,i,u,0,l),u}static binarySearch(n,i,s){s===void 0&&(s=D.numberComparator);let l=0,u=n.length-1;for(;l<=u;){const h=u+l>>1,p=s(i,n[h]);if(p>0)l=h+1;else if(p<0)u=h-1;else return h}return-l-1}static numberComparator(n,i){return n-i}}class B{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=k.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=k.makeArray(n);z.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let l=Math.floor(n/32),u=s[l];u&=~((1<<(n&31))-1);const h=s.length;for(;u===0;){if(++l===h)return i;u=s[l]}const p=l*32+B.numberOfTrailingZeros(u);return p>i?i:p}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let l=Math.floor(n/32),u=~s[l];u&=~((1<<(n&31))-1);const h=s.length;for(;u===0;){if(++l===h)return i;u=~s[l]}const p=l*32+B.numberOfTrailingZeros(u);return p>i?i:p}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new N;if(i===n)return;i--;const s=Math.floor(n/32),l=Math.floor(i/32),u=this.bits;for(let h=s;h<=l;h++){const p=h>s?0:n&31,_=(2<<(h<l?31:i&31))-(1<<p);u[h]|=_}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new N;if(i===n)return!0;i--;const l=Math.floor(n/32),u=Math.floor(i/32),h=this.bits;for(let p=l;p<=u;p++){const m=p>l?0:n&31,C=(2<<(p<u?31:i&31))-(1<<m)&4294967295;if((h[p]&C)!==(s?C:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new N("Sizes don't match");const i=this.bits;for(let s=0,l=i.length;s<l;s++)i[s]^=n.bits[s]}toBytes(n,i,s,l){for(let u=0;u<l;u++){let h=0;for(let p=0;p<8;p++)this.get(n)&&(h|=1<<7-p),n++;i[s+u]=h}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,l=this.bits;for(let u=0;u<s;u++){let h=l[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,n[i-u]=h}if(this.size!==s*32){const u=s*32-this.size;let h=n[0]>>>u;for(let p=1;p<s;p++){const m=n[p];h|=m<<32-u,n[p-1]=h,h=m>>>u}n[s-1]=h}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof k))return!1;const i=n;return this.size===i.size&&D.equals(this.bits,i.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new k(this.size,this.bits.slice())}}var ue;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ue||(ue={}));var ie=ue;class X extends y{static getFormatInstance(){return new X}}X.kind="FormatException";var le;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(le||(le={}));class re{constructor(n,i,s,...l){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,re.VALUE_IDENTIFIER_TO_ECI.set(n,this),re.NAME_TO_ECI.set(s,this);const u=this.values;for(let h=0,p=u.length;h!==p;h++){const m=u[h];re.VALUES_TO_ECI.set(m,this)}for(const h of l)re.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new X("incorect value");const i=re.VALUES_TO_ECI.get(n);if(i===void 0)throw new X("incorect value");return i}static getCharacterSetECIByName(n){const i=re.NAME_TO_ECI.get(n);if(i===void 0)throw new X("incorect value");return i}equals(n){if(!(n instanceof re))return!1;const i=n;return this.getName()===i.getName()}}re.VALUE_IDENTIFIER_TO_ECI=new Map,re.VALUES_TO_ECI=new Map,re.NAME_TO_ECI=new Map,re.Cp437=new re(le.Cp437,Int32Array.from([0,2]),"Cp437"),re.ISO8859_1=new re(le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),re.ISO8859_2=new re(le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),re.ISO8859_3=new re(le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),re.ISO8859_4=new re(le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),re.ISO8859_5=new re(le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),re.ISO8859_6=new re(le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),re.ISO8859_7=new re(le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),re.ISO8859_8=new re(le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),re.ISO8859_9=new re(le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),re.ISO8859_10=new re(le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),re.ISO8859_11=new re(le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),re.ISO8859_13=new re(le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),re.ISO8859_14=new re(le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),re.ISO8859_15=new re(le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),re.ISO8859_16=new re(le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),re.SJIS=new re(le.SJIS,20,"SJIS","Shift_JIS"),re.Cp1250=new re(le.Cp1250,21,"Cp1250","windows-1250"),re.Cp1251=new re(le.Cp1251,22,"Cp1251","windows-1251"),re.Cp1252=new re(le.Cp1252,23,"Cp1252","windows-1252"),re.Cp1256=new re(le.Cp1256,24,"Cp1256","windows-1256"),re.UnicodeBigUnmarked=new re(le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),re.UTF8=new re(le.UTF8,26,"UTF8","UTF-8"),re.ASCII=new re(le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),re.Big5=new re(le.Big5,28,"Big5"),re.GB18030=new re(le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),re.EUC_KR=new re(le.EUC_KR,30,"EUC_KR","EUC-KR");class ze extends y{}ze.kind="UnsupportedOperationException";class Ve{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!Ve.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof re?n:re.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(Ve.isDecodeFallbackSupported(s)){let l="";for(let u=0,h=n.length;u<h;u++){let p=n[u].toString(16);p.length<2&&(p="0"+p),l+="%"+p}return decodeURIComponent(l)}if(s.equals(re.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new ze(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(re.UTF8)||n.equals(re.ISO8859_1)||n.equals(re.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),l=[];for(let u=0;u<s.length;u++)l.push(s[u].charCodeAt(0));return new Uint8Array(l)}}class Se{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return Ve.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(ie.CHARACTER_SET)!==void 0)return i.get(ie.CHARACTER_SET).toString();const s=n.length;let l=!0,u=!0,h=!0,p=0,m=0,_=0,C=0,T=0,b=0,M=0,H=0,V=0,Y=0,J=0;const me=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let xe=0;xe<s&&(l||u||h);xe++){const de=n[xe]&255;h&&(p>0?de&128?p--:h=!1:de&128&&(de&64?(p++,de&32?(p++,de&16?(p++,de&8?h=!1:C++):_++):m++):h=!1)),l&&(de>127&&de<160?l=!1:de>159&&(de<192||de===215||de===247)&&J++),u&&(T>0?de<64||de===127||de>252?u=!1:T--:de===128||de===160||de>239?u=!1:de>160&&de<224?(b++,H=0,M++,M>V&&(V=M)):de>127?(T++,M=0,H++,H>Y&&(Y=H)):(M=0,H=0))}return h&&p>0&&(h=!1),u&&T>0&&(u=!1),h&&(me||m+_+C>0)?Se.UTF8:u&&(Se.ASSUME_SHIFT_JIS||V>=3||Y>=3)?Se.SHIFT_JIS:l&&u?V===2&&b===2||J*10>=s?Se.SHIFT_JIS:Se.ISO88591:l?Se.ISO88591:u?Se.SHIFT_JIS:h?Se.UTF8:Se.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function l(h,p,m,_,C,T){if(h==="%%")return"%";if(i[++s]===void 0)return;h=_?parseInt(_.substr(1)):void 0;let b=C?parseInt(C.substr(1)):void 0,M;switch(T){case"s":M=i[s];break;case"c":M=i[s][0];break;case"f":M=parseFloat(i[s]).toFixed(h);break;case"p":M=parseFloat(i[s]).toPrecision(h);break;case"e":M=parseFloat(i[s]).toExponential(h);break;case"x":M=parseInt(i[s]).toString(b||16);break;case"d":M=parseFloat(parseInt(i[s],b||10).toPrecision(h)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(b);let H=parseInt(m),V=m&&m[0]+""=="0"?"0":" ";for(;M.length<H;)M=p!==void 0?M+V:V+M;return M}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}static getBytes(n,i){return Ve.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}Se.SHIFT_JIS=re.SJIS.getName(),Se.GB2312="GB2312",Se.ISO88591=re.ISO8859_1.getName(),Se.EUC_JP="EUC_JP",Se.UTF8=re.UTF8.getName(),Se.PLATFORM_DEFAULT_ENCODING=Se.UTF8,Se.ASSUME_SHIFT_JIS=!1;class Je{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=Se.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let l=i;i<i+s;l++)this.append(n[l]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class ht{constructor(n,i,s,l){if(this.width=n,this.height=i,this.rowSize=s,this.bits=l,i==null&&(i=n),this.height=i,n<1||i<1)throw new N("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,l=new ht(s,i);for(let u=0;u<i;u++){const h=n[u];for(let p=0;p<s;p++)h[p]&&l.set(p,u)}return l}static parseFromString(n,i,s){if(n===null)throw new N("stringRepresentation cannot be null");const l=new Array(n.length);let u=0,h=0,p=-1,m=0,_=0;for(;_<n.length;)if(n.charAt(_)===`
`||n.charAt(_)==="\r"){if(u>h){if(p===-1)p=u-h;else if(u-h!==p)throw new N("row lengths do not match");h=u,m++}_++}else if(n.substring(_,_+i.length)===i)_+=i.length,l[u]=!0,u++;else if(n.substring(_,_+s.length)===s)_+=s.length,l[u]=!1,u++;else throw new N("illegal character encountered: "+n.substring(_));if(u>h){if(p===-1)p=u-h;else if(u-h!==p)throw new N("row lengths do not match");m++}const C=new ht(p,m);for(let T=0;T<u;T++)l[T]&&C.set(Math.floor(T%p),Math.floor(T/p));return C}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new N("input matrix dimensions do not match");const i=new k(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits;for(let u=0,h=this.height;u<h;u++){const p=u*s,m=n.getRow(u,i).getBitArray();for(let _=0;_<s;_++)l[p+_]^=m[_]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,l){if(i<0||n<0)throw new N("Left and top must be nonnegative");if(l<1||s<1)throw new N("Height and width must be at least 1");const u=n+s,h=i+l;if(h>this.height||u>this.width)throw new N("The region must fit inside the matrix");const p=this.rowSize,m=this.bits;for(let _=i;_<h;_++){const C=_*p;for(let T=n;T<u;T++)m[C+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new k(this.width):i.clear();const s=this.rowSize,l=this.bits,u=n*s;for(let h=0;h<s;h++)i.setBulk(h*32,l[u+h]);return i}setRow(n,i){z.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new k(n),l=new k(n);for(let u=0,h=Math.floor((i+1)/2);u<h;u++)s=this.getRow(u,s),l=this.getRow(i-1-u,l),s.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,l=this.bits;let u=n,h=i,p=-1,m=-1;for(let _=0;_<i;_++)for(let C=0;C<s;C++){const T=l[_*s+C];if(T!==0){if(_<h&&(h=_),_>m&&(m=_),C*32<u){let b=0;for(;!(T<<31-b&4294967295);)b++;C*32+b<u&&(u=C*32+b)}if(C*32+31>p){let b=31;for(;!(T>>>b);)b--;C*32+b>p&&(p=C*32+b)}}}return p<u||m<h?null:Int32Array.from([u,h,p-u+1,m-h+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const l=s/n;let u=s%n*32;const h=i[s];let p=0;for(;!(h<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,l])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const l=Math.floor(s/n);let u=Math.floor(s%n)*32;const h=i[s];let p=31;for(;!(h>>>p);)p--;return u+=p,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof ht))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&D.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+D.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let l=new Je;for(let u=0,h=this.height;u<h;u++){for(let p=0,m=this.width;p<m;p++)l.append(this.get(p,u)?n:i);l.append(s)}return l.toString()}clone(){return new ht(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends y{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class $e extends j{constructor(n){super(n),this.luminances=$e.EMPTY,this.buckets=new Int32Array($e.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),l=s.getWidth();i==null||i.getSize()<l?i=new k(l):i.clear(),this.initArrays(l);const u=s.getRow(n,this.luminances),h=this.buckets;for(let m=0;m<l;m++)h[(u[m]&255)>>$e.LUMINANCE_SHIFT]++;const p=$e.estimateBlackPoint(h);if(l<3)for(let m=0;m<l;m++)(u[m]&255)<p&&i.set(m);else{let m=u[0]&255,_=u[1]&255;for(let C=1;C<l-1;C++){const T=u[C+1]&255;(_*4-m-T)/2<p&&i.set(C),m=_,_=T}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),l=new ht(i,s);this.initArrays(i);const u=this.buckets;for(let m=1;m<5;m++){const _=Math.floor(s*m/5),C=n.getRow(_,this.luminances),T=Math.floor(i*4/5);for(let b=Math.floor(i/5);b<T;b++){const M=C[b]&255;u[M>>$e.LUMINANCE_SHIFT]++}}const h=$e.estimateBlackPoint(u),p=n.getMatrix();for(let m=0;m<s;m++){const _=m*i;for(let C=0;C<i;C++)(p[_+C]&255)<h&&l.set(C,m)}return l}createBinarizer(n){return new $e(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<$e.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,l=0,u=0;for(let C=0;C<i;C++)n[C]>u&&(l=C,u=n[C]),n[C]>s&&(s=n[C]);let h=0,p=0;for(let C=0;C<i;C++){const T=C-l,b=n[C]*T*T;b>p&&(h=C,p=b)}if(l>h){const C=l;l=h,h=C}if(h-l<=i/16)throw new Q;let m=h-1,_=-1;for(let C=h-1;C>l;C--){const T=C-l,b=T*T*(h-C)*(s-n[C]);b>_&&(m=C,_=b)}return m<<$e.LUMINANCE_SHIFT}}$e.LUMINANCE_BITS=5,$e.LUMINANCE_SHIFT=8-$e.LUMINANCE_BITS,$e.LUMINANCE_BUCKETS=1<<$e.LUMINANCE_BITS,$e.EMPTY=Uint8ClampedArray.from([0]);class ke extends $e{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=ke.MINIMUM_DIMENSION&&s>=ke.MINIMUM_DIMENSION){const l=n.getMatrix();let u=i>>ke.BLOCK_SIZE_POWER;i&ke.BLOCK_SIZE_MASK&&u++;let h=s>>ke.BLOCK_SIZE_POWER;s&ke.BLOCK_SIZE_MASK&&h++;const p=ke.calculateBlackPoints(l,u,h,i,s),m=new ht(i,s);ke.calculateThresholdForBlock(l,u,h,i,s,p,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ke(n)}static calculateThresholdForBlock(n,i,s,l,u,h,p){const m=u-ke.BLOCK_SIZE,_=l-ke.BLOCK_SIZE;for(let C=0;C<s;C++){let T=C<<ke.BLOCK_SIZE_POWER;T>m&&(T=m);const b=ke.cap(C,2,s-3);for(let M=0;M<i;M++){let H=M<<ke.BLOCK_SIZE_POWER;H>_&&(H=_);const V=ke.cap(M,2,i-3);let Y=0;for(let me=-2;me<=2;me++){const xe=h[b+me];Y+=xe[V-2]+xe[V-1]+xe[V]+xe[V+1]+xe[V+2]}const J=Y/25;ke.thresholdBlock(n,H,T,J,l,p)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,l,u,h){for(let p=0,m=s*u+i;p<ke.BLOCK_SIZE;p++,m+=u)for(let _=0;_<ke.BLOCK_SIZE;_++)(n[m+_]&255)<=l&&h.set(i+_,s+p)}static calculateBlackPoints(n,i,s,l,u){const h=u-ke.BLOCK_SIZE,p=l-ke.BLOCK_SIZE,m=new Array(s);for(let _=0;_<s;_++){m[_]=new Int32Array(i);let C=_<<ke.BLOCK_SIZE_POWER;C>h&&(C=h);for(let T=0;T<i;T++){let b=T<<ke.BLOCK_SIZE_POWER;b>p&&(b=p);let M=0,H=255,V=0;for(let J=0,me=C*l+b;J<ke.BLOCK_SIZE;J++,me+=l){for(let xe=0;xe<ke.BLOCK_SIZE;xe++){const de=n[me+xe]&255;M+=de,de<H&&(H=de),de>V&&(V=de)}if(V-H>ke.MIN_DYNAMIC_RANGE)for(J++,me+=l;J<ke.BLOCK_SIZE;J++,me+=l)for(let xe=0;xe<ke.BLOCK_SIZE;xe++)M+=n[me+xe]&255}let Y=M>>ke.BLOCK_SIZE_POWER*2;if(V-H<=ke.MIN_DYNAMIC_RANGE&&(Y=H/2,_>0&&T>0)){const J=(m[_-1][T]+2*m[_][T-1]+m[_-1][T-1])/4;H<J&&(Y=J)}m[_][T]=Y}}return m}}ke.BLOCK_SIZE_POWER=3,ke.BLOCK_SIZE=1<<ke.BLOCK_SIZE_POWER,ke.BLOCK_SIZE_MASK=ke.BLOCK_SIZE-1,ke.MINIMUM_DIMENSION=ke.BLOCK_SIZE*5,ke.MIN_DYNAMIC_RANGE=24;class oe{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,l){throw new ze("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ze("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ze("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new Je;for(let s=0;s<this.height;s++){const l=this.getRow(s,n);for(let u=0;u<this.width;u++){const h=l[u]&255;let p;h<64?p="#":h<128?p="+":h<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class Pe extends oe{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),l=this.getWidth();for(let u=0;u<l;u++)s[u]=255-(s[u]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let l=0;l<i;l++)s[l]=255-(n[l]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,l){return new Pe(this.delegate.crop(n,i,s,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Pe(this.delegate.rotateCounterClockwise45())}}class pe extends oe{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return pe.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const l=new Uint8ClampedArray(i*s);for(let u=0,h=0,p=n.length;u<p;u+=4,h++){let m;if(n[u+3]===0)m=255;else{const C=n[u],T=n[u+1],b=n[u+2];m=306*C+601*T+117*b+512>>10}l[h]=m}return l}getRow(n,i){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const s=this.getWidth(),l=n*s;return i===null?i=this.buffer.slice(l,l+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(l,l+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,l){return super.crop(n,i,s,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),l=n*pe.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*h),m=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*h);return i.width=p,i.height=m,s.translate(p/2,m/2),s.rotate(l),s.drawImage(this.canvas,u/-2,h/-2),this.buffer=pe.makeBufferFromCanvasImageData(i),this}invert(){return new Pe(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Be{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Me=(globalThis||rs||self||window||void 0)&&(globalThis||rs||self||window||void 0).__awaiter||function(S,n,i,s){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function p(C){try{_(s.next(C))}catch(T){h(T)}}function m(C){try{_(s.throw(C))}catch(T){h(T)}}function _(C){C.done?u(C.value):l(C.value).then(p,m)}_((s=s.apply(S,n||[])).next())})};class St{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const l=s.kind==="video"?"videoinput":s.kind;if(l!=="videoinput")continue;const u=s.deviceId||s.id,h=s.label||`Video device ${i.length+1}`,p=s.groupId,m={deviceId:u,label:h,kind:l,groupId:p};i.push(m)}return i})}getVideoInputDevices(){return Me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Be(i.deviceId,i.label))})}findDeviceById(n){return Me(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Me(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(n,i){return Me(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return Me(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return Me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return Me(this,void 0,void 0,function*(){let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,s)})}decodeFromConstraints(n,i,s){return Me(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(l,i,s)})}decodeFromStream(n,i,s){return Me(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(l,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Me(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Me(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new I(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,i);return s.src=n,l}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const l=(u,h)=>{if(this._stopAsyncDecode){h(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(n);u(p)}catch(p){const m=i&&p instanceof Q,C=(p instanceof W||p instanceof X)&&s;if(m||C)return setTimeout(l,this._timeBetweenDecodingAttempts,u,h);h(p)}};return new Promise((u,h)=>l(u,h))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(n);i(l,null),setTimeout(s,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof W||l instanceof X,h=l instanceof Q;(u||h)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new pe(i),l=new ke(s);return new P(l)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=l+"px",i.width=s,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(n,i,s=i==null?0:8*i.length,l,u,h=z.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=l,this.format=u,this.timestamp=h,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=l,this.format=u,this.resultMetadata=null,h==null?this.timestamp=z.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);z.arraycopy(i,0,s,0,i.length),z.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var rt;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var ge=rt,at;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(at||(at={}));var yt=at;class zr{constructor(n,i,s,l,u=-1,h=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ur{exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Dt{constructor(n,i){if(i.length===0)throw new N;this.field=n;const s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),z.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let h=0,p=i.length;h!==p;h++){const m=i[h];s=Ur.addOrSubtract(s,m)}return s}s=i[0];const l=i.length,u=this.field;for(let h=1;h<l;h++)s=Ur.addOrSubtract(u.multiply(n,s),i[h]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const h=i;i=s,s=h}let l=new Int32Array(s.length);const u=s.length-i.length;z.arraycopy(s,0,l,0,u);for(let h=u;h<s.length;h++)l[h]=Ur.addOrSubtract(i[h-u],s[h]);return new Dt(this.field,l)}multiply(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,l=n.coefficients,u=l.length,h=new Int32Array(s+u-1),p=this.field;for(let m=0;m<s;m++){const _=i[m];for(let C=0;C<u;C++)h[m+C]=Ur.addOrSubtract(h[m+C],p.multiply(_,l[C]))}return new Dt(p,h)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,l=new Int32Array(i),u=this.coefficients;for(let h=0;h<i;h++)l[h]=s.multiply(u[h],n);return new Dt(s,l)}multiplyByMonomial(n,i){if(n<0)throw new N;if(i===0)return this.field.getZero();const s=this.coefficients,l=s.length,u=new Int32Array(l+n),h=this.field;for(let p=0;p<l;p++)u[p]=h.multiply(s[p],i);return new Dt(h,u)}divide(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new N("Divide by 0");const i=this.field;let s=i.getZero(),l=this;const u=n.getCoefficient(n.getDegree()),h=i.inverse(u);for(;l.getDegree()>=n.getDegree()&&!l.isZero();){const p=l.getDegree()-n.getDegree(),m=i.multiply(l.getCoefficient(l.getDegree()),h),_=n.multiplyByMonomial(p,m),C=i.buildMonomial(p,m);s=s.addOrSubtract(C),l=l.addOrSubtract(_)}return[s,l]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const l=this.field.log(s);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Ar extends y{}Ar.kind="ArithmeticException";class lt extends Ur{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const l=new Int32Array(i);let u=1;for(let p=0;p<i;p++)l[p]=u,u*=2,u>=i&&(u^=n,u&=i-1);this.expTable=l;const h=new Int32Array(i);for(let p=0;p<i-1;p++)h[l[p]]=p;this.logTable=h,this.zero=new Dt(this,Int32Array.from([0])),this.one=new Dt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new N;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new Dt(this,s)}inverse(n){if(n===0)throw new Ar;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class jr extends y{}jr.kind="ReedSolomonException";class Gn extends y{}Gn.kind="IllegalStateException";class si{constructor(n){this.field=n}decode(n,i){const s=this.field,l=new Dt(s,n),u=new Int32Array(i);let h=!0;for(let M=0;M<i;M++){const H=l.evaluateAt(s.exp(M+s.getGeneratorBase()));u[u.length-1-M]=H,H!==0&&(h=!1)}if(h)return;const p=new Dt(s,u),m=this.runEuclideanAlgorithm(s.buildMonomial(i,1),p,i),_=m[0],C=m[1],T=this.findErrorLocations(_),b=this.findErrorMagnitudes(C,T);for(let M=0;M<T.length;M++){const H=n.length-1-s.log(T[M]);if(H<0)throw new jr("Bad error location");n[H]=lt.addOrSubtract(n[H],b[M])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const M=n;n=i,i=M}const l=this.field;let u=n,h=i,p=l.getZero(),m=l.getOne();for(;h.getDegree()>=(s/2|0);){let M=u,H=p;if(u=h,p=m,u.isZero())throw new jr("r_{i-1} was zero");h=M;let V=l.getZero();const Y=u.getCoefficient(u.getDegree()),J=l.inverse(Y);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const me=h.getDegree()-u.getDegree(),xe=l.multiply(h.getCoefficient(h.getDegree()),J);V=V.addOrSubtract(l.buildMonomial(me,xe)),h=h.addOrSubtract(u.multiplyByMonomial(me,xe))}if(m=V.multiply(p).addOrSubtract(H),h.getDegree()>=u.getDegree())throw new Gn("Division algorithm failed to reduce polynomial?")}const _=m.getCoefficient(0);if(_===0)throw new jr("sigmaTilde(0) was zero");const C=l.inverse(_),T=m.multiplyScalar(C),b=h.multiplyScalar(C);return[T,b]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let l=0;const u=this.field;for(let h=1;h<u.getSize()&&l<i;h++)n.evaluateAt(h)===0&&(s[l]=u.inverse(h),l++);if(l!==i)throw new jr("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,l=new Int32Array(s),u=this.field;for(let h=0;h<s;h++){const p=u.inverse(i[h]);let m=1;for(let _=0;_<s;_++)if(h!==_){const C=u.multiply(i[_],p),T=C&1?C&-2:C|1;m=u.multiply(m,T)}l[h]=u.multiply(n.evaluateAt(p),u.inverse(m)),u.getGeneratorBase()!==0&&(l[h]=u.multiply(l[h],p))}return l}}var qt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(qt||(qt={}));class ut{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),l=this.correctBits(s),u=ut.convertBoolArrayToByteArray(l),h=ut.getEncodedData(l),p=new zr(u,h,null,null);return p.setNumBits(l.length),p}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=qt.UPPER,l=qt.UPPER,u="",h=0;for(;h<i;)if(l===qt.BINARY){if(i-h<5)break;let p=ut.readCode(n,h,5);if(h+=5,p===0){if(i-h<11)break;p=ut.readCode(n,h,11)+31,h+=11}for(let m=0;m<p;m++){if(i-h<8){h=i;break}const _=ut.readCode(n,h,8);u+=Se.castAsNonUtf8Char(_),h+=8}l=s}else{let p=l===qt.DIGIT?4:5;if(i-h<p)break;let m=ut.readCode(n,h,p);h+=p;let _=ut.getCharacter(l,m);_.startsWith("CTRL_")?(s=l,l=ut.getTable(_.charAt(5)),_.charAt(6)==="L"&&(s=l)):(u+=_,l=s)}return u}static getTable(n){switch(n){case"L":return qt.LOWER;case"P":return qt.PUNCT;case"M":return qt.MIXED;case"D":return qt.DIGIT;case"B":return qt.BINARY;case"U":default:return qt.UPPER}}static getCharacter(n,i){switch(n){case qt.UPPER:return ut.UPPER_TABLE[i];case qt.LOWER:return ut.LOWER_TABLE[i];case qt.MIXED:return ut.MIXED_TABLE[i];case qt.PUNCT:return ut.PUNCT_TABLE[i];case qt.DIGIT:return ut.DIGIT_TABLE[i];default:throw new Gn("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=lt.AZTEC_DATA_10):(s=12,i=lt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=n.length/s;if(u<l)throw new X;let h=n.length%s,p=new Int32Array(u);for(let b=0;b<u;b++,h+=s)p[b]=ut.readCode(n,h,s);try{new si(i).decode(p,u-l)}catch(b){throw new X(b)}let m=(1<<s)-1,_=0;for(let b=0;b<l;b++){let M=p[b];if(M===0||M===m)throw new X;(M===1||M===m-1)&&_++}let C=new Array(l*s-_),T=0;for(let b=0;b<l;b++){let M=p[b];if(M===1||M===m-1)C.fill(M>1,T,T+s-1),T+=s-1;else for(let H=s-1;H>=0;--H)C[T++]=(M&1<<H)!==0}return C}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),l=(i?11:14)+s*4,u=new Int32Array(l),h=new Array(this.totalBitsInLayer(s,i));if(i)for(let p=0;p<u.length;p++)u[p]=p;else{let p=l+1+2*B.truncDivision(B.truncDivision(l,2)-1,15),m=l/2,_=B.truncDivision(p,2);for(let C=0;C<m;C++){let T=C+B.truncDivision(C,15);u[m-C-1]=_-T-1,u[m+C]=_+T+1}}for(let p=0,m=0;p<s;p++){let _=(s-p)*4+(i?9:12),C=p*2,T=l-1-C;for(let b=0;b<_;b++){let M=b*2;for(let H=0;H<2;H++)h[m+M+H]=n.get(u[C+H],u[C+b]),h[m+2*_+M+H]=n.get(u[C+b],u[T-H]),h[m+4*_+M+H]=n.get(u[T-H],u[T-b]),h[m+6*_+M+H]=n.get(u[T-b],u[C+H])}m+=_*8}return h}static readCode(n,i,s){let l=0;for(let u=i;u<i+s;u++)l<<=1,n[u]&&(l|=1);return l}static readByte(n,i){let s=n.length-i;return s>=8?ut.readCode(n,i,8):ut.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=ut.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}ut.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ut.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ut.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ut.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ut.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,l){const u=n-s,h=i-l;return Math.sqrt(u*u+h*h)}static sum(n){let i=0;for(let s=0,l=n.length;s!==l;s++){const u=n[s];i+=u}return i}}class Hr{static floatToIntBits(n){return n}}Hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof Ie){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Hr.floatToIntBits(this.x)+Hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]);let u,h,p;if(s>=i&&s>=l?(h=n[0],u=n[1],p=n[2]):l>=s&&l>=i?(h=n[1],u=n[0],p=n[2]):(h=n[2],u=n[0],p=n[1]),this.crossProductZ(u,h,p)<0){const m=u;u=p,p=m}n[0]=u,n[1]=h,n[2]=p}static distance(n,i){return it.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const l=i.x,u=i.y;return(s.x-l)*(n.y-u)-(s.y-u)*(n.x-l)}}class Vr{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class rr extends Vr{constructor(n,i,s,l,u){super(n,i),this.compact=s,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ir{constructor(n,i,s,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=ir.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);const u=i/2|0;if(this.leftInit=s-u,this.rightInit=s+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,l=this.downInit,u=!1,h=!0,p=!1,m=!1,_=!1,C=!1,T=!1;const b=this.width,M=this.height;for(;h;){h=!1;let H=!0;for(;(H||!m)&&i<b;)H=this.containsBlackPoint(s,l,i,!1),H?(i++,h=!0,m=!0):m||i++;if(i>=b){u=!0;break}let V=!0;for(;(V||!_)&&l<M;)V=this.containsBlackPoint(n,i,l,!0),V?(l++,h=!0,_=!0):_||l++;if(l>=M){u=!0;break}let Y=!0;for(;(Y||!C)&&n>=0;)Y=this.containsBlackPoint(s,l,n,!1),Y?(n--,h=!0,C=!0):C||n--;if(n<0){u=!0;break}let J=!0;for(;(J||!T)&&s>=0;)J=this.containsBlackPoint(n,i,s,!0),J?(s--,h=!0,T=!0):T||s--;if(s<0){u=!0;break}h&&(p=!0)}if(!u&&p){const H=i-n;let V=null;for(let xe=1;V===null&&xe<H;xe++)V=this.getBlackPointOnSegment(n,l-xe,n+xe,l);if(V==null)throw new Q;let Y=null;for(let xe=1;Y===null&&xe<H;xe++)Y=this.getBlackPointOnSegment(n,s+xe,n+xe,s);if(Y==null)throw new Q;let J=null;for(let xe=1;J===null&&xe<H;xe++)J=this.getBlackPointOnSegment(i,s+xe,i-xe,s);if(J==null)throw new Q;let me=null;for(let xe=1;me===null&&xe<H;xe++)me=this.getBlackPointOnSegment(i,l-xe,i-xe,l);if(me==null)throw new Q;return this.centerEdges(me,V,J,Y)}else throw new Q}getBlackPointOnSegment(n,i,s,l){const u=it.round(it.distance(n,i,s,l)),h=(s-n)/u,p=(l-i)/u,m=this.image;for(let _=0;_<u;_++){const C=it.round(n+_*h),T=it.round(i+_*p);if(m.get(C,T))return new Ie(C,T)}return null}centerEdges(n,i,s,l){const u=n.getX(),h=n.getY(),p=i.getX(),m=i.getY(),_=s.getX(),C=s.getY(),T=l.getX(),b=l.getY(),M=ir.CORR;return u<this.width/2?[new Ie(T-M,b+M),new Ie(p+M,m+M),new Ie(_-M,C-M),new Ie(u+M,h-M)]:[new Ie(T+M,b+M),new Ie(p+M,m-M),new Ie(_-M,C+M),new Ie(u-M,h-M)]}containsBlackPoint(n,i,s,l){const u=this.image;if(l){for(let h=n;h<=i;h++)if(u.get(h,s))return!0}else for(let h=n;h<=i;h++)if(u.get(s,h))return!0;return!1}}ir.INIT_SIZE=10,ir.CORR=1;class ji{static checkAndNudgePoints(n,i){const s=n.getWidth(),l=n.getHeight();let u=!0;for(let h=0;h<i.length&&u;h+=2){const p=Math.floor(i[h]),m=Math.floor(i[h+1]);if(p<-1||p>s||m<-1||m>l)throw new Q;u=!1,p===-1?(i[h]=0,u=!0):p===s&&(i[h]=s-1,u=!0),m===-1?(i[h+1]=0,u=!0):m===l&&(i[h+1]=l-1,u=!0)}u=!0;for(let h=i.length-2;h>=0&&u;h-=2){const p=Math.floor(i[h]),m=Math.floor(i[h+1]);if(p<-1||p>s||m<-1||m>l)throw new Q;u=!1,p===-1?(i[h]=0,u=!0):p===s&&(i[h]=s-1,u=!0),m===-1?(i[h+1]=0,u=!0):m===l&&(i[h+1]=l-1,u=!0)}}}class Sn{constructor(n,i,s,l,u,h,p,m,_){this.a11=n,this.a21=i,this.a31=s,this.a12=l,this.a22=u,this.a32=h,this.a13=p,this.a23=m,this.a33=_}static quadrilateralToQuadrilateral(n,i,s,l,u,h,p,m,_,C,T,b,M,H,V,Y){const J=Sn.quadrilateralToSquare(n,i,s,l,u,h,p,m);return Sn.squareToQuadrilateral(_,C,T,b,M,H,V,Y).times(J)}transformPoints(n){const i=n.length,s=this.a11,l=this.a12,u=this.a13,h=this.a21,p=this.a22,m=this.a23,_=this.a31,C=this.a32,T=this.a33;for(let b=0;b<i;b+=2){const M=n[b],H=n[b+1],V=u*M+m*H+T;n[b]=(s*M+h*H+_)/V,n[b+1]=(l*M+p*H+C)/V}}transformPointsWithValues(n,i){const s=this.a11,l=this.a12,u=this.a13,h=this.a21,p=this.a22,m=this.a23,_=this.a31,C=this.a32,T=this.a33,b=n.length;for(let M=0;M<b;M++){const H=n[M],V=i[M],Y=u*H+m*V+T;n[M]=(s*H+h*V+_)/Y,i[M]=(l*H+p*V+C)/Y}}static squareToQuadrilateral(n,i,s,l,u,h,p,m){const _=n-s+u-p,C=i-l+h-m;if(_===0&&C===0)return new Sn(s-n,u-s,n,l-i,h-l,i,0,0,1);{const T=s-u,b=p-u,M=l-h,H=m-h,V=T*H-b*M,Y=(_*H-b*C)/V,J=(T*C-_*M)/V;return new Sn(s-n+Y*s,p-n+J*p,n,l-i+Y*l,m-i+J*m,i,Y,J,1)}}static quadrilateralToSquare(n,i,s,l,u,h,p,m){return Sn.squareToQuadrilateral(n,i,s,l,u,h,p,m).buildAdjoint()}buildAdjoint(){return new Sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Sn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Eo extends ji{sampleGrid(n,i,s,l,u,h,p,m,_,C,T,b,M,H,V,Y,J,me,xe){const de=Sn.quadrilateralToQuadrilateral(l,u,h,p,m,_,C,T,b,M,H,V,Y,J,me,xe);return this.sampleGridWithTransform(n,i,s,de)}sampleGridWithTransform(n,i,s,l){if(i<=0||s<=0)throw new Q;const u=new ht(i,s),h=new Float32Array(2*i);for(let p=0;p<s;p++){const m=h.length,_=p+.5;for(let C=0;C<m;C+=2)h[C]=C/2+.5,h[C+1]=_;l.transformPoints(h),ji.checkAndNudgePoints(n,h);try{for(let C=0;C<m;C+=2)n.get(Math.floor(h[C]),Math.floor(h[C+1]))&&u.set(C/2,p)}catch{throw new Q}}return u}}class or{static setGridSampler(n){or.gridSampler=n}static getInstance(){return or.gridSampler}}or.gridSampler=new Eo;class on{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Hi{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let h=s[0];s[0]=s[2],s[2]=h}this.extractParameters(s);let l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),u=this.getMatrixCornerPoints(s);return new rr(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Q;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let l=0;for(let h=0;h<4;h++){let p=s[(this.shift+h)%4];this.compact?(l<<=7,l+=p>>1&127):(l<<=10,l+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,i){let s=0;n.forEach((l,u,h)=>{let p=(l>>i-2<<1)+(l&1);s=(s<<3)+p}),s=((s&1)<<11)+(s>>1);for(let l=0;l<4;l++)if(B.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Q}getCorrectedParameterData(n,i){let s,l;i?(s=7,l=2):(s=10,l=4);let u=s-l,h=new Int32Array(s);for(let m=s-1;m>=0;--m)h[m]=n&15,n>>=4;try{new si(lt.AZTEC_PARAM).decode(h,u)}catch{throw new Q}let p=0;for(let m=0;m<l;m++)p=(p<<4)+h[m];return p}getBullsEyeCorners(n){let i=n,s=n,l=n,u=n,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,h,1,-1),b=this.getFirstDifferent(s,h,1,1),M=this.getFirstDifferent(l,h,-1,1),H=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let V=this.distancePoint(H,T)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(T,b,M,H))break}i=T,s=b,l=M,u=H,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let p=new Ie(i.getX()+.5,i.getY()-.5),m=new Ie(s.getX()+.5,s.getY()+.5),_=new Ie(l.getX()-.5,l.getY()+.5),C=new Ie(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,m,_,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,l;try{let p=new ir(this.image).detect();n=p[0],i=p[1],s=p[2],l=p[3]}catch{let m=this.image.getWidth()/2,_=this.image.getHeight()/2;n=this.getFirstDifferent(new on(m+7,_-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new on(m+7,_+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new on(m-7,_+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new on(m-7,_-7),!1,-1,-1).toResultPoint()}let u=it.round((n.getX()+l.getX()+i.getX()+s.getX())/4),h=it.round((n.getY()+l.getY()+i.getY()+s.getY())/4);try{let p=new ir(this.image,15,u,h).detect();n=p[0],i=p[1],s=p[2],l=p[3]}catch{n=this.getFirstDifferent(new on(u+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new on(u+7,h+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new on(u-7,h+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new on(u-7,h-7),!1,-1,-1).toResultPoint()}return u=it.round((n.getX()+l.getX()+i.getX()+s.getX())/4),h=it.round((n.getY()+l.getY()+i.getY()+s.getY())/4),new on(u,h)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,l,u){let h=or.getInstance(),p=this.getDimension(),m=p/2-this.nbCenterLayers,_=p/2+this.nbCenterLayers;return h.sampleGrid(n,p,p,m,m,_,m,_,_,m,_,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(n,i,s){let l=0,u=this.distanceResultPoint(n,i),h=u/s,p=n.getX(),m=n.getY(),_=h*(i.getX()-n.getX())/u,C=h*(i.getY()-n.getY())/u;for(let T=0;T<s;T++)this.image.get(it.round(p+T*_),it.round(m+T*C))&&(l|=1<<s-T-1);return l}isWhiteOrBlackRectangle(n,i,s,l){let u=3;n=new on(n.getX()-u,n.getY()+u),i=new on(i.getX()-u,i.getY()-u),s=new on(s.getX()+u,s.getY()-u),l=new on(l.getX()+u,l.getY()+u);let h=this.getColor(l,n);if(h===0)return!1;let p=this.getColor(n,i);return p!==h||(p=this.getColor(i,s),p!==h)?!1:(p=this.getColor(s,l),p===h)}getColor(n,i){let s=this.distancePoint(n,i),l=(i.getX()-n.getX())/s,u=(i.getY()-n.getY())/s,h=0,p=n.getX(),m=n.getY(),_=this.image.get(n.getX(),n.getY()),C=Math.ceil(s);for(let b=0;b<C;b++)p+=l,m+=u,this.image.get(it.round(p),it.round(m))!==_&&h++;let T=h/s;return T>.1&&T<.9?0:T<=.1===_?1:-1}getFirstDifferent(n,i,s,l){let u=n.getX()+s,h=n.getY()+l;for(;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=s,h+=l;for(u-=s,h-=l;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=s;for(u-=s;this.isValid(u,h)&&this.image.get(u,h)===i;)h+=l;return h-=l,new on(u,h)}expandSquare(n,i,s){let l=s/(2*i),u=n[0].getX()-n[2].getX(),h=n[0].getY()-n[2].getY(),p=(n[0].getX()+n[2].getX())/2,m=(n[0].getY()+n[2].getY())/2,_=new Ie(p+l*u,m+l*h),C=new Ie(p-l*u,m-l*h);u=n[1].getX()-n[3].getX(),h=n[1].getY()-n[3].getY(),p=(n[1].getX()+n[3].getX())/2,m=(n[1].getY()+n[3].getY())/2;let T=new Ie(p+l*u,m+l*h),b=new Ie(p-l*u,m-l*h);return[_,T,C,b]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=it.round(n.getX()),s=it.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return it.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return it.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Wr{decode(n,i=null){let s=null,l=new Hi(n.getBlackMatrix()),u=null,h=null;try{let C=l.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(i,u),h=new ut().decode(C)}catch(C){s=C}if(h==null)try{let C=l.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(i,u),h=new ut().decode(C)}catch(C){throw s??C}let p=new Ge(h.getText(),h.getRawBytes(),h.getNumBits(),u,ge.AZTEC,z.currentTimeMillis()),m=h.getByteSegments();m!=null&&p.putMetadata(yt.BYTE_SEGMENTS,m);let _=h.getECLevel();return _!=null&&p.putMetadata(yt.ERROR_CORRECTION_LEVEL,_),p}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(ie.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((l,u,h)=>{s.foundPossibleResultPoint(l)})}}reset(){}}class zs extends St{constructor(n=500){super(new Wr,n)}}class kt{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(ie.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),h=this.doDecode(u,i),p=h.getResultMetadata();let m=270;p!==null&&p.get(yt.ORIENTATION)===!0&&(m=m+p.get(yt.ORIENTATION)%360),h.putMetadata(yt.ORIENTATION,m);const _=h.getResultPoints();if(_!==null){const C=u.getHeight();for(let T=0;T<_.length;T++)_[T]=new Ie(C-_[T].getY()-1,_[T].getX())}return h}else throw new Q}}reset(){}doDecode(n,i){const s=n.getWidth(),l=n.getHeight();let u=new k(s);const h=i&&i.get(ie.TRY_HARDER)===!0,p=Math.max(1,l>>(h?8:5));let m;h?m=l:m=15;const _=Math.trunc(l/2);for(let C=0;C<m;C++){const T=Math.trunc((C+1)/2),b=(C&1)===0,M=_+p*(b?T:-T);if(M<0||M>=l)break;try{u=n.getBlackRow(M,u)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(u.reverse(),i&&i.get(ie.NEED_RESULT_POINT_CALLBACK)===!0)){const V=new Map;i.forEach((Y,J)=>V.set(J,Y)),V.delete(ie.NEED_RESULT_POINT_CALLBACK),i=V}try{const V=this.decodeRow(M,u,i);if(H===1){V.putMetadata(yt.ORIENTATION,180);const Y=V.getResultPoints();Y!==null&&(Y[0]=new Ie(s-Y[0].getX()-1,Y[0].getY()),Y[1]=new Ie(s-Y[1].getX()-1,Y[1].getY()))}return V}catch{}}}throw new Q}static recordPattern(n,i,s){const l=s.length;for(let _=0;_<l;_++)s[_]=0;const u=n.getSize();if(i>=u)throw new Q;let h=!n.get(i),p=0,m=i;for(;m<u;){if(n.get(m)!==h)s[p]++;else{if(++p===l)break;s[p]=1,h=!h}m++}if(!(p===l||p===l-1&&m===u))throw new Q}static recordPatternInReverse(n,i,s){let l=s.length,u=n.get(i);for(;i>0&&l>=0;)n.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new Q;kt.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const l=n.length;let u=0,h=0;for(let _=0;_<l;_++)u+=n[_],h+=i[_];if(u<h)return Number.POSITIVE_INFINITY;const p=u/h;s*=p;let m=0;for(let _=0;_<l;_++){const C=n[_],T=i[_]*p,b=C>T?C-T:T-C;if(b>s)return Number.POSITIVE_INFINITY;m+=b}return m/u}}class we extends kt{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),h=s,p=!1;const m=6;for(let _=s;_<i;_++)if(n.get(_)!==p)u[l]++;else{if(l===m-1){let C=we.MAX_AVG_VARIANCE,T=-1;for(let b=we.CODE_START_A;b<=we.CODE_START_C;b++){const M=kt.patternMatchVariance(u,we.CODE_PATTERNS[b],we.MAX_INDIVIDUAL_VARIANCE);M<C&&(C=M,T=b)}if(T>=0&&n.isRange(Math.max(0,h-(_-h)/2),h,!1))return Int32Array.from([h,_,T]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,p=!p}throw new Q}static decodeCode(n,i,s){kt.recordPattern(n,s,i);let l=we.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<we.CODE_PATTERNS.length;h++){const p=we.CODE_PATTERNS[h],m=this.patternMatchVariance(i,p,we.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,u=h)}if(u>=0)return u;throw new Q}decodeRow(n,i,s){const l=s&&s.get(ie.ASSUME_GS1)===!0,u=we.findStartPattern(i),h=u[2];let p=0;const m=new Uint8Array(20);m[p++]=h;let _;switch(h){case we.CODE_START_A:_=we.CODE_CODE_A;break;case we.CODE_START_B:_=we.CODE_CODE_B;break;case we.CODE_START_C:_=we.CODE_CODE_C;break;default:throw new X}let C=!1,T=!1,b="",M=u[0],H=u[1];const V=Int32Array.from([0,0,0,0,0,0]);let Y=0,J=0,me=h,xe=0,de=!0,nt=!1,Ye=!1;for(;!C;){const Rr=T;switch(T=!1,Y=J,J=we.decodeCode(i,V,H),m[p++]=J,J!==we.CODE_STOP&&(de=!0),J!==we.CODE_STOP&&(xe++,me+=xe*J),M=H,H+=V.reduce((nc,Qi)=>nc+Qi,0),J){case we.CODE_START_A:case we.CODE_START_B:case we.CODE_START_C:throw new X}switch(_){case we.CODE_CODE_A:if(J<64)Ye===nt?b+=String.fromCharCode(" ".charCodeAt(0)+J):b+=String.fromCharCode(" ".charCodeAt(0)+J+128),Ye=!1;else if(J<96)Ye===nt?b+=String.fromCharCode(J-64):b+=String.fromCharCode(J+64),Ye=!1;else switch(J!==we.CODE_STOP&&(de=!1),J){case we.CODE_FNC_1:l&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_A:!nt&&Ye?(nt=!0,Ye=!1):nt&&Ye?(nt=!1,Ye=!1):Ye=!0;break;case we.CODE_SHIFT:T=!0,_=we.CODE_CODE_B;break;case we.CODE_CODE_B:_=we.CODE_CODE_B;break;case we.CODE_CODE_C:_=we.CODE_CODE_C;break;case we.CODE_STOP:C=!0;break}break;case we.CODE_CODE_B:if(J<96)Ye===nt?b+=String.fromCharCode(" ".charCodeAt(0)+J):b+=String.fromCharCode(" ".charCodeAt(0)+J+128),Ye=!1;else switch(J!==we.CODE_STOP&&(de=!1),J){case we.CODE_FNC_1:l&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_B:!nt&&Ye?(nt=!0,Ye=!1):nt&&Ye?(nt=!1,Ye=!1):Ye=!0;break;case we.CODE_SHIFT:T=!0,_=we.CODE_CODE_A;break;case we.CODE_CODE_A:_=we.CODE_CODE_A;break;case we.CODE_CODE_C:_=we.CODE_CODE_C;break;case we.CODE_STOP:C=!0;break}break;case we.CODE_CODE_C:if(J<100)J<10&&(b+="0"),b+=J;else switch(J!==we.CODE_STOP&&(de=!1),J){case we.CODE_FNC_1:l&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case we.CODE_CODE_A:_=we.CODE_CODE_A;break;case we.CODE_CODE_B:_=we.CODE_CODE_B;break;case we.CODE_STOP:C=!0;break}break}Rr&&(_=_===we.CODE_CODE_A?we.CODE_CODE_B:we.CODE_CODE_A)}const Wt=H-M;if(H=i.getNextUnset(H),!i.isRange(H,Math.min(i.getSize(),H+(H-M)/2),!1))throw new Q;if(me-=xe*Y,me%103!==Y)throw new W;const zn=b.length;if(zn===0)throw new Q;zn>0&&de&&(_===we.CODE_CODE_C?b=b.substring(0,zn-2):b=b.substring(0,zn-1));const Un=(u[1]+u[0])/2,At=M+Wt/2,En=m.length,jn=new Uint8Array(En);for(let Rr=0;Rr<En;Rr++)jn[Rr]=m[Rr];const qi=[new Ie(Un,n),new Ie(At,n)];return new Ge(b,jn,0,qi,ge.CODE_128,new Date().getTime())}}we.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],we.MAX_AVG_VARIANCE=.25,we.MAX_INDIVIDUAL_VARIANCE=.7,we.CODE_SHIFT=98,we.CODE_CODE_C=99,we.CODE_CODE_B=100,we.CODE_CODE_A=101,we.CODE_FNC_1=102,we.CODE_FNC_2=97,we.CODE_FNC_3=96,we.CODE_FNC_4_A=101,we.CODE_FNC_4_B=100,we.CODE_START_A=103,we.CODE_START_B=104,we.CODE_START_C=105,we.CODE_STOP=106;class jt extends kt{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=jt.findAsteriskPattern(i,l),h=i.getNextSet(u[1]),p=i.getSize(),m,_;do{jt.recordPattern(i,h,l);let V=jt.toNarrowWidePattern(l);if(V<0)throw new Q;m=jt.patternToChar(V),this.decodeRowResult+=m,_=h;for(let Y of l)h+=Y;h=i.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let V of l)C+=V;let T=h-_-C;if(h!==p&&T*2<C)throw new Q;if(this.usingCheckDigit){let V=this.decodeRowResult.length-1,Y=0;for(let J=0;J<V;J++)Y+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(V)!==jt.ALPHABET_STRING.charAt(Y%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new Q;let b;this.extendedMode?b=jt.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let M=(u[1]+u[0])/2,H=_+C/2;return new Ge(b,null,0,[new Ie(M,n),new Ie(H,n)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),l=n.getNextSet(0),u=0,h=l,p=!1,m=i.length;for(let _=l;_<s;_++)if(n.get(_)!==p)i[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(i)===jt.ASTERISK_ENCODING&&n.isRange(Math.max(0,h-Math.floor((_-h)/2)),h,!1))return[h,_];h+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,p=!p}throw new Q}static toNarrowWidePattern(n){let i=n.length,s=0,l;do{let u=2147483647;for(let m of n)m<u&&m>s&&(u=m);s=u,l=0;let h=0,p=0;for(let m=0;m<i;m++){let _=n[m];_>s&&(p|=1<<i-1-m,l++,h+=_)}if(l===3){for(let m=0;m<i&&l>0;m++){let _=n[m];if(_>s&&(l--,_*2>=h))return-1}return p}}while(l>3);return-1}static patternToChar(n){for(let i=0;i<jt.CHARACTER_ENCODINGS.length;i++)if(jt.CHARACTER_ENCODINGS[i]===n)return jt.ALPHABET_STRING.charAt(i);if(n===jt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(n){let i=n.length,s="";for(let l=0;l<i;l++){let u=n.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=n.charAt(l+1),p="\0";switch(u){case"+":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)+32);else throw new X;break;case"$":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)-64);else throw new X;break;case"%":if(h>="A"&&h<="E")p=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")p=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")p=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")p="\0";else if(h==="V")p="@";else if(h==="W")p="`";else if(h==="X"||h==="Y"||h==="Z")p="";else throw new X;break;case"/":if(h>="A"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")p=":";else throw new X;break}s+=p,l++}else s+=u}return s}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class Tt extends kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let l=this.decodeStart(i),u=this.decodeEnd(i),h=new Je;Tt.decodeMiddle(i,l[1],u[0],h);let p=h.toString(),m=null;s!=null&&(m=s.get(ie.ALLOWED_LENGTHS)),m==null&&(m=Tt.DEFAULT_ALLOWED_LENGTHS);let _=p.length,C=!1,T=0;for(let H of m){if(_===H){C=!0;break}H>T&&(T=H)}if(!C&&_>T&&(C=!0),!C)throw new X;const b=[new Ie(l[1],n),new Ie(u[0],n)];return new Ge(p,null,0,b,ge.ITF,new Date().getTime())}static decodeMiddle(n,i,s,l){let u=new Int32Array(10),h=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),h.fill(0),p.fill(0);i<s;){kt.recordPattern(n,i,u);for(let _=0;_<5;_++){let C=2*_;h[_]=u[C],p[_]=u[C+1]}let m=Tt.decodeDigit(h);l.append(m.toString()),m=this.decodeDigit(p),l.append(m.toString()),u.forEach(function(_){i+=_})}}decodeStart(n){let i=Tt.skipWhiteSpace(n),s=Tt.findGuardPattern(n,i,Tt.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let l=i-1;s>0&&l>=0&&!n.get(l);l--)s--;if(s!==0)throw new Q}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new Q;return s}decodeEnd(n){n.reverse();try{let i=Tt.skipWhiteSpace(n),s;try{s=Tt.findGuardPattern(n,i,Tt.END_PATTERN_REVERSED[0])}catch(u){u instanceof Q&&(s=Tt.findGuardPattern(n,i,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let l=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-l,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let l=s.length,u=new Int32Array(l),h=n.getSize(),p=!1,m=0,_=i;u.fill(0);for(let C=i;C<h;C++)if(n.get(C)!==p)u[m]++;else{if(m===l-1){if(kt.patternMatchVariance(u,s,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[_,C];_+=u[0]+u[1],z.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,p=!p}throw new Q}static decodeDigit(n){let i=Tt.MAX_AVG_VARIANCE,s=-1,l=Tt.PATTERNS.length;for(let u=0;u<l;u++){let h=Tt.PATTERNS[u],p=kt.patternMatchVariance(n,h,Tt.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,s=u):p===i&&(s=-1)}if(s>=0)return s%10;throw new Q}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class G extends kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),s=G.findGuardPattern(n,l,!1,this.START_END_PATTERN,u);let h=s[0];l=s[1];let p=h-(l-h);p>=0&&(i=n.isRange(p,h,!1))}return s}static checkChecksum(n){return G.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return G.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let l=i-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}s*=3;for(let l=i-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}return(1e3-s)%10}static decodeEnd(n,i){return G.findGuardPattern(n,i,!1,G.START_END_PATTERN,new Int32Array(G.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,l){return this.findGuardPattern(n,i,s,l,new Int32Array(l.length))}static findGuardPattern(n,i,s,l,u){let h=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let p=0,m=i,_=l.length,C=s;for(let T=i;T<h;T++)if(n.get(T)!==C)u[p]++;else{if(p===_-1){if(kt.patternMatchVariance(u,l,G.MAX_INDIVIDUAL_VARIANCE)<G.MAX_AVG_VARIANCE)return Int32Array.from([m,T]);m+=u[0]+u[1];let b=u.slice(2,u.length-1);for(let M=0;M<p-1;M++)u[M]=b[M];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,C=!C}throw new Q}static decodeDigit(n,i,s,l){this.recordPattern(n,s,i);let u=this.MAX_AVG_VARIANCE,h=-1,p=l.length;for(let m=0;m<p;m++){let _=l[m],C=kt.patternMatchVariance(i,_,G.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,h=m)}if(h>=0)return h;throw new Q}}G.MAX_AVG_VARIANCE=.48,G.MAX_INDIVIDUAL_VARIANCE=.7,G.START_END_PATTERN=Int32Array.from([1,1,1]),G.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),G.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),G.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class te{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,l),h=l.toString(),p=te.parseExtensionString(h),m=[new Ie((s[0]+s[1])/2,n),new Ie(u,n)],_=new Ge(h,null,0,m,ge.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&_.putAllMetadata(p),_}decodeMiddle(n,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1],p=0;for(let _=0;_<5&&h<u;_++){let C=G.decodeDigit(n,l,h,G.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of l)h+=T;C>=10&&(p|=1<<4-_),_!==4&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(s.length!==5)throw new Q;let m=this.determineCheckDigit(p);if(te.extensionChecksum(s.toString())!==m)throw new Q;return h}static extensionChecksum(n){let i=n.length,s=0;for(let l=i-2;l>=0;l-=2)s+=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);s*=3;for(let l=i-1;l>=0;l-=2)s+=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new Q}static parseExtensionString(n){if(n.length!==5)return null;let i=te.parseExtension5String(n);return i==null?null:new Map([[yt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),l=(s/100).toString(),u=s%100,h=u<10?"0"+u:u.toString();return i+l+"."+h}}class ce{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,l),h=l.toString(),p=ce.parseExtensionString(h),m=[new Ie((s[0]+s[1])/2,n),new Ie(u,n)],_=new Ge(h,null,0,m,ge.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&_.putAllMetadata(p),_}decodeMiddle(n,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1],p=0;for(let m=0;m<2&&h<u;m++){let _=G.decodeDigit(n,l,h,G.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let C of l)h+=C;_>=10&&(p|=1<<1-m),m!==1&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(s.length!==2)throw new Q;if(parseInt(s.toString())%4!==p)throw new Q;return h}static parseExtensionString(n){return n.length!==2?null:new Map([[yt.ISSUE_NUMBER,parseInt(n)]])}}class Te{static decodeRow(n,i,s){let l=G.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new te().decodeRow(n,i,l)}catch{return new ce().decodeRow(n,i,l)}}}Te.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ye extends G{constructor(){super(),this.decodeRowStringBuffer="",ye.L_AND_G_PATTERNS=ye.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=ye.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let l=0;l<i.length;l++)s[l]=i[i.length-l-1];ye.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let l=ye.findStartGuardPattern(i),u=s==null?null:s.get(ie.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new Ie((l[0]+l[1])/2,n);u.foundPossibleResultPoint(de)}let h=this.decodeMiddle(i,l,this.decodeRowStringBuffer),p=h.rowOffset,m=h.resultString;if(u!=null){const de=new Ie(p,n);u.foundPossibleResultPoint(de)}let _=this.decodeEnd(i,p);if(u!=null){const de=new Ie((_[0]+_[1])/2,n);u.foundPossibleResultPoint(de)}let C=_[1],T=C+(C-_[0]);if(T>=i.getSize()||!i.isRange(C,T,!1))throw new Q;let b=m.toString();if(b.length<8)throw new X;if(!ye.checkChecksum(b))throw new W;let M=(l[1]+l[0])/2,H=(_[1]+_[0])/2,V=this.getBarcodeFormat(),Y=[new Ie(M,n),new Ie(H,n)],J=new Ge(b,null,0,Y,V,new Date().getTime()),me=0;try{let de=Te.decodeRow(n,i,_[1]);J.putMetadata(yt.UPC_EAN_EXTENSION,de.getText()),J.putAllMetadata(de.getResultMetadata()),J.addResultPoints(de.getResultPoints()),me=de.getText().length}catch{}let xe=s==null?null:s.get(ie.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let de=!1;for(let nt in xe)if(me.toString()===nt){de=!0;break}if(!de)throw new Q}return J}decodeEnd(n,i){return ye.findGuardPattern(n,i,!1,ye.START_END_PATTERN,new Int32Array(ye.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return ye.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return ye.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let l=i-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}s*=3;for(let l=i-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}return(1e3-s)%10}}class Fe extends ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1],p=0;for(let _=0;_<6&&h<u;_++){let C=ye.decodeDigit(n,l,h,ye.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of l)h+=T;C>=10&&(p|=1<<5-_)}s=Fe.determineFirstDigit(s,p),h=ye.findGuardPattern(n,h,!0,ye.MIDDLE_PATTERN,new Int32Array(ye.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&h<u;_++){let C=ye.decodeDigit(n,l,h,ye.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C);for(let T of l)h+=T}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode("0".charCodeAt(0)+s)+n,n;throw new Q}}Fe.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ze extends ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1];for(let m=0;m<4&&h<u;m++){let _=ye.decodeDigit(n,l,h,ye.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+_);for(let C of l)h+=C}h=ye.findGuardPattern(n,h,!0,ye.MIDDLE_PATTERN,new Int32Array(ye.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<u;m++){let _=ye.decodeDigit(n,l,h,ye.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+_);for(let C of l)h+=C}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return ge.EAN_8}}class je extends ye{constructor(){super(...arguments),this.ean13Reader=new Fe}getBarcodeFormat(){return ge.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new Ge(i.substring(1),null,null,n.getResultPoints(),ge.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new Q}reset(){this.ean13Reader.reset()}}class Re extends ye{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const l=this.decodeMiddleCounters.map(_=>_);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=n.getSize();let h=i[1],p=0;for(let _=0;_<6&&h<u;_++){const C=Re.decodeDigit(n,l,h,Re.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of l)h+=T;C>=10&&(p|=1<<5-_)}let m=Re.determineNumSysAndCheckDigit(s,p);return{rowOffset:h,resultString:m}}decodeEnd(n,i){return Re.findGuardPatternWithoutCounters(n,i,!0,Re.MIDDLE_END_PATTERN)}checkChecksum(n){return ye.checkChecksum(Re.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][l]){let u=String.fromCharCode("0".charCodeAt(0)+s),h=String.fromCharCode("0".charCodeAt(0)+l);return u+n+h}throw Q.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),s=new Je;s.append(n.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(l),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(l);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Re.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Re.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class vt extends kt{constructor(n){super();let i=n==null?null:n.get(ie.POSSIBLE_FORMATS),s=[];a(i)?(s.push(new Fe),s.push(new je),s.push(new Ze),s.push(new Re)):(i.indexOf(ge.EAN_13)>-1&&s.push(new Fe),i.indexOf(ge.UPC_A)>-1&&s.push(new je),i.indexOf(ge.EAN_8)>-1&&s.push(new Ze),i.indexOf(ge.UPC_E)>-1&&s.push(new Re)),this.readers=s}decodeRow(n,i,s){for(let l of this.readers)try{const u=l.decodeRow(n,i,s),h=u.getBarcodeFormat()===ge.EAN_13&&u.getText().charAt(0)==="0",p=s==null?null:s.get(ie.POSSIBLE_FORMATS),m=p==null||p.includes(ge.UPC_A);if(h&&m){const _=u.getRawBytes(),C=new Ge(u.getText().substring(1),_,_?_.length:null,u.getResultPoints(),ge.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new Q}reset(){for(let n of this.readers)n.reset()}}class Qe extends kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(kt.patternMatchVariance(n,i[s],Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return s;throw new Q}static count(n){return it.sum(new Int32Array(n))}static increment(n,i){let s=0,l=i[0];for(let u=1;u<n.length;u++)i[u]>l&&(l=i[u],s=u);n[s]++}static decrement(n,i){let s=0,l=i[0];for(let u=1;u<n.length;u++)i[u]<l&&(l=i[u],s=u);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],l=i/s;if(l>=Qe.MIN_FINDER_PATTERN_RATIO&&l<=Qe.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let p of n)p>h&&(h=p),p<u&&(u=p);return h<10*u}return!1}}Qe.MAX_AVG_VARIANCE=.2,Qe.MAX_INDIVIDUAL_VARIANCE=.45,Qe.MIN_FINDER_PATTERN_RATIO=9.5/12,Qe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ke{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ke))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class dt{constructor(n,i,s,l,u){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ie(s,u)),this.resultPoints.push(new Ie(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof dt))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class xt{constructor(){}static getRSSvalue(n,i,s){let l=0;for(let m of n)l+=m;let u=0,h=0,p=n.length;for(let m=0;m<p-1;m++){let _;for(_=1,h|=1<<m;_<n[m];_++,h&=~(1<<m)){let C=xt.combins(l-_-1,p-m-2);if(s&&h===0&&l-_-(p-m-1)>=p-m-1&&(C-=xt.combins(l-_-(p-m),p-m-2)),p-m-1>1){let T=0;for(let b=l-_-(p-m-2);b>i;b--)T+=xt.combins(l-_-b-1,p-m-3);C-=T*(p-1-m)}else l-_>i&&C--;u+=C}l-=_}return u}static combins(n,i){let s,l;n-i>i?(l=i,s=n-i):(l=n-i,s=i);let u=1,h=1;for(let p=n;p>s;p--)u*=p,h<=l&&(u/=h,h++);for(;h<=l;)u/=h,h++;return u}}class Zr{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,l=new k(s),u=0,p=n[0].getRightChar().getValue();for(let m=11;m>=0;--m)p&1<<m&&l.set(u),u++;for(let m=1;m<n.length;++m){let _=n[m],C=_.getLeftChar().getValue();for(let T=11;T>=0;--T)C&1<<T&&l.set(u),u++;if(_.getRightChar()!=null){let T=_.getRightChar().getValue();for(let b=11;b>=0;--b)T&1<<b&&l.set(u),u++}}return l}}class Pn{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Gr{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Rt extends Gr{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Rt.FNC1}}Rt.FNC1="$";class Ae extends Gr{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ht extends Gr{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new X;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ht.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ht.FNC1}isAnyFNC1(){return this.firstDigit===Ht.FNC1||this.secondDigit===Ht.FNC1}}Ht.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Q;let i=n.substring(0,2);for(let u of Ce.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,u[2],n):Ce.processFixedAI(2,u[1],n);if(n.length<3)throw new Q;let s=n.substring(0,3);for(let u of Ce.THREE_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,u[2],n):Ce.processFixedAI(3,u[1],n);for(let u of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,u[2],n):Ce.processFixedAI(4,u[1],n);if(n.length<4)throw new Q;let l=n.substring(0,4);for(let u of Ce.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,u[2],n):Ce.processFixedAI(4,u[1],n);throw new Q}static processFixedAI(n,i,s){if(s.length<n)throw new Q;let l=s.substring(0,n);if(s.length<n+i)throw new Q;let u=s.substring(n,n+i),h=s.substring(n+i),p="("+l+")"+u,m=Ce.parseFieldsInGeneralPurpose(h);return m==null?p:p+m}static processVariableAI(n,i,s){let l=s.substring(0,n),u;s.length<n+i?u=s.length:u=n+i;let h=s.substring(n,u),p=s.substring(u),m="("+l+")"+h,_=Ce.parseFieldsInGeneralPurpose(p);return _==null?m:m+_}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class dr{constructor(n){this.buffer=new Je,this.information=n}decodeAllCodes(n,i){let s=i,l=null;do{let u=this.decodeGeneralPurposeField(s,l),h=Ce.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&n.append(h),u.isRemaining()?l=""+u.getRemainingValue():l=null,s===u.getNewPosition())break;s=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new Ht(this.information.getSize(),Ht.FNC1,Ht.FNC1):new Ht(this.information.getSize(),u-1,Ht.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,l=(i-8)%11;return new Ht(n+7,s,l)}extractNumericValueFromBitArray(n,i){return dr.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let l=0;for(let u=0;u<s;++u)n.get(i+u)&&(l|=1<<s-u-1);return l}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Ae(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Ae(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new Ae(this.current.getPosition(),this.buffer.toString()):i=new Ae(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Pn(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new Ae(this.current.getPosition(),this.buffer.toString());return new Pn(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Pn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Ae(this.current.getPosition(),this.buffer.toString());return new Pn(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Pn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Ae(this.current.getPosition(),this.buffer.toString());return new Pn(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Pn(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Rt(n+5,Rt.FNC1);if(i>=5&&i<15)return new Rt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Rt(n+7,""+(s+1));if(s>=90&&s<116)return new Rt(n+7,""+(s+7));let l=this.extractNumericValueFromBitArray(n,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new X}return new Rt(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Rt(n+5,Rt.FNC1);if(i>=5&&i<15)return new Rt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Rt(n+6,""+(s+33));let l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Gn("Decoding invalid alphanumeric value: "+s)}return new Rt(n+6,l)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class ai{constructor(n){this.information=n,this.generalDecoder=new dr(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class sn extends ai{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}sn.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let l=0;l<13;l++){let u=n.charAt(l+i).charCodeAt(0)-"0".charCodeAt(0);s+=l&1?u:3*u}s=10-s%10,s===10&&(s=0),n.append(s)}}sn.GTIN_SIZE=40;class ot extends sn{constructor(n){super(n)}parseInformation(){let n=new Je;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(ot.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,ot.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,ot.HEADER_SIZE+44)}}ot.HEADER_SIZE=1+1+2;class Qt extends ai{constructor(n){super(n)}parseInformation(){let n=new Je;return this.getGeneralDecoder().decodeAllCodes(n,Qt.HEADER_SIZE)}}Qt.HEADER_SIZE=2+1+2;class kn extends sn{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,l);let u=this.checkWeight(l),h=1e5;for(let p=0;p<5;++p)u/h===0&&n.append("0"),h/=10;n.append(u)}}class Bn extends kn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Bn.HEADER_SIZE+kn.GTIN_SIZE+Bn.WEIGHT_SIZE)throw new Q;let n=new Je;return this.encodeCompressedGtin(n,Bn.HEADER_SIZE),this.encodeCompressedWeight(n,Bn.HEADER_SIZE+kn.GTIN_SIZE,Bn.WEIGHT_SIZE),n.toString()}}Bn.HEADER_SIZE=4+1,Bn.WEIGHT_SIZE=15;class Jt extends Bn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class vi extends Bn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Xn extends sn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Xn.HEADER_SIZE+sn.GTIN_SIZE)throw new Q;let n=new Je;this.encodeCompressedGtin(n,Xn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+sn.GTIN_SIZE,Xn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Xn.HEADER_SIZE+sn.GTIN_SIZE+Xn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Xn.HEADER_SIZE=5+1+2,Xn.LAST_DIGIT_SIZE=2;class dn extends sn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+sn.GTIN_SIZE)throw new Q;let n=new Je;this.encodeCompressedGtin(n,dn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+sn.GTIN_SIZE,dn.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+sn.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let l=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+sn.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()}}dn.HEADER_SIZE=5+1+2,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class Bt extends kn{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE+Bt.DATE_SIZE)throw new Q;let n=new Je;return this.encodeCompressedGtin(n,Bt.HEADER_SIZE),this.encodeCompressedWeight(n,Bt.HEADER_SIZE+Bt.GTIN_SIZE,Bt.WEIGHT_SIZE),this.encodeCompressedDate(n,Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Bt.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let l=s%32;s/=32;let u=s%12+1;s/=12;let h=s;h/10==0&&n.append("0"),n.append(h),u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}Bt.HEADER_SIZE=7+1,Bt.WEIGHT_SIZE=20,Bt.DATE_SIZE=16;function Co(S){try{if(S.get(1))return new ot(S);if(!S.get(2))return new Qt(S);switch(dr.extractNumericValueFromBitArray(S,1,4)){case 4:return new Jt(S);case 5:return new vi(S)}switch(dr.extractNumericValueFromBitArray(S,1,5)){case 12:return new Xn(S);case 13:return new dn(S)}switch(dr.extractNumericValueFromBitArray(S,1,7)){case 56:return new Bt(S,"310","11");case 57:return new Bt(S,"320","11");case 58:return new Bt(S,"310","13");case 59:return new Bt(S,"320","13");case 60:return new Bt(S,"310","15");case 61:return new Bt(S,"320","15");case 62:return new Bt(S,"310","17");case 63:return new Bt(S,"320","17")}}catch(n){throw console.log(n),new Gn("unknown decoder: "+S)}}class li{constructor(n,i,s,l){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof li?li.equalsOrNull(n.leftchar,i.leftchar)&&li.equalsOrNull(n.rightchar,i.rightchar)&&li.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:li.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Us{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Us?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((l,u)=>{i.forEach(h=>{l.getLeftChar().getValue()===h.getLeftChar().getValue()&&l.getRightChar().getValue()===h.getRightChar().getValue()&&l.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(s=!0)})}),s}}class fe extends Qe{constructor(n){super(...arguments),this.pairs=new Array(fe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return fe.constructResult(this.decodeRow2pairs(n,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,fe.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(u){if(u instanceof Q){if(!this.pairs.length)throw new Q;s=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(n,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Q}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let l=this.rows[s];this.pairs.length=0;for(let h of n)this.pairs.push(h.getPairs());if(this.pairs.push(l.getPairs()),!fe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(l);try{return this.checkRows(u,s+1)}catch(h){this.verbose&&console.log(h)}}throw new Q}static isValidSequence(n){for(let i of fe.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=i[l]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,l=!1,u=!1;for(;s<this.rows.length;){let h=this.rows[s];if(h.getRowNumber()>n){u=h.isEquivalent(this.pairs);break}l=h.isEquivalent(this.pairs),s++}u||l||fe.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Us(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let l of s.getPairs())for(let u of n)if(li.equals(l,u))break}}static isPartialRow(n,i){for(let s of i){let l=!0;for(let u of n){let h=!1;for(let p of s.getPairs())if(u.equals(p)){h=!0;break}if(!h){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=Zr.buildBitArray(n),l=Co(i).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),h=n[n.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],h[0],h[1]];return new Ge(l,null,null,p,ge.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let l=s.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let m=this.pairs.get(p);l+=m.getLeftChar().getChecksumPortion(),u++;let _=m.getRightChar();_!=null&&(l+=_.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,h=!0,p=-1;do this.findNextPair(n,i,p),u=this.parseFoundFinderPattern(n,s,l),u==null?p=fe.getNextSecondBar(n,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(n,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new Q;let _;try{_=this.decodeDataCharacter(n,u,l,!1)}catch(C){_=null,this.verbose&&console.log(C)}return new li(m,_,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h;s>=0?h=s:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let m=!1;for(;h<u&&(m=!n.get(h),!!m);)h++;let _=0,C=h;for(let T=h;T<u;T++)if(n.get(T)!=m)l[_]++;else{if(_==3){if(p&&fe.reverseCounters(l),fe.isFinderPattern(l)){this.startEnd[0]=C,this.startEnd[1]=T;return}p&&fe.reverseCounters(l),C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,_--}else _++;l[_]=1,m=!m}throw new Q}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let l=n[s];n[s]=n[i-s-1],n[i-s-1]=l}}parseFoundFinderPattern(n,i,s){let l,u,h;if(s){let _=this.startEnd[0]-1;for(;_>=0&&!n.get(_);)_--;_++,l=this.startEnd[0]-_,u=_,h=this.startEnd[1]}else u=this.startEnd[0],h=n.getNextUnset(this.startEnd[1]+1),l=h-this.startEnd[1];let p=this.getDecodeFinderCounters();z.arraycopy(p,0,p,1,p.length-1),p[0]=l;let m;try{m=this.parseFinderValue(p,fe.FINDER_PATTERNS)}catch{return null}return new dt(m,[u,h],u,h,i)}decodeDataCharacter(n,i,s,l){let u=this.getDataCharacterCounters();for(let At=0;At<u.length;At++)u[At]=0;if(l)fe.recordPatternInReverse(n,i.getStartEnd()[0],u);else{fe.recordPattern(n,i.getStartEnd()[1],u);for(let At=0,En=u.length-1;At<En;At++,En--){let jn=u[At];u[At]=u[En],u[En]=jn}}let h=17,p=it.sum(new Int32Array(u))/h,m=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-m)/m>.3)throw new Q;let _=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let At=0;At<u.length;At++){let En=1*u[At]/p,jn=En+.5;if(jn<1){if(En<.3)throw new Q;jn=1}else if(jn>8){if(En>8.7)throw new Q;jn=8}let qi=At/2;At&1?(C[qi]=jn,b[qi]=En-jn):(_[qi]=jn,T[qi]=En-jn)}this.adjustOddEvenCounts(h);let M=4*i.getValue()+(s?0:2)+(l?0:1)-1,H=0,V=0;for(let At=_.length-1;At>=0;At--){if(fe.isNotA1left(i,s,l)){let En=fe.WEIGHTS[M][2*At];V+=_[At]*En}H+=_[At]}let Y=0;for(let At=C.length-1;At>=0;At--)if(fe.isNotA1left(i,s,l)){let En=fe.WEIGHTS[M][2*At+1];Y+=C[At]*En}let J=V+Y;if(H&1||H>13||H<4)throw new Q;let me=(13-H)/2,xe=fe.SYMBOL_WIDEST[me],de=9-xe,nt=xt.getRSSvalue(_,xe,!0),Ye=xt.getRSSvalue(C,de,!1),Wt=fe.EVEN_TOTAL_SUBSET[me],zn=fe.GSUM[me],Un=nt*Wt+Ye+zn;return new Ke(Un,J)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=it.sum(new Int32Array(this.getOddCounts())),s=it.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let h=!1,p=!1;s>13?p=!0:s<4&&(h=!0);let m=i+s-n,_=(i&1)==1,C=(s&1)==0;if(m==1)if(_){if(C)throw new Q;u=!0}else{if(!C)throw new Q;p=!0}else if(m==-1)if(_){if(C)throw new Q;l=!0}else{if(!C)throw new Q;h=!0}else if(m==0){if(_){if(!C)throw new Q;i<s?(l=!0,p=!0):(u=!0,h=!0)}else if(C)throw new Q}else throw new Q;if(l){if(u)throw new Q;fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new Q;fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}fe.SYMBOL_WIDEST=[7,5,4,3,1],fe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],fe.GSUM=[0,348,1388,2948,3988],fe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],fe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],fe.FINDER_PAT_A=0,fe.FINDER_PAT_B=1,fe.FINDER_PAT_C=2,fe.FINDER_PAT_D=3,fe.FINDER_PAT_E=4,fe.FINDER_PAT_F=5,fe.FINDER_PATTERN_SEQUENCES=[[fe.FINDER_PAT_A,fe.FINDER_PAT_A],[fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B],[fe.FINDER_PAT_A,fe.FINDER_PAT_C,fe.FINDER_PAT_B,fe.FINDER_PAT_D],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_C],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_D,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_D],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_E],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F]],fe.MAX_PAIRS=11;class qu extends Ke{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Yt extends Qe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const l=this.decodePair(i,!1,n,s);Yt.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,n,s);Yt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&Yt.checkChecksum(h,p))return Yt.constructResult(h,p)}throw new Q}static addOrTally(n,i){if(i==null)return;let s=!1;for(let l of n)if(l.getValue()===i.getValue()){l.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),l=new String(s).toString(),u=new Je;for(let _=13-l.length;_>0;_--)u.append("0");u.append(l);let h=0;for(let _=0;_<13;_++){let C=u.charAt(_).charCodeAt(0)-"0".charCodeAt(0);h+=_&1?C:3*C}h=10-h%10,h===10&&(h=0),u.append(h.toString());let p=n.getFinderPattern().getResultPoints(),m=i.getFinderPattern().getResultPoints();return new Ge(u.toString(),null,0,[p[0],p[1],m[0],m[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,s===l}decodePair(n,i,s,l){try{let u=this.findFinderPattern(n,i),h=this.parseFoundFinderPattern(n,s,i,u),p=l==null?null:l.get(ie.NEED_RESULT_POINT_CALLBACK);if(p!=null){let C=(u[0]+u[1])/2;i&&(C=n.getSize()-1-C),p.foundPossibleResultPoint(new Ie(C,s))}let m=this.decodeDataCharacter(n,h,!0),_=this.decodeDataCharacter(n,h,!1);return new qu(1597*m.getValue()+_.getValue(),m.getChecksumPortion()+4*_.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(n,i,s){let l=this.getDataCharacterCounters();for(let Y=0;Y<l.length;Y++)l[Y]=0;if(s)kt.recordPatternInReverse(n,i.getStartEnd()[0],l);else{kt.recordPattern(n,i.getStartEnd()[1]+1,l);for(let Y=0,J=l.length-1;Y<J;Y++,J--){let me=l[Y];l[Y]=l[J],l[J]=me}}let u=s?16:15,h=it.sum(new Int32Array(l))/u,p=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Y=0;Y<l.length;Y++){let J=l[Y]/h,me=Math.floor(J+.5);me<1?me=1:me>8&&(me=8);let xe=Math.floor(Y/2);Y&1?(m[xe]=me,C[xe]=J-me):(p[xe]=me,_[xe]=J-me)}this.adjustOddEvenCounts(s,u);let T=0,b=0;for(let Y=p.length-1;Y>=0;Y--)b*=9,b+=p[Y],T+=p[Y];let M=0,H=0;for(let Y=m.length-1;Y>=0;Y--)M*=9,M+=m[Y],H+=m[Y];let V=b+3*M;if(s){if(T&1||T>12||T<4)throw new Q;let Y=(12-T)/2,J=Yt.OUTSIDE_ODD_WIDEST[Y],me=9-J,xe=xt.getRSSvalue(p,J,!1),de=xt.getRSSvalue(m,me,!0),nt=Yt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Ye=Yt.OUTSIDE_GSUM[Y];return new Ke(xe*nt+de+Ye,V)}else{if(H&1||H>10||H<4)throw new Q;let Y=(10-H)/2,J=Yt.INSIDE_ODD_WIDEST[Y],me=9-J,xe=xt.getRSSvalue(p,J,!0),de=xt.getRSSvalue(m,me,!1),nt=Yt.INSIDE_ODD_TOTAL_SUBSET[Y],Ye=Yt.INSIDE_GSUM[Y];return new Ke(de*nt+xe+Ye,V)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=!1,h=0;for(;h<l&&(u=!n.get(h),i!==u);)h++;let p=0,m=h;for(let _=h;_<l;_++)if(n.get(_)!==u)s[p]++;else{if(p===3){if(Qe.isFinderPattern(s))return[m,_];m+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,u=!u}throw new Q}parseFoundFinderPattern(n,i,s,l){let u=n.get(l[0]),h=l[0]-1;for(;h>=0&&u!==n.get(h);)h--;h++;const p=l[0]-h,m=this.getDecodeFinderCounters(),_=new Int32Array(m.length);z.arraycopy(m,0,_,1,m.length-1),_[0]=p;const C=this.parseFinderValue(_,Yt.FINDER_PATTERNS);let T=h,b=l[1];return s&&(T=n.getSize()-1-T,b=n.getSize()-1-b),new dt(C,[h,l[1]],T,b,i)}adjustOddEvenCounts(n,i){let s=it.sum(new Int32Array(this.getOddCounts())),l=it.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,p=!1,m=!1;n?(s>12?h=!0:s<4&&(u=!0),l>12?m=!0:l<4&&(p=!0)):(s>11?h=!0:s<5&&(u=!0),l>10?m=!0:l<4&&(p=!0));let _=s+l-i,C=(s&1)===(n?1:0),T=(l&1)===1;if(_===1)if(C){if(T)throw new Q;h=!0}else{if(!T)throw new Q;m=!0}else if(_===-1)if(C){if(T)throw new Q;u=!0}else{if(!T)throw new Q;p=!0}else if(_===0){if(C){if(!T)throw new Q;s<l?(u=!0,m=!0):(h=!0,p=!0)}else if(T)throw new Q}else throw new Q;if(u){if(h)throw new Q;Qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(m)throw new Q;Qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Yt.OUTSIDE_GSUM=[0,161,961,2015,2715],Yt.INSIDE_GSUM=[0,336,1036,1516],Yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Yt.INSIDE_ODD_WIDEST=[2,4,6,8],Yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ui extends kt{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(ie.POSSIBLE_FORMATS):null,l=n&&n.get(ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ge.EAN_13)||s.includes(ge.UPC_A)||s.includes(ge.EAN_8)||s.includes(ge.UPC_E))&&this.readers.push(new vt(n)),s.includes(ge.CODE_39)&&this.readers.push(new jt(l)),s.includes(ge.CODE_128)&&this.readers.push(new we),s.includes(ge.ITF)&&this.readers.push(new Tt),s.includes(ge.RSS_14)&&this.readers.push(new Yt),s.includes(ge.RSS_EXPANDED)&&this.readers.push(new fe(this.verbose))):(this.readers.push(new vt(n)),this.readers.push(new jt),this.readers.push(new vt(n)),this.readers.push(new we),this.readers.push(new Tt),this.readers.push(new Yt),this.readers.push(new fe(this.verbose)))}decodeRow(n,i,s){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,i,s)}catch{}throw new Q}reset(){this.readers.forEach(n=>n.reset())}}class Ao extends St{constructor(n=500,i){super(new ui(i),n,i)}}class Et{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _t{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(n,i,s,l,u,h){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=h;let p=0;const m=h.getECCodewords(),_=h.getECBlocks();for(let C of _)p+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new X;for(let s of et.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new et(1,10,10,8,8,new Et(5,new _t(1,3))),new et(2,12,12,10,10,new Et(7,new _t(1,5))),new et(3,14,14,12,12,new Et(10,new _t(1,8))),new et(4,16,16,14,14,new Et(12,new _t(1,12))),new et(5,18,18,16,16,new Et(14,new _t(1,18))),new et(6,20,20,18,18,new Et(18,new _t(1,22))),new et(7,22,22,20,20,new Et(20,new _t(1,30))),new et(8,24,24,22,22,new Et(24,new _t(1,36))),new et(9,26,26,24,24,new Et(28,new _t(1,44))),new et(10,32,32,14,14,new Et(36,new _t(1,62))),new et(11,36,36,16,16,new Et(42,new _t(1,86))),new et(12,40,40,18,18,new Et(48,new _t(1,114))),new et(13,44,44,20,20,new Et(56,new _t(1,144))),new et(14,48,48,22,22,new Et(68,new _t(1,174))),new et(15,52,52,24,24,new Et(42,new _t(2,102))),new et(16,64,64,14,14,new Et(56,new _t(2,140))),new et(17,72,72,16,16,new Et(36,new _t(4,92))),new et(18,80,80,18,18,new Et(48,new _t(4,114))),new et(19,88,88,20,20,new Et(56,new _t(4,144))),new et(20,96,96,22,22,new Et(68,new _t(4,174))),new et(21,104,104,24,24,new Et(56,new _t(6,136))),new et(22,120,120,18,18,new Et(68,new _t(6,175))),new et(23,132,132,20,20,new Et(62,new _t(8,163))),new et(24,144,144,22,22,new Et(62,new _t(8,156),new _t(2,155))),new et(25,8,18,6,16,new Et(7,new _t(1,5))),new et(26,8,32,6,14,new Et(11,new _t(1,10))),new et(27,12,26,10,24,new Et(14,new _t(1,16))),new et(28,12,36,10,16,new Et(18,new _t(1,22))),new et(29,16,36,14,16,new Et(24,new _t(1,32))),new et(30,16,48,14,22,new Et(28,new _t(1,49)))]}}et.VERSIONS=et.buildVersions();class pt{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new X;this.version=pt.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new ht(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return et.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,l=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let p=!1,m=!1,_=!1,C=!1;do if(s===u&&l===0&&!p)n[i++]=this.readCorner1(u,h)&255,s-=2,l+=2,p=!0;else if(s===u-2&&l===0&&h&3&&!m)n[i++]=this.readCorner2(u,h)&255,s-=2,l+=2,m=!0;else if(s===u+4&&l===2&&!(h&7)&&!_)n[i++]=this.readCorner3(u,h)&255,s-=2,l+=2,_=!0;else if(s===u-2&&l===0&&(h&7)===4&&!C)n[i++]=this.readCorner4(u,h)&255,s-=2,l+=2,C=!0;else{do s<u&&l>=0&&!this.readMappingMatrix.get(l,s)&&(n[i++]=this.readUtah(s,l,u,h)&255),s-=2,l+=2;while(s>=0&&l<h);s+=1,l+=3;do s>=0&&l<h&&!this.readMappingMatrix.get(l,s)&&(n[i++]=this.readUtah(s,l,u,h)&255),s+=2,l-=2;while(s<u&&l>=0);s+=3,l+=1}while(s<u||l<h);if(i!==this.version.getTotalCodewords())throw new X;return n}readModule(n,i,s,l){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,l){let u=0;return this.readModule(n-2,i-2,s,l)&&(u|=1),u<<=1,this.readModule(n-2,i-1,s,l)&&(u|=1),u<<=1,this.readModule(n-1,i-2,s,l)&&(u|=1),u<<=1,this.readModule(n-1,i-1,s,l)&&(u|=1),u<<=1,this.readModule(n-1,i,s,l)&&(u|=1),u<<=1,this.readModule(n,i-2,s,l)&&(u|=1),u<<=1,this.readModule(n,i-1,s,l)&&(u|=1),u<<=1,this.readModule(n,i,s,l)&&(u|=1),u}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new N("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=i/l|0,p=s/u|0,m=h*l,_=p*u,C=new ht(_,m);for(let T=0;T<h;++T){const b=T*l;for(let M=0;M<p;++M){const H=M*u;for(let V=0;V<l;++V){const Y=T*(l+2)+1+V,J=b+V;for(let me=0;me<u;++me){const xe=M*(u+2)+1+me;if(n.get(xe,Y)){const de=H+me;C.set(de,J)}}}}}return C}}class Lt{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let l=0;const u=s.getECBlocks();for(let V of u)l+=V.getCount();const h=new Array(l);let p=0;for(let V of u)for(let Y=0;Y<V.getCount();Y++){const J=V.getDataCodewords(),me=s.getECCodewords()+J;h[p++]=new Lt(J,new Uint8Array(me))}const _=h[0].codewords.length-s.getECCodewords(),C=_-1;let T=0;for(let V=0;V<C;V++)for(let Y=0;Y<p;Y++)h[Y].codewords[V]=n[T++];const b=i.getVersionNumber()===24,M=b?8:p;for(let V=0;V<M;V++)h[V].codewords[_-1]=n[T++];const H=h[0].codewords.length;for(let V=_;V<H;V++)for(let Y=0;Y<p;Y++){const J=b?(Y+8)%p:Y,me=b&&J>7?V-1:V;h[J].codewords[me]=n[T++]}if(T!==n.length)throw new N;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vi{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new N(""+n);let i=0,s=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(s>0){const h=8-s,p=n<h?n:h,m=h-p,_=255>>8-p<<m;i=(u[l]&_)>>m,n-=p,s+=p,s===8&&(s=0,l++)}if(n>0){for(;n>=8;)i=i<<8|u[l]&255,l++,n-=8;if(n>0){const h=8-n,p=255>>h<<h;i=i<<n|(u[l]&p)>>h,s+=n}}return this.bitOffset=s,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ft;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ft||(Ft={}));class Yn{static decode(n){const i=new Vi(n),s=new Je,l=new Je,u=new Array;let h=Ft.ASCII_ENCODE;do if(h===Ft.ASCII_ENCODE)h=this.decodeAsciiSegment(i,s,l);else{switch(h){case Ft.C40_ENCODE:this.decodeC40Segment(i,s);break;case Ft.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case Ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case Ft.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case Ft.BASE256_ENCODE:this.decodeBase256Segment(i,s,u);break;default:throw new X}h=Ft.ASCII_ENCODE}while(h!==Ft.PAD_ENCODE&&i.available()>0);return l.length()>0&&s.append(l.toString()),new zr(n,s.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,i,s){let l=!1;do{let u=n.readBits(8);if(u===0)throw new X;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),Ft.ASCII_ENCODE;if(u===129)return Ft.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&i.append("0"),i.append(""+h)}else switch(u){case 230:return Ft.C40_ENCODE;case 231:return Ft.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return Ft.ANSIX12_ENCODE;case 239:return Ft.TEXT_ENCODE;case 240:return Ft.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new X;break}}while(n.available()>0);return Ft.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const l=[];let u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),l);for(let p=0;p<3;p++){const m=l[p];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[m];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else throw new X;break;case 1:s?(i.append(String.fromCharCode(m+128)),s=!1):i.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[m];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else switch(m){case 27:i.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new X}u=0;break;case 3:s?(i.append(String.fromCharCode(m+224)),s=!1):i.append(String.fromCharCode(m+96)),u=0;break;default:throw new X}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,l=[],u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),l);for(let p=0;p<3;p++){const m=l[p];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[m];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else throw new X;break;case 1:s?(i.append(String.fromCharCode(m+128)),s=!1):i.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[m];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else switch(m){case 27:i.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new X}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[m];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_),u=0}else throw new X;break;default:throw new X}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),s);for(let u=0;u<3;u++){const h=s[u];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new X;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let l=(n<<8)+i-1,u=Math.floor(l/1600);s[0]=u,l-=u*1600,u=Math.floor(l/40),s[1]=u,s[2]=l-u*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let l=n.readBits(6);if(l===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let l=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),l++);let h;if(u===0?h=n.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(n.readBits(8),l++),h<0)throw new X;const p=new Uint8Array(h);for(let m=0;m<h;m++){if(n.available()<8)throw new X;p[m]=this.unrandomize255State(n.readBits(8),l++)}s.push(p);try{i.append(Ve.decode(p,Se.ISO88591))}catch(m){throw new Gn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(n,i){const s=149*i%255+1,l=n-s;return l>=0?l:l+256}}Yn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Yn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Yn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Yn.TEXT_SHIFT2_SET_CHARS=Yn.C40_SHIFT2_SET_CHARS,Yn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class js{constructor(){this.rsDecoder=new si(lt.DATA_MATRIX_FIELD_256)}decode(n){const i=new pt(n),s=i.getVersion(),l=i.readCodewords(),u=Lt.getDataBlocks(l,s);let h=0;for(let _ of u)h+=_.getNumDataCodewords();const p=new Uint8Array(h),m=u.length;for(let _=0;_<m;_++){const C=u[_],T=C.getCodewords(),b=C.getNumDataCodewords();this.correctErrors(T,b);for(let M=0;M<b;M++)p[M*m+_]=T[M]}return Yn.decode(p)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new W}for(let l=0;l<i;l++)n[l]=s[l]}}class Le{constructor(n){this.image=n,this.rectangleDetector=new ir(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new Q;i=this.shiftToModuleCenter(i);const s=i[0],l=i[1],u=i[2],h=i[3];let p=this.transitionsBetween(s,h)+1,m=this.transitionsBetween(u,h)+1;(p&1)===1&&(p+=1),(m&1)===1&&(m+=1),4*p<7*m&&4*m<7*p&&(p=m=Math.max(p,m));let _=Le.sampleGrid(this.image,s,l,u,h,p,m);return new Vr(_,[s,l,u,h])}static shiftPoint(n,i,s){let l=(i.getX()-n.getX())/(s+1),u=(i.getY()-n.getY())/(s+1);return new Ie(n.getX()+l,n.getY()+u)}static moveAway(n,i,s){let l=n.getX(),u=n.getY();return l<i?l-=1:l+=1,u<s?u-=1:u+=1,new Ie(l,u)}detectSolid1(n){let i=n[0],s=n[1],l=n[3],u=n[2],h=this.transitionsBetween(i,s),p=this.transitionsBetween(s,l),m=this.transitionsBetween(l,u),_=this.transitionsBetween(u,i),C=h,T=[u,i,s,l];return C>p&&(C=p,T[0]=i,T[1]=s,T[2]=l,T[3]=u),C>m&&(C=m,T[0]=s,T[1]=l,T[2]=u,T[3]=i),C>_&&(T[0]=l,T[1]=u,T[2]=i,T[3]=s),T}detectSolid2(n){let i=n[0],s=n[1],l=n[2],u=n[3],h=this.transitionsBetween(i,u),p=Le.shiftPoint(s,l,(h+1)*4),m=Le.shiftPoint(l,s,(h+1)*4),_=this.transitionsBetween(p,i),C=this.transitionsBetween(m,u);return _<C?(n[0]=i,n[1]=s,n[2]=l,n[3]=u):(n[0]=s,n[1]=l,n[2]=u,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],l=n[2],u=n[3],h=this.transitionsBetween(i,u),p=this.transitionsBetween(s,u),m=Le.shiftPoint(i,s,(p+1)*4),_=Le.shiftPoint(l,s,(h+1)*4);h=this.transitionsBetween(m,u),p=this.transitionsBetween(_,u);let C=new Ie(u.getX()+(l.getX()-s.getX())/(h+1),u.getY()+(l.getY()-s.getY())/(h+1)),T=new Ie(u.getX()+(i.getX()-s.getX())/(p+1),u.getY()+(i.getY()-s.getY())/(p+1));if(!this.isValid(C))return this.isValid(T)?T:null;if(!this.isValid(T))return C;let b=this.transitionsBetween(m,C)+this.transitionsBetween(_,C),M=this.transitionsBetween(m,T)+this.transitionsBetween(_,T);return b>M?C:T}shiftToModuleCenter(n){let i=n[0],s=n[1],l=n[2],u=n[3],h=this.transitionsBetween(i,u)+1,p=this.transitionsBetween(l,u)+1,m=Le.shiftPoint(i,s,p*4),_=Le.shiftPoint(l,s,h*4);h=this.transitionsBetween(m,u)+1,p=this.transitionsBetween(_,u)+1,(h&1)===1&&(h+=1),(p&1)===1&&(p+=1);let C=(i.getX()+s.getX()+l.getX()+u.getX())/4,T=(i.getY()+s.getY()+l.getY()+u.getY())/4;i=Le.moveAway(i,C,T),s=Le.moveAway(s,C,T),l=Le.moveAway(l,C,T),u=Le.moveAway(u,C,T);let b,M;return m=Le.shiftPoint(i,s,p*4),m=Le.shiftPoint(m,u,h*4),b=Le.shiftPoint(s,i,p*4),b=Le.shiftPoint(b,l,h*4),_=Le.shiftPoint(l,u,p*4),_=Le.shiftPoint(_,s,h*4),M=Le.shiftPoint(u,l,p*4),M=Le.shiftPoint(M,i,h*4),[m,b,_,M]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,l,u,h,p){return or.getInstance().sampleGrid(n,h,p,.5,.5,h-.5,.5,h-.5,p-.5,.5,p-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),p=Math.abs(h-l)>Math.abs(u-s);if(p){let V=s;s=l,l=V,V=u,u=h,h=V}let m=Math.abs(u-s),_=Math.abs(h-l),C=-m/2,T=l<h?1:-1,b=s<u?1:-1,M=0,H=this.image.get(p?l:s,p?s:l);for(let V=s,Y=l;V!==u;V+=b){let J=this.image.get(p?Y:V,p?V:Y);if(J!==H&&(M++,H=J),C+=_,C>0){if(Y===h)break;Y+=T,C-=m}}return M}}class It{constructor(){this.decoder=new js}decode(n,i=null){let s,l;if(i!=null&&i.has(ie.PURE_BARCODE)){const _=It.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(_),l=It.NO_POINTS}else{const _=new Le(n.getBlackMatrix()).detect();s=this.decoder.decode(_.getBits()),l=_.getPoints()}const u=s.getRawBytes(),h=new Ge(s.getText(),u,8*u.length,l,ge.DATA_MATRIX,z.currentTimeMillis()),p=s.getByteSegments();p!=null&&h.putMetadata(yt.BYTE_SEGMENTS,p);const m=s.getECLevel();return m!=null&&h.putMetadata(yt.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new Q;const l=this.moduleSize(i,n);let u=i[1];const h=s[1];let p=i[0];const _=(s[0]-p+1)/l,C=(h-u+1)/l;if(_<=0||C<=0)throw new Q;const T=l/2;u+=T,p+=T;const b=new ht(_,C);for(let M=0;M<C;M++){const H=u+M*l;for(let V=0;V<_;V++)n.get(p+V*l,H)&&b.set(V,M)}return b}static moduleSize(n,i){const s=i.getWidth();let l=n[0];const u=n[1];for(;l<s&&i.get(l,u);)l++;if(l===s)throw new Q;const h=l-n[0];if(h===0)throw new Q;return h}}It.NO_POINTS=[];class Hs extends St{constructor(n=500){super(new It,n)}}var Xr;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(Xr||(Xr={}));class tt{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,tt.FOR_BITS.set(s,this),tt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new I(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof tt))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=tt.FOR_BITS.size)throw new N;return tt.FOR_BITS.get(n)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(Xr.L,"L",1),tt.M=new tt(Xr.M,"M",0),tt.Q=new tt(Xr.Q,"Q",3),tt.H=new tt(Xr.H,"H",2);class Tn{constructor(n){this.errorCorrectionLevel=tt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return B.bitCount(n^i)}static decodeFormatInformation(n,i){const s=Tn.doDecodeFormatInformation(n,i);return s!==null?s:Tn.doDecodeFormatInformation(n^Tn.FORMAT_INFO_MASK_QR,i^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,l=0;for(const u of Tn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===n||h===i)return new Tn(u[1]);let p=Tn.numBitsDiffering(n,h);p<s&&(l=u[1],s=p),n!==i&&(p=Tn.numBitsDiffering(i,h),p<s&&(l=u[1],s=p))}return s<=3?new Tn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Tn))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let l=0;const u=s[0].getECCodewordsPerBlock(),h=s[0].getECBlocks();for(const p of h)l+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new X;try{return this.getVersionForNumber((n-17)/4)}catch{throw new X}}static getVersionForNumber(n){if(n<1||n>40)throw new N;return ve.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let l=0;l<ve.VERSION_DECODE_INFO.length;l++){const u=ve.VERSION_DECODE_INFO[l];if(u===n)return ve.getVersionForNumber(l+7);const h=Tn.numBitsDiffering(n,u);h<i&&(s=l+7,i=h)}return i<=3?ve.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new ht(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let l=0;l<s;l++){const u=this.alignmentPatternCenters[l]-2;for(let h=0;h<s;h++)l===0&&(h===0||h===s-1)||l===s-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ve.VERSIONS=[new ve(1,new Int32Array(0),new K(7,new O(1,19)),new K(10,new O(1,16)),new K(13,new O(1,13)),new K(17,new O(1,9))),new ve(2,Int32Array.from([6,18]),new K(10,new O(1,34)),new K(16,new O(1,28)),new K(22,new O(1,22)),new K(28,new O(1,16))),new ve(3,Int32Array.from([6,22]),new K(15,new O(1,55)),new K(26,new O(1,44)),new K(18,new O(2,17)),new K(22,new O(2,13))),new ve(4,Int32Array.from([6,26]),new K(20,new O(1,80)),new K(18,new O(2,32)),new K(26,new O(2,24)),new K(16,new O(4,9))),new ve(5,Int32Array.from([6,30]),new K(26,new O(1,108)),new K(24,new O(2,43)),new K(18,new O(2,15),new O(2,16)),new K(22,new O(2,11),new O(2,12))),new ve(6,Int32Array.from([6,34]),new K(18,new O(2,68)),new K(16,new O(4,27)),new K(24,new O(4,19)),new K(28,new O(4,15))),new ve(7,Int32Array.from([6,22,38]),new K(20,new O(2,78)),new K(18,new O(4,31)),new K(18,new O(2,14),new O(4,15)),new K(26,new O(4,13),new O(1,14))),new ve(8,Int32Array.from([6,24,42]),new K(24,new O(2,97)),new K(22,new O(2,38),new O(2,39)),new K(22,new O(4,18),new O(2,19)),new K(26,new O(4,14),new O(2,15))),new ve(9,Int32Array.from([6,26,46]),new K(30,new O(2,116)),new K(22,new O(3,36),new O(2,37)),new K(20,new O(4,16),new O(4,17)),new K(24,new O(4,12),new O(4,13))),new ve(10,Int32Array.from([6,28,50]),new K(18,new O(2,68),new O(2,69)),new K(26,new O(4,43),new O(1,44)),new K(24,new O(6,19),new O(2,20)),new K(28,new O(6,15),new O(2,16))),new ve(11,Int32Array.from([6,30,54]),new K(20,new O(4,81)),new K(30,new O(1,50),new O(4,51)),new K(28,new O(4,22),new O(4,23)),new K(24,new O(3,12),new O(8,13))),new ve(12,Int32Array.from([6,32,58]),new K(24,new O(2,92),new O(2,93)),new K(22,new O(6,36),new O(2,37)),new K(26,new O(4,20),new O(6,21)),new K(28,new O(7,14),new O(4,15))),new ve(13,Int32Array.from([6,34,62]),new K(26,new O(4,107)),new K(22,new O(8,37),new O(1,38)),new K(24,new O(8,20),new O(4,21)),new K(22,new O(12,11),new O(4,12))),new ve(14,Int32Array.from([6,26,46,66]),new K(30,new O(3,115),new O(1,116)),new K(24,new O(4,40),new O(5,41)),new K(20,new O(11,16),new O(5,17)),new K(24,new O(11,12),new O(5,13))),new ve(15,Int32Array.from([6,26,48,70]),new K(22,new O(5,87),new O(1,88)),new K(24,new O(5,41),new O(5,42)),new K(30,new O(5,24),new O(7,25)),new K(24,new O(11,12),new O(7,13))),new ve(16,Int32Array.from([6,26,50,74]),new K(24,new O(5,98),new O(1,99)),new K(28,new O(7,45),new O(3,46)),new K(24,new O(15,19),new O(2,20)),new K(30,new O(3,15),new O(13,16))),new ve(17,Int32Array.from([6,30,54,78]),new K(28,new O(1,107),new O(5,108)),new K(28,new O(10,46),new O(1,47)),new K(28,new O(1,22),new O(15,23)),new K(28,new O(2,14),new O(17,15))),new ve(18,Int32Array.from([6,30,56,82]),new K(30,new O(5,120),new O(1,121)),new K(26,new O(9,43),new O(4,44)),new K(28,new O(17,22),new O(1,23)),new K(28,new O(2,14),new O(19,15))),new ve(19,Int32Array.from([6,30,58,86]),new K(28,new O(3,113),new O(4,114)),new K(26,new O(3,44),new O(11,45)),new K(26,new O(17,21),new O(4,22)),new K(26,new O(9,13),new O(16,14))),new ve(20,Int32Array.from([6,34,62,90]),new K(28,new O(3,107),new O(5,108)),new K(26,new O(3,41),new O(13,42)),new K(30,new O(15,24),new O(5,25)),new K(28,new O(15,15),new O(10,16))),new ve(21,Int32Array.from([6,28,50,72,94]),new K(28,new O(4,116),new O(4,117)),new K(26,new O(17,42)),new K(28,new O(17,22),new O(6,23)),new K(30,new O(19,16),new O(6,17))),new ve(22,Int32Array.from([6,26,50,74,98]),new K(28,new O(2,111),new O(7,112)),new K(28,new O(17,46)),new K(30,new O(7,24),new O(16,25)),new K(24,new O(34,13))),new ve(23,Int32Array.from([6,30,54,78,102]),new K(30,new O(4,121),new O(5,122)),new K(28,new O(4,47),new O(14,48)),new K(30,new O(11,24),new O(14,25)),new K(30,new O(16,15),new O(14,16))),new ve(24,Int32Array.from([6,28,54,80,106]),new K(30,new O(6,117),new O(4,118)),new K(28,new O(6,45),new O(14,46)),new K(30,new O(11,24),new O(16,25)),new K(30,new O(30,16),new O(2,17))),new ve(25,Int32Array.from([6,32,58,84,110]),new K(26,new O(8,106),new O(4,107)),new K(28,new O(8,47),new O(13,48)),new K(30,new O(7,24),new O(22,25)),new K(30,new O(22,15),new O(13,16))),new ve(26,Int32Array.from([6,30,58,86,114]),new K(28,new O(10,114),new O(2,115)),new K(28,new O(19,46),new O(4,47)),new K(28,new O(28,22),new O(6,23)),new K(30,new O(33,16),new O(4,17))),new ve(27,Int32Array.from([6,34,62,90,118]),new K(30,new O(8,122),new O(4,123)),new K(28,new O(22,45),new O(3,46)),new K(30,new O(8,23),new O(26,24)),new K(30,new O(12,15),new O(28,16))),new ve(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new O(3,117),new O(10,118)),new K(28,new O(3,45),new O(23,46)),new K(30,new O(4,24),new O(31,25)),new K(30,new O(11,15),new O(31,16))),new ve(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new O(7,116),new O(7,117)),new K(28,new O(21,45),new O(7,46)),new K(30,new O(1,23),new O(37,24)),new K(30,new O(19,15),new O(26,16))),new ve(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new O(5,115),new O(10,116)),new K(28,new O(19,47),new O(10,48)),new K(30,new O(15,24),new O(25,25)),new K(30,new O(23,15),new O(25,16))),new ve(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new O(13,115),new O(3,116)),new K(28,new O(2,46),new O(29,47)),new K(30,new O(42,24),new O(1,25)),new K(30,new O(23,15),new O(28,16))),new ve(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new O(17,115)),new K(28,new O(10,46),new O(23,47)),new K(30,new O(10,24),new O(35,25)),new K(30,new O(19,15),new O(35,16))),new ve(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new O(17,115),new O(1,116)),new K(28,new O(14,46),new O(21,47)),new K(30,new O(29,24),new O(19,25)),new K(30,new O(11,15),new O(46,16))),new ve(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new O(13,115),new O(6,116)),new K(28,new O(14,46),new O(23,47)),new K(30,new O(44,24),new O(7,25)),new K(30,new O(59,16),new O(1,17))),new ve(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new O(12,121),new O(7,122)),new K(28,new O(12,47),new O(26,48)),new K(30,new O(39,24),new O(14,25)),new K(30,new O(22,15),new O(41,16))),new ve(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new O(6,121),new O(14,122)),new K(28,new O(6,47),new O(34,48)),new K(30,new O(46,24),new O(10,25)),new K(30,new O(2,15),new O(64,16))),new ve(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new O(17,122),new O(4,123)),new K(28,new O(29,46),new O(14,47)),new K(30,new O(49,24),new O(10,25)),new K(30,new O(24,15),new O(46,16))),new ve(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new O(4,122),new O(18,123)),new K(28,new O(13,46),new O(32,47)),new K(30,new O(48,24),new O(14,25)),new K(30,new O(42,15),new O(32,16))),new ve(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new O(20,117),new O(4,118)),new K(28,new O(40,47),new O(7,48)),new K(30,new O(43,24),new O(22,25)),new K(30,new O(10,15),new O(67,16))),new ve(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new O(19,118),new O(6,119)),new K(28,new O(18,47),new O(31,48)),new K(30,new O(34,24),new O(34,25)),new K(30,new O(20,15),new O(61,16)))];var zt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(zt||(zt={}));class In{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let l=0;l<i;l++)this.isMasked(s,l)&&n.flip(l,s)}}In.values=new Map([[zt.DATA_MASK_000,new In(zt.DATA_MASK_000,(S,n)=>(S+n&1)===0)],[zt.DATA_MASK_001,new In(zt.DATA_MASK_001,(S,n)=>(S&1)===0)],[zt.DATA_MASK_010,new In(zt.DATA_MASK_010,(S,n)=>n%3===0)],[zt.DATA_MASK_011,new In(zt.DATA_MASK_011,(S,n)=>(S+n)%3===0)],[zt.DATA_MASK_100,new In(zt.DATA_MASK_100,(S,n)=>(Math.floor(S/2)+Math.floor(n/3)&1)===0)],[zt.DATA_MASK_101,new In(zt.DATA_MASK_101,(S,n)=>S*n%6===0)],[zt.DATA_MASK_110,new In(zt.DATA_MASK_110,(S,n)=>S*n%6<3)],[zt.DATA_MASK_111,new In(zt.DATA_MASK_111,(S,n)=>(S+n+S*n%3&1)===0)]]);class So{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new X;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const i=this.bitMatrix.getHeight();let s=0;const l=i-7;for(let u=i-1;u>=l;u--)s=this.copyBit(8,u,s);for(let u=i-8;u<i;u++)s=this.copyBit(u,8,s);if(this.parsedFormatInfo=Tn.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return ve.getVersionForNumber(i);let s=0;const l=n-11;for(let h=5;h>=0;h--)for(let p=n-9;p>=l;p--)s=this.copyBit(p,h,s);let u=ve.decodeVersionInformation(s);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;s=0;for(let h=5;h>=0;h--)for(let p=n-9;p>=l;p--)s=this.copyBit(h,p,s);if(u=ve.decodeVersionInformation(s),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new X}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=In.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let h=!0;const p=new Uint8Array(i.getTotalCodewords());let m=0,_=0,C=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let b=0;b<l;b++){const M=h?l-1-b:b;for(let H=0;H<2;H++)u.get(T-H,M)||(C++,_<<=1,this.bitMatrix.get(T-H,M)&&(_|=1),C===8&&(p[m++]=_,C=0,_=0))}h=!h}if(m!==i.getTotalCodewords())throw new X;return p}remask(){if(this.parsedFormatInfo===null)return;const n=In.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let l=i+1,u=n.getHeight();l<u;l++)n.get(i,l)!==n.get(l,i)&&(n.flip(l,i),n.flip(i,l))}}class To{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new N;const l=i.getECBlocksForLevel(s);let u=0;const h=l.getECBlocks();for(const H of h)u+=H.getCount();const p=new Array(u);let m=0;for(const H of h)for(let V=0;V<H.getCount();V++){const Y=H.getDataCodewords(),J=l.getECCodewordsPerBlock()+Y;p[m++]=new To(Y,new Uint8Array(J))}const _=p[0].codewords.length;let C=p.length-1;for(;C>=0&&p[C].codewords.length!==_;)C--;C++;const T=_-l.getECCodewordsPerBlock();let b=0;for(let H=0;H<T;H++)for(let V=0;V<m;V++)p[V].codewords[H]=n[b++];for(let H=C;H<m;H++)p[H].codewords[T]=n[b++];const M=p[0].codewords.length;for(let H=T;H<M;H++)for(let V=0;V<m;V++){const Y=V<C?H:H+1;p[V].codewords[Y]=n[b++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(bn||(bn={}));class De{constructor(n,i,s,l){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=l,De.FOR_BITS.set(l,this),De.FOR_VALUE.set(n,this)}static forBits(n){const i=De.FOR_BITS.get(n);if(i===void 0)throw new N;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof De))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(bn.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(n,i,s,l){const u=new Vi(n);let h=new Je;const p=new Array;let m=-1,_=-1;try{let C=null,T=!1,b;do{if(u.available()<4)b=De.TERMINATOR;else{const M=u.readBits(4);b=De.forBits(M)}switch(b){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:T=!0;break;case De.STRUCTURED_APPEND:if(u.available()<16)throw new X;m=u.readBits(8),_=u.readBits(8);break;case De.ECI:const M=Mt.parseECIValue(u);if(C=re.getCharacterSetECIByValue(M),C===null)throw new X;break;case De.HANZI:const H=u.readBits(4),V=u.readBits(b.getCharacterCountBits(i));H===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(u,h,V);break;default:const Y=u.readBits(b.getCharacterCountBits(i));switch(b){case De.NUMERIC:Mt.decodeNumericSegment(u,h,Y);break;case De.ALPHANUMERIC:Mt.decodeAlphanumericSegment(u,h,Y,T);break;case De.BYTE:Mt.decodeByteSegment(u,h,Y,C,p,l);break;case De.KANJI:Mt.decodeKanjiSegment(u,h,Y);break;default:throw new X}break}}while(b!==De.TERMINATOR)}catch{throw new X}return new zr(n,h.toString(),p.length===0?null:p,s===null?null:s.toString(),m,_)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new X;const l=new Uint8Array(2*s);let u=0;for(;s>0;){const h=n.readBits(13);let p=h/96<<8&4294967295|h%96;p<959?p+=41377:p+=42657,l[u]=p>>8&255,l[u+1]=p&255,u+=2,s--}try{i.append(Ve.decode(l,Se.GB2312))}catch(h){throw new X(h)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new X;const l=new Uint8Array(2*s);let u=0;for(;s>0;){const h=n.readBits(13);let p=h/192<<8&4294967295|h%192;p<7936?p+=33088:p+=49472,l[u]=p>>8,l[u+1]=p,u+=2,s--}try{i.append(Ve.decode(l,Se.SHIFT_JIS))}catch(h){throw new X(h)}}static decodeByteSegment(n,i,s,l,u,h){if(8*s>n.available())throw new X;const p=new Uint8Array(s);for(let _=0;_<s;_++)p[_]=n.readBits(8);let m;l===null?m=Se.guessEncoding(p,h):m=l.getName();try{i.append(Ve.decode(p,m))}catch(_){throw new X(_)}u.push(p)}static toAlphaNumericChar(n){if(n>=Mt.ALPHANUMERIC_CHARS.length)throw new X;return Mt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,l){const u=i.length();for(;s>1;){if(n.available()<11)throw new X;const h=n.readBits(11);i.append(Mt.toAlphaNumericChar(Math.floor(h/45))),i.append(Mt.toAlphaNumericChar(h%45)),s-=2}if(s===1){if(n.available()<6)throw new X;i.append(Mt.toAlphaNumericChar(n.readBits(6)))}if(l)for(let h=u;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,String.fromCharCode(29)))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new X;const l=n.readBits(10);if(l>=1e3)throw new X;i.append(Mt.toAlphaNumericChar(Math.floor(l/100))),i.append(Mt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Mt.toAlphaNumericChar(l%10)),s-=3}if(s===2){if(n.available()<7)throw new X;const l=n.readBits(7);if(l>=100)throw new X;i.append(Mt.toAlphaNumericChar(Math.floor(l/10))),i.append(Mt.toAlphaNumericChar(l%10))}else if(s===1){if(n.available()<4)throw new X;const l=n.readBits(4);if(l>=10)throw new X;i.append(Mt.toAlphaNumericChar(l))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new X}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class Io{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class Vs{constructor(){this.rsDecoder=new si(lt.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(ht.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new So(n);let l=null;try{return this.decodeBitMatrixParser(s,i)}catch(u){l=u}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const u=this.decodeBitMatrixParser(s,i);return u.setOther(new Io(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(n,i){const s=n.readVersion(),l=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),h=To.getDataBlocks(u,s,l);let p=0;for(const C of h)p+=C.getNumDataCodewords();const m=new Uint8Array(p);let _=0;for(const C of h){const T=C.getCodewords(),b=C.getNumDataCodewords();this.correctErrors(T,b);for(let M=0;M<b;M++)m[_++]=T[M]}return Mt.decode(m,s,l,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new W}for(let l=0;l<i;l++)n[l]=s[l]}}class bo extends Ie{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const l=(this.getX()+i)/2,u=(this.getY()+n)/2,h=(this.estimatedModuleSize+s)/2;return new bo(l,u,h)}}class Ei{constructor(n,i,s,l,u,h,p){this.image=n,this.startX=i,this.startY=s,this.width=l,this.height=u,this.moduleSize=h,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,l=n+s,u=this.startY+i/2,h=new Int32Array(3),p=this.image;for(let m=0;m<i;m++){const _=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=n;for(;C<l&&!p.get(C,_);)C++;let T=0;for(;C<l;){if(p.get(C,_))if(T===1)h[1]++;else if(T===2){if(this.foundPatternCross(h)){const b=this.handlePossibleCenter(h,_,C);if(b!==null)return b}h[0]=h[2],h[1]=1,h[2]=0,T=1}else h[++T]++;else T===1&&T++,h[T]++;C++}if(this.foundPatternCross(h)){const b=this.handlePossibleCenter(h,_,l);if(b!==null)return b}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let l=0;l<3;l++)if(Math.abs(i-n[l])>=s)return!1;return!0}crossCheckVertical(n,i,s,l){const u=this.image,h=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let m=n;for(;m>=0&&u.get(i,m)&&p[1]<=s;)p[1]++,m--;if(m<0||p[1]>s)return NaN;for(;m>=0&&!u.get(i,m)&&p[0]<=s;)p[0]++,m--;if(p[0]>s)return NaN;for(m=n+1;m<h&&u.get(i,m)&&p[1]<=s;)p[1]++,m++;if(m===h||p[1]>s)return NaN;for(;m<h&&!u.get(i,m)&&p[2]<=s;)p[2]++,m++;if(p[2]>s)return NaN;const _=p[0]+p[1]+p[2];return 5*Math.abs(_-l)>=2*l?NaN:this.foundPatternCross(p)?Ei.centerFromEnd(p,m):NaN}handlePossibleCenter(n,i,s){const l=n[0]+n[1]+n[2],u=Ei.centerFromEnd(n,s),h=this.crossCheckVertical(i,u,2*n[1],l);if(!isNaN(h)){const p=(n[0]+n[1]+n[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(p,h,u))return _.combineEstimate(h,u,p);const m=new bo(u,h,p);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Ko extends Ie{constructor(n,i,s,l){super(n,i),this.estimatedModuleSize=s,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const l=this.count+1,u=(this.count*this.getX()+i)/l,h=(this.count*this.getY()+n)/l,p=(this.count*this.estimatedModuleSize+s)/l;return new Ko(u,h,p,l)}}class Ws{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pn{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(ie.TRY_HARDER)!==void 0,s=n!=null&&n.get(ie.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),h=l.getWidth();let p=Math.floor(3*u/(4*pn.MAX_MODULES));(p<pn.MIN_SKIP||i)&&(p=pn.MIN_SKIP);let m=!1;const _=new Int32Array(5);for(let T=p-1;T<u&&!m;T+=p){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let b=0;for(let M=0;M<h;M++)if(l.get(M,T))(b&1)===1&&b++,_[b]++;else if(b&1)_[b]++;else if(b===4)if(pn.foundPatternCross(_)){if(this.handlePossibleCenter(_,T,M,s)===!0)if(p=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const V=this.findRowSkip();V>_[2]&&(T+=V-_[2]-p,M=h-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,b=3;continue}b=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,b=3;else _[++b]++;pn.foundPatternCross(_)&&this.handlePossibleCenter(_,T,h,s)===!0&&(p=_[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ie.orderBestPatterns(C),new Ws(C)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let u=0;u<5;u++){const h=n[u];if(h===0)return!1;i+=h}if(i<7)return!1;const s=i/7,l=s/2;return Math.abs(s-n[0])<l&&Math.abs(s-n[1])<l&&Math.abs(3*s-n[2])<3*l&&Math.abs(s-n[3])<l&&Math.abs(s-n[4])<l}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,l){const u=this.getCrossCheckStateCount();let h=0;const p=this.image;for(;n>=h&&i>=h&&p.get(i-h,n-h);)u[2]++,h++;if(n<h||i<h)return!1;for(;n>=h&&i>=h&&!p.get(i-h,n-h)&&u[1]<=s;)u[1]++,h++;if(n<h||i<h||u[1]>s)return!1;for(;n>=h&&i>=h&&p.get(i-h,n-h)&&u[0]<=s;)u[0]++,h++;if(u[0]>s)return!1;const m=p.getHeight(),_=p.getWidth();for(h=1;n+h<m&&i+h<_&&p.get(i+h,n+h);)u[2]++,h++;if(n+h>=m||i+h>=_)return!1;for(;n+h<m&&i+h<_&&!p.get(i+h,n+h)&&u[3]<s;)u[3]++,h++;if(n+h>=m||i+h>=_||u[3]>=s)return!1;for(;n+h<m&&i+h<_&&p.get(i+h,n+h)&&u[4]<s;)u[4]++,h++;if(u[4]>=s)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-l)<2*l&&pn.foundPatternCross(u)}crossCheckVertical(n,i,s,l){const u=this.image,h=u.getHeight(),p=this.getCrossCheckStateCount();let m=n;for(;m>=0&&u.get(i,m);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(i,m)&&p[1]<=s;)p[1]++,m--;if(m<0||p[1]>s)return NaN;for(;m>=0&&u.get(i,m)&&p[0]<=s;)p[0]++,m--;if(p[0]>s)return NaN;for(m=n+1;m<h&&u.get(i,m);)p[2]++,m++;if(m===h)return NaN;for(;m<h&&!u.get(i,m)&&p[3]<s;)p[3]++,m++;if(m===h||p[3]>=s)return NaN;for(;m<h&&u.get(i,m)&&p[4]<s;)p[4]++,m++;if(p[4]>=s)return NaN;const _=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(_-l)>=2*l?NaN:pn.foundPatternCross(p)?pn.centerFromEnd(p,m):NaN}crossCheckHorizontal(n,i,s,l){const u=this.image,h=u.getWidth(),p=this.getCrossCheckStateCount();let m=n;for(;m>=0&&u.get(m,i);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,i)&&p[1]<=s;)p[1]++,m--;if(m<0||p[1]>s)return NaN;for(;m>=0&&u.get(m,i)&&p[0]<=s;)p[0]++,m--;if(p[0]>s)return NaN;for(m=n+1;m<h&&u.get(m,i);)p[2]++,m++;if(m===h)return NaN;for(;m<h&&!u.get(m,i)&&p[3]<s;)p[3]++,m++;if(m===h||p[3]>=s)return NaN;for(;m<h&&u.get(m,i)&&p[4]<s;)p[4]++,m++;if(p[4]>=s)return NaN;const _=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(_-l)>=l?NaN:pn.foundPatternCross(p)?pn.centerFromEnd(p,m):NaN}handlePossibleCenter(n,i,s,l){const u=n[0]+n[1]+n[2]+n[3]+n[4];let h=pn.centerFromEnd(n,s),p=this.crossCheckVertical(i,Math.floor(h),n[2],u);if(!isNaN(p)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(p),n[2],u),!isNaN(h)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(h),n[2],u)))){const m=u/7;let _=!1;const C=this.possibleCenters;for(let T=0,b=C.length;T<b;T++){const M=C[T];if(M.aboutEquals(m,p,h)){C[T]=M.combineEstimate(p,h,m),_=!0;break}}if(!_){const T=new Ko(h,p,m);C.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=pn.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=pn.CENTER_QUORUM&&(n++,i+=h.getEstimatedModuleSize());if(n<3)return!1;const l=i/s;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Q;const i=this.possibleCenters;let s;if(n>3){let l=0,u=0;for(const m of this.possibleCenters){const _=m.getEstimatedModuleSize();l+=_,u+=_*_}s=l/n;let h=Math.sqrt(u/n-s*s);i.sort((m,_)=>{const C=Math.abs(_.getEstimatedModuleSize()-s),T=Math.abs(m.getEstimatedModuleSize()-s);return C<T?-1:C>T?1:0});const p=Math.max(.2*s,h);for(let m=0;m<i.length&&i.length>3;m++){const _=i[m];Math.abs(_.getEstimatedModuleSize()-s)>p&&(i.splice(m,1),m--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();s=l/i.length,i.sort((u,h)=>{if(h.getCount()===u.getCount()){const p=Math.abs(h.getEstimatedModuleSize()-s),m=Math.abs(u.getEstimatedModuleSize()-s);return p<m?1:p>m?-1:0}else return h.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}pn.CENTER_QUORUM=2,pn.MIN_SKIP=3,pn.MAX_MODULES=57;class We{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(ie.NEED_RESULT_POINT_CALLBACK);const s=new pn(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),l=n.getBottomLeft(),u=this.calculateModuleSize(i,s,l);if(u<1)throw new Q("No pattern found in proccess finder.");const h=We.computeDimension(i,s,l,u),p=ve.getProvisionalVersionForDimension(h),m=p.getDimensionForVersion()-7;let _=null;if(p.getAlignmentPatternCenters().length>0){const M=s.getX()-i.getX()+l.getX(),H=s.getY()-i.getY()+l.getY(),V=1-3/m,Y=Math.floor(i.getX()+V*(M-i.getX())),J=Math.floor(i.getY()+V*(H-i.getY()));for(let me=4;me<=16;me<<=1)try{_=this.findAlignmentInRegion(u,Y,J,me);break}catch(xe){if(!(xe instanceof Q))throw xe}}const C=We.createTransform(i,s,l,_,h),T=We.sampleGrid(this.image,C,h);let b;return _===null?b=[l,i,s]:b=[l,i,s,_],new Vr(T,b)}static createTransform(n,i,s,l,u){const h=u-3.5;let p,m,_,C;return l!==null?(p=l.getX(),m=l.getY(),_=h-3,C=_):(p=i.getX()-n.getX()+s.getX(),m=i.getY()-n.getY()+s.getY(),_=h,C=h),Sn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,_,C,3.5,h,n.getX(),n.getY(),i.getX(),i.getY(),p,m,s.getX(),s.getY())}static sampleGrid(n,i,s){return or.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,l){const u=it.round(Ie.distance(n,i)/l),h=it.round(Ie.distance(n,s)/l);let p=Math.floor((u+h)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new Q("Dimensions could be not found.")}return p}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,l){let u=this.sizeOfBlackWhiteBlackRun(n,i,s,l),h=1,p=n-(s-n);p<0?(h=n/(n-p),p=0):p>=this.image.getWidth()&&(h=(this.image.getWidth()-1-n)/(p-n),p=this.image.getWidth()-1);let m=Math.floor(i-(l-i)*h);return h=1,m<0?(h=i/(i-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(m-i),m=this.image.getHeight()-1),p=Math.floor(n+(p-n)*h),u+=this.sizeOfBlackWhiteBlackRun(n,i,p,m),u-1}sizeOfBlackWhiteBlackRun(n,i,s,l){const u=Math.abs(l-i)>Math.abs(s-n);if(u){let M=n;n=i,i=M,M=s,s=l,l=M}const h=Math.abs(s-n),p=Math.abs(l-i);let m=-h/2;const _=n<s?1:-1,C=i<l?1:-1;let T=0;const b=s+_;for(let M=n,H=i;M!==b;M+=_){const V=u?H:M,Y=u?M:H;if(T===1===this.image.get(V,Y)){if(T===2)return it.distance(M,H,n,i);T++}if(m+=p,m>0){if(H===l)break;H+=C,m-=h}}return T===2?it.distance(s+_,l,n,i):NaN}findAlignmentInRegion(n,i,s,l){const u=Math.floor(l*n),h=Math.max(0,i-u),p=Math.min(this.image.getWidth()-1,i+u);if(p-h<n*3)throw new Q("Alignment top exceeds estimated module size.");const m=Math.max(0,s-u),_=Math.min(this.image.getHeight()-1,s+u);if(_-m<n*3)throw new Q("Alignment bottom exceeds estimated module size.");return new Ei(this.image,h,m,p-h,_-m,n,this.resultPointCallback).find()}}class wn{constructor(){this.decoder=new Vs}getDecoder(){return this.decoder}decode(n,i){let s,l;if(i!=null&&i.get(ie.PURE_BARCODE)!==void 0){const m=wn.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(m,i),l=wn.NO_POINTS}else{const m=new We(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(m.getBits(),i),l=m.getPoints()}s.getOther()instanceof Io&&s.getOther().applyMirroredCorrection(l);const u=new Ge(s.getText(),s.getRawBytes(),void 0,l,ge.QR_CODE,void 0),h=s.getByteSegments();h!==null&&u.putMetadata(yt.BYTE_SEGMENTS,h);const p=s.getECLevel();return p!==null&&u.putMetadata(yt.ERROR_CORRECTION_LEVEL,p),s.hasStructuredAppend()&&(u.putMetadata(yt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),u.putMetadata(yt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new Q;const l=this.moduleSize(i,n);let u=i[1],h=s[1],p=i[0],m=s[0];if(p>=m||u>=h)throw new Q;if(h-u!==m-p&&(m=p+(h-u),m>=n.getWidth()))throw new Q;const _=Math.round((m-p+1)/l),C=Math.round((h-u+1)/l);if(_<=0||C<=0)throw new Q;if(C!==_)throw new Q;const T=Math.floor(l/2);u+=T,p+=T;const b=p+Math.floor((_-1)*l)-m;if(b>0){if(b>T)throw new Q;p-=b}const M=u+Math.floor((C-1)*l)-h;if(M>0){if(M>T)throw new Q;u-=M}const H=new ht(_,C);for(let V=0;V<C;V++){const Y=u+Math.floor(V*l);for(let J=0;J<_;J++)n.get(p+Math.floor(J*l),Y)&&H.set(J,V)}return H}static moduleSize(n,i){const s=i.getHeight(),l=i.getWidth();let u=n[0],h=n[1],p=!0,m=0;for(;u<l&&h<s;){if(p!==i.get(u,h)){if(++m===5)break;p=!p}u++,h++}if(u===l||h===s)throw new Q;return(u-n[0])/7}}wn.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(n){return it.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ee.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const l of n)i[s++]=l;return i}static getCodeword(n){const i=D.binarySearch(Ee.SYMBOL_TABLE,n&262143);return i<0?-1:(Ee.CODEWORD_TABLE[i]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ol{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Xe{static detectMultiple(n,i,s){let l=n.getBlackMatrix(),u=Xe.detect(s,l);return u.length||(l=l.clone(),l.rotate180(),u=Xe.detect(s,l)),new ol(l,u)}static detect(n,i){const s=new Array;let l=0,u=0,h=!1;for(;l<i.getHeight();){const p=Xe.findVertices(i,l,u);if(p[0]==null&&p[3]==null){if(!h)break;h=!1,u=0;for(const m of s)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=Xe.ROW_STEP;continue}if(h=!0,s.push(p),!n)break;p[2]!=null?(u=Math.trunc(p[2].getX()),l=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY()))}return s}static findVertices(n,i,s){const l=n.getHeight(),u=n.getWidth(),h=new Array(8);return Xe.copyToResult(h,Xe.findRowsWithPattern(n,l,u,i,s,Xe.START_PATTERN),Xe.INDEXES_START_PATTERN),h[4]!=null&&(s=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),Xe.copyToResult(h,Xe.findRowsWithPattern(n,l,u,i,s,Xe.STOP_PATTERN),Xe.INDEXES_STOP_PATTERN),h}static copyToResult(n,i,s){for(let l=0;l<s.length;l++)n[s[l]]=i[l]}static findRowsWithPattern(n,i,s,l,u,h){const p=new Array(4);let m=!1;const _=new Int32Array(h.length);for(;l<i;l+=Xe.ROW_STEP){let T=Xe.findGuardPattern(n,u,l,s,!1,h,_);if(T!=null){for(;l>0;){const b=Xe.findGuardPattern(n,u,--l,s,!1,h,_);if(b!=null)T=b;else{l++;break}}p[0]=new Ie(T[0],l),p[1]=new Ie(T[1],l),m=!0;break}}let C=l+1;if(m){let T=0,b=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;C<i;C++){const M=Xe.findGuardPattern(n,b[0],C,s,!1,h,_);if(M!=null&&Math.abs(b[0]-M[0])<Xe.MAX_PATTERN_DRIFT&&Math.abs(b[1]-M[1])<Xe.MAX_PATTERN_DRIFT)b=M,T=0;else{if(T>Xe.SKIPPED_ROW_COUNT_MAX)break;T++}}C-=T+1,p[2]=new Ie(b[0],C),p[3]=new Ie(b[1],C)}return C-l<Xe.BARCODE_MIN_HEIGHT&&D.fill(p,null),p}static findGuardPattern(n,i,s,l,u,h,p){D.fillWithin(p,0,p.length,0);let m=i,_=0;for(;n.get(m,s)&&m>0&&_++<Xe.MAX_PIXEL_DRIFT;)m--;let C=m,T=0,b=h.length;for(let M=u;C<l;C++)if(n.get(C,s)!==M)p[T]++;else{if(T===b-1){if(Xe.patternMatchVariance(p,h,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=p[0]+p[1],z.arraycopy(p,2,p,0,T-1),p[T-1]=0,p[T]=0,T--}else T++;p[T]=1,M=!M}return T===b-1&&Xe.patternMatchVariance(p,h,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(n,i,s){let l=n.length,u=0,h=0;for(let _=0;_<l;_++)u+=n[_],h+=i[_];if(u<h)return 1/0;let p=u/h;s*=p;let m=0;for(let _=0;_<l;_++){let C=n[_],T=i[_]*p,b=C>T?C-T:T-C;if(b>s)return 1/0;m+=b}return m/u}}Xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Xe.MAX_AVG_VARIANCE=.42,Xe.MAX_INDIVIDUAL_VARIANCE=.8,Xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Xe.MAX_PIXEL_DRIFT=3,Xe.MAX_PATTERN_DRIFT=5,Xe.SKIPPED_ROW_COUNT_MAX=25,Xe.ROW_STEP=5,Xe.BARCODE_MIN_HEIGHT=10;class un{constructor(n,i){if(i.length===0)throw new N;this.field=n;let s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),z.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],s=this.coefficients.length;for(let l=1;l<s;l++)i=this.field.add(this.field.multiply(n,i),this.coefficients[l]);return i}add(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let h=i;i=s,s=h}let l=new Int32Array(s.length),u=s.length-i.length;z.arraycopy(s,0,l,0,u);for(let h=u;h<s.length;h++)l[h]=this.field.add(i[h-u],s[h]);return new un(this.field,l)}subtract(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof un?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new un(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,l=n.coefficients,u=l.length,h=new Int32Array(s+u-1);for(let p=0;p<s;p++){let m=i[p];for(let _=0;_<u;_++)h[p+_]=this.field.add(h[p+_],this.field.multiply(m,l[_]))}return new un(this.field,h)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new un(this.field,i)}multiplyScalar(n){if(n===0)return new un(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=this.field.multiply(this.coefficients[l],n);return new un(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new N;if(i===0)return new un(this.field,new Int32Array([0]));let s=this.coefficients.length,l=new Int32Array(s+n);for(let u=0;u<s;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new un(this.field,l)}toString(){let n=new Je;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class Zs{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}inverse(n){if(n===0)throw new Ar;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Yr extends Zs{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let l=0;l<n;l++)this.expTable[l]=s,s=s*i%n;for(let l=0;l<n-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new un(this,new Int32Array([0])),this.one=new un(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new N;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new un(this,s)}}Yr.PDF417_GF=new Yr(Ee.NUMBER_OF_CODEWORDS,3);class qo{constructor(){this.field=Yr.PDF417_GF}decode(n,i,s){let l=new un(this.field,n),u=new Int32Array(i),h=!1;for(let H=i;H>0;H--){let V=l.evaluateAt(this.field.exp(H));u[i-H]=V,V!==0&&(h=!0)}if(!h)return 0;let p=this.field.getOne();if(s!=null)for(const H of s){let V=this.field.exp(n.length-1-H),Y=new un(this.field,new Int32Array([this.field.subtract(0,V),1]));p=p.multiply(Y)}let m=new un(this.field,u),_=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),m,i),C=_[0],T=_[1],b=this.findErrorLocations(C),M=this.findErrorMagnitudes(T,C,b);for(let H=0;H<b.length;H++){let V=n.length-1-this.field.log(b[H]);if(V<0)throw W.getChecksumInstance();n[V]=this.field.subtract(n[V],M[H])}return b.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let b=n;n=i,i=b}let l=n,u=i,h=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(s/2);){let b=l,M=h;if(l=u,h=p,l.isZero())throw W.getChecksumInstance();u=b;let H=this.field.getZero(),V=l.getCoefficient(l.getDegree()),Y=this.field.inverse(V);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let J=u.getDegree()-l.getDegree(),me=this.field.multiply(u.getCoefficient(u.getDegree()),Y);H=H.add(this.field.buildMonomial(J,me)),u=u.subtract(l.multiplyByMonomial(J,me))}p=H.multiply(h).subtract(M).negative()}let m=p.getCoefficient(0);if(m===0)throw W.getChecksumInstance();let _=this.field.inverse(m),C=p.multiply(_),T=u.multiply(_);return[C,T]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)n.evaluateAt(u)===0&&(s[l]=this.field.inverse(u),l++);if(l!==i)throw W.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let l=i.getDegree(),u=new Int32Array(l);for(let _=1;_<=l;_++)u[l-_]=this.field.multiply(_,i.getCoefficient(_));let h=new un(this.field,u),p=s.length,m=new Int32Array(p);for(let _=0;_<p;_++){let C=this.field.inverse(s[_]),T=this.field.subtract(0,n.evaluateAt(C)),b=this.field.inverse(h.evaluateAt(C));m[_]=this.field.multiply(T,b)}return m}}class pr{constructor(n,i,s,l,u){n instanceof pr?this.constructor_2(n):this.constructor_1(n,i,s,l,u)}constructor_1(n,i,s,l,u){const h=i==null||s==null,p=l==null||u==null;if(h&&p)throw new Q;h?(i=new Ie(0,l.getY()),s=new Ie(0,u.getY())):p&&(l=new Ie(n.getWidth()-1,i.getY()),u=new Ie(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new pr(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let l=this.topLeft,u=this.bottomLeft,h=this.topRight,p=this.bottomRight;if(n>0){let m=s?this.topLeft:this.topRight,_=Math.trunc(m.getY()-n);_<0&&(_=0);let C=new Ie(m.getX(),_);s?l=C:h=C}if(i>0){let m=s?this.bottomLeft:this.bottomRight,_=Math.trunc(m.getY()+i);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let C=new Ie(m.getX(),_);s?u=C:p=C}return new pr(this.image,l,u,h,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yn{constructor(n,i,s,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class gr{constructor(){this.buffer=""}static form(n,i){let s=-1;function l(h,p,m,_,C,T){if(h==="%%")return"%";if(i[++s]===void 0)return;h=_?parseInt(_.substr(1)):void 0;let b=C?parseInt(C.substr(1)):void 0,M;switch(T){case"s":M=i[s];break;case"c":M=i[s][0];break;case"f":M=parseFloat(i[s]).toFixed(h);break;case"p":M=parseFloat(i[s]).toPrecision(h);break;case"e":M=parseFloat(i[s]).toExponential(h);break;case"x":M=parseInt(i[s]).toString(b||16);break;case"d":M=parseFloat(parseInt(i[s],b||10).toPrecision(h)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(b);let H=parseInt(m),V=m&&m[0]+""=="0"?"0":" ";for(;M.length<H;)M=p!==void 0?M+V:V+M;return M}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}format(n,...i){this.buffer+=gr.form(n,i)}toString(){return this.buffer}}class Wi{constructor(n){this.boundingBox=new pr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<Wi.MAX_NEARBY_DISTANCE;s++){let l=this.imageRowToCodewordIndex(n)-s;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(n)+s,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new gr;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}Wi.MAX_NEARBY_DISTANCE=5;class Zi{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,l]of this.values.entries()){const u={getKey:()=>s,getValue:()=>l};u.getValue()>n?(n=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===n&&i.push(u.getKey())}return Ee.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class sl extends Wi{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,_=1,C=0;for(let T=h;T<p;T++){if(i[T]==null)continue;let b=i[T],M=b.getRowNumber()-m;if(M===0)C++;else if(M===1)_=Math.max(_,C),C=1,m=b.getRowNumber();else if(M<0||b.getRowNumber()>=n.getRowCount()||M>T)i[T]=null;else{let H;_>2?H=(_-2)*M:H=M;let V=H>=T;for(let Y=1;Y<=H&&!V;Y++)V=i[T-Y]!=null;V?i[T]=null:(m=b.getRowNumber(),C=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let l=s.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.getCodewords(),m=-1;for(let _=u;_<h;_++){if(p[_]==null)continue;let C=p[_];C.setRowNumberAsRowIndicatorColumn();let T=C.getRowNumber()-m;T===0||(T===1?m=C.getRowNumber():C.getRowNumber()>=n.getRowCount()?p[_]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Zi,s=new Zi,l=new Zi,u=new Zi;for(let p of n){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let m=p.getValue()%30,_=p.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(m*3+1);break;case 1:u.setValue(m/3),l.setValue(m%3);break;case 2:i.setValue(m+1);break}}if(i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let h=new yn(i.getValue()[0],s.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,h),h}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let l=n[s];if(n[s]==null)continue;let u=l.getValue()%30,h=l.getRowNumber();if(h>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:u+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Gi{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ee.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[s];u!=null&&(u.setRowNumber(n[s].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let p=this.detectionResultColumns[h].getCodewords()[s];p!=null&&(u=Gi.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let p=this.detectionResultColumns[h].getCodewords()[s];p!=null&&(u=Gi.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let l=s[i],u=this.detectionResultColumns[n-1].getCodewords(),h=u;this.detectionResultColumns[n+1]!=null&&(h=this.detectionResultColumns[n+1].getCodewords());let p=new Array(14);p[2]=u[i],p[3]=h[i],i>0&&(p[0]=s[i-1],p[4]=u[i-1],p[5]=h[i-1]),i>1&&(p[8]=s[i-2],p[10]=u[i-2],p[11]=h[i-2]),i<s.length-1&&(p[1]=s[i+1],p[6]=u[i+1],p[7]=h[i+1]),i<s.length-2&&(p[9]=s[i+2],p[12]=u[i+2],p[13]=h[i+2]);for(let m of p)if(Gi.adjustRowNumber(l,m))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new gr;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[s];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ci{constructor(n,i,s,l){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class Fn{static initialize(){for(let n=0;n<Ee.SYMBOL_TABLE.length;n++){let i=Ee.SYMBOL_TABLE[n],s=i&1;for(let l=0;l<Ee.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===s;)u+=1,i>>=1;s=i&1,Fn.RATIOS_TABLE[n]||(Fn.RATIOS_TABLE[n]=new Array(Ee.BARS_IN_MODULE)),Fn.RATIOS_TABLE[n][Ee.BARS_IN_MODULE-l-1]=Math.fround(u/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Fn.getDecodedCodewordValue(Fn.sampleBitCounts(n));return i!==-1?i:Fn.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=it.sum(n),s=new Int32Array(Ee.BARS_IN_MODULE),l=0,u=0;for(let h=0;h<Ee.MODULES_IN_CODEWORD;h++){let p=i/(2*Ee.MODULES_IN_CODEWORD)+h*i/Ee.MODULES_IN_CODEWORD;u+n[l]<=p&&(u+=n[l],l++),s[l]++}return s}static getDecodedCodewordValue(n){let i=Fn.getBitValue(n);return Ee.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let l=0;l<n[s];l++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=it.sum(n),s=new Array(Ee.BARS_IN_MODULE);if(i>1)for(let h=0;h<s.length;h++)s[h]=Math.fround(n[h]/i);let l=Hr.MAX_VALUE,u=-1;this.bSymbolTableReady||Fn.initialize();for(let h=0;h<Fn.RATIOS_TABLE.length;h++){let p=0,m=Fn.RATIOS_TABLE[h];for(let _=0;_<Ee.BARS_IN_MODULE;_++){let C=Math.fround(m[_]-s[_]);if(p+=Math.fround(C*C),p>=l)break}p<l&&(l=p,u=Ee.SYMBOL_TABLE[h])}return u}}Fn.bSymbolTableReady=!1,Fn.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(S=>new Array(Ee.BARS_IN_MODULE));class Gs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class ct{static parseLong(n,i=void 0){return parseInt(n,i)}}class al extends y{}al.kind="NullPointerException";class mr{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new al;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new se;if(s===0)return;for(let l=0;l<s;l++)this.write(n[i+l])}flush(){}close(){}}class Ro extends y{}class ll extends mr{constructor(n=32){if(super(),this.count=0,n<0)throw new N("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new Ro;s=B.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new se;this.ensureCapacity(this.count+s),z.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var bt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bt||(bt={}));function Qo(){if(typeof window<"u")return window.BigInt||null;if(typeof rs<"u")return rs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Jo;function Kr(S){if(typeof Jo>"u"&&(Jo=Qo()),Jo===null)throw new Error("BigInt is not supported!");return Jo(S)}function Qu(){let S=[];S[0]=Kr(1);let n=Kr(900);S[1]=n;for(let i=2;i<16;i++)S[i]=S[i-1]*n;return S}class ${static decode(n,i){let s=new Je(""),l=re.ISO8859_1;s.enableDecoding(l);let u=1,h=n[u++],p=new Gs;for(;u<n[0];){switch(h){case $.TEXT_COMPACTION_MODE_LATCH:u=$.textCompaction(n,u,s);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:u=$.byteCompaction(h,n,l,u,s);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:u=$.numericCompaction(n,u,s);break;case $.ECI_CHARSET:re.getCharacterSetECIByValue(n[u++]);break;case $.ECI_GENERAL_PURPOSE:u+=2;break;case $.ECI_USER_DEFINED:u++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=$.decodeMacroBlock(n,u,p);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new X;default:u--,u=$.textCompaction(n,u,s);break}if(u<n.length)h=n[u++];else throw X.getFormatInstance()}if(s.length()===0)throw X.getFormatInstance();let m=new zr(null,s.toString(),null,i);return m.setOther(p),m}static decodeMacroBlock(n,i,s){if(i+$.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw X.getFormatInstance();let l=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<$.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)l[p]=n[i];s.setSegmentIndex(B.parseInt($.decodeBase900toBase10(l,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Je;i=$.textCompaction(n,i,u),s.setFileId(u.toString());let h=-1;for(n[i]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<n[0];)switch(n[i]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new Je;i=$.textCompaction(n,i+1,p),s.setFileName(p.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Je;i=$.textCompaction(n,i+1,m),s.setSender(m.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new Je;i=$.textCompaction(n,i+1,_),s.setAddressee(_.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Je;i=$.numericCompaction(n,i+1,C),s.setSegmentCount(B.parseInt(C.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Je;i=$.numericCompaction(n,i+1,T),s.setTimestamp(ct.parseLong(T.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new Je;i=$.numericCompaction(n,i+1,b),s.setChecksum(B.parseInt(b.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new Je;i=$.numericCompaction(n,i+1,M),s.setFileSize(ct.parseLong(M.toString()));break;default:throw X.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(h!==-1){let p=i-h;s.isLastSegment()&&p--,s.setOptionalData(D.copyOfRange(n,h,h+p))}return i}static textCompaction(n,i,s){let l=new Int32Array((n[0]-i)*2),u=new Int32Array((n[0]-i)*2),h=0,p=!1;for(;i<n[0]&&!p;){let m=n[i++];if(m<$.TEXT_COMPACTION_MODE_LATCH)l[h]=m/30,l[h+1]=m%30,h+=2;else switch(m){case $.TEXT_COMPACTION_MODE_LATCH:l[h++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[h]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=n[i++],u[h]=m,h++;break}}return $.decodeTextCompaction(l,u,h,s),i}static decodeTextCompaction(n,i,s,l){let u=bt.ALPHA,h=bt.ALPHA,p=0;for(;p<s;){let m=n[p],_="";switch(u){case bt.ALPHA:if(m<26)_=String.fromCharCode(65+m);else switch(m){case 26:_=" ";break;case $.LL:u=bt.LOWER;break;case $.ML:u=bt.MIXED;break;case $.PS:h=u,u=bt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.LOWER:if(m<26)_=String.fromCharCode(97+m);else switch(m){case 26:_=" ";break;case $.AS:h=u,u=bt.ALPHA_SHIFT;break;case $.ML:u=bt.MIXED;break;case $.PS:h=u,u=bt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.MIXED:if(m<$.PL)_=$.MIXED_CHARS[m];else switch(m){case $.PL:u=bt.PUNCT;break;case 26:_=" ";break;case $.LL:u=bt.LOWER;break;case $.AL:u=bt.ALPHA;break;case $.PS:h=u,u=bt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.PUNCT:if(m<$.PAL)_=$.PUNCT_CHARS[m];else switch(m){case $.PAL:u=bt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.ALPHA_SHIFT:if(u=h,m<26)_=String.fromCharCode(65+m);else switch(m){case 26:_=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.PUNCT_SHIFT:if(u=h,m<$.PAL)_=$.PUNCT_CHARS[m];else switch(m){case $.PAL:u=bt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break}_!==""&&l.append(_),p++}}static byteCompaction(n,i,s,l,u){let h=new ll,p=0,m=0,_=!1;switch(n){case $.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),T=i[l++];for(;l<i[0]&&!_;)switch(C[p++]=T,m=900*m+T,T=i[l++],T){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:l--,_=!0;break;default:if(p%5===0&&p>0){for(let b=0;b<6;++b)h.write(Number(Kr(m)>>Kr(8*(5-b))));m=0,p=0}break}l===i[0]&&T<$.TEXT_COMPACTION_MODE_LATCH&&(C[p++]=T);for(let b=0;b<p;b++)h.write(C[b]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!_;){let b=i[l++];if(b<$.TEXT_COMPACTION_MODE_LATCH)p++,m=900*m+b;else switch(b){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:l--,_=!0;break}if(p%5===0&&p>0){for(let M=0;M<6;++M)h.write(Number(Kr(m)>>Kr(8*(5-M))));m=0,p=0}}break}return u.append(Ve.decode(h.toByteArray(),s)),l}static numericCompaction(n,i,s){let l=0,u=!1,h=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!u;){let p=n[i++];if(i===n[0]&&(u=!0),p<$.TEXT_COMPACTION_MODE_LATCH)h[l]=p,l++;else switch(p){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%$.MAX_NUMERIC_CODEWORDS===0||p===$.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(s.append($.decodeBase900toBase10(h,l)),l=0)}return i}static decodeBase900toBase10(n,i){let s=Kr(0);for(let u=0;u<i;u++)s+=$.EXP900[i-u-1]*Kr(n[u]);let l=s.toString();if(l.charAt(0)!=="1")throw new X;return l.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$.EXP900=Qo()?Qu():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(n,i,s,l,u,h,p){let m=new pr(n,i,s,l,u),_=null,C=null,T;for(let H=!0;;H=!1){if(i!=null&&(_=qe.getRowIndicatorColumn(n,m,i,!0,h,p)),l!=null&&(C=qe.getRowIndicatorColumn(n,m,l,!1,h,p)),T=qe.merge(_,C),T==null)throw Q.getNotFoundInstance();let V=T.getBoundingBox();if(H&&V!=null&&(V.getMinY()<m.getMinY()||V.getMaxY()>m.getMaxY()))m=V;else break}T.setBoundingBox(m);let b=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,_),T.setDetectionResultColumn(b,C);let M=_!=null;for(let H=1;H<=b;H++){let V=M?H:b-H;if(T.getDetectionResultColumn(V)!==void 0)continue;let Y;V===0||V===b?Y=new sl(m,V===0):Y=new Wi(m),T.setDetectionResultColumn(V,Y);let J=-1,me=J;for(let xe=m.getMinY();xe<=m.getMaxY();xe++){if(J=qe.getStartColumn(T,V,xe,M),J<0||J>m.getMaxX()){if(me===-1)continue;J=me}let de=qe.detectCodeword(n,m.getMinX(),m.getMaxX(),M,J,xe,h,p);de!=null&&(Y.setCodeword(xe,de),me=J,h=Math.min(h,de.getWidth()),p=Math.max(p,de.getWidth()))}}return qe.createDecoderResult(T)}static merge(n,i){if(n==null&&i==null)return null;let s=qe.getBarcodeMetadata(n,i);if(s==null)return null;let l=pr.merge(qe.adjustBoundingBox(n),qe.adjustBoundingBox(i));return new Gi(s,l)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=qe.getMax(i),l=0;for(let p of i)if(l+=s-p,p>0)break;let u=n.getCodewords();for(let p=0;l>0&&u[p]==null;p++)l--;let h=0;for(let p=i.length-1;p>=0&&(h+=s-i[p],!(i[p]>0));p--);for(let p=u.length-1;h>0&&u[p]==null;p--)h--;return n.getBoundingBox().addMissingRows(l,h,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,l,u,h){let p=new sl(i,l);for(let m=0;m<2;m++){let _=m===0?1:-1,C=Math.trunc(Math.trunc(s.getX()));for(let T=Math.trunc(Math.trunc(s.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=_){let b=qe.detectCodeword(n,0,n.getWidth(),l,C,T,u,h);b!=null&&(p.setCodeword(T,b),l?C=b.getStartX():C=b.getEndX())}}return p}static adjustCodewordCount(n,i){let s=i[0][1],l=s.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-qe.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(u<1||u>Ee.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();s.setValue(u)}else l[0]!==u&&s.setValue(u)}static createDecoderResult(n){let i=qe.createBarcodeMatrix(n);qe.adjustCodewordCount(n,i);let s=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],h=new Array;for(let m=0;m<n.getBarcodeRowCount();m++)for(let _=0;_<n.getBarcodeColumnCount();_++){let C=i[m][_+1].getValue(),T=m*n.getBarcodeColumnCount()+_;C.length===0?s.push(T):C.length===1?l[T]=C[0]:(h.push(T),u.push(C))}let p=new Array(u.length);for(let m=0;m<p.length;m++)p[m]=u[m];return qe.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,Ee.toIntArray(s),Ee.toIntArray(h),p)}static createDecoderResultFromAmbiguousValues(n,i,s,l,u){let h=new Int32Array(l.length),p=100;for(;p-- >0;){for(let m=0;m<h.length;m++)i[l[m]]=u[m][h[m]];try{return qe.decodeCodewords(i,n,s)}catch(m){if(!(m instanceof W))throw m}if(h.length===0)throw W.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<u[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new Zi;let s=0;for(let l of n.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][s].setValue(u.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,l){let u=l?1:-1,h=null;if(qe.isValidBarcodeColumn(n,i-u)&&(h=n.getDetectionResultColumn(i-u).getCodeword(s)),h!=null)return l?h.getEndX():h.getStartX();if(h=n.getDetectionResultColumn(i).getCodewordNearby(s),h!=null)return l?h.getStartX():h.getEndX();if(qe.isValidBarcodeColumn(n,i-u)&&(h=n.getDetectionResultColumn(i-u).getCodewordNearby(s)),h!=null)return l?h.getEndX():h.getStartX();let p=0;for(;qe.isValidBarcodeColumn(n,i-u);){i-=u;for(let m of n.getDetectionResultColumn(i).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+u*p*(m.getEndX()-m.getStartX());p++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,l,u,h,p,m){u=qe.adjustCodewordStartColumn(n,i,s,l,u,h);let _=qe.getModuleBitCount(n,i,s,l,u,h);if(_==null)return null;let C,T=it.sum(_);if(l)C=u+T;else{for(let H=0;H<_.length/2;H++){let V=_[H];_[H]=_[_.length-1-H],_[_.length-1-H]=V}C=u,u=C-T}if(!qe.checkCodewordSkew(T,p,m))return null;let b=Fn.getDecodedValue(_),M=Ee.getCodeword(b);return M===-1?null:new Ci(u,C,qe.getCodewordBucketNumber(b),M)}static getModuleBitCount(n,i,s,l,u,h){let p=u,m=new Int32Array(8),_=0,C=l?1:-1,T=l;for(;(l?p<s:p>=i)&&_<m.length;)n.get(p,h)===T?(m[_]++,p+=C):(_++,T=!T);return _===m.length||p===(l?s:i)&&_===m.length-1?m:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,l,u,h){let p=u,m=l?-1:1;for(let _=0;_<2;_++){for(;(l?p>=i:p<s)&&l===n.get(p,h);){if(Math.abs(u-p)>qe.CODEWORD_SKEW_SIZE)return u;p+=m}m=-m,l=!l}return p}static checkCodewordSkew(n,i,s){return i-qe.CODEWORD_SKEW_SIZE<=n&&n<=s+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw X.getFormatInstance();let l=1<<i+1,u=qe.correctErrors(n,s,l);qe.verifyCodewordCount(n,l);let h=$.decode(n,""+i);return h.setErrorsCorrected(u),h.setErasures(s.length),h}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+qe.MAX_ERRORS||s<0||s>qe.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return qe.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw X.getFormatInstance();let s=n[0];if(s>n.length)throw X.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw X.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,l=i.length-1;for(;!((n&1)!==s&&(s=n&1,l--,l<0));)i[l]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new gr;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let l=0;l<n[s].length;l++){let u=n[s][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new qo;class vn{decode(n,i=null){let s=vn.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw Q.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return vn.decode(n,i,!0)}catch(s){throw s instanceof X||s instanceof W?Q.getNotFoundInstance():s}}static decode(n,i,s){const l=new Array,u=Xe.detectMultiple(n,i,s);for(const h of u.getPoints()){const p=qe.decode(u.getBits(),h[4],h[5],h[6],h[7],vn.getMinCodewordWidth(h),vn.getMaxCodewordWidth(h)),m=new Ge(p.getText(),p.getRawBytes(),void 0,h,ge.PDF_417);m.putMetadata(yt.ERROR_CORRECTION_LEVEL,p.getECLevel());const _=p.getOther();_!=null&&m.putMetadata(yt.PDF417_EXTRA_METADATA,_),l.push(m)}return l.map(h=>h)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?B.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(vn.getMaxWidth(n[0],n[4]),vn.getMaxWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(vn.getMaxWidth(n[1],n[5]),vn.getMaxWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(vn.getMinWidth(n[0],n[4]),vn.getMinWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(vn.getMinWidth(n[1],n[5]),vn.getMinWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class Kn extends y{}Kn.kind="ReaderException";class ul{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!a(n)&&n.get(ie.TRY_HARDER)===!0,s=a(n)?null:n.get(ie.POSSIBLE_FORMATS),l=new Array;if(!a(s)){const u=s.some(h=>h===ge.UPC_A||h===ge.UPC_E||h===ge.EAN_13||h===ge.EAN_8||h===ge.CODABAR||h===ge.CODE_39||h===ge.CODE_93||h===ge.CODE_128||h===ge.ITF||h===ge.RSS_14||h===ge.RSS_EXPANDED);u&&!i&&l.push(new ui(n,this.verbose)),s.includes(ge.QR_CODE)&&l.push(new wn),s.includes(ge.DATA_MATRIX)&&l.push(new It),s.includes(ge.AZTEC)&&l.push(new Wr),s.includes(ge.PDF_417)&&l.push(new vn),u&&i&&l.push(new ui(n,this.verbose))}l.length===0&&(i||l.push(new ui(n,this.verbose)),l.push(new wn),l.push(new It),l.push(new Wr),l.push(new vn),i&&l.push(new ui(n,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Kn("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof Kn)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class cl extends St{constructor(n=null,i=500){const s=new ul;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class ci extends St{constructor(n=500){super(new vn,n)}}class fl extends St{constructor(n=500){super(new wn,n)}}var $o;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})($o||($o={}));var $t=$o;class Xs{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Dt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const l=this.field;for(let u=i.length;u<=n;u++){const h=s.multiply(new Dt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(h),s=h}}return i[n]}encode(n,i){if(i===0)throw new N("No error correction bytes");const s=n.length-i;if(s<=0)throw new N("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(s);z.arraycopy(n,0,u,0,s);let h=new Dt(this.field,u);h=h.multiplyByMonomial(i,1);const m=h.divide(l)[1].getCoefficients(),_=i-m.length;for(let C=0;C<_;C++)n[s+C]=0;z.arraycopy(m,0,n,s+_,m.length)}}class Vt{constructor(){}static applyMaskPenaltyRule1(n){return Vt.applyMaskPenaltyRule1Internal(n,!0)+Vt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let h=0;h<u-1;h++){const p=s[h];for(let m=0;m<l-1;m++){const _=p[m];_===p[m+1]&&_===s[h+1][m]&&_===s[h+1][m+1]&&i++}}return Vt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let h=0;h<u;h++)for(let p=0;p<l;p++){const m=s[h];p+6<l&&m[p]===1&&m[p+1]===0&&m[p+2]===1&&m[p+3]===1&&m[p+4]===1&&m[p+5]===0&&m[p+6]===1&&(Vt.isWhiteHorizontal(m,p-4,p)||Vt.isWhiteHorizontal(m,p+7,p+11))&&i++,h+6<u&&s[h][p]===1&&s[h+1][p]===0&&s[h+2][p]===1&&s[h+3][p]===1&&s[h+4][p]===1&&s[h+5][p]===0&&s[h+6][p]===1&&(Vt.isWhiteVertical(s,p,h-4,h)||Vt.isWhiteVertical(s,p,h+7,h+11))&&i++}return i*Vt.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let l=i;l<s;l++)if(n[l]===1)return!1;return!0}static isWhiteVertical(n,i,s,l){s=Math.max(s,0),l=Math.min(l,n.length);for(let u=s;u<l;u++)if(n[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let m=0;m<u;m++){const _=s[m];for(let C=0;C<l;C++)_[C]===1&&i++}const h=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Vt.N4}static getDataMaskBit(n,i,s){let l,u;switch(n){case 0:l=s+i&1;break;case 1:l=s&1;break;case 2:l=i%3;break;case 3:l=(s+i)%3;break;case 4:l=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:u=s*i,l=(u&1)+u%3;break;case 6:u=s*i,l=(u&1)+u%3&1;break;case 7:u=s*i,l=u%3+(s+i&1)&1;break;default:throw new N("Invalid mask pattern: "+n)}return l===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const l=i?n.getHeight():n.getWidth(),u=i?n.getWidth():n.getHeight(),h=n.getArray();for(let p=0;p<l;p++){let m=0,_=-1;for(let C=0;C<u;C++){const T=i?h[p][C]:h[C][p];T===_?m++:(m>=5&&(s+=Vt.N1+(m-5)),m=1,_=T)}m>=5&&(s+=Vt.N1+(m-5))}return s}}Vt.N1=3,Vt.N2=3,Vt.N3=40,Vt.N4=10;class No{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let l=0;l!==i;l++)s[l]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)D.fill(i,n)}equals(n){if(!(n instanceof No))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,l=this.height;s<l;++s){const u=this.bytes[s],h=i.bytes[s];for(let p=0,m=this.width;p<m;++p)if(u[p]!==h[p])return!1}return!0}toString(){const n=new Je;for(let i=0,s=this.height;i<s;++i){const l=this.bytes[i];for(let u=0,h=this.width;u<h;++u)switch(l[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Ai{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Je;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Ai.NUM_MASK_PATTERNS}}Ai.NUM_MASK_PATTERNS=8;class Nt extends y{}Nt.kind="WriterException";class Ue{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,l,u){Ue.clearMatrix(u),Ue.embedBasicPatterns(s,u),Ue.embedTypeInfo(i,l,u),Ue.maybeEmbedVersionInfo(s,u),Ue.embedDataBits(n,l,u)}static embedBasicPatterns(n,i){Ue.embedPositionDetectionPatternsAndSeparators(i),Ue.embedDarkDotAtLeftBottomCorner(i),Ue.maybeEmbedPositionAdjustmentPatterns(n,i),Ue.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const l=new k;Ue.makeTypeInfoBits(n,i,l);for(let u=0,h=l.getSize();u<h;++u){const p=l.get(l.getSize()-1-u),m=Ue.TYPE_INFO_COORDINATES[u],_=m[0],C=m[1];if(s.setBoolean(_,C,p),u<8){const T=s.getWidth()-u-1,b=8;s.setBoolean(T,b,p)}else{const b=s.getHeight()-7+(u-8);s.setBoolean(8,b,p)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new k;Ue.makeVersionInfoBits(n,s);let l=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const p=s.get(l);l--,i.setBoolean(u,i.getHeight()-11+h,p),i.setBoolean(i.getHeight()-11+h,u,p)}}static embedDataBits(n,i,s){let l=0,u=-1,h=s.getWidth()-1,p=s.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);p>=0&&p<s.getHeight();){for(let m=0;m<2;++m){const _=h-m;if(!Ue.isEmpty(s.get(_,p)))continue;let C;l<n.getSize()?(C=n.get(l),++l):C=!1,i!==255&&Vt.getDataMaskBit(i,_,p)&&(C=!C),s.setBoolean(_,p,C)}p+=u}u=-u,p+=u,h-=2}if(l!==n.getSize())throw new Nt("Not all bits consumed: "+l+"/"+n.getSize())}static findMSBSet(n){return 32-B.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new N("0 polynomial");const s=Ue.findMSBSet(i);for(n<<=s-1;Ue.findMSBSet(n)>=s;)n^=i<<Ue.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!Ai.isValidMaskPattern(i))throw new Nt("Invalid mask pattern");const l=n.getBits()<<3|i;s.appendBits(l,5);const u=Ue.calculateBCHCode(l,Ue.TYPE_INFO_POLY);s.appendBits(u,10);const h=new k;if(h.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),s.xor(h),s.getSize()!==15)throw new Nt("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=Ue.calculateBCHCode(n.getVersionNumber(),Ue.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Nt("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;Ue.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),Ue.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Nt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let l=0;l<8;++l){if(!Ue.isEmpty(s.get(n+l,i)))throw new Nt;s.setNumber(n+l,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let l=0;l<7;++l){if(!Ue.isEmpty(s.get(n,i+l)))throw new Nt;s.setNumber(n,i+l,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let l=0;l<5;++l){const u=Ue.POSITION_ADJUSTMENT_PATTERN[l];for(let h=0;h<5;++h)s.setNumber(n+h,i+l,u[h])}}static embedPositionDetectionPattern(n,i,s){for(let l=0;l<7;++l){const u=Ue.POSITION_DETECTION_PATTERN[l];for(let h=0;h<7;++h)s.setNumber(n+h,i+l,u[h])}}static embedPositionDetectionPatternsAndSeparators(n){const i=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,n),Ue.embedPositionDetectionPattern(n.getWidth()-i,0,n),Ue.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;Ue.embedHorizontalSeparationPattern(0,s-1,n),Ue.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),Ue.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const l=7;Ue.embedVerticalSeparationPattern(l,0,n),Ue.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),Ue.embedVerticalSeparationPattern(l,n.getHeight()-l,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,l=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let u=0,h=l.length;u!==h;u++){const p=l[u];if(p>=0)for(let m=0;m!==h;m++){const _=l[m];_>=0&&Ue.isEmpty(i.get(_,p))&&Ue.embedPositionAdjustmentPattern(_-2,p-2,i)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class Ju{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pt{constructor(){}static calculateMaskPenalty(n){return Vt.applyMaskPenaltyRule1(n)+Vt.applyMaskPenaltyRule2(n)+Vt.applyMaskPenaltyRule3(n)+Vt.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let l=Pt.DEFAULT_BYTE_MODE_ENCODING;const u=s!==null&&s.get($t.CHARACTER_SET)!==void 0;u&&(l=s.get($t.CHARACTER_SET).toString());const h=this.chooseMode(n,l),p=new k;if(h===De.BYTE&&(u||Pt.DEFAULT_BYTE_MODE_ENCODING!==l)){const xe=re.getCharacterSetECIByName(l);xe!==void 0&&this.appendECI(xe,p)}this.appendModeInfo(h,p);const m=new k;this.appendBytes(n,h,m,l);let _;if(s!==null&&s.get($t.QR_VERSION)!==void 0){const xe=Number.parseInt(s.get($t.QR_VERSION).toString(),10);_=ve.getVersionForNumber(xe);const de=this.calculateBitsNeeded(h,p,m,_);if(!this.willFit(de,_,i))throw new Nt("Data too big for requested version")}else _=this.recommendVersion(i,h,p,m);const C=new k;C.appendBitArray(p);const T=h===De.BYTE?m.getSizeInBytes():n.length;this.appendLengthInfo(T,_,h,C),C.appendBitArray(m);const b=_.getECBlocksForLevel(i),M=_.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(M,C);const H=this.interleaveWithECBytes(C,_.getTotalCodewords(),M,b.getNumBlocks()),V=new Ai;V.setECLevel(i),V.setMode(h),V.setVersion(_);const Y=_.getDimensionForVersion(),J=new No(Y,Y),me=this.chooseMaskPattern(H,i,_,J);return V.setMaskPattern(me),Ue.buildMatrix(H,i,_,me,J),V.setMatrix(J),V}static recommendVersion(n,i,s,l){const u=this.calculateBitsNeeded(i,s,l,ve.getVersionForNumber(1)),h=this.chooseVersion(u,n),p=this.calculateBitsNeeded(i,s,l,h);return this.chooseVersion(p,n)}static calculateBitsNeeded(n,i,s,l){return i.getSize()+n.getCharacterCountBits(l)+s.getSize()}static getAlphanumericCode(n){return n<Pt.ALPHANUMERIC_TABLE.length?Pt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(re.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return De.KANJI;let s=!1,l=!1;for(let u=0,h=n.length;u<h;++u){const p=n.charAt(u);if(Pt.isDigit(p))s=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)l=!0;else return De.BYTE}return l?De.ALPHANUMERIC:s?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=Ve.encode(n,re.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let l=0;l<s;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,i,s,l){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let p=0;p<Ai.NUM_MASK_PATTERNS;p++){Ue.buildMatrix(n,i,s,p,l);let m=this.calculateMaskPenalty(l);m<u&&(u=m,h=p)}return h}static chooseVersion(n,i){for(let s=1;s<=40;s++){const l=ve.getVersionForNumber(s);if(Pt.willFit(n,l,i))return l}throw new Nt("Data too big")}static willFit(n,i,s){const l=i.getTotalCodewords(),h=i.getECBlocksForLevel(s).getTotalECCodewords(),p=l-h,m=(n+7)/8;return p>=m}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new Nt("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let h=0;h<4&&i.getSize()<s;++h)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let h=l;h<8;h++)i.appendBit(!1);const u=n-i.getSizeInBytes();for(let h=0;h<u;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==s)throw new Nt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,l,u,h){if(l>=s)throw new Nt("Block ID too large");const p=n%s,m=s-p,_=Math.floor(n/s),C=_+1,T=Math.floor(i/s),b=T+1,M=_-T,H=C-b;if(M!==H)throw new Nt("EC bytes mismatch");if(s!==m+p)throw new Nt("RS blocks mismatch");if(n!==(T+M)*m+(b+H)*p)throw new Nt("Total bytes mismatch");l<m?(u[0]=T,h[0]=M):(u[0]=b,h[0]=H)}static interleaveWithECBytes(n,i,s,l){if(n.getSizeInBytes()!==s)throw new Nt("Number of bits and data bytes does not match");let u=0,h=0,p=0;const m=new Array;for(let C=0;C<l;++C){const T=new Int32Array(1),b=new Int32Array(1);Pt.getNumDataBytesAndNumECBytesForBlockID(i,s,l,C,T,b);const M=T[0],H=new Uint8Array(M);n.toBytes(8*u,H,0,M);const V=Pt.generateECBytes(H,b[0]);m.push(new Ju(H,V)),h=Math.max(h,M),p=Math.max(p,V.length),u+=T[0]}if(s!==u)throw new Nt("Data bytes does not match offset");const _=new k;for(let C=0;C<h;++C)for(const T of m){const b=T.getDataBytes();C<b.length&&_.appendBits(b[C],8)}for(let C=0;C<p;++C)for(const T of m){const b=T.getErrorCorrectionBytes();C<b.length&&_.appendBits(b[C],8)}if(i!==_.getSizeInBytes())throw new Nt("Interleaving error: "+i+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(n,i){const s=n.length,l=new Int32Array(s+i);for(let h=0;h<s;h++)l[h]=n[h]&255;new Xs(lt.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=l[s+h];return u}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,l){const u=s.getCharacterCountBits(i);if(n>=1<<u)throw new Nt(n+" is bigger than "+((1<<u)-1));l.appendBits(n,u)}static appendBytes(n,i,s,l){switch(i){case De.NUMERIC:Pt.appendNumericBytes(n,s);break;case De.ALPHANUMERIC:Pt.appendAlphanumericBytes(n,s);break;case De.BYTE:Pt.append8BitBytes(n,s,l);break;case De.KANJI:Pt.appendKanjiBytes(n,s);break;default:throw new Nt("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Pt.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let l=0;for(;l<s;){const u=Pt.getDigit(n.charAt(l));if(l+2<s){const h=Pt.getDigit(n.charAt(l+1)),p=Pt.getDigit(n.charAt(l+2));i.appendBits(u*100+h*10+p,10),l+=3}else if(l+1<s){const h=Pt.getDigit(n.charAt(l+1));i.appendBits(u*10+h,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(n,i){const s=n.length;let l=0;for(;l<s;){const u=Pt.getAlphanumericCode(n.charCodeAt(l));if(u===-1)throw new Nt;if(l+1<s){const h=Pt.getAlphanumericCode(n.charCodeAt(l+1));if(h===-1)throw new Nt;i.appendBits(u*45+h,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(n,i,s){let l;try{l=Ve.encode(n,s)}catch(u){throw new Nt(u)}for(let u=0,h=l.length;u!==h;u++){const p=l[u];i.appendBits(p,8)}}static appendKanjiBytes(n,i){let s;try{s=Ve.encode(n,re.SJIS)}catch(u){throw new Nt(u)}const l=s.length;for(let u=0;u<l;u+=2){const h=s[u]&255,p=s[u+1]&255,m=h<<8&4294967295|p;let _=-1;if(m>=33088&&m<=40956?_=m-33088:m>=57408&&m<=60351&&(_=m-49472),_===-1)throw new Nt("Invalid byte sequence");const C=(_>>8)*192+(_&255);i.appendBits(C,13)}}static appendECI(n,i){i.appendBits(De.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Pt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pt.DEFAULT_BYTE_MODE_ENCODING=re.UTF8.getName();class fi{write(n,i,s,l=null){if(n.length===0)throw new N("Found empty contents");if(i<0||s<0)throw new N("Requested dimensions are too small: "+i+"x"+s);let u=tt.L,h=fi.QUIET_ZONE_SIZE;l!==null&&(l.get($t.ERROR_CORRECTION)!==void 0&&(u=tt.fromString(l.get($t.ERROR_CORRECTION).toString())),l.get($t.MARGIN)!==void 0&&(h=Number.parseInt(l.get($t.MARGIN).toString(),10)));const p=Pt.encode(n,u,l);return this.renderResult(p,i,s,h)}writeToDom(n,i,s,l,u=null){typeof n=="string"&&(n=document.querySelector(n));const h=this.write(i,s,l,u);n&&n.appendChild(h)}renderResult(n,i,s,l){const u=n.getMatrix();if(u===null)throw new Gn;const h=u.getWidth(),p=u.getHeight(),m=h+l*2,_=p+l*2,C=Math.max(i,m),T=Math.max(s,_),b=Math.min(Math.floor(C/m),Math.floor(T/_)),M=Math.floor((C-h*b)/2),H=Math.floor((T-p*b)/2),V=this.createSVGElement(C,T);for(let Y=0,J=H;Y<p;Y++,J+=b)for(let me=0,xe=M;me<h;me++,xe+=b)if(u.get(me,Y)===1){const de=this.createSvgRectElement(xe,J,b,b);V.appendChild(de)}return V}createSVGElement(n,i){const s=document.createElementNS(fi.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,l){const u=document.createElementNS(fi.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}fi.QUIET_ZONE_SIZE=4,fi.SVG_NS="http://www.w3.org/2000/svg";class qr{encode(n,i,s,l,u){if(n.length===0)throw new N("Found empty contents");if(i!==ge.QR_CODE)throw new N("Can only encode QR_CODE, but got "+i);if(s<0||l<0)throw new N(`Requested dimensions are too small: ${s}x${l}`);let h=tt.L,p=qr.QUIET_ZONE_SIZE;u!==null&&(u.get($t.ERROR_CORRECTION)!==void 0&&(h=tt.fromString(u.get($t.ERROR_CORRECTION).toString())),u.get($t.MARGIN)!==void 0&&(p=Number.parseInt(u.get($t.MARGIN).toString(),10)));const m=Pt.encode(n,h,u);return qr.renderResult(m,s,l,p)}static renderResult(n,i,s,l){const u=n.getMatrix();if(u===null)throw new Gn;const h=u.getWidth(),p=u.getHeight(),m=h+l*2,_=p+l*2,C=Math.max(i,m),T=Math.max(s,_),b=Math.min(Math.floor(C/m),Math.floor(T/_)),M=Math.floor((C-h*b)/2),H=Math.floor((T-p*b)/2),V=new ht(C,T);for(let Y=0,J=H;Y<p;Y++,J+=b)for(let me=0,xe=M;me<h;me++,xe+=b)u.get(me,Y)===1&&V.setRegion(xe,J,b,b);return V}}qr.QUIET_ZONE_SIZE=4;class Si{encode(n,i,s,l,u){let h;switch(i){case ge.QR_CODE:h=new qr;break;default:throw new N("No encoder available for format "+i)}return h.encode(n,i,s,l,u)}}class Sr extends oe{constructor(n,i,s,l,u,h,p,m){if(super(h,p),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=l,this.top=u,l+h>i||u+p>s)throw new N("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,p)}getRow(n,i){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(n+this.top)*this.dataWidth+this.left;return z.arraycopy(this.yuvData,l,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,l=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return z.arraycopy(this.yuvData,u,l,0,s),l;for(let h=0;h<i;h++){const p=h*n;z.arraycopy(this.yuvData,u,l,p,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,s,l){return new Sr(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,l,!1)}renderThumbnail(){const n=this.getWidth()/Sr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Sr.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const p=h*n;for(let m=0;m<n;m++){const _=l[u+m*Sr.THUMBNAIL_SCALE_FACTOR]&255;s[p+m]=4278190080|_*65793}u+=this.dataWidth*Sr.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Sr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Sr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const h=u+n/2;for(let p=u,m=u+n-1;p<h;p++,m--){const _=s[p];s[p]=s[m],s[m]=_}}}invert(){return new Pe(this)}}Sr.THUMBNAIL_SCALE_FACTOR=2;class Ti extends oe{constructor(n,i,s,l,u,h,p){if(super(i,s),this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=p,n.BYTES_PER_ELEMENT===4){const m=i*s,_=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const T=n[C],b=T>>16&255,M=T>>7&510,H=T&255;_[C]=(b+M+H)/4&255}this.luminances=_}else this.luminances=n;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=s),h===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(n+this.top)*this.dataWidth+this.left;return z.arraycopy(this.luminances,l,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,l=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return z.arraycopy(this.luminances,u,l,0,s),l;for(let h=0;h<i;h++){const p=h*n;z.arraycopy(this.luminances,u,l,p,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,s,l){return new Ti(this.luminances,s,l,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new Pe(this)}}class qn extends re{static forName(n){return this.getCharacterSetECIByName(n)}}class es{}es.ISO_8859_1=re.ISO8859_1;class Ys{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class hl{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class Ks{constructor(n){this.previous=n}getPrevious(){return this.previous}}class hi extends Ks{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new hi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+B.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class qs extends hi{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new qs(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $u(S,n,i){return new qs(S,n,i)}function Xi(S,n,i){return new hi(S,n,i)}const ec=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gn=0,Qr=1,sr=2,Tr=3,Ir=4,Yi=new hi(null,0,0),Qs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Oo(S){for(let n of S)D.fill(n,-1);return S[gn][Ir]=0,S[Qr][Ir]=0,S[Qr][gn]=28,S[Tr][Ir]=0,S[sr][Ir]=0,S[sr][gn]=15,S}const Js=Oo(D.createInt32Array(6,6));class Qn{constructor(n,i,s,l){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,l=this.token;if(n!==this.mode){let h=Qs[this.mode][n];l=Xi(l,h&65535,h>>16),s+=h>>16}let u=n===sr?4:5;return l=Xi(l,i,u),new Qn(l,n,0,s+u)}shiftAndAppend(n,i){let s=this.token,l=this.mode===sr?4:5;return s=Xi(s,Js[this.mode][n],l),s=Xi(s,i,5),new Qn(s,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,l=this.bitCount;if(this.mode===Ir||this.mode===sr){let p=Qs[s][gn];i=Xi(i,p&65535,p>>16),l+=p>>16,s=gn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Qn(i,s,this.binaryShiftByteCount+1,l+u);return h.binaryShiftByteCount===2047+31&&(h=h.endBinaryShift(n+1)),h}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=$u(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Qn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(Qs[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=Qn.calculateBinaryShiftCost(n)-Qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let l=this.endBinaryShift(n.length).token;l!==null;l=l.getPrevious())i.unshift(l);let s=new k;for(const l of i)l.appendTo(s,n);return s}toString(){return Se.format("%s bits=%d bytes=%d",ec[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Qn.INITIAL_STATE=new Qn(Yi,gn,0,0);function tc(S){const n=Se.getCharCode(" "),i=Se.getCharCode("."),s=Se.getCharCode(",");S[gn][n]=1;const l=Se.getCharCode("Z"),u=Se.getCharCode("A");for(let b=u;b<=l;b++)S[gn][b]=b-u+2;S[Qr][n]=1;const h=Se.getCharCode("z"),p=Se.getCharCode("a");for(let b=p;b<=h;b++)S[Qr][b]=b-p+2;S[sr][n]=1;const m=Se.getCharCode("9"),_=Se.getCharCode("0");for(let b=_;b<=m;b++)S[sr][b]=b-_+2;S[sr][s]=12,S[sr][i]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let b=0;b<C.length;b++)S[Tr][Se.getCharCode(C[b])]=b;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<T.length;b++)Se.getCharCode(T[b])>0&&(S[Ir][Se.getCharCode(T[b])]=b);return S}const br=tc(D.createInt32Array(5,256));class di{constructor(n){this.text=n}encode(){const n=Se.getCharCode(" "),i=Se.getCharCode(`
`);let s=hl.singletonList(Qn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Se.getCharCode("\r"):h=p===i?2:0;break;case Se.getCharCode("."):h=p===n?3:0;break;case Se.getCharCode(","):h=p===n?4:0;break;case Se.getCharCode(":"):h=p===n?5:0;break;default:h=0}h>0?(s=di.updateStateListForPair(s,u,h),u++):s=this.updateStateListForChar(s,u)}return hl.min(s,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let l of n)this.updateStateForChar(l,i,s);return di.simplifyStates(s)}updateStateForChar(n,i,s){let l=this.text[i]&255,u=br[n.getMode()][l]>0,h=null;for(let p=0;p<=Ir;p++){let m=br[p][l];if(m>0){if(h==null&&(h=n.endBinaryShift(i)),!u||p===n.getMode()||p===sr){const _=h.latchAndAppend(p,m);s.push(_)}if(!u&&Js[n.getMode()][p]>=0){const _=h.shiftAndAppend(p,m);s.push(_)}}}if(n.getBinaryShiftByteCount()>0||br[n.getMode()][l]===0){let p=n.addBinaryShiftChar(i);s.push(p)}}static updateStateListForPair(n,i,s){const l=[];for(let u of n)this.updateStateForPair(u,i,s,l);return this.simplifyStates(l)}static updateStateForPair(n,i,s,l){let u=n.endBinaryShift(i);if(l.push(u.latchAndAppend(Ir,s)),n.getMode()!==Ir&&l.push(u.shiftAndAppend(Ir,s)),s===3||s===4){let h=u.latchAndAppend(sr,16-s).latchAndAppend(sr,1);l.push(h)}if(n.getBinaryShiftByteCount()>0){let h=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(h)}}static simplifyStates(n){let i=[];for(const s of n){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(s)){l=!1;break}s.isBetterThanOrEqualTo(u)&&(i=i.filter(h=>h!==u))}l&&i.push(s)}return i}}class mt{constructor(){}static encodeBytes(n){return mt.encode(n,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let l=new di(n).encode(),u=B.truncDivision(l.getSize()*i,100)+11,h=l.getSize()+u,p,m,_,C,T;if(s!==mt.DEFAULT_AZTEC_LAYERS){if(p=s<0,m=Math.abs(s),m>(p?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new N(Se.format("Illegal value %s for layers",s));_=mt.totalBitsInLayer(m,p),C=mt.WORD_SIZE[m];let de=_-_%C;if(T=mt.stuffBits(l,C),T.getSize()+u>de)throw new N("Data to large for user specified layer");if(p&&T.getSize()>C*64)throw new N("Data to large for user specified layer")}else{C=0,T=null;for(let de=0;;de++){if(de>mt.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(p=de<=3,m=p?de+1:de,_=mt.totalBitsInLayer(m,p),h>_)continue;(T==null||C!==mt.WORD_SIZE[m])&&(C=mt.WORD_SIZE[m],T=mt.stuffBits(l,C));let nt=_-_%C;if(!(p&&T.getSize()>C*64)&&T.getSize()+u<=nt)break}}let b=mt.generateCheckWords(T,_,C),M=T.getSize()/C,H=mt.generateModeMessage(p,m,M),V=(p?11:14)+m*4,Y=new Int32Array(V),J;if(p){J=V;for(let de=0;de<Y.length;de++)Y[de]=de}else{J=V+1+2*B.truncDivision(B.truncDivision(V,2)-1,15);let de=B.truncDivision(V,2),nt=B.truncDivision(J,2);for(let Ye=0;Ye<de;Ye++){let Wt=Ye+B.truncDivision(Ye,15);Y[de-Ye-1]=nt-Wt-1,Y[de+Ye]=nt+Wt+1}}let me=new ht(J);for(let de=0,nt=0;de<m;de++){let Ye=(m-de)*4+(p?9:12);for(let Wt=0;Wt<Ye;Wt++){let zn=Wt*2;for(let Un=0;Un<2;Un++)b.get(nt+zn+Un)&&me.set(Y[de*2+Un],Y[de*2+Wt]),b.get(nt+Ye*2+zn+Un)&&me.set(Y[de*2+Wt],Y[V-1-de*2-Un]),b.get(nt+Ye*4+zn+Un)&&me.set(Y[V-1-de*2-Un],Y[V-1-de*2-Wt]),b.get(nt+Ye*6+zn+Un)&&me.set(Y[V-1-de*2-Wt],Y[de*2+Un])}nt+=Ye*8}if(mt.drawModeMessage(me,p,J,H),p)mt.drawBullsEye(me,B.truncDivision(J,2),5);else{mt.drawBullsEye(me,B.truncDivision(J,2),7);for(let de=0,nt=0;de<B.truncDivision(V,2)-1;de+=15,nt+=16)for(let Ye=B.truncDivision(J,2)&1;Ye<J;Ye+=2)me.set(B.truncDivision(J,2)-nt,Ye),me.set(B.truncDivision(J,2)+nt,Ye),me.set(Ye,B.truncDivision(J,2)-nt),me.set(Ye,B.truncDivision(J,2)+nt)}let xe=new Ys;return xe.setCompact(p),xe.setSize(J),xe.setLayers(m),xe.setCodeWords(M),xe.setMatrix(me),xe}static drawBullsEye(n,i,s){for(let l=0;l<s;l+=2)for(let u=i-l;u<=i+l;u++)n.set(u,i-l),n.set(u,i+l),n.set(i-l,u),n.set(i+l,u);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let l=new k;return n?(l.appendBits(i-1,2),l.appendBits(s-1,6),l=mt.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(s-1,11),l=mt.generateCheckWords(l,40,4)),l}static drawModeMessage(n,i,s,l){let u=B.truncDivision(s,2);if(i)for(let h=0;h<7;h++){let p=u-3+h;l.get(h)&&n.set(p,u-5),l.get(h+7)&&n.set(u+5,p),l.get(20-h)&&n.set(p,u+5),l.get(27-h)&&n.set(u-5,p)}else for(let h=0;h<10;h++){let p=u-5+h+B.truncDivision(h,5);l.get(h)&&n.set(p,u-7),l.get(h+10)&&n.set(u+7,p),l.get(29-h)&&n.set(p,u+7),l.get(39-h)&&n.set(u-7,p)}}static generateCheckWords(n,i,s){let l=n.getSize()/s,u=new Xs(mt.getGF(s)),h=B.truncDivision(i,s),p=mt.bitsToWords(n,s,h);u.encode(p,h-l);let m=i%s,_=new k;_.appendBits(0,m);for(const C of Array.from(p))_.appendBits(C,s);return _}static bitsToWords(n,i,s){let l=new Int32Array(s),u,h;for(u=0,h=n.getSize()/i;u<h;u++){let p=0;for(let m=0;m<i;m++)p|=n.get(u*i+m)?1<<i-m-1:0;l[u]=p}return l}static getGF(n){switch(n){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new N("Unsupported word size "+n)}}static stuffBits(n,i){let s=new k,l=n.getSize(),u=(1<<i)-2;for(let h=0;h<l;h+=i){let p=0;for(let m=0;m<i;m++)(h+m>=l||n.get(h+m))&&(p|=1<<i-1-m);(p&u)===u?(s.appendBits(p&u,i),h--):p&u?s.appendBits(p,i):(s.appendBits(p|1,i),h--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ki{encode(n,i,s,l){return this.encodeWithHints(n,i,s,l,null)}encodeWithHints(n,i,s,l,u){let h=es.ISO_8859_1,p=mt.DEFAULT_EC_PERCENT,m=mt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has($t.CHARACTER_SET)&&(h=qn.forName(u.get($t.CHARACTER_SET).toString())),u.has($t.ERROR_CORRECTION)&&(p=B.parseInt(u.get($t.ERROR_CORRECTION).toString())),u.has($t.AZTEC_LAYERS)&&(m=B.parseInt(u.get($t.AZTEC_LAYERS).toString()))),Ki.encodeLayers(n,i,s,l,h,p,m)}static encodeLayers(n,i,s,l,u,h,p){if(i!==ge.AZTEC)throw new N("Can only encode AZTEC, but got "+i);let m=mt.encode(Se.getBytes(n,u),h,p);return Ki.renderResult(m,s,l)}static renderResult(n,i,s){let l=n.getMatrix();if(l==null)throw new Gn;let u=l.getWidth(),h=l.getHeight(),p=Math.max(i,u),m=Math.max(s,h),_=Math.min(p/u,m/h),C=(p-u*_)/2,T=(m-h*_)/2,b=new ht(p,m);for(let M=0,H=T;M<h;M++,H+=_)for(let V=0,Y=C;V<u;V++,Y+=_)l.get(V,M)&&b.setRegion(Y,H,_,_);return b}}r.AbstractExpandedDecoder=ai,r.ArgumentException=I,r.ArithmeticException=Ar,r.AztecCode=Ys,r.AztecCodeReader=Wr,r.AztecCodeWriter=Ki,r.AztecDecoder=ut,r.AztecDetector=Hi,r.AztecDetectorResult=rr,r.AztecEncoder=mt,r.AztecHighLevelEncoder=di,r.AztecPoint=on,r.BarcodeFormat=ge,r.Binarizer=j,r.BinaryBitmap=P,r.BitArray=k,r.BitMatrix=ht,r.BitSource=Vi,r.BrowserAztecCodeReader=zs,r.BrowserBarcodeReader=Ao,r.BrowserCodeReader=St,r.BrowserDatamatrixCodeReader=Hs,r.BrowserMultiFormatReader=cl,r.BrowserPDF417Reader=ci,r.BrowserQRCodeReader=fl,r.BrowserQRCodeSvgWriter=fi,r.CharacterSetECI=re,r.ChecksumException=W,r.Code128Reader=we,r.Code39Reader=jt,r.DataMatrixDecodedBitStreamParser=Yn,r.DataMatrixReader=It,r.DecodeHintType=ie,r.DecoderResult=zr,r.DefaultGridSampler=Eo,r.DetectorResult=Vr,r.EAN13Reader=Fe,r.EncodeHintType=$t,r.Exception=y,r.FormatException=X,r.GenericGF=lt,r.GenericGFPoly=Dt,r.GlobalHistogramBinarizer=$e,r.GridSampler=ji,r.GridSamplerInstance=or,r.HTMLCanvasElementLuminanceSource=pe,r.HybridBinarizer=ke,r.ITFReader=Tt,r.IllegalArgumentException=N,r.IllegalStateException=Gn,r.InvertedLuminanceSource=Pe,r.LuminanceSource=oe,r.MathUtils=it,r.MultiFormatOneDReader=ui,r.MultiFormatReader=ul,r.MultiFormatWriter=Si,r.NotFoundException=Q,r.OneDReader=kt,r.PDF417DecodedBitStreamParser=$,r.PDF417DecoderErrorCorrection=qo,r.PDF417Reader=vn,r.PDF417ResultMetadata=Gs,r.PerspectiveTransform=Sn,r.PlanarYUVLuminanceSource=Sr,r.QRCodeByteMatrix=No,r.QRCodeDataMask=In,r.QRCodeDecodedBitStreamParser=Mt,r.QRCodeDecoderErrorCorrectionLevel=tt,r.QRCodeDecoderFormatInformation=Tn,r.QRCodeEncoder=Pt,r.QRCodeEncoderQRCode=Ai,r.QRCodeMaskUtil=Vt,r.QRCodeMatrixUtil=Ue,r.QRCodeMode=De,r.QRCodeReader=wn,r.QRCodeVersion=ve,r.QRCodeWriter=qr,r.RGBLuminanceSource=Ti,r.RSS14Reader=Yt,r.RSSExpandedReader=fe,r.ReaderException=Kn,r.ReedSolomonDecoder=si,r.ReedSolomonEncoder=Xs,r.ReedSolomonException=jr,r.Result=Ge,r.ResultMetadataType=yt,r.ResultPoint=Ie,r.StringUtils=Se,r.UnsupportedOperationException=ze,r.VideoInputDevice=Be,r.WhiteRectangleDetector=ir,r.WriterException=Nt,r.ZXingArrays=D,r.ZXingCharset=qn,r.ZXingInteger=B,r.ZXingStandardCharsets=es,r.ZXingStringBuilder=Je,r.ZXingStringEncoding=Ve,r.ZXingSystem=z,r.createAbstractExpandedDecoder=Co,Object.defineProperty(r,"__esModule",{value:!0})})})(jf,jf.exports);var Gt=jf.exports;const Py=qf(Gt),Ly=l0({__proto__:null,default:Py},[Gt]);var t0=function(){function e(t,r,a){if(this.formatMap=new Map([[Ne.QR_CODE,Gt.BarcodeFormat.QR_CODE],[Ne.AZTEC,Gt.BarcodeFormat.AZTEC],[Ne.CODABAR,Gt.BarcodeFormat.CODABAR],[Ne.CODE_39,Gt.BarcodeFormat.CODE_39],[Ne.CODE_93,Gt.BarcodeFormat.CODE_93],[Ne.CODE_128,Gt.BarcodeFormat.CODE_128],[Ne.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[Ne.MAXICODE,Gt.BarcodeFormat.MAXICODE],[Ne.ITF,Gt.BarcodeFormat.ITF],[Ne.EAN_13,Gt.BarcodeFormat.EAN_13],[Ne.EAN_8,Gt.BarcodeFormat.EAN_8],[Ne.PDF_417,Gt.BarcodeFormat.PDF_417],[Ne.RSS_14,Gt.BarcodeFormat.RSS_14],[Ne.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[Ne.UPC_A,Gt.BarcodeFormat.UPC_A],[Ne.UPC_E,Gt.BarcodeFormat.UPC_E],[Ne.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ly)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=a;var f=this.createZXingFormats(t),d=new Map;d.set(Gt.DecodeHintType.POSSIBLE_FORMATS,f),d.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(a,f){try{a(r.decode(t))}catch(d){f(d)}})},e.prototype.decode=function(t){var r=new Gt.MultiFormatReader(this.verbose,this.hints),a=new Gt.HTMLCanvasElementLuminanceSource(t),f=new Gt.BinaryBitmap(new Gt.HybridBinarizer(a)),d=r.decode(f);return{text:d.text,format:im.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,f){t.set(r,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],a=0,f=t;a<f.length;a++){var d=f[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),My=globalThis&&globalThis.__awaiter||function(e,t,r,a){function f(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function v(I){try{y(a.next(I))}catch(N){x(N)}}function E(I){try{y(a.throw(I))}catch(N){x(N)}}function y(I){I.done?d(I.value):f(I.value).then(v,E)}y((a=a.apply(e,t||[])).next())})},Dy=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,f,d,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(y){return function(I){return E([y,I])}}function E(y){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,y[0]&&(r=0)),r;)try{if(a=1,f&&(d=y[0]&2?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,f=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(I){y=[6,I],f=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},n0=function(){function e(t,r,a){if(this.formatMap=new Map([[Ne.QR_CODE,"qr_code"],[Ne.AZTEC,"aztec"],[Ne.CODABAR,"codabar"],[Ne.CODE_39,"code_39"],[Ne.CODE_93,"code_93"],[Ne.CODE_128,"code_128"],[Ne.DATA_MATRIX,"data_matrix"],[Ne.ITF,"itf"],[Ne.EAN_13,"ean_13"],[Ne.EAN_8,"ean_8"],[Ne.PDF_417,"pdf417"],[Ne.UPC_A,"upc_a"],[Ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=a;var f=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return My(this,void 0,void 0,function(){var r,a;return Dy(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=f.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(r),[2,{text:a.rawValue,format:im.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,a=0,f=0,d=t;f<d.length;f++){var x=d[f],v=x.boundingBox.width*x.boundingBox.height;v>a&&(a=v,r=x)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],a=0,f=t;a<f.length;a++){var d=f[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,f){t.set(r,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),r0=globalThis&&globalThis.__awaiter||function(e,t,r,a){function f(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function v(I){try{y(a.next(I))}catch(N){x(N)}}function E(I){try{y(a.throw(I))}catch(N){x(N)}}function y(I){I.done?d(I.value):f(I.value).then(v,E)}y((a=a.apply(e,t||[])).next())})},i0=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,f,d,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(y){return function(I){return E([y,I])}}function E(y){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,y[0]&&(r=0)),r;)try{if(a=1,f&&(d=y[0]&2?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,f=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(I){y=[6,I],f=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},ky=function(){function e(t,r,a,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,r&&n0.isSupported()?(this.primaryDecoder=new n0(t,a,f),this.secondaryDecoder=new t0(t,a,f)):this.primaryDecoder=new t0(t,a,f)}return e.prototype.decodeAsync=function(t){return r0(this,void 0,void 0,function(){var r;return i0(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return r0(this,void 0,void 0,function(){var r,a;return i0(this,function(f){switch(f.label){case 0:r=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,f.sent()];case 3:if(a=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,a=this.executionResults;r<a.length;r++){var f=a[r];t+=f}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Kh=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(a[d]=f[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Cu=globalThis&&globalThis.__awaiter||function(e,t,r,a){function f(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function v(I){try{y(a.next(I))}catch(N){x(N)}}function E(I){try{y(a.throw(I))}catch(N){x(N)}}function y(I){I.done?d(I.value):f(I.value).then(v,E)}y((a=a.apply(e,t||[])).next())})},Au=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,f,d,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(y){return function(I){return E([y,I])}}function E(y){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,y[0]&&(r=0)),r;)try{if(a=1,f&&(d=y[0]&2?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,f=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(I){y=[6,I],f=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},sm=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),By=function(e){Kh(t,e);function t(r,a){return e.call(this,r,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var a={};a[this.name]=r;var f={advanced:[a]};return this.track.applyConstraints(f)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),a=r[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(sm),Fy=function(e){Kh(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(By),zy=function(e){Kh(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(sm),Uy=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Fy(this.track)},e.prototype.torchFeature=function(){return new zy(this.track)},e}(),jy=function(){function e(t,r,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var a=t.surface.clientWidth,f=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,f),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,a,f){return Cu(this,void 0,void 0,function(){var d,x;return Au(this,function(v){switch(v.label){case 0:return d=new e(t,r,f),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:v.sent(),v.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,a=function(){setTimeout(t,200),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Cu(this,void 0,void 0,function(){return Au(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,a){var f=t.mediaStream.getVideoTracks(),d=f.length,x=0;t.mediaStream.getVideoTracks().forEach(function(v){t.mediaStream.removeTrack(v),v.stop(),++x,x>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Uy(this.getFirstTrackOrFail())},e}(),Hy=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,a){return Cu(this,void 0,void 0,function(){return Au(this,function(f){return[2,jy.create(t,this.mediaStream,r,a)]})})},e.create=function(t){return Cu(this,void 0,void 0,function(){var r,a;return Au(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return a=f.sent(),[2,new e(a)]}})})},e}(),o0=globalThis&&globalThis.__awaiter||function(e,t,r,a){function f(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function v(I){try{y(a.next(I))}catch(N){x(N)}}function E(I){try{y(a.throw(I))}catch(N){x(N)}}function y(I){I.done?d(I.value):f(I.value).then(v,E)}y((a=a.apply(e,t||[])).next())})},s0=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,f,d,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(y){return function(I){return E([y,I])}}function E(y){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,y[0]&&(r=0)),r;)try{if(a=1,f&&(d=y[0]&2?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,f=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(I){y=[6,I],f=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Vy=function(){function e(){}return e.failIfNotSupported=function(){return o0(this,void 0,void 0,function(){return s0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return o0(this,void 0,void 0,function(){return s0(this,function(r){return[2,Hy.create(t)]})})},e}(),Wy=globalThis&&globalThis.__awaiter||function(e,t,r,a){function f(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function v(I){try{y(a.next(I))}catch(N){x(N)}}function E(I){try{y(a.throw(I))}catch(N){x(N)}}function y(I){I.done?d(I.value):f(I.value).then(v,E)}y((a=a.apply(e,t||[])).next())})},Zy=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,f,d,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(y){return function(I){return E([y,I])}}function E(y){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,y[0]&&(r=0)),r;)try{if(a=1,f&&(d=y[0]&2?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,f=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(I){y=[6,I],f=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Gy=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ws.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ws.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Wy(this,void 0,void 0,function(){var t,r,a,f,d,x,v;return Zy(this,function(E){switch(E.label){case 0:return t=function(y){for(var I=y.getVideoTracks(),N=0,P=I;N<P.length;N++){var W=P[N];W.enabled=!1,W.stop(),y.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=E.sent(),f=[],d=0,x=a;d<x.length;d++)v=x[d],v.kind==="videoinput"&&f.push({id:v.deviceId,label:v.label});return t(r),[2,f]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var a=function(d){for(var x=[],v=0,E=d;v<E.length;v++){var y=E[v];y.kind==="video"&&x.push({id:y.id,label:y.label})}t(x)},f=MediaStreamTrack;f.getSources(a)})},e}(),an;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(an||(an={}));var Xy=function(){function e(){this.state=an.NOT_STARTED,this.onGoingTransactionNewState=an.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=an.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=an.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==an.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case an.UNKNOWN:throw"Transition from unknown is not allowed";case an.NOT_STARTED:this.failIfNewStateIs(t,[an.PAUSED]);break;case an.SCANNING:break;case an.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var a=0,f=r;a<f.length;a++){var d=f[a];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Yy=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===an.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==an.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===an.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===an.PAUSED},e}(),Ky=function(){function e(){}return e.create=function(){return new Yy(new Xy)},e}(),qy=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(a[d]=f[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),xr=function(e){qy(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ry),Qy=function(){function e(t,r){this.logger=r,this.fps=xr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=xr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?om.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bi(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),am=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof r=="boolean"?this.verbose=r===!0:r&&(a=r,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Oy(this.verbose),this.qrcode=new ky(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ky.create()}return e.prototype.start=function(t,r,a,f){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;f?x=f:x=this.verbose?this.logger.log:function(){};var v=Qy.create(r,this.logger);this.clearElement();var E=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=E,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:xr.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var N=this,P=this.stateManagerProxy.startTransition(an.SCANNING);return new Promise(function(W,j){var z=y?v.videoConstraints:N.createVideoConstraints(t);if(!z){P.cancel(),j("videoConstraints should be defined");return}var se={};(!y||v.aspectRatio)&&(se.aspectRatio=v.aspectRatio);var F={onRenderSurfaceReady:function(D,B){N.setupUi(D,B,v),N.isScanning=!0,N.foreverScan(v,a,x)}};Vy.failIfNotSupported().then(function(D){D.create(z).then(function(B){return B.render(d.element,se,F).then(function(k){N.renderedCamera=k,P.execute(),W(null)}).catch(function(k){P.cancel(),j(k)})}).catch(function(B){P.cancel(),j(ws.errorGettingUserMedia(B))})}).catch(function(D){P.cancel(),j(ws.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(an.PAUSED),this.showPausedState(),(bi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(an.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(an.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var d=document.getElementById(xr.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),a(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),r.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,r){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bi(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var x=new Image;x.onload=function(){var v=x.width,E=x.height,y=document.getElementById(a.elementId),I=y.clientWidth?y.clientWidth:xr.DEFAULT_WIDTH,N=Math.max(y.clientHeight?y.clientHeight:E,xr.FILE_SCAN_MIN_HEIGHT),P=a.computeCanvasDrawConfig(v,E,I,N);if(r){var W=a.createCanvasElement(I,N,"qr-canvas-visible");W.style.display="inline-block",y.appendChild(W);var j=W.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=I,j.canvas.height=N,j.drawImage(x,0,0,v,E,P.x,P.y,P.width,P.height)}var z=xr.FILE_SCAN_HIDDEN_CANVAS_PADDING,se=Math.max(x.width,P.width),F=Math.max(x.height,P.height),D=se+2*z,B=F+2*z,k=a.createCanvasElement(D,B);y.appendChild(k);var ue=k.getContext("2d");if(!ue)throw"Unable to get 2d context from canvas";ue.canvas.width=D,ue.canvas.height=B,ue.drawImage(x,0,0,v,E,z,z,se,F);try{a.qrcode.decodeRobustlyAsync(k).then(function(ie){f(e0.createFromQrcodeResult(ie))}).catch(d)}catch(ie){d("QR code parse error, error = ".concat(ie))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Gy.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!om.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ne.QR_CODE,Ne.AZTEC,Ne.CODABAR,Ne.CODE_39,Ne.CODE_93,Ne.CODE_128,Ne.DATA_MATRIX,Ne.MAXICODE,Ne.ITF,Ne.EAN_13,Ne.EAN_8,Ne.PDF_417,Ne.RSS_14,Ne.RSS_EXPANDED,Ne.UPC_A,Ne.UPC_E,Ne.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],f=0,d=t.formatsToSupport;f<d.length;f++){var x=d[f];by(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bi(t))return!0;if(!bi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bi(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return bi(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,a){var f=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(t,r,d),v=function(y){if(y<xr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xr.MIN_QR_BOX_SIZE,"px.")},E=function(y){return y>t&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};v(x.width),v(x.height),x.width=E(x.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,r)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return a},e.prototype.setupUi=function(t,r,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,a);var f=bi(a.qrbox)?{width:t,height:r}:a.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(t,r,f);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=r,v={x:0,y:0,width:t,height:r},E=x?this.getShadedRegionBounds(t,r,d):v,y=this.createCanvasElement(E.width,E.height),I={willReadFrequently:!0},N=y.getContext("2d",I);N.canvas.width=E.width,N.canvas.height=E.height,this.element.append(y),x&&this.possiblyInsertShadingElement(this.element,t,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=N,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=ws.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return t(f.text,e0.createFromQrcodeResult(f)),a.possiblyUpdateShaders(!0),!0}).catch(function(f){a.possiblyUpdateShaders(!1);var d=ws.codeParseError(f);return r(d,Ny.createFrom(d)),!1})},e.prototype.foreverScan=function(t,r,a){var f=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,v=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*x,y=this.qrRegion.height*v,I=this.qrRegion.x*x,N=this.qrRegion.y*v;this.context.drawImage(d,I,N,E,y,0,0,this.qrRegion.width,this.qrRegion.height);var P=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(t,r,a)},f.getTimeoutFps(t.fps))};this.scanContext(r,a).then(function(W){!W&&t.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(r,a).finally(function(){P()})):P()}).catch(function(W){f.logger.logError("Error happend while scanning context",W),P()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",a="deviceId",f={user:!0,environment:!0},d="exact",x=function(j){if(j in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},v=Object.keys(t);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var E=Object.keys(t)[0];if(E!==r&&E!==a)throw"Only '".concat(r,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(E===r){var y=t.facingMode;if(typeof y=="string"){if(x(y))return{facingMode:y}}else if(typeof y=="object")if(d in y){if(x(y["".concat(d)]))return{facingMode:{exact:y["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var I=typeof y;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var N=t.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(d in N)return{deviceId:{exact:N["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var P=typeof N;throw"Invalid type of 'deviceId' = ".concat(P)}}}var W=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},e.prototype.computeCanvasDrawConfig=function(t,r,a,f){if(t<=a&&r<=f){var d=(a-t)/2,x=(f-r)/2;return{x:d,y:x,width:t,height:r}}else{var v=t,E=r;return t>a&&(r=a/t*r,t=a),r>f&&(t=f/r*t,r=f),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(E)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,a,f)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?xr.BORDER_SHADER_MATCH_COLOR:xr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,a){var f=t,d=r,x=document.createElement("canvas");return x.style.width="".concat(f,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=bi(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(t,r,a){if(a.width>t||a.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(r-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,r,a,f){if(!(r-f.width<1||a-f.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(r-f.width)/2,v=(a-f.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(xr.SHADED_REGION_ELEMENT_ID),r-f.width<11||a-f.height<11)this.hasBorderShaders=!1;else{var E=5,y=40;this.insertShaderBorders(d,y,E,-E,null,0,!0),this.insertShaderBorders(d,y,E,-E,null,0,!1),this.insertShaderBorders(d,y,E,null,-E,0,!0),this.insertShaderBorders(d,y,E,null,-E,0,!1),this.insertShaderBorders(d,E,y+E,-E,null,-E,!0),this.insertShaderBorders(d,E,y+E,null,-E,-E,!0),this.insertShaderBorders(d,E,y+E,-E,null,-E,!1),this.insertShaderBorders(d,E,y+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,r,a,f,d,x,v){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=xr.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(r,"px"),E.style.height="".concat(a,"px"),f!==null&&(E.style.top="".concat(f,"px")),d!==null&&(E.style.bottom="".concat(d,"px")),v?E.style.left="".concat(x,"px"):E.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var a0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(a0||(a0={}));function Jy(){const[e,t]=ne.useState(!1),[r,a]=ne.useState(!1),f=vo();let d;const x=document.getElementById("root").getAttribute("data-csrf"),v=(I,N)=>{y(I)};ne.useEffect(()=>{if(!(d!=null&&d.getState())){const I={fps:5,qrbox:{width:200,height:200}};d=new am("reader"),d.start({facingMode:"environment"},I,v).catch(N=>{t(!0),console.warn(`Code scan error = ${N}`)})}});function E(){f("/AdminLandingPage")}function y(I,N){fetch("/api/qr-login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":x},body:JSON.stringify({qr_code:I})}).then(P=>{if(!P.ok)throw new Error(`HTTP error! Status: ${P.status}`);return P.json()}).then(P=>{P.status.toLowerCase()==="success"?(P.token?localStorage.setItem("ACCESS_TOKEN",P.token):console.error("Authentication failed"),d.stop(),a(!0)):console.error("Ungültiger QR-Code")}).catch(P=>console.error("Fetch error:",P))}return Z.jsxs("div",{children:[Z.jsx("h2",{children:"Willkommen im PLS-System"}),Z.jsx("h5",{children:"Bitte den QR-Code für die Anmeldung scannen"}),Z.jsx("div",{id:"reader"}),e?Z.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera über die Einstellungen."}):"",r&&Z.jsx(yu,{to:"/RoleSelection"}),Z.jsx("br",{}),Z.jsx("button",{onClick:E,children:"Anmelden als Admin"})]})}function $y(){return Z.jsx("div",{children:"404 - Page Not Foundd"})}const lm=ne.createContext({user:null,token:null,setUser:()=>{},setToken:()=>{}}),ev=({children:e})=>{const[t,r]=ne.useState({}),[a,f]=ne.useState(localStorage.getItem("ACCESS_TOKEN")),d=x=>{f(x),x?localStorage.setItem("ACCESS_TOKEN",x):localStorage.removeItem("ACCESS_TOKEN")};return Z.jsx(lm.Provider,{value:{user:t,token:a,setUser:r,setToken:d},children:e})},tv=()=>ne.useContext(lm);function nv(){const{token:e}=tv();return e?Z.jsx(yu,{to:"/RoleSelection"}):Z.jsx(yu,{to:"/qrAuthenticator"})}function rv(){const[e,t]=ne.useState(""),[r,a]=ne.useState("");ne.useState(""),ne.useState("");const f=vo(),d=E=>{t(E.target.value)},x=E=>{a(E.target.value)},v=E=>{switch(E.preventDefault(),r.toUpperCase()){case"TRIAGE":f("/ScanPatient");break;case"LEITSTELLE":f("/SituationRoomTable");break;default:f("/NotFound");break}};return Z.jsxs("div",{children:[Z.jsx("h3",{children:"Willkommen bei der Rolenauswahl"}),Z.jsx("h4",{children:"Sie sind im Einsatz für"}),Z.jsxs("select",{value:e,onChange:d,style:{textAlign:"center"},children:[Z.jsx("option",{value:"",children:"Einsatz auswählen"}),Z.jsx("option",{value:"test",children:"test"}),Z.jsx("option",{value:"option2",children:"Option 2"}),Z.jsx("option",{value:"option3",children:"Option 3"})]}),Z.jsx("p",{children:"in Funktion als"}),Z.jsxs("select",{value:r,onChange:x,style:{textAlign:"center"},children:[Z.jsx("option",{value:"",children:"Rolle auswählen"}),Z.jsx("option",{value:"Einsatzleiter",children:"Einsatzleiter"}),Z.jsx("option",{value:"Triage",children:"Triage"}),Z.jsx("option",{value:"San-Hist",children:"San-Hist"}),Z.jsx("option",{value:"Transport",children:"Transport"}),Z.jsx("option",{value:"Betreuung",children:"Betreuung"}),Z.jsx("option",{value:"Leitstelle",children:"Leitstelle"})]}),Z.jsx("form",{onSubmit:v,style:{position:"absolute",bottom:"50px",left:"0",width:"100%",textAlign:"center",padding:"0"},children:Z.jsx("button",{type:"submit",children:"Bestätigen"})})]})}function iv(){const[e,t]=ne.useState(!1),[r,a]=ne.useState(!1);let f;return ne.useEffect(()=>{function d(v,E){v.toUpperCase()==="HALLO MARKO"&&(f.stop(),a(!0)),console.log(`Code matched = ${v}`,E)}const x=(v,E)=>{d(v,E)};if(!(f!=null&&f.getState())){const v={fps:5,qrbox:{width:200,height:200}};f=new am("reader"),f.start({facingMode:"environment"},v,x).catch(E=>{t(!0),console.warn(`Code scan error = ${E}`)})}}),Z.jsxs("div",{children:[Z.jsx("h2",{children:"Bitte einen Patienten QR-Code scannen"}),Z.jsx("div",{id:"reader"}),e?Z.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera über die Einstellungen."}):"",r&&Z.jsx(yu,{to:"/TriagePage1"})]})}function ov(){const e=vo(),[t,r]=ne.useState(!1),[a,f]=ne.useState(!1),[d,x]=ne.useState(null),[v,E]=ne.useState({loaded:!1,coordinates:{lat:"",lng:""},error:null});ne.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(se=>{E({loaded:!0,coordinates:{lat:se.coords.latitude,lng:se.coords.longitude},error:null})},se=>{E(F=>({...F,loaded:!0,error:se}))}):E(se=>({...se,loaded:!0,error:{message:"Geolocation is not supported by your browser"}}))},[]);const y=async se=>{try{if(!v.loaded||v.error){console.error("Koordinaten sind nicht verfügbar.");return}const{lat:F,lng:D}=v.coordinates;console.log("Patienten ID: ",d);const B=await R0.post("/api/persons/15/update-triage-color",{triageColor:se,lat:F,lng:D});console.log(B.data.message)}catch(F){console.error("Fehler beim Aktualisieren der Triagefarbe:",F)}},I=()=>{r(!0),y("grün")},N=()=>{f(!0),y("schwarz")},P=()=>{e("/TriagePage2")},W=()=>{e("/ScanPatient")},j=()=>{e("/ShowBody")};function z(){if(!a&&!t)return Z.jsxs("div",{children:[Z.jsx("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),Z.jsxs("div",{children:[Z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[Z.jsx("button",{onClick:I,children:"Patient gehfähig (ohne weitere Verletzungen)"}),Z.jsx("button",{onClick:P,children:"Patient nicht gehfähig (und/oder weitere Verletzungen)"})]}),Z.jsx("button",{onClick:N,style:{width:"90%",height:"5rem"},children:"eindeutiges Todeszeichen"})]}),Z.jsx("div",{style:{justifyContent:"space-between",gap:"10px",marginTop:"50px"}})]});if(t)return Z.jsxs("div",{children:[Z.jsx("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),Z.jsx("p",{style:{border:"2px solid green",padding:"2%",display:"inline-block",color:"green"},children:"Patient wurde mit der Kategorie GRÜN versehen"}),Z.jsx("button",{onClick:W,children:"Nächsten Patienten laden"})]});if(a)return Z.jsxs("div",{children:[Z.jsx("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),Z.jsx("p",{style:{border:"2px solid #000",margin:"5%",padding:"2%",display:"inline-block"},children:"Patient wurde mit der Kategorie SCHWARZ versehen"}),Z.jsx("button",{onClick:W,children:"Nächsten Patienten laden"})]})}return Z.jsxs("div",{children:[z(),Z.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:j,children:"👤"}),Z.jsx("h4",{children:"GPS Koordinaten:"}),Z.jsxs("p",{children:["Laden: ",v.loaded?"Erfolgreich":"Lädt..."]}),v.loaded&&!v.error&&Z.jsxs("div",{children:[Z.jsxs("p",{children:["Breitengrad: ",v.coordinates.lat]}),Z.jsxs("p",{children:["Längengrad: ",v.coordinates.lng]})]}),v.error&&Z.jsx("div",{children:Z.jsxs("p",{children:["Fehler: ",v.error.message]})})]})}function sv(){const e=vo(),[t,r]=ne.useState(!1),a=()=>{r(!0)},f=()=>{e("/TriagePage3")},d=()=>{e("/ScanPatient")};function x(){if(t){if(t)return Z.jsxs("div",{children:[Z.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",Z.jsx("br",{})," nicht gehfähig"]}),Z.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),Z.jsx("button",{onClick:d,children:"Nächsten Patienten laden"})]})}else return Z.jsxs("div",{children:[Z.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",Z.jsx("br",{})," nicht gehfähig"]}),Z.jsx("div",{children:Z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[Z.jsx("button",{onClick:f,children:"Atmung suffizient"}),Z.jsx("button",{onClick:a,children:"Atmung nicht suffizient"})]})})]})}const v=()=>{e("/ShowBody")};return Z.jsxs("div",{children:[x(),Z.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:v,children:"👤"})]})}function av(){const e=vo(),[t,r]=ne.useState(!1),[a,f]=ne.useState(!1),d=()=>{r(!0)},x=()=>{f(!0)},v=()=>{e("/ScanPatient")};function E(){if(!t&&!a)return Z.jsxs("div",{children:[Z.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",Z.jsx("br",{})," nicht gehfähig ",Z.jsx("br",{})," Atmung suffizient"]}),Z.jsx("div",{children:Z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[Z.jsx("button",{onClick:x,children:"Blutung Stillbar"}),Z.jsx("button",{onClick:d,children:"Blutung nicht stillbar"})]})})]});if(t)return Z.jsxs("div",{children:[Z.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",Z.jsx("br",{})," nicht gehfähig ",Z.jsx("br",{})," Atmung"]}),Z.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),Z.jsx("button",{onClick:v,children:"Nächsten Patienten laden"})]});if(a)return Z.jsxs("div",{children:[Z.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",Z.jsx("br",{})," nicht gehfähig ",Z.jsx("br",{})," Atmung"]}),Z.jsx("p",{style:{border:"2px solid yellow",margin:"5%",padding:"2%",display:"inline-block",color:"yellow"},children:"Patient wurde mit der Kategorie Gelb versehen"}),Z.jsx("button",{onClick:v,children:"Nächsten Patienten laden"})]})}const y=()=>{e("/ShowBody")};return Z.jsxs("div",{children:[E(),Z.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:y,children:"👤"})]})}var Hf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,a){a(t)})(rs,function(r){var a="1.9.4";function f(o){var c,g,w,A;for(g=1,w=arguments.length;g<w;g++){A=arguments[g];for(c in A)o[c]=A[c]}return o}var d=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function x(o,c){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var w=g.call(arguments,2);return function(){return o.apply(c,w.length?w.concat(g.call(arguments)):arguments)}}var v=0;function E(o){return"_leaflet_id"in o||(o._leaflet_id=++v),o._leaflet_id}function y(o,c,g){var w,A,R,U;return U=function(){w=!1,A&&(R.apply(g,A),A=!1)},R=function(){w?A=arguments:(o.apply(g,arguments),setTimeout(U,c),w=!0)},R}function I(o,c,g){var w=c[1],A=c[0],R=w-A;return o===w&&g?o:((o-A)%R+R)%R+A}function N(){return!1}function P(o,c){if(c===!1)return o;var g=Math.pow(10,c===void 0?6:c);return Math.round(o*g)/g}function W(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function j(o){return W(o).split(/\s+/)}function z(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?d(o.options):{});for(var g in c)o.options[g]=c[g];return o.options}function se(o,c,g){var w=[];for(var A in o)w.push(encodeURIComponent(g?A.toUpperCase():A)+"="+encodeURIComponent(o[A]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function D(o,c){return o.replace(F,function(g,w){var A=c[w];if(A===void 0)throw new Error("No value provided for variable "+g);return typeof A=="function"&&(A=A(c)),A})}var B=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function k(o,c){for(var g=0;g<o.length;g++)if(o[g]===c)return g;return-1}var ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ie(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var X=0;function le(o){var c=+new Date,g=Math.max(0,16-(c-X));return X=c+g,window.setTimeout(o,g)}var re=window.requestAnimationFrame||ie("RequestAnimationFrame")||le,ze=window.cancelAnimationFrame||ie("CancelAnimationFrame")||ie("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Ve(o,c,g){if(g&&re===le)o.call(c);else return re.call(window,x(o,c))}function Se(o){o&&ze.call(window,o)}var Je={__proto__:null,extend:f,create:d,bind:x,get lastId(){return v},stamp:E,throttle:y,wrapNum:I,falseFn:N,formatNum:P,trim:W,splitWords:j,setOptions:z,getParamString:se,template:D,isArray:B,indexOf:k,emptyImageUrl:ue,requestFn:re,cancelFn:ze,requestAnimFrame:Ve,cancelAnimFrame:Se};function ht(){}ht.extend=function(o){var c=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=c.__super__=this.prototype,w=d(g);w.constructor=c,c.prototype=w;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(c[A]=this[A]);return o.statics&&f(c,o.statics),o.includes&&(Q(o.includes),f.apply(null,[w].concat(o.includes))),f(w,o),delete w.statics,delete w.includes,w.options&&(w.options=g.options?d(g.options):{},f(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,U=w._initHooks.length;R<U;R++)w._initHooks[R].call(this)}},c},ht.include=function(o){var c=this.prototype.options;return f(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},ht.mergeOptions=function(o){return f(this.prototype.options,o),this},ht.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Q(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=B(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $e={on:function(o,c,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],c);else{o=j(o);for(var A=0,R=o.length;A<R;A++)this._on(o[A],c,g)}return this},off:function(o,c,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],c);else{o=j(o);for(var A=arguments.length===1,R=0,U=o.length;R<U;R++)A?this._off(o[R]):this._off(o[R],c,g)}return this},_on:function(o,c,g,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,g)===!1){g===this&&(g=void 0);var A={fn:c,ctx:g};w&&(A.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(A)}},_off:function(o,c,g){var w,A,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(A=0,R=w.length;A<R;A++)w[A].fn=N;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var U=this._listens(o,c,g);if(U!==!1){var q=w[U];this._firingCount&&(q.fn=N,this._events[o]=w=w.slice()),w.splice(U,1)}}},fire:function(o,c,g){if(!this.listens(o,g))return this;var w=f({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var A=this._events[o];if(A){this._firingCount=this._firingCount+1||1;for(var R=0,U=A.length;R<U;R++){var q=A[R],ee=q.fn;q.once&&this.off(o,ee,q.ctx),ee.call(q.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(o,c,g,w){typeof o!="string"&&console.warn('"string" type argument expected');var A=c;typeof c!="function"&&(w=!!c,A=void 0,g=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,A,g)!==!1)return!0;if(w){for(var U in this._eventParents)if(this._eventParents[U].listens(o,c,g,w))return!0}return!1},_listens:function(o,c,g){if(!this._events)return!1;var w=this._events[o]||[];if(!c)return!!w.length;g===this&&(g=void 0);for(var A=0,R=w.length;A<R;A++)if(w[A].fn===c&&w[A].ctx===g)return A;return!1},once:function(o,c,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],c,!0);else{o=j(o);for(var A=0,R=o.length;A<R;A++)this._on(o[A],c,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[E(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[E(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,f({layer:o.target,propagatedFrom:o.target},o),!0)}};$e.addEventListener=$e.on,$e.removeEventListener=$e.clearAllEventListeners=$e.off,$e.addOneTimeEventListener=$e.once,$e.fireEvent=$e.fire,$e.hasEventListeners=$e.listens;var ke=ht.extend($e);function oe(o,c,g){this.x=g?Math.round(o):o,this.y=g?Math.round(c):c}var Pe=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(o){return this.clone()._add(pe(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(pe(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new oe(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new oe(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(o){o=pe(o);var c=o.x-this.x,g=o.y-this.y;return Math.sqrt(c*c+g*g)},equals:function(o){return o=pe(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=pe(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function pe(o,c,g){return o instanceof oe?o:B(o)?new oe(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new oe(o.x,o.y):new oe(o,c,g)}function Be(o,c){if(o)for(var g=c?[o,c]:o,w=0,A=g.length;w<A;w++)this.extend(g[w])}Be.prototype={extend:function(o){var c,g;if(!o)return this;if(o instanceof oe||typeof o[0]=="number"||"x"in o)c=g=pe(o);else if(o=Me(o),c=o.min,g=o.max,!c||!g)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=g.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return pe(this.min.x,this.max.y)},getTopRight:function(){return pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,g;return typeof o[0]=="number"||o instanceof oe?o=pe(o):o=Me(o),o instanceof Be?(c=o.min,g=o.max):c=g=o,c.x>=this.min.x&&g.x<=this.max.x&&c.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=Me(o);var c=this.min,g=this.max,w=o.min,A=o.max,R=A.x>=c.x&&w.x<=g.x,U=A.y>=c.y&&w.y<=g.y;return R&&U},overlaps:function(o){o=Me(o);var c=this.min,g=this.max,w=o.min,A=o.max,R=A.x>c.x&&w.x<g.x,U=A.y>c.y&&w.y<g.y;return R&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,g=this.max,w=Math.abs(c.x-g.x)*o,A=Math.abs(c.y-g.y)*o;return Me(pe(c.x-w,c.y-A),pe(g.x+w,g.y+A))},equals:function(o){return o?(o=Me(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Me(o,c){return!o||o instanceof Be?o:new Be(o,c)}function St(o,c){if(o)for(var g=c?[o,c]:o,w=0,A=g.length;w<A;w++)this.extend(g[w])}St.prototype={extend:function(o){var c=this._southWest,g=this._northEast,w,A;if(o instanceof rt)w=o,A=o;else if(o instanceof St){if(w=o._southWest,A=o._northEast,!w||!A)return this}else return o?this.extend(ge(o)||Ge(o)):this;return!c&&!g?(this._southWest=new rt(w.lat,w.lng),this._northEast=new rt(A.lat,A.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),g.lat=Math.max(A.lat,g.lat),g.lng=Math.max(A.lng,g.lng)),this},pad:function(o){var c=this._southWest,g=this._northEast,w=Math.abs(c.lat-g.lat)*o,A=Math.abs(c.lng-g.lng)*o;return new St(new rt(c.lat-w,c.lng-A),new rt(g.lat+w,g.lng+A))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof rt||"lat"in o?o=ge(o):o=Ge(o);var c=this._southWest,g=this._northEast,w,A;return o instanceof St?(w=o.getSouthWest(),A=o.getNorthEast()):w=A=o,w.lat>=c.lat&&A.lat<=g.lat&&w.lng>=c.lng&&A.lng<=g.lng},intersects:function(o){o=Ge(o);var c=this._southWest,g=this._northEast,w=o.getSouthWest(),A=o.getNorthEast(),R=A.lat>=c.lat&&w.lat<=g.lat,U=A.lng>=c.lng&&w.lng<=g.lng;return R&&U},overlaps:function(o){o=Ge(o);var c=this._southWest,g=this._northEast,w=o.getSouthWest(),A=o.getNorthEast(),R=A.lat>c.lat&&w.lat<g.lat,U=A.lng>c.lng&&w.lng<g.lng;return R&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=Ge(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ge(o,c){return o instanceof St?o:new St(o,c)}function rt(o,c,g){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,g!==void 0&&(this.alt=+g)}rt.prototype={equals:function(o,c){if(!o)return!1;o=ge(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+P(this.lat,o)+", "+P(this.lng,o)+")"},distanceTo:function(o){return yt.distance(this,ge(o))},wrap:function(){return yt.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,g=c/Math.cos(Math.PI/180*this.lat);return Ge([this.lat-c,this.lng-g],[this.lat+c,this.lng+g])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function ge(o,c,g){return o instanceof rt?o:B(o)&&typeof o[0]!="object"?o.length===3?new rt(o[0],o[1],o[2]):o.length===2?new rt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new rt(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new rt(o,c,g)}var at={latLngToPoint:function(o,c){var g=this.projection.project(o),w=this.scale(c);return this.transformation._transform(g,w)},pointToLatLng:function(o,c){var g=this.scale(c),w=this.transformation.untransform(o,g);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,g=this.scale(o),w=this.transformation.transform(c.min,g),A=this.transformation.transform(c.max,g);return new Be(w,A)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?I(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?I(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new rt(g,c,w)},wrapLatLngBounds:function(o){var c=o.getCenter(),g=this.wrapLatLng(c),w=c.lat-g.lat,A=c.lng-g.lng;if(w===0&&A===0)return o;var R=o.getSouthWest(),U=o.getNorthEast(),q=new rt(R.lat-w,R.lng-A),ee=new rt(U.lat-w,U.lng-A);return new St(q,ee)}},yt=f({},at,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var g=Math.PI/180,w=o.lat*g,A=c.lat*g,R=Math.sin((c.lat-o.lat)*g/2),U=Math.sin((c.lng-o.lng)*g/2),q=R*R+Math.cos(w)*Math.cos(A)*U*U,ee=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*ee}}),zr=6378137,Ur={R:zr,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,o.lat),-g),A=Math.sin(w*c);return new oe(this.R*o.lng*c,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(o){var c=180/Math.PI;return new rt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=zr*Math.PI;return new Be([-o,-o],[o,o])}()};function Dt(o,c,g,w){if(B(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=g,this._d=w}Dt.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new oe((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Ar(o,c,g,w){return new Dt(o,c,g,w)}var lt=f({},yt,{code:"EPSG:3857",projection:Ur,transformation:function(){var o=.5/(Math.PI*Ur.R);return Ar(o,.5,-o,.5)}()}),jr=f({},lt,{code:"EPSG:900913"});function Gn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function si(o,c){var g="",w,A,R,U,q,ee;for(w=0,R=o.length;w<R;w++){for(q=o[w],A=0,U=q.length;A<U;A++)ee=q[A],g+=(A?"L":"M")+ee.x+" "+ee.y;g+=c?Ae.svg?"z":"x":""}return g||"M0 0"}var qt=document.documentElement.style,ut="ActiveXObject"in window,it=ut&&!document.addEventListener,Hr="msLaunchUri"in navigator&&!("documentMode"in document),Ie=Rt("webkit"),Vr=Rt("android"),rr=Rt("android 2")||Rt("android 3"),ir=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ji=Vr&&Rt("Google")&&ir<537&&!("AudioNode"in window),Sn=!!window.opera,Eo=!Hr&&Rt("chrome"),or=Rt("gecko")&&!Ie&&!Sn&&!ut,on=!Eo&&Rt("safari"),Hi=Rt("phantom"),Wr="OTransition"in qt,zs=navigator.platform.indexOf("Win")===0,kt=ut&&"transition"in qt,we="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rr,jt="MozPerspective"in qt,Tt=!window.L_DISABLE_3D&&(kt||we||jt)&&!Wr&&!Hi,G=typeof orientation<"u"||Rt("mobile"),te=G&&Ie,ce=G&&we,Te=!window.PointerEvent&&window.MSPointerEvent,ye=!!(window.PointerEvent||Te),Fe="ontouchstart"in window||!!window.TouchEvent,Ze=!window.L_NO_TOUCH&&(Fe||ye),je=G&&Sn,Re=G&&or,vt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qe=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",N,c),window.removeEventListener("testPassiveEventSupport",N,c)}catch{}return o}(),Ke=function(){return!!document.createElement("canvas").getContext}(),dt=!!(document.createElementNS&&Gn("svg").createSVGRect),xt=!!dt&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Zr=!dt&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Pn=navigator.platform.indexOf("Mac")===0,Gr=navigator.platform.indexOf("Linux")===0;function Rt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ae={ie:ut,ielt9:it,edge:Hr,webkit:Ie,android:Vr,android23:rr,androidStock:ji,opera:Sn,chrome:Eo,gecko:or,safari:on,phantom:Hi,opera12:Wr,win:zs,ie3d:kt,webkit3d:we,gecko3d:jt,any3d:Tt,mobile:G,mobileWebkit:te,mobileWebkit3d:ce,msPointer:Te,pointer:ye,touch:Ze,touchNative:Fe,mobileOpera:je,mobileGecko:Re,retina:vt,passiveEvents:Qe,canvas:Ke,svg:dt,vml:Zr,inlineSvg:xt,mac:Pn,linux:Gr},Ht=Ae.msPointer?"MSPointerDown":"pointerdown",Ce=Ae.msPointer?"MSPointerMove":"pointermove",dr=Ae.msPointer?"MSPointerUp":"pointerup",ai=Ae.msPointer?"MSPointerCancel":"pointercancel",sn={touchstart:Ht,touchmove:Ce,touchend:dr,touchcancel:ai},ot={touchstart:li,touchmove:Co,touchend:Co,touchcancel:Co},Qt={},kn=!1;function Bn(o,c,g){return c==="touchstart"&&Bt(),ot[c]?(g=ot[c].bind(this,g),o.addEventListener(sn[c],g,!1),g):(console.warn("wrong event specified:",c),N)}function Jt(o,c,g){if(!sn[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(sn[c],g,!1)}function vi(o){Qt[o.pointerId]=o}function Xn(o){Qt[o.pointerId]&&(Qt[o.pointerId]=o)}function dn(o){delete Qt[o.pointerId]}function Bt(){kn||(document.addEventListener(Ht,vi,!0),document.addEventListener(Ce,Xn,!0),document.addEventListener(dr,dn,!0),document.addEventListener(ai,dn,!0),kn=!0)}function Co(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var g in Qt)c.touches.push(Qt[g]);c.changedTouches=[c],o(c)}}function li(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&yn(c),Co(o,c)}function Us(o){var c={},g,w;for(w in o)g=o[w],c[w]=g&&g.bind?g.bind(o):g;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var fe=200;function qu(o,c){o.addEventListener("dblclick",c);var g=0,w;function A(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var U=Wi(R);if(!(U.some(function(ee){return ee instanceof HTMLLabelElement&&ee.attributes.for})&&!U.some(function(ee){return ee instanceof HTMLInputElement||ee instanceof HTMLSelectElement}))){var q=Date.now();q-g<=fe?(w++,w===2&&c(Us(R))):w=1,g=q}}}return o.addEventListener("click",A),{dblclick:c,simDblclick:A}}function Yt(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var ui=K(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ao=K(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Et=Ao==="webkitTransition"||Ao==="OTransition"?Ao+"End":"transitionend";function _t(o){return typeof o=="string"?document.getElementById(o):o}function et(o,c){var g=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);g=w?w[c]:null}return g==="auto"?null:g}function pt(o,c,g){var w=document.createElement(o);return w.className=c||"",g&&g.appendChild(w),w}function Lt(o){var c=o.parentNode;c&&c.removeChild(o)}function Vi(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ft(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function Yn(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function js(o,c){if(o.classList!==void 0)return o.classList.contains(c);var g=Xr(o);return g.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(g)}function Le(o,c){if(o.classList!==void 0)for(var g=j(c),w=0,A=g.length;w<A;w++)o.classList.add(g[w]);else if(!js(o,c)){var R=Xr(o);Hs(o,(R?R+" ":"")+c)}}function It(o,c){o.classList!==void 0?o.classList.remove(c):Hs(o,W((" "+Xr(o)+" ").replace(" "+c+" "," ")))}function Hs(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function Xr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function tt(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&Tn(o,c)}function Tn(o,c){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),g?(g.Enabled=c!==100,g.Opacity=c):o.style.filter+=" progid:"+w+"(opacity="+c+")"}function K(o){for(var c=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in c)return o[g];return!1}function O(o,c,g){var w=c||new oe(0,0);o.style[ui]=(Ae.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function ve(o,c){o._leaflet_pos=c,Ae.any3d?O(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function zt(o){return o._leaflet_pos||new oe(0,0)}var In,So,To;if("onselectstart"in document)In=function(){We(window,"selectstart",yn)},So=function(){Ee(window,"selectstart",yn)};else{var bn=K(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);In=function(){if(bn){var o=document.documentElement.style;To=o[bn],o[bn]="none"}},So=function(){bn&&(document.documentElement.style[bn]=To,To=void 0)}}function De(){We(window,"dragstart",yn)}function Mt(){Ee(window,"dragstart",yn)}var Io,Vs;function bo(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ei(),Io=o,Vs=o.style.outlineStyle,o.style.outlineStyle="none",We(window,"keydown",Ei))}function Ei(){Io&&(Io.style.outlineStyle=Vs,Io=void 0,Vs=void 0,Ee(window,"keydown",Ei))}function Ko(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ws(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var pn={__proto__:null,TRANSFORM:ui,TRANSITION:Ao,TRANSITION_END:Et,get:_t,getStyle:et,create:pt,remove:Lt,empty:Vi,toFront:Ft,toBack:Yn,hasClass:js,addClass:Le,removeClass:It,setClass:Hs,getClass:Xr,setOpacity:tt,testProp:K,setTransform:O,setPosition:ve,getPosition:zt,get disableTextSelection(){return In},get enableTextSelection(){return So},disableImageDrag:De,enableImageDrag:Mt,preventOutline:bo,restoreOutline:Ei,getSizedParentNode:Ko,getScale:Ws};function We(o,c,g,w){if(c&&typeof c=="object")for(var A in c)un(o,A,c[A],g);else{c=j(c);for(var R=0,U=c.length;R<U;R++)un(o,c[R],g,w)}return this}var wn="_leaflet_events";function Ee(o,c,g,w){if(arguments.length===1)ol(o),delete o[wn];else if(c&&typeof c=="object")for(var A in c)Zs(o,A,c[A],g);else if(c=j(c),arguments.length===2)ol(o,function(q){return k(c,q)!==-1});else for(var R=0,U=c.length;R<U;R++)Zs(o,c[R],g,w);return this}function ol(o,c){for(var g in o[wn]){var w=g.split(/\d/)[0];(!c||c(w))&&Zs(o,w,null,null,g)}}var Xe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function un(o,c,g,w){var A=c+E(g)+(w?"_"+E(w):"");if(o[wn]&&o[wn][A])return this;var R=function(q){return g.call(w||o,q||window.event)},U=R;!Ae.touchNative&&Ae.pointer&&c.indexOf("touch")===0?R=Bn(o,c,R):Ae.touch&&c==="dblclick"?R=qu(o,R):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(Xe[c]||c,R,Ae.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(R=function(q){q=q||window.event,Ci(o,q)&&U(q)},o.addEventListener(Xe[c],R,!1)):o.addEventListener(c,U,!1):o.attachEvent("on"+c,R),o[wn]=o[wn]||{},o[wn][A]=R}function Zs(o,c,g,w,A){A=A||c+E(g)+(w?"_"+E(w):"");var R=o[wn]&&o[wn][A];if(!R)return this;!Ae.touchNative&&Ae.pointer&&c.indexOf("touch")===0?Jt(o,c,R):Ae.touch&&c==="dblclick"?Yt(o,R):"removeEventListener"in o?o.removeEventListener(Xe[c]||c,R,!1):o.detachEvent("on"+c,R),o[wn][A]=null}function Yr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function qo(o){return un(o,"wheel",Yr),this}function pr(o){return We(o,"mousedown touchstart dblclick contextmenu",Yr),o._leaflet_disable_click=!0,this}function yn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function gr(o){return yn(o),Yr(o),this}function Wi(o){if(o.composedPath)return o.composedPath();for(var c=[],g=o.target;g;)c.push(g),g=g.parentNode;return c}function Zi(o,c){if(!c)return new oe(o.clientX,o.clientY);var g=Ws(c),w=g.boundingClientRect;return new oe((o.clientX-w.left)/g.x-c.clientLeft,(o.clientY-w.top)/g.y-c.clientTop)}var sl=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Gi(o){return Ae.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/sl:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ci(o,c){var g=c.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var Fn={__proto__:null,on:We,off:Ee,stopPropagation:Yr,disableScrollPropagation:qo,disableClickPropagation:pr,preventDefault:yn,stop:gr,getPropagationPath:Wi,getMousePosition:Zi,getWheelDelta:Gi,isExternalTarget:Ci,addListener:We,removeListener:Ee},Gs=ke.extend({run:function(o,c,g,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=zt(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ve(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,g=this._duration*1e3;c<g?this._runFrame(this._easeOut(c/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var g=this._startPos.add(this._offset.multiplyBy(o));c&&g._round(),ve(this._el,g),this.fire("step")},_complete:function(){Se(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ct=ke.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=z(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=x(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ge(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ao&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),We(this._proxy,Et,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,g){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(ge(o),c,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=f({animate:g.animate},g.zoom),g.pan=f({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,g.zoom):this._tryAnimatedPan(o,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,g){var w=this.getZoomScale(c),A=this.getSize().divideBy(2),R=o instanceof oe?o:this.latLngToContainerPoint(o),U=R.subtract(A).multiplyBy(1-1/w),q=this.containerPointToLatLng(A.add(U));return this.setView(q,c,{zoom:g})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():Ge(o);var g=pe(c.paddingTopLeft||c.padding||[0,0]),w=pe(c.paddingBottomRight||c.padding||[0,0]),A=this.getBoundsZoom(o,!1,g.add(w));if(A=typeof c.maxZoom=="number"?Math.min(c.maxZoom,A):A,A===1/0)return{center:o.getCenter(),zoom:A};var R=w.subtract(g).divideBy(2),U=this.project(o.getSouthWest(),A),q=this.project(o.getNorthEast(),A),ee=this.unproject(U.add(q).divideBy(2).add(R),A);return{center:ee,zoom:A}},fitBounds:function(o,c){if(o=Ge(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,c);return this.setView(g.center,g.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=pe(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,g){if(g=g||{},g.animate===!1||!Ae.any3d)return this.setView(o,c,g);this._stop();var w=this.project(this.getCenter()),A=this.project(o),R=this.getSize(),U=this._zoom;o=ge(o),c=c===void 0?U:c;var q=Math.max(R.x,R.y),ee=q*this.getZoomScale(U,c),he=A.distanceTo(w)||1,be=1.42,He=be*be;function st(mn){var pl=mn?-1:1,Am=mn?ee:q,Sm=ee*ee-q*q+pl*He*He*he*he,Tm=2*Am*He*he,rc=Sm/Tm,pd=Math.sqrt(rc*rc+1)-rc,Im=pd<1e-9?-18:Math.log(pd);return Im}function Jn(mn){return(Math.exp(mn)-Math.exp(-mn))/2}function Rn(mn){return(Math.exp(mn)+Math.exp(-mn))/2}function Nr(mn){return Jn(mn)/Rn(mn)}var ar=st(0);function ts(mn){return q*(Rn(ar)/Rn(ar+be*mn))}function ym(mn){return q*(Rn(ar)*Nr(ar+be*mn)-Jn(ar))/He}function vm(mn){return 1-Math.pow(1-mn,1.5)}var Em=Date.now(),hd=(st(1)-ar)/be,Cm=g.duration?1e3*g.duration:1e3*hd*.8;function dd(){var mn=(Date.now()-Em)/Cm,pl=vm(mn)*hd;mn<=1?(this._flyToFrame=Ve(dd,this),this._move(this.unproject(w.add(A.subtract(w).multiplyBy(ym(pl)/he)),U),this.getScaleZoom(q/ts(pl),U),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),dd.call(this),this},flyToBounds:function(o,c){var g=this._getBoundsCenterZoom(o,c);return this.flyTo(g.center,g.zoom,c)},setMaxBounds:function(o){return o=Ge(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Ge(o));return g.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var g=pe(c.paddingTopLeft||c.padding||[0,0]),w=pe(c.paddingBottomRight||c.padding||[0,0]),A=this.project(this.getCenter()),R=this.project(o),U=this.getPixelBounds(),q=Me([U.min.add(g),U.max.subtract(w)]),ee=q.getSize();if(!q.contains(R)){this._enforcingBounds=!0;var he=R.subtract(q.getCenter()),be=q.extend(R).getSize().subtract(ee);A.x+=he.x<0?-be.x:be.x,A.y+=he.y<0?-be.y:be.y,this.panTo(this.unproject(A),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=f({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=c.divideBy(2).round(),A=g.divideBy(2).round(),R=w.subtract(A);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(x(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=f({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=x(this._handleGeolocationResponse,this),g=x(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,g,o):navigator.geolocation.getCurrentPosition(c,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,g=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,g=o.coords.longitude,w=new rt(c,g),A=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var U=this.getBoundsZoom(A);this.setView(w,R.maxZoom?Math.min(U,R.maxZoom):U)}var q={latlng:w,bounds:A,timestamp:o.timestamp};for(var ee in o.coords)typeof o.coords[ee]=="number"&&(q[ee]=o.coords[ee]);this.fire("locationfound",q)}},addHandler:function(o,c){if(!c)return this;var g=this[o]=new c(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Se(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Lt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=pt("div",g,c||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new St(c,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,g){o=Ge(o),g=pe(g||[0,0]);var w=this.getZoom()||0,A=this.getMinZoom(),R=this.getMaxZoom(),U=o.getNorthWest(),q=o.getSouthEast(),ee=this.getSize().subtract(g),he=Me(this.project(q,w),this.project(U,w)).getSize(),be=Ae.any3d?this.options.zoomSnap:1,He=ee.x/he.x,st=ee.y/he.y,Jn=c?Math.max(He,st):Math.min(He,st);return w=this.getScaleZoom(Jn,w),be&&(w=Math.round(w/(be/100))*(be/100),w=c?Math.ceil(w/be)*be:Math.floor(w/be)*be),Math.max(A,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new oe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var g=this._getTopLeftPoint(o,c);return new Be(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var g=this.options.crs;return c=c===void 0?this._zoom:c,g.scale(o)/g.scale(c)},getScaleZoom:function(o,c){var g=this.options.crs;c=c===void 0?this._zoom:c;var w=g.zoom(o*g.scale(c));return isNaN(w)?1/0:w},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ge(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(pe(o),c)},layerPointToLatLng:function(o){var c=pe(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(ge(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ge(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ge(o))},distance:function(o,c){return this.options.crs.distance(ge(o),ge(c))},containerPointToLayerPoint:function(o){return pe(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return pe(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(pe(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(o)))},mouseEventToContainerPoint:function(o){return Zi(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=_t(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");We(c,"scroll",this._onScroll,this),this._containerId=E(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Le(o,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=et(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new oe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(o.markerPane,"leaflet-zoom-hide"),Le(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,g){ve(this._mapPane,new oe(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var A=this._zoom!==c;this._moveStart(A,g)._move(o,c)._moveEnd(A),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,g,w){c===void 0&&(c=this._zoom);var A=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?g&&g.pinch&&this.fire("zoom",g):((A||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Se(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ve(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[E(this._container)]=this;var c=o?Ee:We;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Se(this._resizeRequest),this._resizeRequest=Ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var g=[],w,A=c==="mouseout"||c==="mouseover",R=o.target||o.srcElement,U=!1;R;){if(w=this._targets[E(R)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){U=!0;break}if(w&&w.listens(c,!0)&&(A&&!Ci(R,o)||(g.push(w),A))||R===this._container)break;R=R.parentNode}return!g.length&&!U&&!A&&this.listens(c,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var g=o.type;g==="mousedown"&&bo(c),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,g){if(o.type==="click"){var w=f({},o);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var A=this._findEventTargets(o,c);if(g){for(var R=[],U=0;U<g.length;U++)g[U].listens(c,!0)&&R.push(g[U]);A=R.concat(A)}if(A.length){c==="contextmenu"&&yn(o);var q=A[0],ee={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var he=q.getLatLng&&(!q._radius||q._radius<=10);ee.containerPoint=he?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(o),ee.layerPoint=this.containerPointToLayerPoint(ee.containerPoint),ee.latlng=he?q.getLatLng():this.layerPointToLatLng(ee.layerPoint)}for(U=0;U<A.length;U++)if(A[U].fire(c,ee,!0),ee.originalEvent._stopped||A[U].options.bubblingMouseEvents===!1&&k(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return zt(this._mapPane)||new oe(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var g=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var g=this.getSize()._divideBy(2);return this.project(o,c)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,g){var w=this._getNewPixelOrigin(g,c);return this.project(o,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,c,g){var w=this._getNewPixelOrigin(g,c);return Me([this.project(o.getSouthWest(),c)._subtract(w),this.project(o.getNorthWest(),c)._subtract(w),this.project(o.getSouthEast(),c)._subtract(w),this.project(o.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,g){if(!g)return o;var w=this.project(o,c),A=this.getSize().divideBy(2),R=new Be(w.subtract(A),w.add(A)),U=this._getBoundsOffset(R,g,c);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?o:this.unproject(w.add(U),c)},_limitOffset:function(o,c){if(!c)return o;var g=this.getPixelBounds(),w=new Be(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(o,c,g){var w=Me(this.project(c.getNorthEast(),g),this.project(c.getSouthWest(),g)),A=w.min.subtract(o.min),R=w.max.subtract(o.max),U=this._rebound(A.x,-R.x),q=this._rebound(A.y,-R.y);return new oe(U,q)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),g=this.getMaxZoom(),w=Ae.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(c,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){It(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var g=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,c),!0)},_createAnimProxy:function(){var o=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var g=ui,w=this._proxy.style[g];O(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();O(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),A=this._getCenterOffset(o)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(A)?!1:(Ve(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(x(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&It(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function al(o,c){return new ct(o,c)}var mr=ht.extend({options:{position:"topright"},initialize:function(o){z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),g=this.getPosition(),w=o._controlCorners[g];return Le(c,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ro=function(o){return new mr(o)};ct.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",g=this._controlContainer=pt("div",c+"control-container",this._container);function w(A,R){var U=c+A+" "+c+R;o[A+R]=pt("div",U,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Lt(this._controlCorners[o]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ll=mr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,g,w){return g<w?-1:w<g?1:0}},initialize:function(o,c,g){z(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return mr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(E(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):It(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return It(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=pt("div",o),g=this.options.collapsed;c.setAttribute("aria-haspopup",!0),pr(c),qo(c);var w=this._section=pt("section",o+"-list");g&&(this._map.on("click",this.collapse,this),We(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=pt("a",o+"-toggle",c);A.href="#",A.title="Layers",A.setAttribute("role","button"),We(A,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){yn(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=pt("div",o+"-base",w),this._separator=pt("div",o+"-separator",w),this._overlaysList=pt("div",o+"-overlays",w),c.appendChild(w)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&E(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:g}),this.options.sortLayers&&this._layers.sort(x(function(w,A){return this.options.sortFunction(w.layer,A.layer,w.name,A.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Vi(this._baseLayersList),Vi(this._overlaysList),this._layerControlInputs=[];var o,c,g,w,A=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),c=c||w.overlay,o=o||!w.overlay,A+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&A>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(E(o.target)),g=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,c)},_createRadioElement:function(o,c){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(o){var c=document.createElement("label"),g=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+E(this),g),this._layerControlInputs.push(w),w.layerId=E(o.layer),We(w,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+o.name;var R=document.createElement("span");c.appendChild(R),R.appendChild(w),R.appendChild(A);var U=o.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,g,w=[],A=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)c=o[R],g=this._getLayer(c.layerId).layer,c.checked?w.push(g):c.checked||A.push(g);for(R=0;R<A.length;R++)this._map.hasLayer(A[R])&&this._map.removeLayer(A[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,g,w=this._map.getZoom(),A=o.length-1;A>=0;A--)c=o[A],g=this._getLayer(c.layerId).layer,c.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,We(o,"click",yn),this.expand();var c=this;setTimeout(function(){Ee(o,"click",yn),c._preventClick=!1})}}),bt=function(o,c,g){return new ll(o,c,g)},Qo=mr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",g=pt("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,g,w,A){var R=pt("a",g,w);return R.innerHTML=o,R.href="#",R.title=c,R.setAttribute("role","button"),R.setAttribute("aria-label",c),pr(R),We(R,"click",gr),We(R,"click",A,this),We(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";It(this._zoomInButton,c),It(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Le(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Le(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ct.mergeOptions({zoomControl:!0}),ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var Jo=function(o){return new Qo(o)},Kr=mr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",g=pt("div",c),w=this.options;return this._addScales(w,c+"-line",g),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,g){o.metric&&(this._mScale=pt("div",c,g)),o.imperial&&(this._iScale=pt("div",c,g))},_update:function(){var o=this._map,c=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),g=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,g,c/o)},_updateImperial:function(o){var c=o*3.2808399,g,w,A;c>5280?(g=c/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(A=this._getRoundNum(c),this._updateScale(this._iScale,A+" ft",A/c))},_updateScale:function(o,c,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),g=o/c;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,c*g}}),Qu=function(o){return new Kr(o)},$='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qe=mr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?$+" ":"")+"Leaflet</a>"},initialize:function(o){z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),pr(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});ct.mergeOptions({attributionControl:!0}),ct.addInitHook(function(){this.options.attributionControl&&new qe().addTo(this)});var vn=function(o){return new qe(o)};mr.Layers=ll,mr.Zoom=Qo,mr.Scale=Kr,mr.Attribution=qe,Ro.layers=bt,Ro.zoom=Jo,Ro.scale=Qu,Ro.attribution=vn;var Kn=ht.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kn.addTo=function(o,c){return o.addHandler(c,this),this};var ul={Events:$e},cl=Ae.touch?"touchstart mousedown":"mousedown",ci=ke.extend({options:{clickTolerance:3},initialize:function(o,c,g,w){z(this,w),this._element=o,this._dragStartTarget=c||o,this._preventOutline=g},enable:function(){this._enabled||(We(this._dragStartTarget,cl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ci._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,cl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!js(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){ci._dragging===this&&this.finishDrag();return}if(!(ci._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(ci._dragging=this,this._preventOutline&&bo(this._element),De(),In(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,g=Ko(this._element);this._startPoint=new oe(c.clientX,c.clientY),this._startPos=zt(this._element),this._parentScale=Ws(g);var w=o.type==="mousedown";We(document,w?"mousemove":"touchmove",this._onMove,this),We(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,g=new oe(c.clientX,c.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,yn(o),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ve(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){It(document.body,"leaflet-dragging"),this._lastTarget&&(It(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),Mt(),So();var c=this._moved&&this._moving;this._moving=!1,ci._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function fl(o,c,g){var w,A=[1,4,2,8],R,U,q,ee,he,be,He,st;for(R=0,be=o.length;R<be;R++)o[R]._code=Si(o[R],c);for(q=0;q<4;q++){for(He=A[q],w=[],R=0,be=o.length,U=be-1;R<be;U=R++)ee=o[R],he=o[U],ee._code&He?he._code&He||(st=qr(he,ee,He,c,g),st._code=Si(st,c),w.push(st)):(he._code&He&&(st=qr(he,ee,He,c,g),st._code=Si(st,c),w.push(st)),w.push(ee));o=w}return o}function $o(o,c){var g,w,A,R,U,q,ee,he,be;if(!o||o.length===0)throw new Error("latlngs not passed");qn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var He=ge([0,0]),st=Ge(o),Jn=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());Jn<1700&&(He=$t(o));var Rn=o.length,Nr=[];for(g=0;g<Rn;g++){var ar=ge(o[g]);Nr.push(c.project(ge([ar.lat-He.lat,ar.lng-He.lng])))}for(q=ee=he=0,g=0,w=Rn-1;g<Rn;w=g++)A=Nr[g],R=Nr[w],U=A.y*R.x-R.y*A.x,ee+=(A.x+R.x)*U,he+=(A.y+R.y)*U,q+=U*3;q===0?be=Nr[0]:be=[ee/q,he/q];var ts=c.unproject(pe(be));return ge([ts.lat+He.lat,ts.lng+He.lng])}function $t(o){for(var c=0,g=0,w=0,A=0;A<o.length;A++){var R=ge(o[A]);c+=R.lat,g+=R.lng,w++}return ge([c/w,g/w])}var Xs={__proto__:null,clipPolygon:fl,polygonCenter:$o,centroid:$t};function Vt(o,c){if(!c||!o.length)return o.slice();var g=c*c;return o=Ju(o,g),o=Nt(o,g),o}function No(o,c,g){return Math.sqrt(Ti(o,c,g,!0))}function Ai(o,c,g){return Ti(o,c,g)}function Nt(o,c){var g=o.length,w=typeof Uint8Array!=void 0+""?Uint8Array:Array,A=new w(g);A[0]=A[g-1]=1,Ue(o,A,c,0,g-1);var R,U=[];for(R=0;R<g;R++)A[R]&&U.push(o[R]);return U}function Ue(o,c,g,w,A){var R=0,U,q,ee;for(q=w+1;q<=A-1;q++)ee=Ti(o[q],o[w],o[A],!0),ee>R&&(U=q,R=ee);R>g&&(c[U]=1,Ue(o,c,g,w,U),Ue(o,c,g,U,A))}function Ju(o,c){for(var g=[o[0]],w=1,A=0,R=o.length;w<R;w++)Sr(o[w],o[A])>c&&(g.push(o[w]),A=w);return A<R-1&&g.push(o[R-1]),g}var Pt;function fi(o,c,g,w,A){var R=w?Pt:Si(o,g),U=Si(c,g),q,ee,he;for(Pt=U;;){if(!(R|U))return[o,c];if(R&U)return!1;q=R||U,ee=qr(o,c,q,g,A),he=Si(ee,g),q===R?(o=ee,R=he):(c=ee,U=he)}}function qr(o,c,g,w,A){var R=c.x-o.x,U=c.y-o.y,q=w.min,ee=w.max,he,be;return g&8?(he=o.x+R*(ee.y-o.y)/U,be=ee.y):g&4?(he=o.x+R*(q.y-o.y)/U,be=q.y):g&2?(he=ee.x,be=o.y+U*(ee.x-o.x)/R):g&1&&(he=q.x,be=o.y+U*(q.x-o.x)/R),new oe(he,be,A)}function Si(o,c){var g=0;return o.x<c.min.x?g|=1:o.x>c.max.x&&(g|=2),o.y<c.min.y?g|=4:o.y>c.max.y&&(g|=8),g}function Sr(o,c){var g=c.x-o.x,w=c.y-o.y;return g*g+w*w}function Ti(o,c,g,w){var A=c.x,R=c.y,U=g.x-A,q=g.y-R,ee=U*U+q*q,he;return ee>0&&(he=((o.x-A)*U+(o.y-R)*q)/ee,he>1?(A=g.x,R=g.y):he>0&&(A+=U*he,R+=q*he)),U=o.x-A,q=o.y-R,w?U*U+q*q:new oe(A,R)}function qn(o){return!B(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function es(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qn(o)}function Ys(o,c){var g,w,A,R,U,q,ee,he;if(!o||o.length===0)throw new Error("latlngs not passed");qn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var be=ge([0,0]),He=Ge(o),st=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());st<1700&&(be=$t(o));var Jn=o.length,Rn=[];for(g=0;g<Jn;g++){var Nr=ge(o[g]);Rn.push(c.project(ge([Nr.lat-be.lat,Nr.lng-be.lng])))}for(g=0,w=0;g<Jn-1;g++)w+=Rn[g].distanceTo(Rn[g+1])/2;if(w===0)he=Rn[0];else for(g=0,R=0;g<Jn-1;g++)if(U=Rn[g],q=Rn[g+1],A=U.distanceTo(q),R+=A,R>w){ee=(R-w)/A,he=[q.x-ee*(q.x-U.x),q.y-ee*(q.y-U.y)];break}var ar=c.unproject(pe(he));return ge([ar.lat+be.lat,ar.lng+be.lng])}var hl={__proto__:null,simplify:Vt,pointToSegmentDistance:No,closestPointOnSegment:Ai,clipSegment:fi,_getEdgeIntersection:qr,_getBitCode:Si,_sqClosestPointOnSegment:Ti,isFlat:qn,_flat:es,polylineCenter:Ys},Ks={project:function(o){return new oe(o.lng,o.lat)},unproject:function(o){return new rt(o.y,o.x)},bounds:new Be([-180,-90],[180,90])},hi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Be([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,g=this.R,w=o.lat*c,A=this.R_MINOR/g,R=Math.sqrt(1-A*A),U=R*Math.sin(w),q=Math.tan(Math.PI/4-w/2)/Math.pow((1-U)/(1+U),R/2);return w=-g*Math.log(Math.max(q,1e-10)),new oe(o.lng*c*g,w)},unproject:function(o){for(var c=180/Math.PI,g=this.R,w=this.R_MINOR/g,A=Math.sqrt(1-w*w),R=Math.exp(-o.y/g),U=Math.PI/2-2*Math.atan(R),q=0,ee=.1,he;q<15&&Math.abs(ee)>1e-7;q++)he=A*Math.sin(U),he=Math.pow((1-he)/(1+he),A/2),ee=Math.PI/2-2*Math.atan(R*he)-U,U+=ee;return new rt(U*c,o.x*c/g)}},qs={__proto__:null,LonLat:Ks,Mercator:hi,SphericalMercator:Ur},$u=f({},yt,{code:"EPSG:3395",projection:hi,transformation:function(){var o=.5/(Math.PI*hi.R);return Ar(o,.5,-o,.5)}()}),Xi=f({},yt,{code:"EPSG:4326",projection:Ks,transformation:Ar(1/180,1,-1/180,.5)}),ec=f({},at,{projection:Ks,transformation:Ar(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var g=c.lng-o.lng,w=c.lat-o.lat;return Math.sqrt(g*g+w*w)},infinite:!0});at.Earth=yt,at.EPSG3395=$u,at.EPSG3857=lt,at.EPSG900913=jr,at.EPSG4326=Xi,at.Simple=ec;var gn=ke.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[E(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[E(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var g=this.getEvents();c.on(g,this),this.once("remove",function(){c.off(g,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ct.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=E(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=E(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return E(o)in this._layers},eachLayer:function(o,c){for(var g in this._layers)o.call(c,this._layers[g]);return this},_addLayers:function(o){o=o?B(o)?o:[o]:[];for(var c=0,g=o.length;c<g;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[E(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=E(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var A=this._zoomBoundLayers[w].options;o=A.minZoom===void 0?o:Math.min(o,A.minZoom),c=A.maxZoom===void 0?c:Math.max(c,A.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qr=gn.extend({initialize:function(o,c){z(this,c),this._layers={};var g,w;if(o)for(g=0,w=o.length;g<w;g++)this.addLayer(o[g])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[o]&&w[o].apply(w,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var g in this._layers)o.call(c,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return E(o)}}),sr=function(o,c){return new Qr(o,c)},Tr=Qr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Qr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Qr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new St;for(var c in this._layers){var g=this._layers[c];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Ir=function(o,c){return new Tr(o,c)},Yi=ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,c){var g=this.options,w=g[c+"Size"];typeof w=="number"&&(w=[w,w]);var A=pe(w),R=pe(c==="shadow"&&g.shadowAnchor||g.iconAnchor||A&&A.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(g.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),A&&(o.style.width=A.x+"px",o.style.height=A.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Ae.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Qs(o){return new Yi(o)}var Oo=Yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Oo.imagePath!="string"&&(Oo.imagePath=this._detectIconPath()),(this.options.imagePath||Oo.imagePath)+Yi.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(g,w,A){var R=w.exec(g);return R&&R[A]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=pt("div","leaflet-default-icon-path",document.body),c=et(o,"background-image")||et(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Js=Kn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new ci(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&It(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,g=c._map,w=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,R=zt(c._icon),U=g.getPixelBounds(),q=g.getPixelOrigin(),ee=Me(U.min._subtract(q).add(A),U.max._subtract(q).subtract(A));if(!ee.contains(R)){var he=pe((Math.max(ee.max.x,R.x)-ee.max.x)/(U.max.x-ee.max.x)-(Math.min(ee.min.x,R.x)-ee.min.x)/(U.min.x-ee.min.x),(Math.max(ee.max.y,R.y)-ee.max.y)/(U.max.y-ee.max.y)-(Math.min(ee.min.y,R.y)-ee.min.y)/(U.min.y-ee.min.y)).multiplyBy(w);g.panBy(he,{animate:!1}),this._draggable._newPos._add(he),this._draggable._startPos._add(he),ve(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Ve(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Se(this._panRequest),this._panRequest=Ve(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,g=c._shadow,w=zt(c._icon),A=c._map.layerPointToLatLng(w);g&&ve(g,w),c._latlng=A,o.latlng=A,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Se(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Qn=gn.extend({options:{icon:new Oo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){z(this,c),this._latlng=ge(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=ge(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Le(g,c),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(g,"focus",this._panOnFocus,this);var A=o.icon.createShadow(this._shadow),R=!1;A!==this._shadow&&(this._removeShadow(),R=!0),A&&(Le(A,c),A.alt=""),this._shadow=A,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ve(this._icon,o),this._shadow&&ve(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Js)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Js(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&tt(this._icon,o),this._shadow&&tt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,g=c.iconSize?pe(c.iconSize):pe(0,0),w=c.iconAnchor?pe(c.iconAnchor):pe(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tc(o,c){return new Qn(o,c)}var br=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),di=br.extend({options:{fill:!0,radius:10},initialize:function(o,c){z(this,c),this._latlng=ge(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=ge(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return br.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,g=this._clickTolerance(),w=[o+g,c+g];this._pxBounds=new Be(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mt(o,c){return new di(o,c)}var Ki=di.extend({initialize:function(o,c,g){if(typeof c=="number"&&(c=f({},g,{radius:c})),z(this,c),this._latlng=ge(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new St(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:br.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===yt.distance){var A=Math.PI/180,R=this._mRadius/yt.R/A,U=g.project([c+R,o]),q=g.project([c-R,o]),ee=U.add(q).divideBy(2),he=g.unproject(ee).lat,be=Math.acos((Math.cos(R*A)-Math.sin(c*A)*Math.sin(he*A))/(Math.cos(c*A)*Math.cos(he*A)))/A;(isNaN(be)||be===0)&&(be=R/Math.cos(Math.PI/180*c)),this._point=ee.subtract(g.getPixelOrigin()),this._radius=isNaN(be)?0:ee.x-g.project([he,o-be]).x,this._radiusY=ee.y-U.y}else{var He=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(He).x}this._updateBounds()}});function S(o,c,g){return new Ki(o,c,g)}var n=br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){z(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,g=null,w=Ti,A,R,U=0,q=this._parts.length;U<q;U++)for(var ee=this._parts[U],he=1,be=ee.length;he<be;he++){A=ee[he-1],R=ee[he];var He=w(o,A,R,!0);He<c&&(c=He,g=w(o,A,R))}return g&&(g.distance=Math.sqrt(c)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ys(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=ge(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new St,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return qn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],g=qn(o),w=0,A=o.length;w<A;w++)g?(c[w]=ge(o[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(o[w]);return c},_project:function(){var o=new Be;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new oe(o,o);this._rawPxBounds&&(this._pxBounds=new Be([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,g){var w=o[0]instanceof rt,A=o.length,R,U;if(w){for(U=[],R=0;R<A;R++)U[R]=this._map.latLngToLayerPoint(o[R]),g.extend(U[R]);c.push(U)}else for(R=0;R<A;R++)this._projectLatlngs(o[R],c,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,g,w,A,R,U,q,ee;for(g=0,A=0,R=this._rings.length;g<R;g++)for(ee=this._rings[g],w=0,U=ee.length;w<U-1;w++)q=fi(ee[w],ee[w+1],o,w,!0),q&&(c[A]=c[A]||[],c[A].push(q[0]),(q[1]!==ee[w+1]||w===U-2)&&(c[A].push(q[1]),A++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,g=0,w=o.length;g<w;g++)o[g]=Vt(o[g],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var g,w,A,R,U,q,ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,R=this._parts.length;g<R;g++)for(q=this._parts[g],w=0,U=q.length,A=U-1;w<U;A=w++)if(!(!c&&w===0)&&No(o,q[A],q[w])<=ee)return!0;return!1}});function i(o,c){return new n(o,c)}n._flat=es;var s=n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $o(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=n.prototype._convertLatLngs.call(this,o),g=c.length;return g>=2&&c[0]instanceof rt&&c[0].equals(c[g-1])&&c.pop(),c},_setLatLngs:function(o){n.prototype._setLatLngs.call(this,o),qn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,g=new oe(c,c);if(o=new Be(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,A=this._rings.length,R;w<A;w++)R=fl(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,g,w,A,R,U,q,ee,he;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,ee=this._parts.length;R<ee;R++)for(g=this._parts[R],U=0,he=g.length,q=he-1;U<he;q=U++)w=g[U],A=g[q],w.y>o.y!=A.y>o.y&&o.x<(A.x-w.x)*(o.y-w.y)/(A.y-w.y)+w.x&&(c=!c);return c||n.prototype._containsPoint.call(this,o,!0)}});function l(o,c){return new s(o,c)}var u=Tr.extend({initialize:function(o,c){z(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=B(o)?o:o.features,g,w,A;if(c){for(g=0,w=c.length;g<w;g++)A=c[g],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var U=h(o,R);return U?(U.feature=M(o),U.defaultOptions=U.options,this.resetStyle(U),R.onEachFeature&&R.onEachFeature(o,U),this.addLayer(U)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=f({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function h(o,c){var g=o.type==="Feature"?o.geometry:o,w=g?g.coordinates:null,A=[],R=c&&c.pointToLayer,U=c&&c.coordsToLatLng||m,q,ee,he,be;if(!w&&!g)return null;switch(g.type){case"Point":return q=U(w),p(R,o,q,c);case"MultiPoint":for(he=0,be=w.length;he<be;he++)q=U(w[he]),A.push(p(R,o,q,c));return new Tr(A);case"LineString":case"MultiLineString":return ee=_(w,g.type==="LineString"?0:1,U),new n(ee,c);case"Polygon":case"MultiPolygon":return ee=_(w,g.type==="Polygon"?1:2,U),new s(ee,c);case"GeometryCollection":for(he=0,be=g.geometries.length;he<be;he++){var He=h({geometry:g.geometries[he],type:"Feature",properties:o.properties},c);He&&A.push(He)}return new Tr(A);case"FeatureCollection":for(he=0,be=g.features.length;he<be;he++){var st=h(g.features[he],c);st&&A.push(st)}return new Tr(A);default:throw new Error("Invalid GeoJSON object.")}}function p(o,c,g,w){return o?o(c,g):new Qn(g,w&&w.markersInheritOptions&&w)}function m(o){return new rt(o[1],o[0],o[2])}function _(o,c,g){for(var w=[],A=0,R=o.length,U;A<R;A++)U=c?_(o[A],c-1,g):(g||m)(o[A]),w.push(U);return w}function C(o,c){return o=ge(o),o.alt!==void 0?[P(o.lng,c),P(o.lat,c),P(o.alt,c)]:[P(o.lng,c),P(o.lat,c)]}function T(o,c,g,w){for(var A=[],R=0,U=o.length;R<U;R++)A.push(c?T(o[R],qn(o[R])?0:c-1,g,w):C(o[R],w));return!c&&g&&A.length>0&&A.push(A[0].slice()),A}function b(o,c){return o.feature?f({},o.feature,{geometry:c}):M(c)}function M(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var H={toGeoJSON:function(o){return b(this,{type:"Point",coordinates:C(this.getLatLng(),o)})}};Qn.include(H),Ki.include(H),di.include(H),n.include({toGeoJSON:function(o){var c=!qn(this._latlngs),g=T(this._latlngs,c?1:0,!1,o);return b(this,{type:(c?"Multi":"")+"LineString",coordinates:g})}}),s.include({toGeoJSON:function(o){var c=!qn(this._latlngs),g=c&&!qn(this._latlngs[0]),w=T(this._latlngs,g?2:c?1:0,!0,o);return c||(w=[w]),b(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Qr.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(g){c.push(g.toGeoJSON(o).geometry.coordinates)}),b(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var g=c==="GeometryCollection",w=[];return this.eachLayer(function(A){if(A.toGeoJSON){var R=A.toGeoJSON(o);if(g)w.push(R.geometry);else{var U=M(R);U.type==="FeatureCollection"?w.push.apply(w,U.features):w.push(U)}}}),g?b(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function V(o,c){return new u(o,c)}var Y=V,J=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,g){this._url=o,this._bounds=Ge(c),z(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ft(this._image),this},bringToBack:function(){return this._map&&Yn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ge(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:pt("img");if(Le(c,"leaflet-image-layer"),this._zoomAnimated&&Le(c,"leaflet-zoom-animated"),this.options.className&&Le(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onload=x(this.fire,this,"load"),c.onerror=x(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;O(this._image,g,c)},_reset:function(){var o=this._image,c=new Be(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=c.getSize();ve(o,c.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),me=function(o,c,g){return new J(o,c,g)},xe=J.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:pt("video");if(Le(c,"leaflet-image-layer"),this._zoomAnimated&&Le(c,"leaflet-zoom-animated"),this.options.className&&Le(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onloadeddata=x(this.fire,this,"load"),o){for(var g=c.getElementsByTagName("source"),w=[],A=0;A<g.length;A++)w.push(g[A].src);this._url=g.length>0?w:[c.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var U=pt("source");U.src=this._url[R],c.appendChild(U)}}});function de(o,c,g){return new xe(o,c,g)}var nt=J.extend({_initImage:function(){var o=this._image=this._url;Le(o,"leaflet-image-layer"),this._zoomAnimated&&Le(o,"leaflet-zoom-animated"),this.options.className&&Le(o,this.options.className),o.onselectstart=N,o.onmousemove=N}});function Ye(o,c,g){return new nt(o,c,g)}var Wt=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof rt||B(o))?(this._latlng=ge(o),z(this,c)):(z(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&tt(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(tt(this._container,0),this._removeTimeout=setTimeout(x(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ge(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ft(this._container),this},bringToBack:function(){return this._map&&Yn(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Tr){c=null;var g=this._source._layers;for(var w in g)if(g[w]._map){c=g[w];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=pe(this.options.offset),g=this._getAnchor();this._zoomAnimated?ve(this._container,o.add(g)):c=c.add(o).add(g);var w=this._containerBottom=-c.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});ct.include({_initOverlay:function(o,c,g,w){var A=c;return A instanceof o||(A=new o(w).setContent(c)),g&&A.setLatLng(g),A}}),gn.include({_initOverlay:function(o,c,g,w){var A=g;return A instanceof o?(z(A,w),A._source=this):(A=c&&!w?c:new o(w,this),A.setContent(g)),A}});var zn=Wt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Wt.prototype.openOn.call(this,o)},onAdd:function(o){Wt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof br||this._source.on("preclick",Yr))},onRemove:function(o){Wt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof br||this._source.off("preclick",Yr))},getEvents:function(){var o=Wt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=pt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=pt("div",o+"-content-wrapper",c);if(this._contentNode=pt("div",o+"-content",g),pr(c),qo(this._contentNode),We(c,"contextmenu",Yr),this._tipContainer=pt("div",o+"-tip-container",c),this._tip=pt("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=pt("a",o+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',We(w,"click",function(A){yn(A),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),c.width=g+1+"px",c.whiteSpace="",c.height="";var w=o.offsetHeight,A=this.options.maxHeight,R="leaflet-popup-scrolled";A&&w>A?(c.height=A+"px",Le(o,R)):It(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();ve(this._container,c.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(et(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+c,w=this._containerWidth,A=new oe(this._containerLeft,-g-this._containerBottom);A._add(zt(this._container));var R=o.layerPointToContainerPoint(A),U=pe(this.options.autoPanPadding),q=pe(this.options.autoPanPaddingTopLeft||U),ee=pe(this.options.autoPanPaddingBottomRight||U),he=o.getSize(),be=0,He=0;R.x+w+ee.x>he.x&&(be=R.x+w-he.x+ee.x),R.x-be-q.x<0&&(be=R.x-q.x),R.y+g+ee.y>he.y&&(He=R.y+g-he.y+ee.y),R.y-He-q.y<0&&(He=R.y-q.y),(be||He)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([be,He]))}},_getAnchor:function(){return pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Un=function(o,c){return new zn(o,c)};ct.mergeOptions({closePopupOnClick:!0}),ct.include({openPopup:function(o,c,g){return this._initOverlay(zn,o,c,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),gn.include({bindPopup:function(o,c){return this._popup=this._initOverlay(zn,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Tr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){gr(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var At=Wt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Wt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Wt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Wt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+E(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,g,w=this._map,A=this._container,R=w.latLngToContainerPoint(w.getCenter()),U=w.layerPointToContainerPoint(o),q=this.options.direction,ee=A.offsetWidth,he=A.offsetHeight,be=pe(this.options.offset),He=this._getAnchor();q==="top"?(c=ee/2,g=he):q==="bottom"?(c=ee/2,g=0):q==="center"?(c=ee/2,g=he/2):q==="right"?(c=0,g=he/2):q==="left"?(c=ee,g=he/2):U.x<R.x?(q="right",c=0,g=he/2):(q="left",c=ee+(be.x+He.x)*2,g=he/2),o=o.subtract(pe(c,g,!0)).add(be).add(He),It(A,"leaflet-tooltip-right"),It(A,"leaflet-tooltip-left"),It(A,"leaflet-tooltip-top"),It(A,"leaflet-tooltip-bottom"),Le(A,"leaflet-tooltip-"+q),ve(A,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&tt(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),En=function(o,c){return new At(o,c)};ct.include({openTooltip:function(o,c,g){return this._initOverlay(At,o,c,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),gn.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(At,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[c](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Tr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(We(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),We(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,g,w;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(g),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var jn=Yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Vi(c),c.appendChild(g.html)):c.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=pe(g.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function qi(o){return new jn(o)}Yi.Default=Oo;var Rr=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Lt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ft(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof oe?o:new oe(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,g=-o(-1/0,1/0),w=0,A=c.length,R;w<A;w++)R=c[w].style.zIndex,c[w]!==this._container&&R&&(g=o(g,+R));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){tt(this._container,this.options.opacity);var o=+new Date,c=!1,g=!1;for(var w in this._tiles){var A=this._tiles[w];if(!(!A.current||!A.loaded)){var R=Math.min(1,(o-A.loaded)/200);tt(A.el,R),R<1?c=!0:(A.active?g=!0:this._onOpaqueTile(A),A.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),c&&(Se(this._fadeFrame),this._fadeFrame=Ve(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=c-Math.abs(o-g),this._onUpdateLevel(g)):(Lt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[o],A=this._map;return w||(w=this._levels[o]={},w.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=A.project(A.unproject(A.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,A.getCenter(),A.getZoom()),N(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var o,c,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Lt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,g,w){var A=Math.floor(o/2),R=Math.floor(c/2),U=g-1,q=new oe(+A,+R);q.z=+U;var ee=this._tileCoordsToKey(q),he=this._tiles[ee];return he&&he.active?(he.retain=!0,!0):(he&&he.loaded&&(he.retain=!0),U>w?this._retainParent(A,R,U,w):!1)},_retainChildren:function(o,c,g,w){for(var A=2*o;A<2*o+2;A++)for(var R=2*c;R<2*c+2;R++){var U=new oe(A,R);U.z=g+1;var q=this._tileCoordsToKey(U),ee=this._tiles[q];if(ee&&ee.active){ee.retain=!0;continue}else ee&&ee.loaded&&(ee.retain=!0);g+1<w&&this._retainChildren(A,R,g+1,w)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,g,w){var A=Math.round(c);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var R=this.options.updateWhenZooming&&A!==this._tileZoom;(!w||R)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,c)},_setZoomTransform:function(o,c,g){var w=this._map.getZoomScale(g,o.zoom),A=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,g)).round();Ae.any3d?O(o.el,A,w):ve(o.el,A)},_resetGrid:function(){var o=this._map,c=o.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],w).x/g.x),Math.ceil(o.project([0,c.wrapLng[1]],w).x/g.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],w).y/g.x),Math.ceil(o.project([c.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,g=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(g,this._tileZoom),A=c.project(o,this._tileZoom).floor(),R=c.getSize().divideBy(w*2);return new Be(A.subtract(R),A.add(R))},_update:function(o){var c=this._map;if(c){var g=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),A=this._pxBoundsToTileRange(w),R=A.getCenter(),U=[],q=this.options.keepBuffer,ee=new Be(A.getBottomLeft().subtract([q,-q]),A.getTopRight().add([q,-q]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var he in this._tiles){var be=this._tiles[he].coords;(be.z!==this._tileZoom||!ee.contains(new oe(be.x,be.y)))&&(this._tiles[he].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var He=A.min.y;He<=A.max.y;He++)for(var st=A.min.x;st<=A.max.x;st++){var Jn=new oe(st,He);if(Jn.z=this._tileZoom,!!this._isValidTile(Jn)){var Rn=this._tiles[this._tileCoordsToKey(Jn)];Rn?Rn.current=!0:U.push(Jn)}}if(U.sort(function(ar,ts){return ar.distanceTo(R)-ts.distanceTo(R)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nr=document.createDocumentFragment();for(st=0;st<U.length;st++)this._addTile(U[st],Nr);this._level.el.appendChild(Nr)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var g=this._globalTileRange;if(!c.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!c.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Ge(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,g=this.getTileSize(),w=o.scaleBy(g),A=w.add(g),R=c.unproject(w,o.z),U=c.unproject(A,o.z);return[R,U]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),g=new St(c[0],c[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),g=new oe(+c[0],+c[1]);return g.z=+c[2],g},_removeTile:function(o){var c=this._tiles[o];c&&(Lt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Le(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=N,o.onmousemove=N,Ae.ielt9&&this.options.opacity<1&&tt(o,this.options.opacity)},_addTile:function(o,c){var g=this._getTilePos(o),w=this._tileCoordsToKey(o),A=this.createTile(this._wrapCoords(o),x(this._tileReady,this,o));this._initTile(A),this.createTile.length<2&&Ve(x(this._tileReady,this,o,null,A)),ve(A,g),this._tiles[w]={el:A,coords:o,current:!0},c.appendChild(A),this.fire("tileloadstart",{tile:A,coords:o})},_tileReady:function(o,c,g){c&&this.fire("tileerror",{error:c,tile:g,coords:o});var w=this._tileCoordsToKey(o);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(tt(g.el,0),Se(this._fadeFrame),this._fadeFrame=Ve(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),c||(Le(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?Ve(this._pruneTiles,this):setTimeout(x(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new oe(this._wrapX?I(o.x,this._wrapX):o.x,this._wrapY?I(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new Be(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function nc(o){return new Rr(o)}var Qi=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=z(this,c),c.detectRetina&&Ae.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var g=document.createElement("img");return We(g,"load",x(this._tileOnLoad,this,c,g)),We(g,"error",x(this._tileOnError,this,c,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var c={r:Ae.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=g),c["-y"]=g}return D(this._url,f(c,this.options))},_tileOnLoad:function(o,c){Ae.ielt9?setTimeout(x(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,g){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),o(g,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(o=c-o),o+w},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=N,c.onerror=N,!c.complete)){c.src=ue;var g=this._tiles[o].coords;Lt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:g})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",ue),Rr.prototype._removeTile.call(this,o)},_tileReady:function(o,c,g){if(!(!this._map||g&&g.getAttribute("src")===ue))return Rr.prototype._tileReady.call(this,o,c,g)}});function $h(o,c){return new Qi(o,c)}var ed=Qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var g=f({},this.defaultWmsParams);for(var w in c)w in this.options||(g[w]=c[w]);c=z(this,c);var A=c.detectRetina&&Ae.retina?2:1,R=this.getTileSize();g.width=R.x*A,g.height=R.y*A,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Qi.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),g=this._crs,w=Me(g.project(c[0]),g.project(c[1])),A=w.min,R=w.max,U=(this._wmsVersion>=1.3&&this._crs===Xi?[A.y,A.x,R.y,R.x]:[A.x,A.y,R.x,R.y]).join(","),q=Qi.prototype.getTileUrl.call(this,o);return q+se(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(o,c){return f(this.wmsParams,o),c||this.redraw(),this}});function gm(o,c){return new ed(o,c)}Qi.WMS=ed,$h.wms=gm;var Ii=gn.extend({options:{padding:.1},initialize:function(o){z(this,o),E(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var g=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,c),R=w.multiplyBy(-g).add(A).subtract(this._map._getNewPixelOrigin(o,c));Ae.any3d?O(this._container,R,g):ve(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),g=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new Be(g,g.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),td=Ii.extend({options:{tolerance:0},getEvents:function(){var o=Ii.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");We(o,"mousemove",this._onMouseMove,this),We(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),We(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Se(this._redrawRequest),delete this._ctx,Lt(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ii.prototype._update.call(this);var o=this._bounds,c=this._container,g=o.getSize(),w=Ae.retina?2:1;ve(c,o.min),c.width=w*g.x,c.height=w*g.y,c.style.width=g.x+"px",c.style.height=g.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[E(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,g=c.next,w=c.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete o._order,delete this._layers[E(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),g=[],w,A;for(A=0;A<c.length;A++){if(w=Number(c[A]),isNaN(w))return;g.push(w)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Ve(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Be,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var g=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var g,w,A,R,U=o._parts,q=U.length,ee=this._ctx;if(q){for(ee.beginPath(),g=0;g<q;g++){for(w=0,A=U[g].length;w<A;w++)R=U[g][w],ee[w?"lineTo":"moveTo"](R.x,R.y);c&&ee.closePath()}this._fillStroke(ee,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,g=this._ctx,w=Math.max(Math.round(o._radius),1),A=(Math.max(Math.round(o._radiusY),1)||w)/w;A!==1&&(g.save(),g.scale(1,A)),g.beginPath(),g.arc(c.x,c.y/A,w,0,Math.PI*2,!1),A!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,c){var g=c.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),g,w,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(It(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var g,w,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(c)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Le(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(x(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,g){this._map._fireDOMEvent(c,g||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var g=c.next,w=c.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var g=c.next,w=c.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function nd(o){return Ae.canvas?new td(o):null}var $s=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),mm={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ii.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=$s("shape");Le(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=$s("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[E(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;Lt(c),o.removeInteractiveTarget(c),delete this._layers[E(o)]},_updateStyle:function(o){var c=o._stroke,g=o._fill,w=o.options,A=o._container;A.stroked=!!w.stroke,A.filled=!!w.fill,w.stroke?(c||(c=o._stroke=$s("stroke")),A.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=B(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(A.removeChild(c),o._stroke=null),w.fill?(g||(g=o._fill=$s("fill")),A.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(A.removeChild(g),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),g=Math.round(o._radius),w=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){Ft(o._container)},_bringToBack:function(o){Yn(o._container)}},dl=Ae.vml?$s:Gn,ea=Ii.extend({_initContainer:function(){this._container=dl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ii.prototype._update.call(this);var o=this._bounds,c=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,g.setAttribute("width",c.x),g.setAttribute("height",c.y)),ve(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=dl("path");o.options.className&&Le(c,o.options.className),o.options.interactive&&Le(c,"leaflet-interactive"),this._updateStyle(o),this._layers[E(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Lt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[E(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,g=o.options;c&&(g.stroke?(c.setAttribute("stroke",g.color),c.setAttribute("stroke-opacity",g.opacity),c.setAttribute("stroke-width",g.weight),c.setAttribute("stroke-linecap",g.lineCap),c.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?c.setAttribute("stroke-dasharray",g.dashArray):c.removeAttribute("stroke-dasharray"),g.dashOffset?c.setAttribute("stroke-dashoffset",g.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),g.fill?(c.setAttribute("fill",g.fillColor||g.color),c.setAttribute("fill-opacity",g.fillOpacity),c.setAttribute("fill-rule",g.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,si(o._parts,c))},_updateCircle:function(o){var c=o._point,g=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||g,A="a"+g+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(c.x-g)+","+c.y+A+g*2+",0 "+A+-g*2+",0 ";this._setPath(o,R)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){Ft(o._path)},_bringToBack:function(o){Yn(o._path)}});Ae.vml&&ea.include(mm);function rd(o){return Ae.svg||Ae.vml?new ea(o):null}ct.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&nd(o)||rd(o)}});var id=s.extend({initialize:function(o,c){s.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ge(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function xm(o,c){return new id(o,c)}ea.create=dl,ea.pointsToPath=si,u.geometryToLayer=h,u.coordsToLatLng=m,u.coordsToLatLngs=_,u.latLngToCoords=C,u.latLngsToCoords=T,u.getFeature=b,u.asFeature=M,ct.mergeOptions({boxZoom:!0});var od=Kn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),In(),De(),this._startPoint=this._map.mouseEventToContainerPoint(o),We(document,{contextmenu:gr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new Be(this._point,this._startPoint),g=c.getSize();ve(this._box,c.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Lt(this._box),It(this._container,"leaflet-crosshair")),So(),Mt(),Ee(document,{contextmenu:gr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(x(this._resetState,this),0);var c=new St(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ct.addInitHook("addHandler","boxZoom",od),ct.mergeOptions({doubleClickZoom:!0});var sd=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,g=c.getZoom(),w=c.options.zoomDelta,A=o.originalEvent.shiftKey?g-w:g+w;c.options.doubleClickZoom==="center"?c.setZoom(A):c.setZoomAround(o.containerPoint,A)}});ct.addInitHook("addHandler","doubleClickZoom",sd),ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ad=Kn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new ci(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){It(this._map._container,"leaflet-grab"),It(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Ge(this._map.options.maxBounds);this._offsetLimit=Me(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,A=(w-c+g)%o+c-g,R=(w+c+g)%o-c-g,U=Math.abs(A+g)<Math.abs(R+g)?A:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(o){var c=this._map,g=c.options,w=!g.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),w)c.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,U=g.easeLinearity,q=A.multiplyBy(U/R),ee=q.distanceTo([0,0]),he=Math.min(g.inertiaMaxSpeed,ee),be=q.multiplyBy(he/ee),He=he/(g.inertiaDeceleration*U),st=be.multiplyBy(-He/2).round();!st.x&&!st.y?c.fire("moveend"):(st=c._limitOffset(st,c.options.maxBounds),Ve(function(){c.panBy(st,{duration:He,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});ct.addInitHook("addHandler","dragging",ad),ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ld=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),We(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,g=o.scrollTop||c.scrollTop,w=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},g=this.keyCodes,w,A;for(w=0,A=g.left.length;w<A;w++)c[g.left[w]]=[-1*o,0];for(w=0,A=g.right.length;w<A;w++)c[g.right[w]]=[o,0];for(w=0,A=g.down.length;w<A;w++)c[g.down[w]]=[0,o];for(w=0,A=g.up.length;w<A;w++)c[g.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},g=this.keyCodes,w,A;for(w=0,A=g.zoomIn.length;w<A;w++)c[g.zoomIn[w]]=o;for(w=0,A=g.zoomOut.length;w<A;w++)c[g.zoomOut[w]]=-o},_addHooks:function(){We(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,g=this._map,w;if(c in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[c],o.shiftKey&&(w=pe(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(pe(w),g.options.maxBounds)),g.options.worldCopyJump){var A=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(A)}else g.panBy(w)}else if(c in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;gr(o)}}});ct.addInitHook("addHandler","keyboard",ld),ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ud=Kn.extend({addHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Gi(o),g=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(x(this._performZoom,this),w),gr(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=g?Math.ceil(A/g)*g:A,U=o._limitZoom(c+(this._delta>0?R:-R))-c;this._delta=0,this._startTime=null,U&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+U):o.setZoomAround(this._lastMousePos,c+U))}});ct.addInitHook("addHandler","scrollWheelZoom",ud);var _m=600;ct.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var cd=Kn.extend({addHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new oe(c.clientX,c.clientY),this._holdTimeout=setTimeout(x(function(){this._cancel(),this._isTapValid()&&(We(document,"touchend",yn),We(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),_m),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ee(document,"touchend",yn),Ee(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new oe(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});g._simulated=!0,c.target.dispatchEvent(g)}});ct.addInitHook("addHandler","tapHold",cd),ct.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var fd=Kn.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){It(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var g=c.mouseEventToContainerPoint(o.touches[0]),w=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),yn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,g=c.mouseEventToContainerPoint(o.touches[0]),w=c.mouseEventToContainerPoint(o.touches[1]),A=g.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(A,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&A<1||this._zoom>c.getMaxZoom()&&A>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var R=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(A===1&&R.x===0&&R.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Se(this._animRequest);var U=x(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ve(U,this,!0),yn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Se(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ct.addInitHook("addHandler","touchZoom",fd),ct.BoxZoom=od,ct.DoubleClickZoom=sd,ct.Drag=ad,ct.Keyboard=ld,ct.ScrollWheelZoom=ud,ct.TapHold=cd,ct.TouchZoom=fd,r.Bounds=Be,r.Browser=Ae,r.CRS=at,r.Canvas=td,r.Circle=Ki,r.CircleMarker=di,r.Class=ht,r.Control=mr,r.DivIcon=jn,r.DivOverlay=Wt,r.DomEvent=Fn,r.DomUtil=pn,r.Draggable=ci,r.Evented=ke,r.FeatureGroup=Tr,r.GeoJSON=u,r.GridLayer=Rr,r.Handler=Kn,r.Icon=Yi,r.ImageOverlay=J,r.LatLng=rt,r.LatLngBounds=St,r.Layer=gn,r.LayerGroup=Qr,r.LineUtil=hl,r.Map=ct,r.Marker=Qn,r.Mixin=ul,r.Path=br,r.Point=oe,r.PolyUtil=Xs,r.Polygon=s,r.Polyline=n,r.Popup=zn,r.PosAnimation=Gs,r.Projection=qs,r.Rectangle=id,r.Renderer=Ii,r.SVG=ea,r.SVGOverlay=nt,r.TileLayer=Qi,r.Tooltip=At,r.Transformation=Dt,r.Util=Je,r.VideoOverlay=xe,r.bind=x,r.bounds=Me,r.canvas=nd,r.circle=S,r.circleMarker=mt,r.control=Ro,r.divIcon=qi,r.extend=f,r.featureGroup=Ir,r.geoJSON=V,r.geoJson=Y,r.gridLayer=nc,r.icon=Qs,r.imageOverlay=me,r.latLng=ge,r.latLngBounds=Ge,r.layerGroup=sr,r.map=al,r.marker=tc,r.point=pe,r.polygon=l,r.polyline=i,r.popup=Un,r.rectangle=xm,r.setOptions=z,r.stamp=E,r.svg=rd,r.svgOverlay=Ye,r.tileLayer=$h,r.tooltip=En,r.transformation=Ar,r.version=a,r.videoOverlay=de;var wm=window.L;r.noConflict=function(){return window.L=wm,this},window.L=r})})(Hf,Hf.exports);var il=Hf.exports;const lv=qf(il);function um(e,t){const r=ne.useRef(t);ne.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const uv=1;function cv(e){return Object.freeze({__version:uv,map:e})}function fv(e,t){return Object.freeze({...e,...t})}const cm=ne.createContext(null),fm=cm.Provider;function hm(){const e=ne.useContext(cm);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function hv(e){function t(r,a){const{instance:f,context:d}=e(r).current;return ne.useImperativeHandle(a,()=>f),r.children==null?null:Ra.createElement(fm,{value:d},r.children)}return ne.forwardRef(t)}function dv(e){function t(r,a){const[f,d]=ne.useState(!1),{instance:x}=e(r,d).current;ne.useImperativeHandle(a,()=>x),ne.useEffect(function(){f&&x.update()},[x,f,r.children]);const v=x._contentNode;return v?Vg.createPortal(r.children,v):null}return ne.forwardRef(t)}function pv(e){function t(r,a){const{instance:f}=e(r).current;return ne.useImperativeHandle(a,()=>f),null}return ne.forwardRef(t)}function dm(e,t){const r=ne.useRef();ne.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function qh(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function gv(e,t){return function(a,f){const d=hm(),x=e(qh(a,d),d);return um(d.map,a.attribution),dm(x.current,a.eventHandlers),t(x.current,d,a,f),x}}function Qh(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Jh(e,t){return t==null?function(a,f){const d=ne.useRef();return d.current||(d.current=e(a,f)),d}:function(a,f){const d=ne.useRef();d.current||(d.current=e(a,f));const x=ne.useRef(a),{instance:v}=d.current;return ne.useEffect(function(){x.current!==a&&(t(v,a,x.current),x.current=a)},[v,a,f]),d}}function mv(e,t){ne.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var d;(d=t.layerContainer)==null||d.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function pm(e){return function(r){const a=hm(),f=e(qh(r,a),a);return um(a.map,r.attribution),dm(f.current,r.eventHandlers),mv(f.current,a),f}}function xv(e,t){const r=Jh(e,t),a=pm(r);return hv(a)}function _v(e,t){const r=Jh(e),a=gv(r,t);return dv(a)}function wv(e,t){const r=Jh(e,t),a=pm(r);return pv(a)}function yv(e,t,r){const{opacity:a,zIndex:f}=t;a!=null&&a!==r.opacity&&e.setOpacity(a),f!=null&&f!==r.zIndex&&e.setZIndex(f)}function Vf(){return Vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vf.apply(this,arguments)}function vv({bounds:e,boundsOptions:t,center:r,children:a,className:f,id:d,placeholder:x,style:v,whenReady:E,zoom:y,...I},N){const[P]=ne.useState({className:f,id:d,style:v}),[W,j]=ne.useState(null);ne.useImperativeHandle(N,()=>(W==null?void 0:W.map)??null,[W]);const z=ne.useCallback(F=>{if(F!==null&&W===null){const D=new il.Map(F,I);r!=null&&y!=null?D.setView(r,y):e!=null&&D.fitBounds(e,t),E!=null&&D.whenReady(E),j(cv(D))}},[]);ne.useEffect(()=>()=>{W==null||W.map.remove()},[W]);const se=W?Ra.createElement(fm,{value:W},a):x??null;return Ra.createElement("div",Vf({},P,{ref:z}),se)}const Ev=ne.forwardRef(vv),Cv=xv(function({position:t,...r},a){const f=new il.Marker(t,r);return Qh(f,fv(a,{overlayContainer:f}))},function(t,r,a){r.position!==a.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),Av=_v(function(t,r){const a=new il.Popup(t,r.overlayContainer);return Qh(a,r)},function(t,r,{position:a},f){ne.useEffect(function(){const{instance:x}=t;function v(y){y.popup===x&&(x.update(),f(!0))}function E(y){y.popup===x&&f(!1)}return r.map.on({popupopen:v,popupclose:E}),r.overlayContainer==null?(a!=null&&x.setLatLng(a),x.openOn(r.map)):r.overlayContainer.bindPopup(x),function(){var I;r.map.off({popupopen:v,popupclose:E}),(I=r.overlayContainer)==null||I.unbindPopup(),r.map.removeLayer(x)}},[t,r,f,a])}),Sv=wv(function({url:t,...r},a){const f=new il.TileLayer(t,qh(r,a));return Qh(f,a)},function(t,r,a){yv(t,r,a);const{url:f}=r;f!=null&&f!==a.url&&t.setUrl(f)});function Tv(){const[e,t]=ne.useState([]),[r,a]=ne.useState(!0),[f,d]=ne.useState([48.2715,16.403]);ne.useEffect(()=>{fetch("/api/persons").then(P=>P.json()).then(P=>{t(P),x(P),a(!1)}).catch(P=>{console.error("Error fetching persons:",P),a(!1)})},[]);const x=P=>{if(P.length===0)return;let W=0,j=0,z=0;for(let se of P)se.latitude_patient!=null&&se.longitude_patient!=null&&(j+=parseFloat(se.latitude_patient),z+=parseFloat(se.longitude_patient),W++);d([j/W,z/W])},v=P=>{if(P!=null)switch(P.toLowerCase()){case"gelb":return"yellow";case"rot":return"red";case"grün":return"green";case"blau":return"blue";case"schwarz":return"black";default:return"white"}},E=P=>lv.divIcon({className:"custom-div-icon",html:`<div style='background-color:${P};' class='marker-pin'></div>`,iconSize:[30,42],iconAnchor:[15,42]}),y=document.querySelectorAll("table thead th"),I=document.querySelectorAll("table tbody tr:first-child td"),N=()=>e.map(P=>P.latitude_patient!=null&&P.longitude_patient!=null?Z.jsx(Cv,{position:[P.latitude_patient,P.longitude_patient],icon:E(v(P.Triagefarbe)),children:Z.jsxs(Av,{children:["Nummer: ",P.idpatient,Z.jsx("br",{}),"Kontaminiert: ",P.kontaminiert?"Ja":"Nein",Z.jsx("br",{})]})},P.idpatient):null);return r?Z.jsx("p",{children:"Lädt..."}):e.length===0?Z.jsx("p",{children:"Keine Personen gefunden."}):Z.jsxs("div",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",padding:"0",display:"flex",flexDirection:"column"},children:[Z.jsx("h2",{children:"Alle Personen:"}),Z.jsxs("div",{children:[Z.jsxs("table",{border:"1",children:[Z.jsx("thead",{children:Z.jsxs("tr",{children:[Z.jsx("th",{children:"Nummer"}),Z.jsx("th",{children:"Atmung"}),Z.jsx("th",{children:"Blutung"}),Z.jsx("th",{children:"Radialispuls"}),Z.jsx("th",{children:"Triagefarbe"}),Z.jsx("th",{children:"Transport"}),Z.jsx("th",{children:"Dringend"}),Z.jsx("th",{children:"Kontaminiert"}),Z.jsx("th",{children:"Name"}),Z.jsx("th",{children:"Position (Longitude)"}),Z.jsx("th",{children:"Position (Latitude)"}),Z.jsx("th",{children:"Erfasst"}),Z.jsx("th",{children:"Letztes Update"})]})}),Z.jsx("tbody",{children:e.map(P=>Z.jsxs("tr",{children:[Z.jsx("td",{children:P.idpatient}),Z.jsx("td",{children:P.atmung?"Ja":"Nein"}),Z.jsx("td",{children:P.blutung?"Ja":"Nein"}),Z.jsx("td",{children:P.radialispuls}),Z.jsx("td",{children:Z.jsx("div",{style:{backgroundColor:v(P.triagefarbe)},children:P.triagefarbe})}),Z.jsx("td",{children:P.transport?"Ja":"Nein"}),Z.jsx("td",{children:P.dringend?"Ja":"Nein"}),Z.jsx("td",{children:P.kontaminiert?"Ja":"Nein"}),Z.jsx("td",{children:P.name||"N/A"}),Z.jsx("td",{children:P.longitude_patient||"N/A"}),Z.jsx("td",{children:P.latitude_patient||"N/A"}),Z.jsx("td",{children:P.created_at}),Z.jsx("td",{children:P.updated_at})]},P.idpatient))})]}),I.forEach((P,W)=>{P.style.width=window.getComputedStyle(y[W]).width})]}),Z.jsxs("div",{style:{height:"400px",width:"100%"},children:[Z.jsx("h2",{children:"Karte:"}),Z.jsxs(Ev,{center:f,zoom:13,style:{flex:1,height:"400px",width:"100%"},children:[Z.jsx(Sv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),N()]})]})]})}function Iv(){return Z.jsxs("div",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",padding:"0",display:"flex",flexDirection:"column"},children:[Z.jsx("h3",{children:"Bitte die Stelle der Verletzungen angeben"}),Z.jsx("div",{style:{width:"100%",height:"auto"}})]})}function bv(){const[e,t]=ne.useState({username:"",password:""}),[r,a]=ne.useState(null),f=vo(),d=v=>{const{name:E,value:y}=v.target;t({...e,[E]:y})},x=v=>{v.preventDefault(),e.username==="admin"&&e.password==="admin"?f("/AdminSettingsPage"):a("Benutzername oder Passwort ist falsch. Bitte versuche es erneut.")};return Z.jsx("div",{children:Z.jsxs("div",{className:"login-container",children:[Z.jsx("h2",{className:"Anmeldung",children:"Benutzeranmeldung"}),Z.jsxs("form",{onSubmit:x,children:[Z.jsxs("div",{className:"input-container",children:[Z.jsx("label",{htmlFor:"username",children:"Benutzername:"}),Z.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:d})]}),Z.jsxs("div",{className:"input-container",children:[Z.jsx("label",{htmlFor:"password",children:"Passwort:"}),Z.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:d})]}),Z.jsx("button",{type:"submit",className:"login-button",children:"Anmelden"}),r&&Z.jsx("p",{style:{color:"red"},className:"error-message",children:r})]})]})})}function Rv(){const e=vo();function t(){e("/CreatePatientQrCodePage")}return Z.jsxs("div",{children:[Z.jsx("button",{onClick:t,children:"Patienten QR-Codes erzeugen"}),Z.jsx("button",{children:"Admin-User erstellen"})]})}function Nv(){const[e,t]=ne.useState("");function r(f){isNaN(f.target.value)||t(f.target.value)}function a(){}return Z.jsxs("div",{children:[Z.jsx("h2",{children:"Patienten QR-Codes generieren"}),Z.jsx("p",{children:"Bitte auswählen wie viele Patienten QR-Codes generiert werden sollen"}),Z.jsx("input",{style:{width:"300px"},type:"number",id:"numberInput",value:e,onChange:r,placeholder:"Bitte hier die Anzahl eingeben"}),Z.jsx("button",{onClick:a,children:"Generieren"})]})}const Ov=wy([{path:"/",element:Z.jsx(nv,{})},{path:"/qrAuthenticator",element:Z.jsx(Jy,{})},{path:"/TriagePage1",element:Z.jsx(ov,{})},{path:"/TriagePage2",element:Z.jsx(sv,{})},{path:"/TriagePage3",element:Z.jsx(av,{})},{path:"/RoleSelection",element:Z.jsx(rv,{})},{path:"/ScanPatient",element:Z.jsx(iv,{})},{path:"/SituationRoomTable",element:Z.jsx(Tv,{})},{path:"/ShowBody",element:Z.jsx(Iv,{})},{path:"/AdminLandingPage",element:Z.jsx(bv,{})},{path:"/AdminSettingsPage",element:Z.jsx(Rv,{})},{path:"/CreatePatientQrCodePage",element:Z.jsx(Nv,{})},{path:"*",element:Z.jsx($y,{})}]);function Pv(){return Z.jsx("div",{className:"header",children:Z.jsx("h2",{children:"PLS"})})}Hc.createRoot(document.getElementById("root")).render(Z.jsx(Ra.StrictMode,{children:Z.jsxs(ev,{children:[Z.jsx(Pv,{}),Z.jsx(Ty,{router:Ov})]})}));
