function J0(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function i5(e,t){return function(){return e.apply(t,arguments)}}const{toString:gw}=Object.prototype,{getPrototypeOf:$0}=Object,$f=(e=>t=>{const n=gw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ws=e=>(e=e.toLowerCase(),t=>$f(t)===e),ed=e=>t=>typeof t===e,{isArray:Vu}=Array,kc=ed("undefined");function mw(e){return e!==null&&!kc(e)&&e.constructor!==null&&!kc(e.constructor)&&ts(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const o5=Ws("ArrayBuffer");function vw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&o5(e.buffer),t}const yw=ed("string"),ts=ed("function"),s5=ed("number"),td=e=>e!==null&&typeof e=="object",xw=e=>e===!0||e===!1,Yh=e=>{if($f(e)!=="object")return!1;const t=$0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ww=Ws("Date"),_w=Ws("File"),bw=Ws("Blob"),Aw=Ws("FileList"),Cw=e=>td(e)&&ts(e.pipe),Ew=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ts(e.append)&&((t=$f(e))==="formdata"||t==="object"&&ts(e.toString)&&e.toString()==="[object FormData]"))},Sw=Ws("URLSearchParams"),[Nw,Iw,Lw,Tw]=["ReadableStream","Request","Response","Headers"].map(Ws),Pw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),Vu(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const l=n?Object.getOwnPropertyNames(e):Object.keys(e),h=l.length;let m;for(i=0;i<h;i++)m=l[i],t.call(null,e[m],m,e)}}function a5(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,a;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const Nl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),l5=e=>!kc(e)&&e!==Nl;function k1(){const{caseless:e}=l5(this)&&this||{},t={},n=(i,a)=>{const l=e&&a5(t,a)||a;Yh(t[l])&&Yh(i)?t[l]=k1(t[l],i):Yh(i)?t[l]=k1({},i):Vu(i)?t[l]=i.slice():t[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&eh(arguments[i],n);return t}const kw=(e,t,n,{allOwnKeys:i}={})=>(eh(t,(a,l)=>{n&&ts(a)?e[l]=i5(a,n):e[l]=a},{allOwnKeys:i}),e),Rw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ow=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Mw=(e,t,n,i)=>{let a,l,h;const m={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)h=a[l],(!i||i(h,e,t))&&!m[h]&&(t[h]=e[h],m[h]=!0);e=n!==!1&&$0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Dw=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},Bw=e=>{if(!e)return null;if(Vu(e))return e;let t=e.length;if(!s5(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$0(Uint8Array)),jw=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=i.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},zw=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},Uw=Ws("HTMLFormElement"),Hw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),R2=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ww=Ws("RegExp"),u5=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};eh(n,(a,l)=>{let h;(h=t(a,l,e))!==!1&&(i[l]=h||a)}),Object.defineProperties(e,i)},Vw=e=>{u5(e,(t,n)=>{if(ts(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(ts(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},qw=(e,t)=>{const n={},i=a=>{a.forEach(l=>{n[l]=!0})};return Vu(e)?i(e):i(String(e).split(t)),n},Gw=()=>{},Zw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Vd="abcdefghijklmnopqrstuvwxyz",O2="0123456789",c5={DIGIT:O2,ALPHA:Vd,ALPHA_DIGIT:Vd+Vd.toUpperCase()+O2},Xw=(e=16,t=c5.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function Yw(e){return!!(e&&ts(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Kw=e=>{const t=new Array(10),n=(i,a)=>{if(td(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const l=Vu(i)?[]:{};return eh(i,(h,m)=>{const g=n(h,a+1);!kc(g)&&(l[m]=g)}),t[a]=void 0,l}}return i};return n(e,0)},Qw=Ws("AsyncFunction"),Jw=e=>e&&(td(e)||ts(e))&&ts(e.then)&&ts(e.catch),h5=((e,t)=>e?setImmediate:t?((n,i)=>(Nl.addEventListener("message",({source:a,data:l})=>{a===Nl&&l===n&&i.length&&i.shift()()},!1),a=>{i.push(a),Nl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ts(Nl.postMessage)),$w=typeof queueMicrotask<"u"?queueMicrotask.bind(Nl):typeof process<"u"&&process.nextTick||h5,tt={isArray:Vu,isArrayBuffer:o5,isBuffer:mw,isFormData:Ew,isArrayBufferView:vw,isString:yw,isNumber:s5,isBoolean:xw,isObject:td,isPlainObject:Yh,isReadableStream:Nw,isRequest:Iw,isResponse:Lw,isHeaders:Tw,isUndefined:kc,isDate:ww,isFile:_w,isBlob:bw,isRegExp:Ww,isFunction:ts,isStream:Cw,isURLSearchParams:Sw,isTypedArray:Fw,isFileList:Aw,forEach:eh,merge:k1,extend:kw,trim:Pw,stripBOM:Rw,inherits:Ow,toFlatObject:Mw,kindOf:$f,kindOfTest:Ws,endsWith:Dw,toArray:Bw,forEachEntry:jw,matchAll:zw,isHTMLForm:Uw,hasOwnProperty:R2,hasOwnProp:R2,reduceDescriptors:u5,freezeMethods:Vw,toObjectSet:qw,toCamelCase:Hw,noop:Gw,toFiniteNumber:Zw,findKey:a5,global:Nl,isContextDefined:l5,ALPHABET:c5,generateString:Xw,isSpecCompliantForm:Yw,toJSONObject:Kw,isAsyncFn:Qw,isThenable:Jw,setImmediate:h5,asap:$w};function Dn(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}tt.inherits(Dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.status}}});const f5=Dn.prototype,d5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{d5[e]={value:e}});Object.defineProperties(Dn,d5);Object.defineProperty(f5,"isAxiosError",{value:!0});Dn.from=(e,t,n,i,a,l)=>{const h=Object.create(f5);return tt.toFlatObject(e,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),Dn.call(h,e.message,t,n,i,a),h.cause=e,h.name=e.name,l&&Object.assign(h,l),h};const e3=null;function R1(e){return tt.isPlainObject(e)||tt.isArray(e)}function p5(e){return tt.endsWith(e,"[]")?e.slice(0,-2):e}function M2(e,t,n){return e?e.concat(t).map(function(a,l){return a=p5(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function t3(e){return tt.isArray(e)&&!e.some(R1)}const n3=tt.toFlatObject(tt,{},null,function(t){return/^is[A-Z]/.test(t)});function nd(e,t,n){if(!tt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=tt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,z){return!tt.isUndefined(z[R])});const i=n.metaTokens,a=n.visitor||_,l=n.dots,h=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(t);if(!tt.isFunction(a))throw new TypeError("visitor must be a function");function v(O){if(O===null)return"";if(tt.isDate(O))return O.toISOString();if(!g&&tt.isBlob(O))throw new Dn("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(O)||tt.isTypedArray(O)?g&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function _(O,R,z){let M=O;if(O&&!z&&typeof O=="object"){if(tt.endsWith(R,"{}"))R=i?R:R.slice(0,-2),O=JSON.stringify(O);else if(tt.isArray(O)&&t3(O)||(tt.isFileList(O)||tt.endsWith(R,"[]"))&&(M=tt.toArray(O)))return R=p5(R),M.forEach(function(j,$){!(tt.isUndefined(j)||j===null)&&t.append(h===!0?M2([R],$,l):h===null?R:R+"[]",v(j))}),!1}return R1(O)?!0:(t.append(M2(z,R,l),v(O)),!1)}const A=[],I=Object.assign(n3,{defaultVisitor:_,convertValue:v,isVisitable:R1});function E(O,R){if(!tt.isUndefined(O)){if(A.indexOf(O)!==-1)throw Error("Circular reference detected in "+R.join("."));A.push(O),tt.forEach(O,function(M,k){(!(tt.isUndefined(M)||M===null)&&a.call(t,M,tt.isString(k)?k.trim():k,R,I))===!0&&E(M,R?R.concat(k):[k])}),A.pop()}}if(!tt.isObject(e))throw new TypeError("data must be an object");return E(e),t}function D2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function ep(e,t){this._pairs=[],e&&nd(e,this,t)}const g5=ep.prototype;g5.append=function(t,n){this._pairs.push([t,n])};g5.toString=function(t){const n=t?function(i){return t.call(this,i,D2)}:D2;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function r3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function m5(e,t,n){if(!t)return e;const i=n&&n.encode||r3,a=n&&n.serialize;let l;if(a?l=a(t,n):l=tt.isURLSearchParams(t)?t.toString():new ep(t,n).toString(i),l){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class i3{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){tt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const B2=i3,v5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o3=typeof URLSearchParams<"u"?URLSearchParams:ep,s3=typeof FormData<"u"?FormData:null,a3=typeof Blob<"u"?Blob:null,l3={isBrowser:!0,classes:{URLSearchParams:o3,FormData:s3,Blob:a3},protocols:["http","https","file","blob","url","data"]},tp=typeof window<"u"&&typeof document<"u",O1=typeof navigator=="object"&&navigator||void 0,u3=tp&&(!O1||["ReactNative","NativeScript","NS"].indexOf(O1.product)<0),c3=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),h3=tp&&window.location.href||"http://localhost",f3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tp,hasStandardBrowserEnv:u3,hasStandardBrowserWebWorkerEnv:c3,navigator:O1,origin:h3},Symbol.toStringTag,{value:"Module"})),Fo={...f3,...l3};function d3(e,t){return nd(e,new Fo.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,l){return Fo.isNode&&tt.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function p3(e){return tt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function g3(e){const t={},n=Object.keys(e);let i;const a=n.length;let l;for(i=0;i<a;i++)l=n[i],t[l]=e[l];return t}function y5(e){function t(n,i,a,l){let h=n[l++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=l>=n.length;return h=!h&&tt.isArray(a)?a.length:h,g?(tt.hasOwnProp(a,h)?a[h]=[a[h],i]:a[h]=i,!m):((!a[h]||!tt.isObject(a[h]))&&(a[h]=[]),t(n,i,a[h],l)&&tt.isArray(a[h])&&(a[h]=g3(a[h])),!m)}if(tt.isFormData(e)&&tt.isFunction(e.entries)){const n={};return tt.forEachEntry(e,(i,a)=>{t(p3(i),a,n,0)}),n}return null}function m3(e,t,n){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const np={transitional:v5,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,l=tt.isObject(t);if(l&&tt.isHTMLForm(t)&&(t=new FormData(t)),tt.isFormData(t))return a?JSON.stringify(y5(t)):t;if(tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)||tt.isReadableStream(t))return t;if(tt.isArrayBufferView(t))return t.buffer;if(tt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return d3(t,this.formSerializer).toString();if((m=tt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return nd(m?{"files[]":t}:t,g&&new g,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),m3(t)):t}],transformResponse:[function(t){const n=this.transitional||np.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(tt.isResponse(t)||tt.isReadableStream(t))return t;if(t&&tt.isString(t)&&(i&&!this.responseType||a)){const h=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(m){if(h)throw m.name==="SyntaxError"?Dn.from(m,Dn.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fo.classes.FormData,Blob:Fo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],e=>{np.headers[e]={}});const rp=np,v3=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y3=e=>{const t={};let n,i,a;return e&&e.split(`
`).forEach(function(h){a=h.indexOf(":"),n=h.substring(0,a).trim().toLowerCase(),i=h.substring(a+1).trim(),!(!n||t[n]&&v3[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},F2=Symbol("internals");function rc(e){return e&&String(e).trim().toLowerCase()}function Kh(e){return e===!1||e==null?e:tt.isArray(e)?e.map(Kh):String(e)}function x3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const w3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qd(e,t,n,i,a){if(tt.isFunction(i))return i.call(this,t,n);if(a&&(t=n),!!tt.isString(t)){if(tt.isString(i))return t.indexOf(i)!==-1;if(tt.isRegExp(i))return i.test(t)}}function _3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function b3(e,t){const n=tt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(a,l,h){return this[i].call(this,t,a,l,h)},configurable:!0})})}class rd{constructor(t){t&&this.set(t)}set(t,n,i){const a=this;function l(m,g,v){const _=rc(g);if(!_)throw new Error("header name must be a non-empty string");const A=tt.findKey(a,_);(!A||a[A]===void 0||v===!0||v===void 0&&a[A]!==!1)&&(a[A||g]=Kh(m))}const h=(m,g)=>tt.forEach(m,(v,_)=>l(v,_,g));if(tt.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(tt.isString(t)&&(t=t.trim())&&!w3(t))h(y3(t),n);else if(tt.isHeaders(t))for(const[m,g]of t.entries())l(g,m,i);else t!=null&&l(n,t,i);return this}get(t,n){if(t=rc(t),t){const i=tt.findKey(this,t);if(i){const a=this[i];if(!n)return a;if(n===!0)return x3(a);if(tt.isFunction(n))return n.call(this,a,i);if(tt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=rc(t),t){const i=tt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||qd(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let a=!1;function l(h){if(h=rc(h),h){const m=tt.findKey(i,h);m&&(!n||qd(i,i[m],m,n))&&(delete i[m],a=!0)}}return tt.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const l=n[i];(!t||qd(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,i={};return tt.forEach(this,(a,l)=>{const h=tt.findKey(i,l);if(h){n[h]=Kh(a),delete n[l];return}const m=t?_3(l):String(l).trim();m!==l&&delete n[l],n[m]=Kh(a),i[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return tt.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=t&&tt.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[F2]=this[F2]={accessors:{}}).accessors,a=this.prototype;function l(h){const m=rc(h);i[m]||(b3(a,h),i[m]=!0)}return tt.isArray(t)?t.forEach(l):l(t),this}}rd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(rd.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});tt.freezeMethods(rd);const js=rd;function Gd(e,t){const n=this||rp,i=t||n,a=js.from(i.headers);let l=i.data;return tt.forEach(e,function(m){l=m.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function x5(e){return!!(e&&e.__CANCEL__)}function qu(e,t,n){Dn.call(this,e??"canceled",Dn.ERR_CANCELED,t,n),this.name="CanceledError"}tt.inherits(qu,Dn,{__CANCEL__:!0});function w5(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Dn("Request failed with status code "+n.status,[Dn.ERR_BAD_REQUEST,Dn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function A3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function C3(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a=0,l=0,h;return t=t!==void 0?t:1e3,function(g){const v=Date.now(),_=i[l];h||(h=v),n[a]=g,i[a]=v;let A=l,I=0;for(;A!==a;)I+=n[A++],A=A%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),v-h<t)return;const E=_&&v-_;return E?Math.round(I*1e3/E):void 0}}function E3(e,t){let n=0,i=1e3/t,a,l;const h=(v,_=Date.now())=>{n=_,a=null,l&&(clearTimeout(l),l=null),e.apply(null,v)};return[(...v)=>{const _=Date.now(),A=_-n;A>=i?h(v,_):(a=v,l||(l=setTimeout(()=>{l=null,h(a)},i-A)))},()=>a&&h(a)]}const mf=(e,t,n=3)=>{let i=0;const a=C3(50,250);return E3(l=>{const h=l.loaded,m=l.lengthComputable?l.total:void 0,g=h-i,v=a(g),_=h<=m;i=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:v||void 0,estimated:v&&m&&_?(m-h)/v:void 0,event:l,lengthComputable:m!=null,[t?"download":"upload"]:!0};e(A)},n)},j2=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},z2=e=>(...t)=>tt.asap(()=>e(...t)),S3=Fo.hasStandardBrowserEnv?function(){const t=Fo.navigator&&/(msie|trident)/i.test(Fo.navigator.userAgent),n=document.createElement("a");let i;function a(l){let h=l;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(h){const m=tt.isString(h)?a(h):h;return m.protocol===i.protocol&&m.host===i.host}}():function(){return function(){return!0}}(),N3=Fo.hasStandardBrowserEnv?{write(e,t,n,i,a,l){const h=[e+"="+encodeURIComponent(t)];tt.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),tt.isString(i)&&h.push("path="+i),tt.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function I3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function L3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _5(e,t){return e&&!I3(t)?L3(e,t):t}const U2=e=>e instanceof js?{...e}:e;function Ml(e,t){t=t||{};const n={};function i(v,_,A){return tt.isPlainObject(v)&&tt.isPlainObject(_)?tt.merge.call({caseless:A},v,_):tt.isPlainObject(_)?tt.merge({},_):tt.isArray(_)?_.slice():_}function a(v,_,A){if(tt.isUndefined(_)){if(!tt.isUndefined(v))return i(void 0,v,A)}else return i(v,_,A)}function l(v,_){if(!tt.isUndefined(_))return i(void 0,_)}function h(v,_){if(tt.isUndefined(_)){if(!tt.isUndefined(v))return i(void 0,v)}else return i(void 0,_)}function m(v,_,A){if(A in t)return i(v,_);if(A in e)return i(void 0,v)}const g={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(v,_)=>a(U2(v),U2(_),!0)};return tt.forEach(Object.keys(Object.assign({},e,t)),function(_){const A=g[_]||a,I=A(e[_],t[_],_);tt.isUndefined(I)&&A!==m||(n[_]=I)}),n}const b5=e=>{const t=Ml({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:h,auth:m}=t;t.headers=h=js.from(h),t.url=m5(_5(t.baseURL,t.url),e.params,e.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(tt.isFormData(n)){if(Fo.hasStandardBrowserEnv||Fo.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[v,..._]=g?g.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([v||"multipart/form-data",..._].join("; "))}}if(Fo.hasStandardBrowserEnv&&(i&&tt.isFunction(i)&&(i=i(t)),i||i!==!1&&S3(t.url))){const v=a&&l&&N3.read(l);v&&h.set(a,v)}return t},T3=typeof XMLHttpRequest<"u",P3=T3&&function(e){return new Promise(function(n,i){const a=b5(e);let l=a.data;const h=js.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:v}=a,_,A,I,E,O;function R(){E&&E(),O&&O(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let z=new XMLHttpRequest;z.open(a.method.toUpperCase(),a.url,!0),z.timeout=a.timeout;function M(){if(!z)return;const j=js.from("getAllResponseHeaders"in z&&z.getAllResponseHeaders()),de={data:!m||m==="text"||m==="json"?z.responseText:z.response,status:z.status,statusText:z.statusText,headers:j,config:e,request:z};w5(function(re){n(re),R()},function(re){i(re),R()},de),z=null}"onloadend"in z?z.onloadend=M:z.onreadystatechange=function(){!z||z.readyState!==4||z.status===0&&!(z.responseURL&&z.responseURL.indexOf("file:")===0)||setTimeout(M)},z.onabort=function(){z&&(i(new Dn("Request aborted",Dn.ECONNABORTED,e,z)),z=null)},z.onerror=function(){i(new Dn("Network Error",Dn.ERR_NETWORK,e,z)),z=null},z.ontimeout=function(){let $=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const de=a.transitional||v5;a.timeoutErrorMessage&&($=a.timeoutErrorMessage),i(new Dn($,de.clarifyTimeoutError?Dn.ETIMEDOUT:Dn.ECONNABORTED,e,z)),z=null},l===void 0&&h.setContentType(null),"setRequestHeader"in z&&tt.forEach(h.toJSON(),function($,de){z.setRequestHeader(de,$)}),tt.isUndefined(a.withCredentials)||(z.withCredentials=!!a.withCredentials),m&&m!=="json"&&(z.responseType=a.responseType),v&&([I,O]=mf(v,!0),z.addEventListener("progress",I)),g&&z.upload&&([A,E]=mf(g),z.upload.addEventListener("progress",A),z.upload.addEventListener("loadend",E)),(a.cancelToken||a.signal)&&(_=j=>{z&&(i(!j||j.type?new qu(null,e,z):j),z.abort(),z=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const k=A3(a.url);if(k&&Fo.protocols.indexOf(k)===-1){i(new Dn("Unsupported protocol "+k+":",Dn.ERR_BAD_REQUEST,e));return}z.send(l||null)})},k3=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,a;const l=function(v){if(!a){a=!0,m();const _=v instanceof Error?v:this.reason;i.abort(_ instanceof Dn?_:new qu(_ instanceof Error?_.message:_))}};let h=t&&setTimeout(()=>{h=null,l(new Dn(`timeout ${t} of ms exceeded`,Dn.ETIMEDOUT))},t);const m=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(l):v.removeEventListener("abort",l)}),e=null)};e.forEach(v=>v.addEventListener("abort",l));const{signal:g}=i;return g.unsubscribe=()=>tt.asap(m),g}},R3=k3,O3=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let i=0,a;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},M3=async function*(e,t){for await(const n of D3(e))yield*O3(n,t)},D3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},H2=(e,t,n,i)=>{const a=M3(e,t);let l=0,h,m=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:v,value:_}=await a.next();if(v){m(),g.close();return}let A=_.byteLength;if(n){let I=l+=A;n(I)}g.enqueue(new Uint8Array(_))}catch(v){throw m(v),v}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},id=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",A5=id&&typeof ReadableStream=="function",B3=id&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),C5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},F3=A5&&C5(()=>{let e=!1;const t=new Request(Fo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),W2=64*1024,M1=A5&&C5(()=>tt.isReadableStream(new Response("").body)),vf={stream:M1&&(e=>e.body)};id&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vf[t]&&(vf[t]=tt.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new Dn(`Response type '${t}' is not supported`,Dn.ERR_NOT_SUPPORT,i)})})})(new Response);const j3=async e=>{if(e==null)return 0;if(tt.isBlob(e))return e.size;if(tt.isSpecCompliantForm(e))return(await new Request(Fo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(tt.isArrayBufferView(e)||tt.isArrayBuffer(e))return e.byteLength;if(tt.isURLSearchParams(e)&&(e=e+""),tt.isString(e))return(await B3(e)).byteLength},z3=async(e,t)=>{const n=tt.toFiniteNumber(e.getContentLength());return n??j3(t)},U3=id&&(async e=>{let{url:t,method:n,data:i,signal:a,cancelToken:l,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:_,withCredentials:A="same-origin",fetchOptions:I}=b5(e);v=v?(v+"").toLowerCase():"text";let E=R3([a,l&&l.toAbortSignal()],h),O;const R=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let z;try{if(g&&F3&&n!=="get"&&n!=="head"&&(z=await z3(_,i))!==0){let de=new Request(t,{method:"POST",body:i,duplex:"half"}),ne;if(tt.isFormData(i)&&(ne=de.headers.get("content-type"))&&_.setContentType(ne),de.body){const[re,te]=j2(z,mf(z2(g)));i=H2(de.body,W2,re,te)}}tt.isString(A)||(A=A?"include":"omit");const M="credentials"in Request.prototype;O=new Request(t,{...I,signal:E,method:n.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:M?A:void 0});let k=await fetch(O);const j=M1&&(v==="stream"||v==="response");if(M1&&(m||j&&R)){const de={};["status","statusText","headers"].forEach(se=>{de[se]=k[se]});const ne=tt.toFiniteNumber(k.headers.get("content-length")),[re,te]=m&&j2(ne,mf(z2(m),!0))||[];k=new Response(H2(k.body,W2,re,()=>{te&&te(),R&&R()}),de)}v=v||"text";let $=await vf[tt.findKey(vf,v)||"text"](k,e);return!j&&R&&R(),await new Promise((de,ne)=>{w5(de,ne,{data:$,headers:js.from(k.headers),status:k.status,statusText:k.statusText,config:e,request:O})})}catch(M){throw R&&R(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Dn("Network Error",Dn.ERR_NETWORK,e,O),{cause:M.cause||M}):Dn.from(M,M&&M.code,e,O)}}),D1={http:e3,xhr:P3,fetch:U3};tt.forEach(D1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const V2=e=>`- ${e}`,H3=e=>tt.isFunction(e)||e===null||e===!1,E5={getAdapter:e=>{e=tt.isArray(e)?e:[e];const{length:t}=e;let n,i;const a={};for(let l=0;l<t;l++){n=e[l];let h;if(i=n,!H3(n)&&(i=D1[(h=String(n)).toLowerCase()],i===void 0))throw new Dn(`Unknown adapter '${h}'`);if(i)break;a[h||"#"+l]=i}if(!i){const l=Object.entries(a).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=t?l.length>1?`since :
`+l.map(V2).join(`
`):" "+V2(l[0]):"as no adapter specified";throw new Dn("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:D1};function Zd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qu(null,e)}function q2(e){return Zd(e),e.headers=js.from(e.headers),e.data=Gd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E5.getAdapter(e.adapter||rp.adapter)(e).then(function(i){return Zd(e),i.data=Gd.call(e,e.transformResponse,i),i.headers=js.from(i.headers),i},function(i){return x5(i)||(Zd(e),i&&i.response&&(i.response.data=Gd.call(e,e.transformResponse,i.response),i.response.headers=js.from(i.response.headers))),Promise.reject(i)})}const S5="1.7.7",ip={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ip[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const G2={};ip.transitional=function(t,n,i){function a(l,h){return"[Axios v"+S5+"] Transitional option '"+l+"'"+h+(i?". "+i:"")}return(l,h,m)=>{if(t===!1)throw new Dn(a(h," has been removed"+(n?" in "+n:"")),Dn.ERR_DEPRECATED);return n&&!G2[h]&&(G2[h]=!0,console.warn(a(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,h,m):!0}};function W3(e,t,n){if(typeof e!="object")throw new Dn("options must be an object",Dn.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const l=i[a],h=t[l];if(h){const m=e[l],g=m===void 0||h(m,l,e);if(g!==!0)throw new Dn("option "+l+" must be "+g,Dn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Dn("Unknown option "+l,Dn.ERR_BAD_OPTION)}}const B1={assertOptions:W3,validators:ip},za=B1.validators;class yf{constructor(t){this.defaults=t,this.interceptors={request:new B2,response:new B2}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ml(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:l}=n;i!==void 0&&B1.assertOptions(i,{silentJSONParsing:za.transitional(za.boolean),forcedJSONParsing:za.transitional(za.boolean),clarifyTimeoutError:za.transitional(za.boolean)},!1),a!=null&&(tt.isFunction(a)?n.paramsSerializer={serialize:a}:B1.assertOptions(a,{encode:za.function,serialize:za.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=l&&tt.merge(l.common,l[n.method]);l&&tt.forEach(["delete","get","head","post","put","patch","common"],O=>{delete l[O]}),n.headers=js.concat(h,l);const m=[];let g=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(g=g&&R.synchronous,m.unshift(R.fulfilled,R.rejected))});const v=[];this.interceptors.response.forEach(function(R){v.push(R.fulfilled,R.rejected)});let _,A=0,I;if(!g){const O=[q2.bind(this),void 0];for(O.unshift.apply(O,m),O.push.apply(O,v),I=O.length,_=Promise.resolve(n);A<I;)_=_.then(O[A++],O[A++]);return _}I=m.length;let E=n;for(A=0;A<I;){const O=m[A++],R=m[A++];try{E=O(E)}catch(z){R.call(this,z);break}}try{_=q2.call(this,E)}catch(O){return Promise.reject(O)}for(A=0,I=v.length;A<I;)_=_.then(v[A++],v[A++]);return _}getUri(t){t=Ml(this.defaults,t);const n=_5(t.baseURL,t.url);return m5(n,t.params,t.paramsSerializer)}}tt.forEach(["delete","get","head","options"],function(t){yf.prototype[t]=function(n,i){return this.request(Ml(i||{},{method:t,url:n,data:(i||{}).data}))}});tt.forEach(["post","put","patch"],function(t){function n(i){return function(l,h,m){return this.request(Ml(m||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}yf.prototype[t]=n(),yf.prototype[t+"Form"]=n(!0)});const Qh=yf;class op{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const h=new Promise(m=>{i.subscribe(m),l=m}).then(a);return h.cancel=function(){i.unsubscribe(l)},h},t(function(l,h,m){i.reason||(i.reason=new qu(l,h,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new op(function(a){t=a}),cancel:t}}}const V3=op;function q3(e){return function(n){return e.apply(null,n)}}function G3(e){return tt.isObject(e)&&e.isAxiosError===!0}const F1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(F1).forEach(([e,t])=>{F1[t]=e});const Z3=F1;function N5(e){const t=new Qh(e),n=i5(Qh.prototype.request,t);return tt.extend(n,Qh.prototype,t,{allOwnKeys:!0}),tt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return N5(Ml(e,a))},n}const Ni=N5(rp);Ni.Axios=Qh;Ni.CanceledError=qu;Ni.CancelToken=V3;Ni.isCancel=x5;Ni.VERSION=S5;Ni.toFormData=nd;Ni.AxiosError=Dn;Ni.Cancel=Ni.CanceledError;Ni.all=function(t){return Promise.all(t)};Ni.spread=q3;Ni.isAxiosError=G3;Ni.mergeConfig=Ml;Ni.AxiosHeaders=js;Ni.formToJSON=e=>y5(tt.isHTMLForm(e)?new FormData(e):e);Ni.getAdapter=E5.getAdapter;Ni.HttpStatusCode=Z3;Ni.default=Ni;const X3=Ni;window.axios=X3;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I5={exports:{}},sd={},L5={exports:{}},Gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),Y3=Symbol.for("react.portal"),K3=Symbol.for("react.fragment"),Q3=Symbol.for("react.strict_mode"),J3=Symbol.for("react.profiler"),$3=Symbol.for("react.provider"),e_=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),r_=Symbol.for("react.memo"),i_=Symbol.for("react.lazy"),Z2=Symbol.iterator;function o_(e){return e===null||typeof e!="object"?null:(e=Z2&&e[Z2]||e["@@iterator"],typeof e=="function"?e:null)}var T5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P5=Object.assign,k5={};function Gu(e,t,n){this.props=e,this.context=t,this.refs=k5,this.updater=n||T5}Gu.prototype.isReactComponent={};Gu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R5(){}R5.prototype=Gu.prototype;function sp(e,t,n){this.props=e,this.context=t,this.refs=k5,this.updater=n||T5}var ap=sp.prototype=new R5;ap.constructor=sp;P5(ap,Gu.prototype);ap.isPureReactComponent=!0;var X2=Array.isArray,O5=Object.prototype.hasOwnProperty,lp={current:null},M5={key:!0,ref:!0,__self:!0,__source:!0};function D5(e,t,n){var i,a={},l=null,h=null;if(t!=null)for(i in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(l=""+t.key),t)O5.call(t,i)&&!M5.hasOwnProperty(i)&&(a[i]=t[i]);var m=arguments.length-2;if(m===1)a.children=n;else if(1<m){for(var g=Array(m),v=0;v<m;v++)g[v]=arguments[v+2];a.children=g}if(e&&e.defaultProps)for(i in m=e.defaultProps,m)a[i]===void 0&&(a[i]=m[i]);return{$$typeof:th,type:e,key:l,ref:h,props:a,_owner:lp.current}}function s_(e,t){return{$$typeof:th,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function up(e){return typeof e=="object"&&e!==null&&e.$$typeof===th}function a_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Y2=/\/+/g;function Xd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a_(""+e.key):t.toString(36)}function Jh(e,t,n,i,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(l){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case th:case Y3:h=!0}}if(h)return h=e,a=a(h),e=i===""?"."+Xd(h,0):i,X2(a)?(n="",e!=null&&(n=e.replace(Y2,"$&/")+"/"),Jh(a,t,n,"",function(v){return v})):a!=null&&(up(a)&&(a=s_(a,n+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(Y2,"$&/")+"/")+e)),t.push(a)),1;if(h=0,i=i===""?".":i+":",X2(e))for(var m=0;m<e.length;m++){l=e[m];var g=i+Xd(l,m);h+=Jh(l,t,n,g,a)}else if(g=o_(e),typeof g=="function")for(e=g.call(e),m=0;!(l=e.next()).done;)l=l.value,g=i+Xd(l,m++),h+=Jh(l,t,n,g,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Nh(e,t,n){if(e==null)return e;var i=[],a=0;return Jh(e,i,"","",function(l){return t.call(n,l,a++)}),i}function l_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var No={current:null},$h={transition:null},u_={ReactCurrentDispatcher:No,ReactCurrentBatchConfig:$h,ReactCurrentOwner:lp};function B5(){throw Error("act(...) is not supported in production builds of React.")}Gn.Children={map:Nh,forEach:function(e,t,n){Nh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nh(e,function(){t++}),t},toArray:function(e){return Nh(e,function(t){return t})||[]},only:function(e){if(!up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gn.Component=Gu;Gn.Fragment=K3;Gn.Profiler=J3;Gn.PureComponent=sp;Gn.StrictMode=Q3;Gn.Suspense=n_;Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_;Gn.act=B5;Gn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=P5({},e.props),a=e.key,l=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,h=lp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(g in t)O5.call(t,g)&&!M5.hasOwnProperty(g)&&(i[g]=t[g]===void 0&&m!==void 0?m[g]:t[g])}var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){m=Array(g);for(var v=0;v<g;v++)m[v]=arguments[v+2];i.children=m}return{$$typeof:th,type:e.type,key:a,ref:l,props:i,_owner:h}};Gn.createContext=function(e){return e={$$typeof:e_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$3,_context:e},e.Consumer=e};Gn.createElement=D5;Gn.createFactory=function(e){var t=D5.bind(null,e);return t.type=e,t};Gn.createRef=function(){return{current:null}};Gn.forwardRef=function(e){return{$$typeof:t_,render:e}};Gn.isValidElement=up;Gn.lazy=function(e){return{$$typeof:i_,_payload:{_status:-1,_result:e},_init:l_}};Gn.memo=function(e,t){return{$$typeof:r_,type:e,compare:t===void 0?null:t}};Gn.startTransition=function(e){var t=$h.transition;$h.transition={};try{e()}finally{$h.transition=t}};Gn.unstable_act=B5;Gn.useCallback=function(e,t){return No.current.useCallback(e,t)};Gn.useContext=function(e){return No.current.useContext(e)};Gn.useDebugValue=function(){};Gn.useDeferredValue=function(e){return No.current.useDeferredValue(e)};Gn.useEffect=function(e,t){return No.current.useEffect(e,t)};Gn.useId=function(){return No.current.useId()};Gn.useImperativeHandle=function(e,t,n){return No.current.useImperativeHandle(e,t,n)};Gn.useInsertionEffect=function(e,t){return No.current.useInsertionEffect(e,t)};Gn.useLayoutEffect=function(e,t){return No.current.useLayoutEffect(e,t)};Gn.useMemo=function(e,t){return No.current.useMemo(e,t)};Gn.useReducer=function(e,t,n){return No.current.useReducer(e,t,n)};Gn.useRef=function(e){return No.current.useRef(e)};Gn.useState=function(e){return No.current.useState(e)};Gn.useSyncExternalStore=function(e,t,n){return No.current.useSyncExternalStore(e,t,n)};Gn.useTransition=function(){return No.current.useTransition()};Gn.version="18.3.1";L5.exports=Gn;var Te=L5.exports;const Ir=od(Te),c_=J0({__proto__:null,default:Ir},[Te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_=Te,f_=Symbol.for("react.element"),d_=Symbol.for("react.fragment"),p_=Object.prototype.hasOwnProperty,g_=h_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m_={key:!0,ref:!0,__self:!0,__source:!0};function F5(e,t,n){var i,a={},l=null,h=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(h=t.ref);for(i in t)p_.call(t,i)&&!m_.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:f_,type:e,key:l,ref:h,props:a,_owner:g_.current}}sd.Fragment=d_;sd.jsx=F5;sd.jsxs=F5;I5.exports=sd;var V=I5.exports,j1={},j5={exports:{}},is={},z5={exports:{}},U5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Re){var Ce=pe.length;pe.push(Re);e:for(;0<Ce;){var nt=Ce-1>>>1,W=pe[nt];if(0<a(W,Re))pe[nt]=Re,pe[Ce]=W,Ce=nt;else break e}}function n(pe){return pe.length===0?null:pe[0]}function i(pe){if(pe.length===0)return null;var Re=pe[0],Ce=pe.pop();if(Ce!==Re){pe[0]=Ce;e:for(var nt=0,W=pe.length,ae=W>>>1;nt<ae;){var le=2*(nt+1)-1,xe=pe[le],he=le+1,Fe=pe[he];if(0>a(xe,Ce))he<W&&0>a(Fe,xe)?(pe[nt]=Fe,pe[he]=Ce,nt=he):(pe[nt]=xe,pe[le]=Ce,nt=le);else if(he<W&&0>a(Fe,Ce))pe[nt]=Fe,pe[he]=Ce,nt=he;else break e}}return Re}function a(pe,Re){var Ce=pe.sortIndex-Re.sortIndex;return Ce!==0?Ce:pe.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();e.unstable_now=function(){return h.now()-m}}var g=[],v=[],_=1,A=null,I=3,E=!1,O=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(pe){for(var Re=n(v);Re!==null;){if(Re.callback===null)i(v);else if(Re.startTime<=pe)i(v),Re.sortIndex=Re.expirationTime,t(g,Re);else break;Re=n(v)}}function $(pe){if(R=!1,j(pe),!O)if(n(g)!==null)O=!0,Me(de);else{var Re=n(v);Re!==null&&Ie($,Re.startTime-pe)}}function de(pe,Re){O=!1,R&&(R=!1,M(te),te=-1),E=!0;var Ce=I;try{for(j(Re),A=n(g);A!==null&&(!(A.expirationTime>Re)||pe&&!J());){var nt=A.callback;if(typeof nt=="function"){A.callback=null,I=A.priorityLevel;var W=nt(A.expirationTime<=Re);Re=e.unstable_now(),typeof W=="function"?A.callback=W:A===n(g)&&i(g),j(Re)}else i(g);A=n(g)}if(A!==null)var ae=!0;else{var le=n(v);le!==null&&Ie($,le.startTime-Re),ae=!1}return ae}finally{A=null,I=Ce,E=!1}}var ne=!1,re=null,te=-1,se=5,Le=-1;function J(){return!(e.unstable_now()-Le<se)}function Y(){if(re!==null){var pe=e.unstable_now();Le=pe;var Re=!0;try{Re=re(!0,pe)}finally{Re?ye():(ne=!1,re=null)}}else ne=!1}var ye;if(typeof k=="function")ye=function(){k(Y)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ge=me.port2;me.port1.onmessage=Y,ye=function(){ge.postMessage(null)}}else ye=function(){z(Y,0)};function Me(pe){re=pe,ne||(ne=!0,ye())}function Ie(pe,Re){te=z(function(){pe(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){O||E||(O=!0,Me(de))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(pe){switch(I){case 1:case 2:case 3:var Re=3;break;default:Re=I}var Ce=I;I=Re;try{return pe()}finally{I=Ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Re){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Ce=I;I=pe;try{return Re()}finally{I=Ce}},e.unstable_scheduleCallback=function(pe,Re,Ce){var nt=e.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?nt+Ce:nt):Ce=nt,pe){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Ce+W,pe={id:_++,callback:Re,priorityLevel:pe,startTime:Ce,expirationTime:W,sortIndex:-1},Ce>nt?(pe.sortIndex=Ce,t(v,pe),n(g)===null&&pe===n(v)&&(R?(M(te),te=-1):R=!0,Ie($,Ce-nt))):(pe.sortIndex=W,t(g,pe),O||E||(O=!0,Me(de))),pe},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(pe){var Re=I;return function(){var Ce=I;I=Re;try{return pe.apply(this,arguments)}finally{I=Ce}}}})(U5);z5.exports=U5;var v_=z5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=Te,rs=v_;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H5=new Set,Rc={};function Hl(e,t){Du(e,t),Du(e+"Capture",t)}function Du(e,t){for(Rc[e]=t,e=0;e<t.length;e++)H5.add(t[e])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=Object.prototype.hasOwnProperty,x_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K2={},Q2={};function w_(e){return z1.call(Q2,e)?!0:z1.call(K2,e)?!1:x_.test(e)?Q2[e]=!0:(K2[e]=!0,!1)}function __(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b_(e,t,n,i){if(t===null||typeof t>"u"||__(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Io(e,t,n,i,a,l,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=h}var to={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){to[e]=new Io(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];to[t]=new Io(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){to[e]=new Io(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){to[e]=new Io(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){to[e]=new Io(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){to[e]=new Io(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){to[e]=new Io(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){to[e]=new Io(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){to[e]=new Io(e,5,!1,e.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function hp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cp,hp);to[t]=new Io(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cp,hp);to[t]=new Io(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cp,hp);to[t]=new Io(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){to[e]=new Io(e,1,!1,e.toLowerCase(),null,!1,!1)});to.xlinkHref=new Io("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){to[e]=new Io(e,1,!1,e.toLowerCase(),null,!0,!0)});function fp(e,t,n,i){var a=to.hasOwnProperty(t)?to[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b_(t,n,a,i)&&(n=null),i||a===null?w_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var La=y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=Symbol.for("react.element"),hu=Symbol.for("react.portal"),fu=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),W5=Symbol.for("react.provider"),V5=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),W1=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),q5=Symbol.for("react.offscreen"),J2=Symbol.iterator;function ic(e){return e===null||typeof e!="object"?null:(e=J2&&e[J2]||e["@@iterator"],typeof e=="function"?e:null)}var ei=Object.assign,Yd;function vc(e){if(Yd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yd=t&&t[1]||""}return`
`+Yd+e}var Kd=!1;function Qd(e,t){if(!e||Kd)return"";Kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var i=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){i=v}e.call(t.prototype)}else{try{throw Error()}catch(v){i=v}e()}}catch(v){if(v&&i&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),l=i.stack.split(`
`),h=a.length-1,m=l.length-1;1<=h&&0<=m&&a[h]!==l[m];)m--;for(;1<=h&&0<=m;h--,m--)if(a[h]!==l[m]){if(h!==1||m!==1)do if(h--,m--,0>m||a[h]!==l[m]){var g=`
`+a[h].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=h&&0<=m);break}}}finally{Kd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vc(e):""}function A_(e){switch(e.tag){case 5:return vc(e.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return e=Qd(e.type,!1),e;case 11:return e=Qd(e.type.render,!1),e;case 1:return e=Qd(e.type,!0),e;default:return""}}function V1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fu:return"Fragment";case hu:return"Portal";case U1:return"Profiler";case dp:return"StrictMode";case H1:return"Suspense";case W1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V5:return(e.displayName||"Context")+".Consumer";case W5:return(e._context.displayName||"Context")+".Provider";case pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gp:return t=e.displayName||null,t!==null?t:V1(e.type)||"Memo";case qa:t=e._payload,e=e._init;try{return V1(e(t))}catch{}}return null}function C_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V1(t);case 8:return t===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ul(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E_(e){var t=G5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(h){i=""+h,l.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lh(e){e._valueTracker||(e._valueTracker=E_(e))}function Z5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G5(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function q1(e,t){var n=t.checked;return ei({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $2(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ul(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X5(e,t){t=t.checked,t!=null&&fp(e,"checked",t,!1)}function G1(e,t){X5(e,t);var n=ul(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Z1(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z1(e,t.type,ul(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Z1(e,t,n){(t!=="number"||xf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yc=Array.isArray;function Su(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ul(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function X1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_t(91));return ei({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_t(92));if(yc(n)){if(1<n.length)throw Error(_t(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ul(n)}}function Y5(e,t){var n=ul(t.value),i=ul(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function ng(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Th,Q5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Th.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S_=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(e){S_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bc[t]=bc[e]})});function J5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bc.hasOwnProperty(e)&&bc[e]?(""+t).trim():t+"px"}function $5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=J5(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var N_=ei({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K1(e,t){if(t){if(N_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_t(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_t(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_t(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_t(62))}}function Q1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J1=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $1=null,Nu=null,Iu=null;function rg(e){if(e=ih(e)){if(typeof $1!="function")throw Error(_t(280));var t=e.stateNode;t&&(t=hd(t),$1(e.stateNode,e.type,t))}}function ev(e){Nu?Iu?Iu.push(e):Iu=[e]:Nu=e}function tv(){if(Nu){var e=Nu,t=Iu;if(Iu=Nu=null,rg(e),t)for(e=0;e<t.length;e++)rg(t[e])}}function nv(e,t){return e(t)}function rv(){}var Jd=!1;function iv(e,t,n){if(Jd)return e(t,n);Jd=!0;try{return nv(e,t,n)}finally{Jd=!1,(Nu!==null||Iu!==null)&&(rv(),tv())}}function Mc(e,t){var n=e.stateNode;if(n===null)return null;var i=hd(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_t(231,t,typeof n));return n}var e0=!1;if(Ea)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){e0=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{e0=!1}function I_(e,t,n,i,a,l,h,m,g){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(_){this.onError(_)}}var Ac=!1,wf=null,_f=!1,t0=null,L_={onError:function(e){Ac=!0,wf=e}};function T_(e,t,n,i,a,l,h,m,g){Ac=!1,wf=null,I_.apply(L_,arguments)}function P_(e,t,n,i,a,l,h,m,g){if(T_.apply(this,arguments),Ac){if(Ac){var v=wf;Ac=!1,wf=null}else throw Error(_t(198));_f||(_f=!0,t0=v)}}function Wl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ov(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ig(e){if(Wl(e)!==e)throw Error(_t(188))}function k_(e){var t=e.alternate;if(!t){if(t=Wl(e),t===null)throw Error(_t(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return ig(a),e;if(l===i)return ig(a),t;l=l.sibling}throw Error(_t(188))}if(n.return!==i.return)n=a,i=l;else{for(var h=!1,m=a.child;m;){if(m===n){h=!0,n=a,i=l;break}if(m===i){h=!0,i=a,n=l;break}m=m.sibling}if(!h){for(m=l.child;m;){if(m===n){h=!0,n=l,i=a;break}if(m===i){h=!0,i=l,n=a;break}m=m.sibling}if(!h)throw Error(_t(189))}}if(n.alternate!==i)throw Error(_t(190))}if(n.tag!==3)throw Error(_t(188));return n.stateNode.current===n?e:t}function sv(e){return e=k_(e),e!==null?av(e):null}function av(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=av(e);if(t!==null)return t;e=e.sibling}return null}var lv=rs.unstable_scheduleCallback,og=rs.unstable_cancelCallback,R_=rs.unstable_shouldYield,O_=rs.unstable_requestPaint,yi=rs.unstable_now,M_=rs.unstable_getCurrentPriorityLevel,vp=rs.unstable_ImmediatePriority,uv=rs.unstable_UserBlockingPriority,bf=rs.unstable_NormalPriority,D_=rs.unstable_LowPriority,cv=rs.unstable_IdlePriority,ad=null,la=null;function B_(e){if(la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(ad,e,void 0,(e.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:z_,F_=Math.log,j_=Math.LN2;function z_(e){return e>>>=0,e===0?32:31-(F_(e)/j_|0)|0}var Ph=64,kh=4194304;function xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Af(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,l=e.pingedLanes,h=n&268435455;if(h!==0){var m=h&~a;m!==0?i=xc(m):(l&=h,l!==0&&(i=xc(l)))}else h=n&~a,h!==0?i=xc(h):l!==0&&(i=xc(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-zs(t),a=1<<n,i|=e[n],t&=~a;return i}function U_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H_(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var h=31-zs(l),m=1<<h,g=a[h];g===-1?(!(m&n)||m&i)&&(a[h]=U_(m,t)):g<=t&&(e.expiredLanes|=m),l&=~m}}function n0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hv(){var e=Ph;return Ph<<=1,!(Ph&4194240)&&(Ph=64),e}function $d(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zs(t),e[t]=n}function W_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-zs(n),l=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~l}}function yp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-zs(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var wr=0;function fv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dv,xp,pv,gv,mv,r0=!1,Rh=[],$a=null,el=null,tl=null,Dc=new Map,Bc=new Map,Za=[],V_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sg(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":Dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(t.pointerId)}}function sc(e,t,n,i,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ih(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function q_(e,t,n,i,a){switch(t){case"focusin":return $a=sc($a,e,t,n,i,a),!0;case"dragenter":return el=sc(el,e,t,n,i,a),!0;case"mouseover":return tl=sc(tl,e,t,n,i,a),!0;case"pointerover":var l=a.pointerId;return Dc.set(l,sc(Dc.get(l)||null,e,t,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,Bc.set(l,sc(Bc.get(l)||null,e,t,n,i,a)),!0}return!1}function vv(e){var t=Il(e.target);if(t!==null){var n=Wl(t);if(n!==null){if(t=n.tag,t===13){if(t=ov(n),t!==null){e.blockedOn=t,mv(e.priority,function(){pv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ef(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=i0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);J1=i,n.target.dispatchEvent(i),J1=null}else return t=ih(n),t!==null&&xp(t),e.blockedOn=n,!1;t.shift()}return!0}function ag(e,t,n){ef(e)&&n.delete(t)}function G_(){r0=!1,$a!==null&&ef($a)&&($a=null),el!==null&&ef(el)&&(el=null),tl!==null&&ef(tl)&&(tl=null),Dc.forEach(ag),Bc.forEach(ag)}function ac(e,t){e.blockedOn===t&&(e.blockedOn=null,r0||(r0=!0,rs.unstable_scheduleCallback(rs.unstable_NormalPriority,G_)))}function Fc(e){function t(a){return ac(a,e)}if(0<Rh.length){ac(Rh[0],e);for(var n=1;n<Rh.length;n++){var i=Rh[n];i.blockedOn===e&&(i.blockedOn=null)}}for($a!==null&&ac($a,e),el!==null&&ac(el,e),tl!==null&&ac(tl,e),Dc.forEach(t),Bc.forEach(t),n=0;n<Za.length;n++)i=Za[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Za.length&&(n=Za[0],n.blockedOn===null);)vv(n),n.blockedOn===null&&Za.shift()}var Lu=La.ReactCurrentBatchConfig,Cf=!0;function Z_(e,t,n,i){var a=wr,l=Lu.transition;Lu.transition=null;try{wr=1,wp(e,t,n,i)}finally{wr=a,Lu.transition=l}}function X_(e,t,n,i){var a=wr,l=Lu.transition;Lu.transition=null;try{wr=4,wp(e,t,n,i)}finally{wr=a,Lu.transition=l}}function wp(e,t,n,i){if(Cf){var a=i0(e,t,n,i);if(a===null)u1(e,t,i,Ef,n),sg(e,i);else if(q_(a,e,t,n,i))i.stopPropagation();else if(sg(e,i),t&4&&-1<V_.indexOf(e)){for(;a!==null;){var l=ih(a);if(l!==null&&dv(l),l=i0(e,t,n,i),l===null&&u1(e,t,i,Ef,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else u1(e,t,i,null,n)}}var Ef=null;function i0(e,t,n,i){if(Ef=null,e=mp(i),e=Il(e),e!==null)if(t=Wl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ov(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ef=e,null}function yv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M_()){case vp:return 1;case uv:return 4;case bf:case D_:return 16;case cv:return 536870912;default:return 16}default:return 16}}var Ya=null,_p=null,tf=null;function xv(){if(tf)return tf;var e,t=_p,n=t.length,i,a="value"in Ya?Ya.value:Ya.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===a[l-i];i++);return tf=a.slice(e,1<i?1-i:void 0)}function nf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oh(){return!0}function lg(){return!1}function os(e){function t(n,i,a,l,h){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(l):l[m]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Oh:lg,this.isPropagationStopped=lg,this}return ei(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),t}var Zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bp=os(Zu),rh=ei({},Zu,{view:0,detail:0}),Y_=os(rh),e1,t1,lc,ld=ei({},rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lc&&(lc&&e.type==="mousemove"?(e1=e.screenX-lc.screenX,t1=e.screenY-lc.screenY):t1=e1=0,lc=e),e1)},movementY:function(e){return"movementY"in e?e.movementY:t1}}),ug=os(ld),K_=ei({},ld,{dataTransfer:0}),Q_=os(K_),J_=ei({},rh,{relatedTarget:0}),n1=os(J_),$_=ei({},Zu,{animationName:0,elapsedTime:0,pseudoElement:0}),e4=os($_),t4=ei({},Zu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n4=os(t4),r4=ei({},Zu,{data:0}),cg=os(r4),i4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s4[e])?!!t[e]:!1}function Ap(){return a4}var l4=ei({},rh,{key:function(e){if(e.key){var t=i4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(e){return e.type==="keypress"?nf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u4=os(l4),c4=ei({},ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=os(c4),h4=ei({},rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),f4=os(h4),d4=ei({},Zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),p4=os(d4),g4=ei({},ld,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m4=os(g4),v4=[9,13,27,32],Cp=Ea&&"CompositionEvent"in window,Cc=null;Ea&&"documentMode"in document&&(Cc=document.documentMode);var y4=Ea&&"TextEvent"in window&&!Cc,wv=Ea&&(!Cp||Cc&&8<Cc&&11>=Cc),fg=String.fromCharCode(32),dg=!1;function _v(e,t){switch(e){case"keyup":return v4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var du=!1;function x4(e,t){switch(e){case"compositionend":return bv(t);case"keypress":return t.which!==32?null:(dg=!0,fg);case"textInput":return e=t.data,e===fg&&dg?null:e;default:return null}}function w4(e,t){if(du)return e==="compositionend"||!Cp&&_v(e,t)?(e=xv(),tf=_p=Ya=null,du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wv&&t.locale!=="ko"?null:t.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_4[e.type]:t==="textarea"}function Av(e,t,n,i){ev(i),t=Sf(t,"onChange"),0<t.length&&(n=new bp("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ec=null,jc=null;function b4(e){Ov(e,0)}function ud(e){var t=mu(e);if(Z5(t))return e}function A4(e,t){if(e==="change")return t}var Cv=!1;if(Ea){var r1;if(Ea){var i1="oninput"in document;if(!i1){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),i1=typeof gg.oninput=="function"}r1=i1}else r1=!1;Cv=r1&&(!document.documentMode||9<document.documentMode)}function mg(){Ec&&(Ec.detachEvent("onpropertychange",Ev),jc=Ec=null)}function Ev(e){if(e.propertyName==="value"&&ud(jc)){var t=[];Av(t,jc,e,mp(e)),iv(b4,t)}}function C4(e,t,n){e==="focusin"?(mg(),Ec=t,jc=n,Ec.attachEvent("onpropertychange",Ev)):e==="focusout"&&mg()}function E4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(jc)}function S4(e,t){if(e==="click")return ud(t)}function N4(e,t){if(e==="input"||e==="change")return ud(t)}function I4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hs=typeof Object.is=="function"?Object.is:I4;function zc(e,t){if(Hs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!z1.call(t,a)||!Hs(e[a],t[a]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,t){var n=vg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vg(n)}}function Sv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nv(){for(var e=window,t=xf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xf(e.document)}return t}function Ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L4(e){var t=Nv(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sv(n.ownerDocument.documentElement,n)){if(i!==null&&Ep(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!e.extend&&l>i&&(a=i,i=l,l=a),a=yg(n,l);var h=yg(n,i);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T4=Ea&&"documentMode"in document&&11>=document.documentMode,pu=null,o0=null,Sc=null,s0=!1;function xg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;s0||pu==null||pu!==xf(i)||(i=pu,"selectionStart"in i&&Ep(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sc&&zc(Sc,i)||(Sc=i,i=Sf(o0,"onSelect"),0<i.length&&(t=new bp("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=pu)))}function Mh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gu={animationend:Mh("Animation","AnimationEnd"),animationiteration:Mh("Animation","AnimationIteration"),animationstart:Mh("Animation","AnimationStart"),transitionend:Mh("Transition","TransitionEnd")},o1={},Iv={};Ea&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function cd(e){if(o1[e])return o1[e];if(!gu[e])return e;var t=gu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Iv)return o1[e]=t[n];return e}var Lv=cd("animationend"),Tv=cd("animationiteration"),Pv=cd("animationstart"),kv=cd("transitionend"),Rv=new Map,wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(e,t){Rv.set(e,t),Hl(t,[e])}for(var s1=0;s1<wg.length;s1++){var a1=wg[s1],P4=a1.toLowerCase(),k4=a1[0].toUpperCase()+a1.slice(1);dl(P4,"on"+k4)}dl(Lv,"onAnimationEnd");dl(Tv,"onAnimationIteration");dl(Pv,"onAnimationStart");dl("dblclick","onDoubleClick");dl("focusin","onFocus");dl("focusout","onBlur");dl(kv,"onTransitionEnd");Du("onMouseEnter",["mouseout","mouseover"]);Du("onMouseLeave",["mouseout","mouseover"]);Du("onPointerEnter",["pointerout","pointerover"]);Du("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function _g(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,P_(i,t,void 0,e),e.currentTarget=null}function Ov(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var h=i.length-1;0<=h;h--){var m=i[h],g=m.instance,v=m.currentTarget;if(m=m.listener,g!==l&&a.isPropagationStopped())break e;_g(a,m,v),l=g}else for(h=0;h<i.length;h++){if(m=i[h],g=m.instance,v=m.currentTarget,m=m.listener,g!==l&&a.isPropagationStopped())break e;_g(a,m,v),l=g}}}if(_f)throw e=t0,_f=!1,t0=null,e}function Fr(e,t){var n=t[h0];n===void 0&&(n=t[h0]=new Set);var i=e+"__bubble";n.has(i)||(Mv(t,e,2,!1),n.add(i))}function l1(e,t,n){var i=0;t&&(i|=4),Mv(n,e,i,t)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Uc(e){if(!e[Dh]){e[Dh]=!0,H5.forEach(function(n){n!=="selectionchange"&&(R4.has(n)||l1(n,!1,e),l1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dh]||(t[Dh]=!0,l1("selectionchange",!1,t))}}function Mv(e,t,n,i){switch(yv(t)){case 1:var a=Z_;break;case 4:a=X_;break;default:a=wp}n=a.bind(null,t,n,e),a=void 0,!e0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function u1(e,t,n,i,a){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var m=i.stateNode.containerInfo;if(m===a||m.nodeType===8&&m.parentNode===a)break;if(h===4)for(h=i.return;h!==null;){var g=h.tag;if((g===3||g===4)&&(g=h.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;h=h.return}for(;m!==null;){if(h=Il(m),h===null)return;if(g=h.tag,g===5||g===6){i=l=h;continue e}m=m.parentNode}}i=i.return}iv(function(){var v=l,_=mp(n),A=[];e:{var I=Rv.get(e);if(I!==void 0){var E=bp,O=e;switch(e){case"keypress":if(nf(n)===0)break e;case"keydown":case"keyup":E=u4;break;case"focusin":O="focus",E=n1;break;case"focusout":O="blur",E=n1;break;case"beforeblur":case"afterblur":E=n1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=f4;break;case Lv:case Tv:case Pv:E=e4;break;case kv:E=p4;break;case"scroll":E=Y_;break;case"wheel":E=m4;break;case"copy":case"cut":case"paste":E=n4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=hg}var R=(t&4)!==0,z=!R&&e==="scroll",M=R?I!==null?I+"Capture":null:I;R=[];for(var k=v,j;k!==null;){j=k;var $=j.stateNode;if(j.tag===5&&$!==null&&(j=$,M!==null&&($=Mc(k,M),$!=null&&R.push(Hc(k,$,j)))),z)break;k=k.return}0<R.length&&(I=new E(I,O,null,n,_),A.push({event:I,listeners:R}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",I&&n!==J1&&(O=n.relatedTarget||n.fromElement)&&(Il(O)||O[Sa]))break e;if((E||I)&&(I=_.window===_?_:(I=_.ownerDocument)?I.defaultView||I.parentWindow:window,E?(O=n.relatedTarget||n.toElement,E=v,O=O?Il(O):null,O!==null&&(z=Wl(O),O!==z||O.tag!==5&&O.tag!==6)&&(O=null)):(E=null,O=v),E!==O)){if(R=ug,$="onMouseLeave",M="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(R=hg,$="onPointerLeave",M="onPointerEnter",k="pointer"),z=E==null?I:mu(E),j=O==null?I:mu(O),I=new R($,k+"leave",E,n,_),I.target=z,I.relatedTarget=j,$=null,Il(_)===v&&(R=new R(M,k+"enter",O,n,_),R.target=j,R.relatedTarget=z,$=R),z=$,E&&O)t:{for(R=E,M=O,k=0,j=R;j;j=ru(j))k++;for(j=0,$=M;$;$=ru($))j++;for(;0<k-j;)R=ru(R),k--;for(;0<j-k;)M=ru(M),j--;for(;k--;){if(R===M||M!==null&&R===M.alternate)break t;R=ru(R),M=ru(M)}R=null}else R=null;E!==null&&bg(A,I,E,R,!1),O!==null&&z!==null&&bg(A,z,O,R,!0)}}e:{if(I=v?mu(v):window,E=I.nodeName&&I.nodeName.toLowerCase(),E==="select"||E==="input"&&I.type==="file")var de=A4;else if(pg(I))if(Cv)de=N4;else{de=E4;var ne=C4}else(E=I.nodeName)&&E.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(de=S4);if(de&&(de=de(e,v))){Av(A,de,n,_);break e}ne&&ne(e,I,v),e==="focusout"&&(ne=I._wrapperState)&&ne.controlled&&I.type==="number"&&Z1(I,"number",I.value)}switch(ne=v?mu(v):window,e){case"focusin":(pg(ne)||ne.contentEditable==="true")&&(pu=ne,o0=v,Sc=null);break;case"focusout":Sc=o0=pu=null;break;case"mousedown":s0=!0;break;case"contextmenu":case"mouseup":case"dragend":s0=!1,xg(A,n,_);break;case"selectionchange":if(T4)break;case"keydown":case"keyup":xg(A,n,_)}var re;if(Cp)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else du?_v(e,n)&&(te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(te="onCompositionStart");te&&(wv&&n.locale!=="ko"&&(du||te!=="onCompositionStart"?te==="onCompositionEnd"&&du&&(re=xv()):(Ya=_,_p="value"in Ya?Ya.value:Ya.textContent,du=!0)),ne=Sf(v,te),0<ne.length&&(te=new cg(te,e,null,n,_),A.push({event:te,listeners:ne}),re?te.data=re:(re=bv(n),re!==null&&(te.data=re)))),(re=y4?x4(e,n):w4(e,n))&&(v=Sf(v,"onBeforeInput"),0<v.length&&(_=new cg("onBeforeInput","beforeinput",null,n,_),A.push({event:_,listeners:v}),_.data=re))}Ov(A,t)})}function Hc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sf(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Mc(e,n),l!=null&&i.unshift(Hc(e,l,a)),l=Mc(e,t),l!=null&&i.push(Hc(e,l,a))),e=e.return}return i}function ru(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bg(e,t,n,i,a){for(var l=t._reactName,h=[];n!==null&&n!==i;){var m=n,g=m.alternate,v=m.stateNode;if(g!==null&&g===i)break;m.tag===5&&v!==null&&(m=v,a?(g=Mc(n,l),g!=null&&h.unshift(Hc(n,g,m))):a||(g=Mc(n,l),g!=null&&h.push(Hc(n,g,m)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var O4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(O4,`
`).replace(M4,"")}function Bh(e,t,n){if(t=Ag(t),Ag(e)!==t&&n)throw Error(_t(425))}function Nf(){}var a0=null,l0=null;function u0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,D4=typeof clearTimeout=="function"?clearTimeout:void 0,Cg=typeof Promise=="function"?Promise:void 0,B4=typeof queueMicrotask=="function"?queueMicrotask:typeof Cg<"u"?function(e){return Cg.resolve(null).then(e).catch(F4)}:c0;function F4(e){setTimeout(function(){throw e})}function c1(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),Fc(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);Fc(t)}function nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xu=Math.random().toString(36).slice(2),sa="__reactFiber$"+Xu,Wc="__reactProps$"+Xu,Sa="__reactContainer$"+Xu,h0="__reactEvents$"+Xu,j4="__reactListeners$"+Xu,z4="__reactHandles$"+Xu;function Il(e){var t=e[sa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sa]||n[sa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eg(e);e!==null;){if(n=e[sa])return n;e=Eg(e)}return t}e=n,n=e.parentNode}return null}function ih(e){return e=e[sa]||e[Sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_t(33))}function hd(e){return e[Wc]||null}var f0=[],vu=-1;function pl(e){return{current:e}}function Ur(e){0>vu||(e.current=f0[vu],f0[vu]=null,vu--)}function Or(e,t){vu++,f0[vu]=e.current,e.current=t}var cl={},vo=pl(cl),jo=pl(!1),Dl=cl;function Bu(e,t){var n=e.type.contextTypes;if(!n)return cl;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zo(e){return e=e.childContextTypes,e!=null}function If(){Ur(jo),Ur(vo)}function Sg(e,t,n){if(vo.current!==cl)throw Error(_t(168));Or(vo,t),Or(jo,n)}function Dv(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(_t(108,C_(e)||"Unknown",a));return ei({},n,i)}function Lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,Dl=vo.current,Or(vo,e),Or(jo,jo.current),!0}function Ng(e,t,n){var i=e.stateNode;if(!i)throw Error(_t(169));n?(e=Dv(e,t,Dl),i.__reactInternalMemoizedMergedChildContext=e,Ur(jo),Ur(vo),Or(vo,e)):Ur(jo),Or(jo,n)}var _a=null,fd=!1,h1=!1;function Bv(e){_a===null?_a=[e]:_a.push(e)}function U4(e){fd=!0,Bv(e)}function gl(){if(!h1&&_a!==null){h1=!0;var e=0,t=wr;try{var n=_a;for(wr=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}_a=null,fd=!1}catch(a){throw _a!==null&&(_a=_a.slice(e+1)),lv(vp,gl),a}finally{wr=t,h1=!1}}return null}var yu=[],xu=0,Tf=null,Pf=0,ys=[],xs=0,Bl=null,ba=1,Aa="";function _l(e,t){yu[xu++]=Pf,yu[xu++]=Tf,Tf=e,Pf=t}function Fv(e,t,n){ys[xs++]=ba,ys[xs++]=Aa,ys[xs++]=Bl,Bl=e;var i=ba;e=Aa;var a=32-zs(i)-1;i&=~(1<<a),n+=1;var l=32-zs(t)+a;if(30<l){var h=a-a%5;l=(i&(1<<h)-1).toString(32),i>>=h,a-=h,ba=1<<32-zs(t)+a|n<<a|i,Aa=l+e}else ba=1<<l|n<<a|i,Aa=e}function Sp(e){e.return!==null&&(_l(e,1),Fv(e,1,0))}function Np(e){for(;e===Tf;)Tf=yu[--xu],yu[xu]=null,Pf=yu[--xu],yu[xu]=null;for(;e===Bl;)Bl=ys[--xs],ys[xs]=null,Aa=ys[--xs],ys[xs]=null,ba=ys[--xs],ys[xs]=null}var ns=null,$o=null,Gr=!1,Fs=null;function jv(e,t){var n=ws(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ig(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ns=e,$o=nl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ns=e,$o=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bl!==null?{id:ba,overflow:Aa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ws(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ns=e,$o=null,!0):!1;default:return!1}}function d0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function p0(e){if(Gr){var t=$o;if(t){var n=t;if(!Ig(e,t)){if(d0(e))throw Error(_t(418));t=nl(n.nextSibling);var i=ns;t&&Ig(e,t)?jv(i,n):(e.flags=e.flags&-4097|2,Gr=!1,ns=e)}}else{if(d0(e))throw Error(_t(418));e.flags=e.flags&-4097|2,Gr=!1,ns=e}}}function Lg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ns=e}function Fh(e){if(e!==ns)return!1;if(!Gr)return Lg(e),Gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!u0(e.type,e.memoizedProps)),t&&(t=$o)){if(d0(e))throw zv(),Error(_t(418));for(;t;)jv(e,t),t=nl(t.nextSibling)}if(Lg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_t(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$o=nl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$o=null}}else $o=ns?nl(e.stateNode.nextSibling):null;return!0}function zv(){for(var e=$o;e;)e=nl(e.nextSibling)}function Fu(){$o=ns=null,Gr=!1}function Ip(e){Fs===null?Fs=[e]:Fs.push(e)}var H4=La.ReactCurrentBatchConfig;function uc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_t(309));var i=n.stateNode}if(!i)throw Error(_t(147,e));var a=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(h){var m=a.refs;h===null?delete m[l]:m[l]=h},t._stringRef=l,t)}if(typeof e!="string")throw Error(_t(284));if(!n._owner)throw Error(_t(290,e))}return e}function jh(e,t){throw e=Object.prototype.toString.call(t),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tg(e){var t=e._init;return t(e._payload)}function Uv(e){function t(M,k){if(e){var j=M.deletions;j===null?(M.deletions=[k],M.flags|=16):j.push(k)}}function n(M,k){if(!e)return null;for(;k!==null;)t(M,k),k=k.sibling;return null}function i(M,k){for(M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function a(M,k){return M=sl(M,k),M.index=0,M.sibling=null,M}function l(M,k,j){return M.index=j,e?(j=M.alternate,j!==null?(j=j.index,j<k?(M.flags|=2,k):j):(M.flags|=2,k)):(M.flags|=1048576,k)}function h(M){return e&&M.alternate===null&&(M.flags|=2),M}function m(M,k,j,$){return k===null||k.tag!==6?(k=y1(j,M.mode,$),k.return=M,k):(k=a(k,j),k.return=M,k)}function g(M,k,j,$){var de=j.type;return de===fu?_(M,k,j.props.children,$,j.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===qa&&Tg(de)===k.type)?($=a(k,j.props),$.ref=uc(M,k,j),$.return=M,$):($=cf(j.type,j.key,j.props,null,M.mode,$),$.ref=uc(M,k,j),$.return=M,$)}function v(M,k,j,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=x1(j,M.mode,$),k.return=M,k):(k=a(k,j.children||[]),k.return=M,k)}function _(M,k,j,$,de){return k===null||k.tag!==7?(k=Rl(j,M.mode,$,de),k.return=M,k):(k=a(k,j),k.return=M,k)}function A(M,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return k=y1(""+k,M.mode,j),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ih:return j=cf(k.type,k.key,k.props,null,M.mode,j),j.ref=uc(M,null,k),j.return=M,j;case hu:return k=x1(k,M.mode,j),k.return=M,k;case qa:var $=k._init;return A(M,$(k._payload),j)}if(yc(k)||ic(k))return k=Rl(k,M.mode,j,null),k.return=M,k;jh(M,k)}return null}function I(M,k,j,$){var de=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:m(M,k,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ih:return j.key===de?g(M,k,j,$):null;case hu:return j.key===de?v(M,k,j,$):null;case qa:return de=j._init,I(M,k,de(j._payload),$)}if(yc(j)||ic(j))return de!==null?null:_(M,k,j,$,null);jh(M,j)}return null}function E(M,k,j,$,de){if(typeof $=="string"&&$!==""||typeof $=="number")return M=M.get(j)||null,m(k,M,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Ih:return M=M.get($.key===null?j:$.key)||null,g(k,M,$,de);case hu:return M=M.get($.key===null?j:$.key)||null,v(k,M,$,de);case qa:var ne=$._init;return E(M,k,j,ne($._payload),de)}if(yc($)||ic($))return M=M.get(j)||null,_(k,M,$,de,null);jh(k,$)}return null}function O(M,k,j,$){for(var de=null,ne=null,re=k,te=k=0,se=null;re!==null&&te<j.length;te++){re.index>te?(se=re,re=null):se=re.sibling;var Le=I(M,re,j[te],$);if(Le===null){re===null&&(re=se);break}e&&re&&Le.alternate===null&&t(M,re),k=l(Le,k,te),ne===null?de=Le:ne.sibling=Le,ne=Le,re=se}if(te===j.length)return n(M,re),Gr&&_l(M,te),de;if(re===null){for(;te<j.length;te++)re=A(M,j[te],$),re!==null&&(k=l(re,k,te),ne===null?de=re:ne.sibling=re,ne=re);return Gr&&_l(M,te),de}for(re=i(M,re);te<j.length;te++)se=E(re,M,te,j[te],$),se!==null&&(e&&se.alternate!==null&&re.delete(se.key===null?te:se.key),k=l(se,k,te),ne===null?de=se:ne.sibling=se,ne=se);return e&&re.forEach(function(J){return t(M,J)}),Gr&&_l(M,te),de}function R(M,k,j,$){var de=ic(j);if(typeof de!="function")throw Error(_t(150));if(j=de.call(j),j==null)throw Error(_t(151));for(var ne=de=null,re=k,te=k=0,se=null,Le=j.next();re!==null&&!Le.done;te++,Le=j.next()){re.index>te?(se=re,re=null):se=re.sibling;var J=I(M,re,Le.value,$);if(J===null){re===null&&(re=se);break}e&&re&&J.alternate===null&&t(M,re),k=l(J,k,te),ne===null?de=J:ne.sibling=J,ne=J,re=se}if(Le.done)return n(M,re),Gr&&_l(M,te),de;if(re===null){for(;!Le.done;te++,Le=j.next())Le=A(M,Le.value,$),Le!==null&&(k=l(Le,k,te),ne===null?de=Le:ne.sibling=Le,ne=Le);return Gr&&_l(M,te),de}for(re=i(M,re);!Le.done;te++,Le=j.next())Le=E(re,M,te,Le.value,$),Le!==null&&(e&&Le.alternate!==null&&re.delete(Le.key===null?te:Le.key),k=l(Le,k,te),ne===null?de=Le:ne.sibling=Le,ne=Le);return e&&re.forEach(function(Y){return t(M,Y)}),Gr&&_l(M,te),de}function z(M,k,j,$){if(typeof j=="object"&&j!==null&&j.type===fu&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ih:e:{for(var de=j.key,ne=k;ne!==null;){if(ne.key===de){if(de=j.type,de===fu){if(ne.tag===7){n(M,ne.sibling),k=a(ne,j.props.children),k.return=M,M=k;break e}}else if(ne.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===qa&&Tg(de)===ne.type){n(M,ne.sibling),k=a(ne,j.props),k.ref=uc(M,ne,j),k.return=M,M=k;break e}n(M,ne);break}else t(M,ne);ne=ne.sibling}j.type===fu?(k=Rl(j.props.children,M.mode,$,j.key),k.return=M,M=k):($=cf(j.type,j.key,j.props,null,M.mode,$),$.ref=uc(M,k,j),$.return=M,M=$)}return h(M);case hu:e:{for(ne=j.key;k!==null;){if(k.key===ne)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){n(M,k.sibling),k=a(k,j.children||[]),k.return=M,M=k;break e}else{n(M,k);break}else t(M,k);k=k.sibling}k=x1(j,M.mode,$),k.return=M,M=k}return h(M);case qa:return ne=j._init,z(M,k,ne(j._payload),$)}if(yc(j))return O(M,k,j,$);if(ic(j))return R(M,k,j,$);jh(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,k!==null&&k.tag===6?(n(M,k.sibling),k=a(k,j),k.return=M,M=k):(n(M,k),k=y1(j,M.mode,$),k.return=M,M=k),h(M)):n(M,k)}return z}var ju=Uv(!0),Hv=Uv(!1),kf=pl(null),Rf=null,wu=null,Lp=null;function Tp(){Lp=wu=Rf=null}function Pp(e){var t=kf.current;Ur(kf),e._currentValue=t}function g0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Tu(e,t){Rf=e,Lp=wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bo=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(Lp!==e)if(e={context:e,memoizedValue:t,next:null},wu===null){if(Rf===null)throw Error(_t(308));wu=e,Rf.dependencies={lanes:0,firstContext:e}}else wu=wu.next=e;return t}var Ll=null;function kp(e){Ll===null?Ll=[e]:Ll.push(e)}function Wv(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,kp(t)):(n.next=a.next,a.next=n),t.interleaved=n,Na(e,i)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ga=!1;function Rp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rl(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ir&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Na(e,n)}return a=i.interleaved,a===null?(t.next=t,kp(i)):(t.next=a.next,a.next=t),i.interleaved=t,Na(e,n)}function rf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yp(e,n)}}function Pg(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=h:l=l.next=h,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Of(e,t,n,i){var a=e.updateQueue;Ga=!1;var l=a.firstBaseUpdate,h=a.lastBaseUpdate,m=a.shared.pending;if(m!==null){a.shared.pending=null;var g=m,v=g.next;g.next=null,h===null?l=v:h.next=v,h=g;var _=e.alternate;_!==null&&(_=_.updateQueue,m=_.lastBaseUpdate,m!==h&&(m===null?_.firstBaseUpdate=v:m.next=v,_.lastBaseUpdate=g))}if(l!==null){var A=a.baseState;h=0,_=v=g=null,m=l;do{var I=m.lane,E=m.eventTime;if((i&I)===I){_!==null&&(_=_.next={eventTime:E,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var O=e,R=m;switch(I=t,E=n,R.tag){case 1:if(O=R.payload,typeof O=="function"){A=O.call(E,A,I);break e}A=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=R.payload,I=typeof O=="function"?O.call(E,A,I):O,I==null)break e;A=ei({},A,I);break e;case 2:Ga=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,I=a.effects,I===null?a.effects=[m]:I.push(m))}else E={eventTime:E,lane:I,tag:m.tag,payload:m.payload,callback:m.callback,next:null},_===null?(v=_=E,g=A):_=_.next=E,h|=I;if(m=m.next,m===null){if(m=a.shared.pending,m===null)break;I=m,m=I.next,I.next=null,a.lastBaseUpdate=I,a.shared.pending=null}}while(1);if(_===null&&(g=A),a.baseState=g,a.firstBaseUpdate=v,a.lastBaseUpdate=_,t=a.shared.interleaved,t!==null){a=t;do h|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);jl|=h,e.lanes=h,e.memoizedState=A}}function kg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(_t(191,a));a.call(i)}}}var oh={},ua=pl(oh),Vc=pl(oh),qc=pl(oh);function Tl(e){if(e===oh)throw Error(_t(174));return e}function Op(e,t){switch(Or(qc,t),Or(Vc,e),Or(ua,oh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Y1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Y1(t,e)}Ur(ua),Or(ua,t)}function zu(){Ur(ua),Ur(Vc),Ur(qc)}function qv(e){Tl(qc.current);var t=Tl(ua.current),n=Y1(t,e.type);t!==n&&(Or(Vc,e),Or(ua,n))}function Mp(e){Vc.current===e&&(Ur(ua),Ur(Vc))}var Jr=pl(0);function Mf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var f1=[];function Dp(){for(var e=0;e<f1.length;e++)f1[e]._workInProgressVersionPrimary=null;f1.length=0}var of=La.ReactCurrentDispatcher,d1=La.ReactCurrentBatchConfig,Fl=0,$r=null,Pi=null,Hi=null,Df=!1,Nc=!1,Gc=0,W4=0;function lo(){throw Error(_t(321))}function Bp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hs(e[n],t[n]))return!1;return!0}function Fp(e,t,n,i,a,l){if(Fl=l,$r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,of.current=e===null||e.memoizedState===null?Z4:X4,e=n(i,a),Nc){l=0;do{if(Nc=!1,Gc=0,25<=l)throw Error(_t(301));l+=1,Hi=Pi=null,t.updateQueue=null,of.current=Y4,e=n(i,a)}while(Nc)}if(of.current=Bf,t=Pi!==null&&Pi.next!==null,Fl=0,Hi=Pi=$r=null,Df=!1,t)throw Error(_t(300));return e}function jp(){var e=Gc!==0;return Gc=0,e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?$r.memoizedState=Hi=e:Hi=Hi.next=e,Hi}function As(){if(Pi===null){var e=$r.alternate;e=e!==null?e.memoizedState:null}else e=Pi.next;var t=Hi===null?$r.memoizedState:Hi.next;if(t!==null)Hi=t,Pi=e;else{if(e===null)throw Error(_t(310));Pi=e,e={memoizedState:Pi.memoizedState,baseState:Pi.baseState,baseQueue:Pi.baseQueue,queue:Pi.queue,next:null},Hi===null?$r.memoizedState=Hi=e:Hi=Hi.next=e}return Hi}function Zc(e,t){return typeof t=="function"?t(e):t}function p1(e){var t=As(),n=t.queue;if(n===null)throw Error(_t(311));n.lastRenderedReducer=e;var i=Pi,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var h=a.next;a.next=l.next,l.next=h}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var m=h=null,g=null,v=l;do{var _=v.lane;if((Fl&_)===_)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),i=v.hasEagerState?v.eagerState:e(i,v.action);else{var A={lane:_,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(m=g=A,h=i):g=g.next=A,$r.lanes|=_,jl|=_}v=v.next}while(v!==null&&v!==l);g===null?h=i:g.next=m,Hs(i,t.memoizedState)||(Bo=!0),t.memoizedState=i,t.baseState=h,t.baseQueue=g,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do l=a.lane,$r.lanes|=l,jl|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function g1(e){var t=As(),n=t.queue;if(n===null)throw Error(_t(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var h=a=a.next;do l=e(l,h.action),h=h.next;while(h!==a);Hs(l,t.memoizedState)||(Bo=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Gv(){}function Zv(e,t){var n=$r,i=As(),a=t(),l=!Hs(i.memoizedState,a);if(l&&(i.memoizedState=a,Bo=!0),i=i.queue,zp(Kv.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||Hi!==null&&Hi.memoizedState.tag&1){if(n.flags|=2048,Xc(9,Yv.bind(null,n,i,a,t),void 0,null),Vi===null)throw Error(_t(349));Fl&30||Xv(n,t,a)}return a}function Xv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$r.updateQueue,t===null?(t={lastEffect:null,stores:null},$r.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yv(e,t,n,i){t.value=n,t.getSnapshot=i,Qv(t)&&Jv(e)}function Kv(e,t,n){return n(function(){Qv(t)&&Jv(e)})}function Qv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hs(e,n)}catch{return!0}}function Jv(e){var t=Na(e,1);t!==null&&Us(t,e,1,-1)}function Rg(e){var t=oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:e},t.queue=e,e=e.dispatch=G4.bind(null,$r,e),[t.memoizedState,e]}function Xc(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=$r.updateQueue,t===null?(t={lastEffect:null,stores:null},$r.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function $v(){return As().memoizedState}function sf(e,t,n,i){var a=oa();$r.flags|=e,a.memoizedState=Xc(1|t,n,void 0,i===void 0?null:i)}function dd(e,t,n,i){var a=As();i=i===void 0?null:i;var l=void 0;if(Pi!==null){var h=Pi.memoizedState;if(l=h.destroy,i!==null&&Bp(i,h.deps)){a.memoizedState=Xc(t,n,l,i);return}}$r.flags|=e,a.memoizedState=Xc(1|t,n,l,i)}function Og(e,t){return sf(8390656,8,e,t)}function zp(e,t){return dd(2048,8,e,t)}function ey(e,t){return dd(4,2,e,t)}function ty(e,t){return dd(4,4,e,t)}function ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ry(e,t,n){return n=n!=null?n.concat([e]):null,dd(4,4,ny.bind(null,t,e),n)}function Up(){}function iy(e,t){var n=As();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function oy(e,t){var n=As();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bp(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function sy(e,t,n){return Fl&21?(Hs(n,t)||(n=hv(),$r.lanes|=n,jl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bo=!0),e.memoizedState=n)}function V4(e,t){var n=wr;wr=n!==0&&4>n?n:4,e(!0);var i=d1.transition;d1.transition={};try{e(!1),t()}finally{wr=n,d1.transition=i}}function ay(){return As().memoizedState}function q4(e,t,n){var i=ol(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ly(e))uy(t,n);else if(n=Wv(e,t,n,i),n!==null){var a=So();Us(n,e,i,a),cy(n,t,i)}}function G4(e,t,n){var i=ol(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ly(e))uy(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var h=t.lastRenderedState,m=l(h,n);if(a.hasEagerState=!0,a.eagerState=m,Hs(m,h)){var g=t.interleaved;g===null?(a.next=a,kp(t)):(a.next=g.next,g.next=a),t.interleaved=a;return}}catch{}finally{}n=Wv(e,t,a,i),n!==null&&(a=So(),Us(n,e,i,a),cy(n,t,i))}}function ly(e){var t=e.alternate;return e===$r||t!==null&&t===$r}function uy(e,t){Nc=Df=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cy(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yp(e,n)}}var Bf={readContext:bs,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useInsertionEffect:lo,useLayoutEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useDeferredValue:lo,useTransition:lo,useMutableSource:lo,useSyncExternalStore:lo,useId:lo,unstable_isNewReconciler:!1},Z4={readContext:bs,useCallback:function(e,t){return oa().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:Og,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sf(4194308,4,ny.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sf(4194308,4,e,t)},useInsertionEffect:function(e,t){return sf(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=oa();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=q4.bind(null,$r,e),[i.memoizedState,e]},useRef:function(e){var t=oa();return e={current:e},t.memoizedState=e},useState:Rg,useDebugValue:Up,useDeferredValue:function(e){return oa().memoizedState=e},useTransition:function(){var e=Rg(!1),t=e[0];return e=V4.bind(null,e[1]),oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=$r,a=oa();if(Gr){if(n===void 0)throw Error(_t(407));n=n()}else{if(n=t(),Vi===null)throw Error(_t(349));Fl&30||Xv(i,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Og(Kv.bind(null,i,l,e),[e]),i.flags|=2048,Xc(9,Yv.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=oa(),t=Vi.identifierPrefix;if(Gr){var n=Aa,i=ba;n=(i&~(1<<32-zs(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=W4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},X4={readContext:bs,useCallback:iy,useContext:bs,useEffect:zp,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:oy,useReducer:p1,useRef:$v,useState:function(){return p1(Zc)},useDebugValue:Up,useDeferredValue:function(e){var t=As();return sy(t,Pi.memoizedState,e)},useTransition:function(){var e=p1(Zc)[0],t=As().memoizedState;return[e,t]},useMutableSource:Gv,useSyncExternalStore:Zv,useId:ay,unstable_isNewReconciler:!1},Y4={readContext:bs,useCallback:iy,useContext:bs,useEffect:zp,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:oy,useReducer:g1,useRef:$v,useState:function(){return g1(Zc)},useDebugValue:Up,useDeferredValue:function(e){var t=As();return Pi===null?t.memoizedState=e:sy(t,Pi.memoizedState,e)},useTransition:function(){var e=g1(Zc)[0],t=As().memoizedState;return[e,t]},useMutableSource:Gv,useSyncExternalStore:Zv,useId:ay,unstable_isNewReconciler:!1};function Os(e,t){if(e&&e.defaultProps){t=ei({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function m0(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ei({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pd={isMounted:function(e){return(e=e._reactInternals)?Wl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=So(),a=ol(e),l=Ca(i,a);l.payload=t,n!=null&&(l.callback=n),t=rl(e,l,a),t!==null&&(Us(t,e,a,i),rf(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=So(),a=ol(e),l=Ca(i,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=rl(e,l,a),t!==null&&(Us(t,e,a,i),rf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=So(),i=ol(e),a=Ca(n,i);a.tag=2,t!=null&&(a.callback=t),t=rl(e,a,i),t!==null&&(Us(t,e,i,n),rf(t,e,i))}};function Mg(e,t,n,i,a,l,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,h):t.prototype&&t.prototype.isPureReactComponent?!zc(n,i)||!zc(a,l):!0}function hy(e,t,n){var i=!1,a=cl,l=t.contextType;return typeof l=="object"&&l!==null?l=bs(l):(a=zo(t)?Dl:vo.current,i=t.contextTypes,l=(i=i!=null)?Bu(e,a):cl),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pd,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Dg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&pd.enqueueReplaceState(t,t.state,null)}function v0(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rp(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=bs(l):(l=zo(t)?Dl:vo.current,a.context=Bu(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(m0(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&pd.enqueueReplaceState(a,a.state,null),Of(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Uu(e,t){try{var n="",i=t;do n+=A_(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function m1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function y0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K4=typeof WeakMap=="function"?WeakMap:Map;function fy(e,t,n){n=Ca(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){jf||(jf=!0,I0=i),y0(e,t)},n}function dy(e,t,n){n=Ca(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){y0(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){y0(e,t),typeof i!="function"&&(il===null?il=new Set([this]):il.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function Bg(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new K4;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=c8.bind(null,e,t,n),t.then(e,e))}function Fg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jg(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ca(-1,1),t.tag=2,rl(n,t,1))),n.lanes|=1),e)}var Q4=La.ReactCurrentOwner,Bo=!1;function Eo(e,t,n,i){t.child=e===null?Hv(t,null,n,i):ju(t,e.child,n,i)}function zg(e,t,n,i,a){n=n.render;var l=t.ref;return Tu(t,a),i=Fp(e,t,n,i,l,a),n=jp(),e!==null&&!Bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ia(e,t,a)):(Gr&&n&&Sp(t),t.flags|=1,Eo(e,t,i,a),t.child)}function Ug(e,t,n,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!Yp(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,py(e,t,l,i,a)):(e=cf(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var h=l.memoizedProps;if(n=n.compare,n=n!==null?n:zc,n(h,i)&&e.ref===t.ref)return Ia(e,t,a)}return t.flags|=1,e=sl(l,i),e.ref=t.ref,e.return=t,t.child=e}function py(e,t,n,i,a){if(e!==null){var l=e.memoizedProps;if(zc(l,i)&&e.ref===t.ref)if(Bo=!1,t.pendingProps=i=l,(e.lanes&a)!==0)e.flags&131072&&(Bo=!0);else return t.lanes=e.lanes,Ia(e,t,a)}return x0(e,t,n,i,a)}function gy(e,t,n){var i=t.pendingProps,a=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(bu,Qo),Qo|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Or(bu,Qo),Qo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,Or(bu,Qo),Qo|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,Or(bu,Qo),Qo|=i;return Eo(e,t,a,n),t.child}function my(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function x0(e,t,n,i,a){var l=zo(n)?Dl:vo.current;return l=Bu(t,l),Tu(t,a),n=Fp(e,t,n,i,l,a),i=jp(),e!==null&&!Bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ia(e,t,a)):(Gr&&i&&Sp(t),t.flags|=1,Eo(e,t,n,a),t.child)}function Hg(e,t,n,i,a){if(zo(n)){var l=!0;Lf(t)}else l=!1;if(Tu(t,a),t.stateNode===null)af(e,t),hy(t,n,i),v0(t,n,i,a),i=!0;else if(e===null){var h=t.stateNode,m=t.memoizedProps;h.props=m;var g=h.context,v=n.contextType;typeof v=="object"&&v!==null?v=bs(v):(v=zo(n)?Dl:vo.current,v=Bu(t,v));var _=n.getDerivedStateFromProps,A=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function";A||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==i||g!==v)&&Dg(t,h,i,v),Ga=!1;var I=t.memoizedState;h.state=I,Of(t,i,h,a),g=t.memoizedState,m!==i||I!==g||jo.current||Ga?(typeof _=="function"&&(m0(t,n,_,i),g=t.memoizedState),(m=Ga||Mg(t,n,m,i,I,g,v))?(A||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=g),h.props=i,h.state=g,h.context=v,i=m):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,Vv(e,t),m=t.memoizedProps,v=t.type===t.elementType?m:Os(t.type,m),h.props=v,A=t.pendingProps,I=h.context,g=n.contextType,typeof g=="object"&&g!==null?g=bs(g):(g=zo(n)?Dl:vo.current,g=Bu(t,g));var E=n.getDerivedStateFromProps;(_=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==A||I!==g)&&Dg(t,h,i,g),Ga=!1,I=t.memoizedState,h.state=I,Of(t,i,h,a);var O=t.memoizedState;m!==A||I!==O||jo.current||Ga?(typeof E=="function"&&(m0(t,n,E,i),O=t.memoizedState),(v=Ga||Mg(t,n,v,i,I,O,g)||!1)?(_||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,O,g),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,O,g)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=O),h.props=i,h.state=O,h.context=g,i=v):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return w0(e,t,n,i,l,a)}function w0(e,t,n,i,a,l){my(e,t);var h=(t.flags&128)!==0;if(!i&&!h)return a&&Ng(t,n,!1),Ia(e,t,l);i=t.stateNode,Q4.current=t;var m=h&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&h?(t.child=ju(t,e.child,null,l),t.child=ju(t,null,m,l)):Eo(e,t,m,l),t.memoizedState=i.state,a&&Ng(t,n,!0),t.child}function vy(e){var t=e.stateNode;t.pendingContext?Sg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sg(e,t.context,!1),Op(e,t.containerInfo)}function Wg(e,t,n,i,a){return Fu(),Ip(a),t.flags|=256,Eo(e,t,n,i),t.child}var _0={dehydrated:null,treeContext:null,retryLane:0};function b0(e){return{baseLanes:e,cachePool:null,transitions:null}}function yy(e,t,n){var i=t.pendingProps,a=Jr.current,l=!1,h=(t.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(a&2)!==0),m?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Or(Jr,a&1),e===null)return p0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=i.children,e=i.fallback,l?(i=t.mode,l=t.child,h={mode:"hidden",children:h},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=h):l=vd(h,i,0,null),e=Rl(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=b0(n),t.memoizedState=_0,e):Hp(t,h));if(a=e.memoizedState,a!==null&&(m=a.dehydrated,m!==null))return J4(e,t,h,i,m,a,n);if(l){l=i.fallback,h=t.mode,a=e.child,m=a.sibling;var g={mode:"hidden",children:i.children};return!(h&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=g,t.deletions=null):(i=sl(a,g),i.subtreeFlags=a.subtreeFlags&14680064),m!==null?l=sl(m,l):(l=Rl(l,h,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,h=e.child.memoizedState,h=h===null?b0(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},l.memoizedState=h,l.childLanes=e.childLanes&~n,t.memoizedState=_0,i}return l=e.child,e=l.sibling,i=sl(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Hp(e,t){return t=vd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zh(e,t,n,i){return i!==null&&Ip(i),ju(t,e.child,null,n),e=Hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J4(e,t,n,i,a,l,h){if(n)return t.flags&256?(t.flags&=-257,i=m1(Error(_t(422))),zh(e,t,h,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=vd({mode:"visible",children:i.children},a,0,null),l=Rl(l,a,h,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&ju(t,e.child,null,h),t.child.memoizedState=b0(h),t.memoizedState=_0,l);if(!(t.mode&1))return zh(e,t,h,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var m=i.dgst;return i=m,l=Error(_t(419)),i=m1(l,i,void 0),zh(e,t,h,i)}if(m=(h&e.childLanes)!==0,Bo||m){if(i=Vi,i!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|h)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Na(e,a),Us(i,e,a,-1))}return Xp(),i=m1(Error(_t(421))),zh(e,t,h,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=h8.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,$o=nl(a.nextSibling),ns=t,Gr=!0,Fs=null,e!==null&&(ys[xs++]=ba,ys[xs++]=Aa,ys[xs++]=Bl,ba=e.id,Aa=e.overflow,Bl=t),t=Hp(t,i.children),t.flags|=4096,t)}function Vg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),g0(e.return,t,n)}function v1(e,t,n,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function xy(e,t,n){var i=t.pendingProps,a=i.revealOrder,l=i.tail;if(Eo(e,t,i.children,n),i=Jr.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vg(e,n,t);else if(e.tag===19)Vg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Or(Jr,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Mf(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),v1(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Mf(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}v1(t,!0,n,null,l);break;case"together":v1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function af(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ia(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_t(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $4(e,t,n){switch(t.tag){case 3:vy(t),Fu();break;case 5:qv(t);break;case 1:zo(t.type)&&Lf(t);break;case 4:Op(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Or(kf,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Or(Jr,Jr.current&1),t.flags|=128,null):n&t.child.childLanes?yy(e,t,n):(Or(Jr,Jr.current&1),e=Ia(e,t,n),e!==null?e.sibling:null);Or(Jr,Jr.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return xy(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Or(Jr,Jr.current),i)break;return null;case 22:case 23:return t.lanes=0,gy(e,t,n)}return Ia(e,t,n)}var wy,A0,_y,by;wy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A0=function(){};_y=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Tl(ua.current);var l=null;switch(n){case"input":a=q1(e,a),i=q1(e,i),l=[];break;case"select":a=ei({},a,{value:void 0}),i=ei({},i,{value:void 0}),l=[];break;case"textarea":a=X1(e,a),i=X1(e,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Nf)}K1(n,i);var h;n=null;for(v in a)if(!i.hasOwnProperty(v)&&a.hasOwnProperty(v)&&a[v]!=null)if(v==="style"){var m=a[v];for(h in m)m.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Rc.hasOwnProperty(v)?l||(l=[]):(l=l||[]).push(v,null));for(v in i){var g=i[v];if(m=a!=null?a[v]:void 0,i.hasOwnProperty(v)&&g!==m&&(g!=null||m!=null))if(v==="style")if(m){for(h in m)!m.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in g)g.hasOwnProperty(h)&&m[h]!==g[h]&&(n||(n={}),n[h]=g[h])}else n||(l||(l=[]),l.push(v,n)),n=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,m=m?m.__html:void 0,g!=null&&m!==g&&(l=l||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(l=l||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&Fr("scroll",e),l||m===g||(l=[])):(l=l||[]).push(v,g))}n&&(l=l||[]).push("style",n);var v=l;(t.updateQueue=v)&&(t.flags|=4)}};by=function(e,t,n,i){n!==i&&(t.flags|=4)};function cc(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function uo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function e8(e,t,n){var i=t.pendingProps;switch(Np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:return zo(t.type)&&If(),uo(t),null;case 3:return i=t.stateNode,zu(),Ur(jo),Ur(vo),Dp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Fh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fs!==null&&(P0(Fs),Fs=null))),A0(e,t),uo(t),null;case 5:Mp(t);var a=Tl(qc.current);if(n=t.type,e!==null&&t.stateNode!=null)_y(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(_t(166));return uo(t),null}if(e=Tl(ua.current),Fh(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[sa]=t,i[Wc]=l,e=(t.mode&1)!==0,n){case"dialog":Fr("cancel",i),Fr("close",i);break;case"iframe":case"object":case"embed":Fr("load",i);break;case"video":case"audio":for(a=0;a<wc.length;a++)Fr(wc[a],i);break;case"source":Fr("error",i);break;case"img":case"image":case"link":Fr("error",i),Fr("load",i);break;case"details":Fr("toggle",i);break;case"input":$2(i,l),Fr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Fr("invalid",i);break;case"textarea":tg(i,l),Fr("invalid",i)}K1(n,l),a=null;for(var h in l)if(l.hasOwnProperty(h)){var m=l[h];h==="children"?typeof m=="string"?i.textContent!==m&&(l.suppressHydrationWarning!==!0&&Bh(i.textContent,m,e),a=["children",m]):typeof m=="number"&&i.textContent!==""+m&&(l.suppressHydrationWarning!==!0&&Bh(i.textContent,m,e),a=["children",""+m]):Rc.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&Fr("scroll",i)}switch(n){case"input":Lh(i),eg(i,l,!0);break;case"textarea":Lh(i),ng(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=Nf)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(n,{is:i.is}):(e=h.createElement(n),n==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,n),e[sa]=t,e[Wc]=i,wy(e,t,!1,!1),t.stateNode=e;e:{switch(h=Q1(n,i),n){case"dialog":Fr("cancel",e),Fr("close",e),a=i;break;case"iframe":case"object":case"embed":Fr("load",e),a=i;break;case"video":case"audio":for(a=0;a<wc.length;a++)Fr(wc[a],e);a=i;break;case"source":Fr("error",e),a=i;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=i;break;case"details":Fr("toggle",e),a=i;break;case"input":$2(e,i),a=q1(e,i),Fr("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=ei({},i,{value:void 0}),Fr("invalid",e);break;case"textarea":tg(e,i),a=X1(e,i),Fr("invalid",e);break;default:a=i}K1(n,a),m=a;for(l in m)if(m.hasOwnProperty(l)){var g=m[l];l==="style"?$5(e,g):l==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Q5(e,g)):l==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Oc(e,g):typeof g=="number"&&Oc(e,""+g):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Rc.hasOwnProperty(l)?g!=null&&l==="onScroll"&&Fr("scroll",e):g!=null&&fp(e,l,g,h))}switch(n){case"input":Lh(e),eg(e,i,!1);break;case"textarea":Lh(e),ng(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ul(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Su(e,!!i.multiple,l,!1):i.defaultValue!=null&&Su(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Nf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&t.stateNode!=null)by(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(_t(166));if(n=Tl(qc.current),Tl(ua.current),Fh(t)){if(i=t.stateNode,n=t.memoizedProps,i[sa]=t,(l=i.nodeValue!==n)&&(e=ns,e!==null))switch(e.tag){case 3:Bh(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bh(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[sa]=t,t.stateNode=i}return uo(t),null;case 13:if(Ur(Jr),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&$o!==null&&t.mode&1&&!(t.flags&128))zv(),Fu(),t.flags|=98560,l=!1;else if(l=Fh(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(_t(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(_t(317));l[sa]=t}else Fu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;uo(t),l=!1}else Fs!==null&&(P0(Fs),Fs=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Jr.current&1?ki===0&&(ki=3):Xp())),t.updateQueue!==null&&(t.flags|=4),uo(t),null);case 4:return zu(),A0(e,t),e===null&&Uc(t.stateNode.containerInfo),uo(t),null;case 10:return Pp(t.type._context),uo(t),null;case 17:return zo(t.type)&&If(),uo(t),null;case 19:if(Ur(Jr),l=t.memoizedState,l===null)return uo(t),null;if(i=(t.flags&128)!==0,h=l.rendering,h===null)if(i)cc(l,!1);else{if(ki!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Mf(e),h!==null){for(t.flags|=128,cc(l,!1),i=h.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,h=l.alternate,h===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,e=h.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Or(Jr,Jr.current&1|2),t.child}e=e.sibling}l.tail!==null&&yi()>Hu&&(t.flags|=128,i=!0,cc(l,!1),t.lanes=4194304)}else{if(!i)if(e=Mf(h),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Gr)return uo(t),null}else 2*yi()-l.renderingStartTime>Hu&&n!==1073741824&&(t.flags|=128,i=!0,cc(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(n=l.last,n!==null?n.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=yi(),t.sibling=null,n=Jr.current,Or(Jr,i?n&1|2:n&1),t):(uo(t),null);case 22:case 23:return Zp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Qo&1073741824&&(uo(t),t.subtreeFlags&6&&(t.flags|=8192)):uo(t),null;case 24:return null;case 25:return null}throw Error(_t(156,t.tag))}function t8(e,t){switch(Np(t),t.tag){case 1:return zo(t.type)&&If(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zu(),Ur(jo),Ur(vo),Dp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(Ur(Jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_t(340));Fu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ur(Jr),null;case 4:return zu(),null;case 10:return Pp(t.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var Uh=!1,go=!1,n8=typeof WeakSet=="function"?WeakSet:Set,qt=null;function _u(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){li(e,t,i)}else n.current=null}function C0(e,t,n){try{n()}catch(i){li(e,t,i)}}var qg=!1;function r8(e,t){if(a0=Cf,e=Nv(),Ep(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var h=0,m=-1,g=-1,v=0,_=0,A=e,I=null;t:for(;;){for(var E;A!==n||a!==0&&A.nodeType!==3||(m=h+a),A!==l||i!==0&&A.nodeType!==3||(g=h+i),A.nodeType===3&&(h+=A.nodeValue.length),(E=A.firstChild)!==null;)I=A,A=E;for(;;){if(A===e)break t;if(I===n&&++v===a&&(m=h),I===l&&++_===i&&(g=h),(E=A.nextSibling)!==null)break;A=I,I=A.parentNode}A=E}n=m===-1||g===-1?null:{start:m,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(l0={focusedElem:e,selectionRange:n},Cf=!1,qt=t;qt!==null;)if(t=qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qt=e;else for(;qt!==null;){t=qt;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var R=O.memoizedProps,z=O.memoizedState,M=t.stateNode,k=M.getSnapshotBeforeUpdate(t.elementType===t.type?R:Os(t.type,R),z);M.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_t(163))}}catch($){li(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,qt=e;break}qt=t.return}return O=qg,qg=!1,O}function Ic(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&C0(t,n,l)}a=a.next}while(a!==i)}}function gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function E0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ay(e){var t=e.alternate;t!==null&&(e.alternate=null,Ay(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sa],delete t[Wc],delete t[h0],delete t[j4],delete t[z4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cy(e){return e.tag===5||e.tag===3||e.tag===4}function Gg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function S0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nf));else if(i!==4&&(e=e.child,e!==null))for(S0(e,t,n),e=e.sibling;e!==null;)S0(e,t,n),e=e.sibling}function N0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(N0(e,t,n),e=e.sibling;e!==null;)N0(e,t,n),e=e.sibling}var $i=null,Ds=!1;function Ua(e,t,n){for(n=n.child;n!==null;)Ey(e,t,n),n=n.sibling}function Ey(e,t,n){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(ad,n)}catch{}switch(n.tag){case 5:go||_u(n,t);case 6:var i=$i,a=Ds;$i=null,Ua(e,t,n),$i=i,Ds=a,$i!==null&&(Ds?(e=$i,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$i.removeChild(n.stateNode));break;case 18:$i!==null&&(Ds?(e=$i,n=n.stateNode,e.nodeType===8?c1(e.parentNode,n):e.nodeType===1&&c1(e,n),Fc(e)):c1($i,n.stateNode));break;case 4:i=$i,a=Ds,$i=n.stateNode.containerInfo,Ds=!0,Ua(e,t,n),$i=i,Ds=a;break;case 0:case 11:case 14:case 15:if(!go&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,h=l.destroy;l=l.tag,h!==void 0&&(l&2||l&4)&&C0(n,t,h),a=a.next}while(a!==i)}Ua(e,t,n);break;case 1:if(!go&&(_u(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(m){li(n,t,m)}Ua(e,t,n);break;case 21:Ua(e,t,n);break;case 22:n.mode&1?(go=(i=go)||n.memoizedState!==null,Ua(e,t,n),go=i):Ua(e,t,n);break;default:Ua(e,t,n)}}function Zg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new n8),t.forEach(function(i){var a=f8.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function Ps(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 5:$i=m.stateNode,Ds=!1;break e;case 3:$i=m.stateNode.containerInfo,Ds=!0;break e;case 4:$i=m.stateNode.containerInfo,Ds=!0;break e}m=m.return}if($i===null)throw Error(_t(160));Ey(l,h,a),$i=null,Ds=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(v){li(a,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sy(t,e),t=t.sibling}function Sy(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ps(t,e),na(e),i&4){try{Ic(3,e,e.return),gd(3,e)}catch(R){li(e,e.return,R)}try{Ic(5,e,e.return)}catch(R){li(e,e.return,R)}}break;case 1:Ps(t,e),na(e),i&512&&n!==null&&_u(n,n.return);break;case 5:if(Ps(t,e),na(e),i&512&&n!==null&&_u(n,n.return),e.flags&32){var a=e.stateNode;try{Oc(a,"")}catch(R){li(e,e.return,R)}}if(i&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,h=n!==null?n.memoizedProps:l,m=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{m==="input"&&l.type==="radio"&&l.name!=null&&X5(a,l),Q1(m,h);var v=Q1(m,l);for(h=0;h<g.length;h+=2){var _=g[h],A=g[h+1];_==="style"?$5(a,A):_==="dangerouslySetInnerHTML"?Q5(a,A):_==="children"?Oc(a,A):fp(a,_,A,v)}switch(m){case"input":G1(a,l);break;case"textarea":Y5(a,l);break;case"select":var I=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?Su(a,!!l.multiple,E,!1):I!==!!l.multiple&&(l.defaultValue!=null?Su(a,!!l.multiple,l.defaultValue,!0):Su(a,!!l.multiple,l.multiple?[]:"",!1))}a[Wc]=l}catch(R){li(e,e.return,R)}}break;case 6:if(Ps(t,e),na(e),i&4){if(e.stateNode===null)throw Error(_t(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(R){li(e,e.return,R)}}break;case 3:if(Ps(t,e),na(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fc(t.containerInfo)}catch(R){li(e,e.return,R)}break;case 4:Ps(t,e),na(e);break;case 13:Ps(t,e),na(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(qp=yi())),i&4&&Zg(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(go=(v=go)||_,Ps(t,e),go=v):Ps(t,e),na(e),i&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!_&&e.mode&1)for(qt=e,_=e.child;_!==null;){for(A=qt=_;qt!==null;){switch(I=qt,E=I.child,I.tag){case 0:case 11:case 14:case 15:Ic(4,I,I.return);break;case 1:_u(I,I.return);var O=I.stateNode;if(typeof O.componentWillUnmount=="function"){i=I,n=I.return;try{t=i,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(R){li(i,n,R)}}break;case 5:_u(I,I.return);break;case 22:if(I.memoizedState!==null){Yg(A);continue}}E!==null?(E.return=I,qt=E):Yg(A)}_=_.sibling}e:for(_=null,A=e;;){if(A.tag===5){if(_===null){_=A;try{a=A.stateNode,v?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(m=A.stateNode,g=A.memoizedProps.style,h=g!=null&&g.hasOwnProperty("display")?g.display:null,m.style.display=J5("display",h))}catch(R){li(e,e.return,R)}}}else if(A.tag===6){if(_===null)try{A.stateNode.nodeValue=v?"":A.memoizedProps}catch(R){li(e,e.return,R)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;_===A&&(_=null),A=A.return}_===A&&(_=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Ps(t,e),na(e),i&4&&Zg(e);break;case 21:break;default:Ps(t,e),na(e)}}function na(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cy(n)){var i=n;break e}n=n.return}throw Error(_t(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(Oc(a,""),i.flags&=-33);var l=Gg(e);N0(e,l,a);break;case 3:case 4:var h=i.stateNode.containerInfo,m=Gg(e);S0(e,m,h);break;default:throw Error(_t(161))}}catch(g){li(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i8(e,t,n){qt=e,Ny(e)}function Ny(e,t,n){for(var i=(e.mode&1)!==0;qt!==null;){var a=qt,l=a.child;if(a.tag===22&&i){var h=a.memoizedState!==null||Uh;if(!h){var m=a.alternate,g=m!==null&&m.memoizedState!==null||go;m=Uh;var v=go;if(Uh=h,(go=g)&&!v)for(qt=a;qt!==null;)h=qt,g=h.child,h.tag===22&&h.memoizedState!==null?Kg(a):g!==null?(g.return=h,qt=g):Kg(a);for(;l!==null;)qt=l,Ny(l),l=l.sibling;qt=a,Uh=m,go=v}Xg(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,qt=l):Xg(e)}}function Xg(e){for(;qt!==null;){var t=qt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:go||gd(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!go)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Os(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&kg(t,l,i);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kg(t,h,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var _=v.memoizedState;if(_!==null){var A=_.dehydrated;A!==null&&Fc(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_t(163))}go||t.flags&512&&E0(t)}catch(I){li(t,t.return,I)}}if(t===e){qt=null;break}if(n=t.sibling,n!==null){n.return=t.return,qt=n;break}qt=t.return}}function Yg(e){for(;qt!==null;){var t=qt;if(t===e){qt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qt=n;break}qt=t.return}}function Kg(e){for(;qt!==null;){var t=qt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gd(4,t)}catch(g){li(t,n,g)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(g){li(t,a,g)}}var l=t.return;try{E0(t)}catch(g){li(t,l,g)}break;case 5:var h=t.return;try{E0(t)}catch(g){li(t,h,g)}}}catch(g){li(t,t.return,g)}if(t===e){qt=null;break}var m=t.sibling;if(m!==null){m.return=t.return,qt=m;break}qt=t.return}}var o8=Math.ceil,Ff=La.ReactCurrentDispatcher,Wp=La.ReactCurrentOwner,_s=La.ReactCurrentBatchConfig,ir=0,Vi=null,Si=null,eo=0,Qo=0,bu=pl(0),ki=0,Yc=null,jl=0,md=0,Vp=0,Lc=null,Do=null,qp=0,Hu=1/0,wa=null,jf=!1,I0=null,il=null,Hh=!1,Ka=null,zf=0,Tc=0,L0=null,lf=-1,uf=0;function So(){return ir&6?yi():lf!==-1?lf:lf=yi()}function ol(e){return e.mode&1?ir&2&&eo!==0?eo&-eo:H4.transition!==null?(uf===0&&(uf=hv()),uf):(e=wr,e!==0||(e=window.event,e=e===void 0?16:yv(e.type)),e):1}function Us(e,t,n,i){if(50<Tc)throw Tc=0,L0=null,Error(_t(185));nh(e,n,i),(!(ir&2)||e!==Vi)&&(e===Vi&&(!(ir&2)&&(md|=n),ki===4&&Xa(e,eo)),Uo(e,i),n===1&&ir===0&&!(t.mode&1)&&(Hu=yi()+500,fd&&gl()))}function Uo(e,t){var n=e.callbackNode;H_(e,t);var i=Af(e,e===Vi?eo:0);if(i===0)n!==null&&og(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&og(n),t===1)e.tag===0?U4(Qg.bind(null,e)):Bv(Qg.bind(null,e)),B4(function(){!(ir&6)&&gl()}),n=null;else{switch(fv(i)){case 1:n=vp;break;case 4:n=uv;break;case 16:n=bf;break;case 536870912:n=cv;break;default:n=bf}n=My(n,Iy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iy(e,t){if(lf=-1,uf=0,ir&6)throw Error(_t(327));var n=e.callbackNode;if(Pu()&&e.callbackNode!==n)return null;var i=Af(e,e===Vi?eo:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Uf(e,i);else{t=i;var a=ir;ir|=2;var l=Ty();(Vi!==e||eo!==t)&&(wa=null,Hu=yi()+500,kl(e,t));do try{l8();break}catch(m){Ly(e,m)}while(1);Tp(),Ff.current=l,ir=a,Si!==null?t=0:(Vi=null,eo=0,t=ki)}if(t!==0){if(t===2&&(a=n0(e),a!==0&&(i=a,t=T0(e,a))),t===1)throw n=Yc,kl(e,0),Xa(e,i),Uo(e,yi()),n;if(t===6)Xa(e,i);else{if(a=e.current.alternate,!(i&30)&&!s8(a)&&(t=Uf(e,i),t===2&&(l=n0(e),l!==0&&(i=l,t=T0(e,l))),t===1))throw n=Yc,kl(e,0),Xa(e,i),Uo(e,yi()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(_t(345));case 2:bl(e,Do,wa);break;case 3:if(Xa(e,i),(i&130023424)===i&&(t=qp+500-yi(),10<t)){if(Af(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){So(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=c0(bl.bind(null,e,Do,wa),t);break}bl(e,Do,wa);break;case 4:if(Xa(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var h=31-zs(i);l=1<<h,h=t[h],h>a&&(a=h),i&=~l}if(i=a,i=yi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*o8(i/1960))-i,10<i){e.timeoutHandle=c0(bl.bind(null,e,Do,wa),i);break}bl(e,Do,wa);break;case 5:bl(e,Do,wa);break;default:throw Error(_t(329))}}}return Uo(e,yi()),e.callbackNode===n?Iy.bind(null,e):null}function T0(e,t){var n=Lc;return e.current.memoizedState.isDehydrated&&(kl(e,t).flags|=256),e=Uf(e,t),e!==2&&(t=Do,Do=n,t!==null&&P0(t)),e}function P0(e){Do===null?Do=e:Do.push.apply(Do,e)}function s8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!Hs(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t){for(t&=~Vp,t&=~md,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zs(t),i=1<<n;e[n]=-1,t&=~i}}function Qg(e){if(ir&6)throw Error(_t(327));Pu();var t=Af(e,0);if(!(t&1))return Uo(e,yi()),null;var n=Uf(e,t);if(e.tag!==0&&n===2){var i=n0(e);i!==0&&(t=i,n=T0(e,i))}if(n===1)throw n=Yc,kl(e,0),Xa(e,t),Uo(e,yi()),n;if(n===6)throw Error(_t(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Do,wa),Uo(e,yi()),null}function Gp(e,t){var n=ir;ir|=1;try{return e(t)}finally{ir=n,ir===0&&(Hu=yi()+500,fd&&gl())}}function zl(e){Ka!==null&&Ka.tag===0&&!(ir&6)&&Pu();var t=ir;ir|=1;var n=_s.transition,i=wr;try{if(_s.transition=null,wr=1,e)return e()}finally{wr=i,_s.transition=n,ir=t,!(ir&6)&&gl()}}function Zp(){Qo=bu.current,Ur(bu)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,D4(n)),Si!==null)for(n=Si.return;n!==null;){var i=n;switch(Np(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&If();break;case 3:zu(),Ur(jo),Ur(vo),Dp();break;case 5:Mp(i);break;case 4:zu();break;case 13:Ur(Jr);break;case 19:Ur(Jr);break;case 10:Pp(i.type._context);break;case 22:case 23:Zp()}n=n.return}if(Vi=e,Si=e=sl(e.current,null),eo=Qo=t,ki=0,Yc=null,Vp=md=jl=0,Do=Lc=null,Ll!==null){for(t=0;t<Ll.length;t++)if(n=Ll[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var h=l.next;l.next=a,i.next=h}n.pending=i}Ll=null}return e}function Ly(e,t){do{var n=Si;try{if(Tp(),of.current=Bf,Df){for(var i=$r.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Df=!1}if(Fl=0,Hi=Pi=$r=null,Nc=!1,Gc=0,Wp.current=null,n===null||n.return===null){ki=1,Yc=t,Si=null;break}e:{var l=e,h=n.return,m=n,g=t;if(t=eo,m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,_=m,A=_.tag;if(!(_.mode&1)&&(A===0||A===11||A===15)){var I=_.alternate;I?(_.updateQueue=I.updateQueue,_.memoizedState=I.memoizedState,_.lanes=I.lanes):(_.updateQueue=null,_.memoizedState=null)}var E=Fg(h);if(E!==null){E.flags&=-257,jg(E,h,m,l,t),E.mode&1&&Bg(l,v,t),t=E,g=v;var O=t.updateQueue;if(O===null){var R=new Set;R.add(g),t.updateQueue=R}else O.add(g);break e}else{if(!(t&1)){Bg(l,v,t),Xp();break e}g=Error(_t(426))}}else if(Gr&&m.mode&1){var z=Fg(h);if(z!==null){!(z.flags&65536)&&(z.flags|=256),jg(z,h,m,l,t),Ip(Uu(g,m));break e}}l=g=Uu(g,m),ki!==4&&(ki=2),Lc===null?Lc=[l]:Lc.push(l),l=h;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var M=fy(l,g,t);Pg(l,M);break e;case 1:m=g;var k=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof k.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(il===null||!il.has(j)))){l.flags|=65536,t&=-t,l.lanes|=t;var $=dy(l,m,t);Pg(l,$);break e}}l=l.return}while(l!==null)}ky(n)}catch(de){t=de,Si===n&&n!==null&&(Si=n=n.return);continue}break}while(1)}function Ty(){var e=Ff.current;return Ff.current=Bf,e===null?Bf:e}function Xp(){(ki===0||ki===3||ki===2)&&(ki=4),Vi===null||!(jl&268435455)&&!(md&268435455)||Xa(Vi,eo)}function Uf(e,t){var n=ir;ir|=2;var i=Ty();(Vi!==e||eo!==t)&&(wa=null,kl(e,t));do try{a8();break}catch(a){Ly(e,a)}while(1);if(Tp(),ir=n,Ff.current=i,Si!==null)throw Error(_t(261));return Vi=null,eo=0,ki}function a8(){for(;Si!==null;)Py(Si)}function l8(){for(;Si!==null&&!R_();)Py(Si)}function Py(e){var t=Oy(e.alternate,e,Qo);e.memoizedProps=e.pendingProps,t===null?ky(e):Si=t,Wp.current=null}function ky(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=t8(n,t),n!==null){n.flags&=32767,Si=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ki=6,Si=null;return}}else if(n=e8(n,t,Qo),n!==null){Si=n;return}if(t=t.sibling,t!==null){Si=t;return}Si=t=e}while(t!==null);ki===0&&(ki=5)}function bl(e,t,n){var i=wr,a=_s.transition;try{_s.transition=null,wr=1,u8(e,t,n,i)}finally{_s.transition=a,wr=i}return null}function u8(e,t,n,i){do Pu();while(Ka!==null);if(ir&6)throw Error(_t(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_t(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(W_(e,l),e===Vi&&(Si=Vi=null,eo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hh||(Hh=!0,My(bf,function(){return Pu(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=_s.transition,_s.transition=null;var h=wr;wr=1;var m=ir;ir|=4,Wp.current=null,r8(e,n),Sy(n,e),L4(l0),Cf=!!a0,l0=a0=null,e.current=n,i8(n),O_(),ir=m,wr=h,_s.transition=l}else e.current=n;if(Hh&&(Hh=!1,Ka=e,zf=a),l=e.pendingLanes,l===0&&(il=null),B_(n.stateNode),Uo(e,yi()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(jf)throw jf=!1,e=I0,I0=null,e;return zf&1&&e.tag!==0&&Pu(),l=e.pendingLanes,l&1?e===L0?Tc++:(Tc=0,L0=e):Tc=0,gl(),null}function Pu(){if(Ka!==null){var e=fv(zf),t=_s.transition,n=wr;try{if(_s.transition=null,wr=16>e?16:e,Ka===null)var i=!1;else{if(e=Ka,Ka=null,zf=0,ir&6)throw Error(_t(331));var a=ir;for(ir|=4,qt=e.current;qt!==null;){var l=qt,h=l.child;if(qt.flags&16){var m=l.deletions;if(m!==null){for(var g=0;g<m.length;g++){var v=m[g];for(qt=v;qt!==null;){var _=qt;switch(_.tag){case 0:case 11:case 15:Ic(8,_,l)}var A=_.child;if(A!==null)A.return=_,qt=A;else for(;qt!==null;){_=qt;var I=_.sibling,E=_.return;if(Ay(_),_===v){qt=null;break}if(I!==null){I.return=E,qt=I;break}qt=E}}}var O=l.alternate;if(O!==null){var R=O.child;if(R!==null){O.child=null;do{var z=R.sibling;R.sibling=null,R=z}while(R!==null)}}qt=l}}if(l.subtreeFlags&2064&&h!==null)h.return=l,qt=h;else e:for(;qt!==null;){if(l=qt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ic(9,l,l.return)}var M=l.sibling;if(M!==null){M.return=l.return,qt=M;break e}qt=l.return}}var k=e.current;for(qt=k;qt!==null;){h=qt;var j=h.child;if(h.subtreeFlags&2064&&j!==null)j.return=h,qt=j;else e:for(h=k;qt!==null;){if(m=qt,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:gd(9,m)}}catch(de){li(m,m.return,de)}if(m===h){qt=null;break e}var $=m.sibling;if($!==null){$.return=m.return,qt=$;break e}qt=m.return}}if(ir=a,gl(),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(ad,e)}catch{}i=!0}return i}finally{wr=n,_s.transition=t}}return!1}function Jg(e,t,n){t=Uu(n,t),t=fy(e,t,1),e=rl(e,t,1),t=So(),e!==null&&(nh(e,1,t),Uo(e,t))}function li(e,t,n){if(e.tag===3)Jg(e,e,n);else for(;t!==null;){if(t.tag===3){Jg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(il===null||!il.has(i))){e=Uu(n,e),e=dy(t,e,1),t=rl(t,e,1),e=So(),t!==null&&(nh(t,1,e),Uo(t,e));break}}t=t.return}}function c8(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=So(),e.pingedLanes|=e.suspendedLanes&n,Vi===e&&(eo&n)===n&&(ki===4||ki===3&&(eo&130023424)===eo&&500>yi()-qp?kl(e,0):Vp|=n),Uo(e,t)}function Ry(e,t){t===0&&(e.mode&1?(t=kh,kh<<=1,!(kh&130023424)&&(kh=4194304)):t=1);var n=So();e=Na(e,t),e!==null&&(nh(e,t,n),Uo(e,n))}function h8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ry(e,n)}function f8(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(_t(314))}i!==null&&i.delete(t),Ry(e,n)}var Oy;Oy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jo.current)Bo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bo=!1,$4(e,t,n);Bo=!!(e.flags&131072)}else Bo=!1,Gr&&t.flags&1048576&&Fv(t,Pf,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;af(e,t),e=t.pendingProps;var a=Bu(t,vo.current);Tu(t,n),a=Fp(null,t,i,e,a,n);var l=jp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zo(i)?(l=!0,Lf(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Rp(t),a.updater=pd,t.stateNode=a,a._reactInternals=t,v0(t,i,e,n),t=w0(null,t,i,!0,l,n)):(t.tag=0,Gr&&l&&Sp(t),Eo(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(af(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=p8(i),e=Os(i,e),a){case 0:t=x0(null,t,i,e,n);break e;case 1:t=Hg(null,t,i,e,n);break e;case 11:t=zg(null,t,i,e,n);break e;case 14:t=Ug(null,t,i,Os(i.type,e),n);break e}throw Error(_t(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Os(i,a),x0(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Os(i,a),Hg(e,t,i,a,n);case 3:e:{if(vy(t),e===null)throw Error(_t(387));i=t.pendingProps,l=t.memoizedState,a=l.element,Vv(e,t),Of(t,i,null,n);var h=t.memoizedState;if(i=h.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Uu(Error(_t(423)),t),t=Wg(e,t,i,n,a);break e}else if(i!==a){a=Uu(Error(_t(424)),t),t=Wg(e,t,i,n,a);break e}else for($o=nl(t.stateNode.containerInfo.firstChild),ns=t,Gr=!0,Fs=null,n=Hv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fu(),i===a){t=Ia(e,t,n);break e}Eo(e,t,i,n)}t=t.child}return t;case 5:return qv(t),e===null&&p0(t),i=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,h=a.children,u0(i,a)?h=null:l!==null&&u0(i,l)&&(t.flags|=32),my(e,t),Eo(e,t,h,n),t.child;case 6:return e===null&&p0(t),null;case 13:return yy(e,t,n);case 4:return Op(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ju(t,null,i,n):Eo(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Os(i,a),zg(e,t,i,a,n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:return Eo(e,t,t.pendingProps.children,n),t.child;case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,h=a.value,Or(kf,i._currentValue),i._currentValue=h,l!==null)if(Hs(l.value,h)){if(l.children===a.children&&!jo.current){t=Ia(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var m=l.dependencies;if(m!==null){h=l.child;for(var g=m.firstContext;g!==null;){if(g.context===i){if(l.tag===1){g=Ca(-1,n&-n),g.tag=2;var v=l.updateQueue;if(v!==null){v=v.shared;var _=v.pending;_===null?g.next=g:(g.next=_.next,_.next=g),v.pending=g}}l.lanes|=n,g=l.alternate,g!==null&&(g.lanes|=n),g0(l.return,n,t),m.lanes|=n;break}g=g.next}}else if(l.tag===10)h=l.type===t.type?null:l.child;else if(l.tag===18){if(h=l.return,h===null)throw Error(_t(341));h.lanes|=n,m=h.alternate,m!==null&&(m.lanes|=n),g0(h,n,t),h=l.sibling}else h=l.child;if(h!==null)h.return=l;else for(h=l;h!==null;){if(h===t){h=null;break}if(l=h.sibling,l!==null){l.return=h.return,h=l;break}h=h.return}l=h}Eo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Tu(t,n),a=bs(a),i=i(a),t.flags|=1,Eo(e,t,i,n),t.child;case 14:return i=t.type,a=Os(i,t.pendingProps),a=Os(i.type,a),Ug(e,t,i,a,n);case 15:return py(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Os(i,a),af(e,t),t.tag=1,zo(i)?(e=!0,Lf(t)):e=!1,Tu(t,n),hy(t,i,a),v0(t,i,a,n),w0(null,t,i,!0,e,n);case 19:return xy(e,t,n);case 22:return gy(e,t,n)}throw Error(_t(156,t.tag))};function My(e,t){return lv(e,t)}function d8(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(e,t,n,i){return new d8(e,t,n,i)}function Yp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p8(e){if(typeof e=="function")return Yp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pp)return 11;if(e===gp)return 14}return 2}function sl(e,t){var n=e.alternate;return n===null?(n=ws(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cf(e,t,n,i,a,l){var h=2;if(i=e,typeof e=="function")Yp(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case fu:return Rl(n.children,a,l,t);case dp:h=8,a|=8;break;case U1:return e=ws(12,n,t,a|2),e.elementType=U1,e.lanes=l,e;case H1:return e=ws(13,n,t,a),e.elementType=H1,e.lanes=l,e;case W1:return e=ws(19,n,t,a),e.elementType=W1,e.lanes=l,e;case q5:return vd(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W5:h=10;break e;case V5:h=9;break e;case pp:h=11;break e;case gp:h=14;break e;case qa:h=16,i=null;break e}throw Error(_t(130,e==null?e:typeof e,""))}return t=ws(h,n,t,a),t.elementType=e,t.type=i,t.lanes=l,t}function Rl(e,t,n,i){return e=ws(7,e,i,t),e.lanes=n,e}function vd(e,t,n,i){return e=ws(22,e,i,t),e.elementType=q5,e.lanes=n,e.stateNode={isHidden:!1},e}function y1(e,t,n){return e=ws(6,e,null,t),e.lanes=n,e}function x1(e,t,n){return t=ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g8(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kp(e,t,n,i,a,l,h,m,g){return e=new g8(e,t,n,m,g),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ws(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(l),e}function m8(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hu,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Dy(e){if(!e)return cl;e=e._reactInternals;e:{if(Wl(e)!==e||e.tag!==1)throw Error(_t(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_t(171))}if(e.tag===1){var n=e.type;if(zo(n))return Dv(e,n,t)}return t}function By(e,t,n,i,a,l,h,m,g){return e=Kp(n,i,!0,e,a,l,h,m,g),e.context=Dy(null),n=e.current,i=So(),a=ol(n),l=Ca(i,a),l.callback=t??null,rl(n,l,a),e.current.lanes=a,nh(e,a,i),Uo(e,i),e}function yd(e,t,n,i){var a=t.current,l=So(),h=ol(a);return n=Dy(n),t.context===null?t.context=n:t.pendingContext=n,t=Ca(l,h),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=rl(a,t,h),e!==null&&(Us(e,a,h,l),rf(e,a,h)),h}function Hf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $g(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qp(e,t){$g(e,t),(e=e.alternate)&&$g(e,t)}function v8(){return null}var Fy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}xd.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_t(409));yd(e,t,null,null)};xd.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zl(function(){yd(null,e,null,null)}),t[Sa]=null}};function xd(e){this._internalRoot=e}xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=gv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Za.length&&t!==0&&t<Za[n].priority;n++);Za.splice(n,0,e),n===0&&vv(e)}};function $p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function em(){}function y8(e,t,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var v=Hf(h);l.call(v)}}var h=By(t,i,e,0,null,!1,!1,"",em);return e._reactRootContainer=h,e[Sa]=h.current,Uc(e.nodeType===8?e.parentNode:e),zl(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var m=i;i=function(){var v=Hf(g);m.call(v)}}var g=Kp(e,0,!1,null,null,!1,!1,"",em);return e._reactRootContainer=g,e[Sa]=g.current,Uc(e.nodeType===8?e.parentNode:e),zl(function(){yd(t,g,n,i)}),g}function _d(e,t,n,i,a){var l=n._reactRootContainer;if(l){var h=l;if(typeof a=="function"){var m=a;a=function(){var g=Hf(h);m.call(g)}}yd(t,h,e,a)}else h=y8(n,t,e,a,i);return Hf(h)}dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xc(t.pendingLanes);n!==0&&(yp(t,n|1),Uo(t,yi()),!(ir&6)&&(Hu=yi()+500,gl()))}break;case 13:zl(function(){var i=Na(e,1);if(i!==null){var a=So();Us(i,e,1,a)}}),Qp(e,1)}};xp=function(e){if(e.tag===13){var t=Na(e,134217728);if(t!==null){var n=So();Us(t,e,134217728,n)}Qp(e,134217728)}};pv=function(e){if(e.tag===13){var t=ol(e),n=Na(e,t);if(n!==null){var i=So();Us(n,e,t,i)}Qp(e,t)}};gv=function(){return wr};mv=function(e,t){var n=wr;try{return wr=e,t()}finally{wr=n}};$1=function(e,t,n){switch(t){case"input":if(G1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=hd(i);if(!a)throw Error(_t(90));Z5(i),G1(i,a)}}}break;case"textarea":Y5(e,n);break;case"select":t=n.value,t!=null&&Su(e,!!n.multiple,t,!1)}};nv=Gp;rv=zl;var x8={usingClientEntryPoint:!1,Events:[ih,mu,hd,ev,tv,Gp]},hc={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w8={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:La.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sv(e),e===null?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||v8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{ad=Wh.inject(w8),la=Wh}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8;is.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(t))throw Error(_t(200));return m8(e,t,null,n)};is.createRoot=function(e,t){if(!$p(e))throw Error(_t(299));var n=!1,i="",a=Fy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Kp(e,1,!1,null,null,n,!1,i,a),e[Sa]=t.current,Uc(e.nodeType===8?e.parentNode:e),new Jp(t)};is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_t(188)):(e=Object.keys(e).join(","),Error(_t(268,e)));return e=sv(t),e=e===null?null:e.stateNode,e};is.flushSync=function(e){return zl(e)};is.hydrate=function(e,t,n){if(!wd(t))throw Error(_t(200));return _d(null,e,t,!0,n)};is.hydrateRoot=function(e,t,n){if(!$p(e))throw Error(_t(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",h=Fy;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=By(t,null,e,1,n??null,a,!1,l,h),e[Sa]=t.current,Uc(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new xd(t)};is.render=function(e,t,n){if(!wd(t))throw Error(_t(200));return _d(null,e,t,!1,n)};is.unmountComponentAtNode=function(e){if(!wd(e))throw Error(_t(40));return e._reactRootContainer?(zl(function(){_d(null,null,e,!1,function(){e._reactRootContainer=null,e[Sa]=null})}),!0):!1};is.unstable_batchedUpdates=Gp;is.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!wd(n))throw Error(_t(200));if(e==null||e._reactInternals===void 0)throw Error(_t(38));return _d(e,t,n,!1,i)};is.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(e){console.error(e)}}jy(),j5.exports=is;var bd=j5.exports;const _8=od(bd),b8=J0({__proto__:null,default:_8},[bd]);var tm=bd;j1.createRoot=tm.createRoot,j1.hydrateRoot=tm.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qr.apply(this,arguments)}var vi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vi||(vi={}));const nm="popstate";function A8(e){e===void 0&&(e={});function t(i,a){let{pathname:l,search:h,hash:m}=i.location;return Kc("",{pathname:l,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:sh(a)}return E8(t,n,null,e)}function qn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C8(){return Math.random().toString(36).substr(2,8)}function rm(e,t){return{usr:e.state,key:e.key,idx:t}}function Kc(e,t,n,i){return n===void 0&&(n=null),qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ta(t):t,{state:n,key:t&&t.key||i||C8()})}function sh(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function E8(e,t,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,h=a.history,m=vi.Pop,g=null,v=_();v==null&&(v=0,h.replaceState(qr({},h.state,{idx:v}),""));function _(){return(h.state||{idx:null}).idx}function A(){m=vi.Pop;let z=_(),M=z==null?null:z-v;v=z,g&&g({action:m,location:R.location,delta:M})}function I(z,M){m=vi.Push;let k=Kc(R.location,z,M);n&&n(k,z),v=_()+1;let j=rm(k,v),$=R.createHref(k);try{h.pushState(j,"",$)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign($)}l&&g&&g({action:m,location:R.location,delta:1})}function E(z,M){m=vi.Replace;let k=Kc(R.location,z,M);n&&n(k,z),v=_();let j=rm(k,v),$=R.createHref(k);h.replaceState(j,"",$),l&&g&&g({action:m,location:R.location,delta:0})}function O(z){let M=a.location.origin!=="null"?a.location.origin:a.location.href,k=typeof z=="string"?z:sh(z);return k=k.replace(/ $/,"%20"),qn(M,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,M)}let R={get action(){return m},get location(){return e(a,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(nm,A),g=z,()=>{a.removeEventListener(nm,A),g=null}},createHref(z){return t(a,z)},createURL:O,encodeLocation(z){let M=O(z);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:I,replace:E,go(z){return h.go(z)}};return R}var Ar;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ar||(Ar={}));const S8=new Set(["lazy","caseSensitive","path","id","index","children"]);function N8(e){return e.index===!0}function Wf(e,t,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),e.map((a,l)=>{let h=[...n,String(l)],m=typeof a.id=="string"?a.id:h.join("-");if(qn(a.index!==!0||!a.children,"Cannot specify children on an index route"),qn(!i[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),N8(a)){let g=qr({},a,t(a),{id:m});return i[m]=g,g}else{let g=qr({},a,t(a),{id:m,children:void 0});return i[m]=g,a.children&&(g.children=Wf(a.children,t,h,i)),g}})}function Cl(e,t,n){return n===void 0&&(n="/"),hf(e,t,n,!1)}function hf(e,t,n,i){let a=typeof t=="string"?Ta(t):t,l=ah(a.pathname||"/",n);if(l==null)return null;let h=zy(e);L8(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=z8(l);m=F8(h[g],v,i)}return m}function I8(e,t){let{route:n,pathname:i,params:a}=e;return{id:n.id,pathname:i,params:a,data:t[n.id],handle:n.handle}}function zy(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(l,h,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(qn(g.relativePath.startsWith(i),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(i.length));let v=al([i,g.relativePath]),_=n.concat(g);l.children&&l.children.length>0&&(qn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),zy(l.children,t,_,v)),!(l.path==null&&!l.index)&&t.push({path:v,score:D8(v,l.index),routesMeta:_})};return e.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,h);else for(let g of Uy(l.path))a(l,h,g)}),t}function Uy(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let h=Uy(i.join("/")),m=[];return m.push(...h.map(g=>g===""?l:[l,g].join("/"))),a&&m.push(...h),m.map(g=>e.startsWith("/")&&g===""?"/":g)}function L8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:B8(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const T8=/^:[\w-]+$/,P8=3,k8=2,R8=1,O8=10,M8=-2,im=e=>e==="*";function D8(e,t){let n=e.split("/"),i=n.length;return n.some(im)&&(i+=M8),t&&(i+=k8),n.filter(a=>!im(a)).reduce((a,l)=>a+(T8.test(l)?P8:l===""?R8:O8),i)}function B8(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function F8(e,t,n){n===void 0&&(n=!1);let{routesMeta:i}=e,a={},l="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],v=m===i.length-1,_=l==="/"?t:t.slice(l.length)||"/",A=om({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},_),I=g.route;if(!A&&v&&n&&!i[i.length-1].route.index&&(A=om({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!A)return null;Object.assign(a,A.params),h.push({params:a,pathname:al([l,A.pathname]),pathnameBase:W8(al([l,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(l=al([l,A.pathnameBase]))}return h}function om(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=j8(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((v,_,A)=>{let{paramName:I,isOptional:E}=_;if(I==="*"){let R=m[A]||"";h=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const O=m[A];return E&&!O?v[I]=void 0:v[I]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:e}}function j8(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Wu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function z8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ah(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function U8(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?Ta(e):e;return{pathname:n?n.startsWith("/")?n:H8(n,t):t,search:V8(i),hash:q8(a)}}function H8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function w1(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e2(e,t){let n=Hy(e);return t?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function t2(e,t,n,i){i===void 0&&(i=!1);let a;typeof e=="string"?a=Ta(e):(a=qr({},e),qn(!a.pathname||!a.pathname.includes("?"),w1("?","pathname","search",a)),qn(!a.pathname||!a.pathname.includes("#"),w1("#","pathname","hash",a)),qn(!a.search||!a.search.includes("#"),w1("#","search","hash",a)));let l=e===""||a.pathname==="",h=l?"/":a.pathname,m;if(h==null)m=n;else{let A=t.length-1;if(!i&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),A-=1;a.pathname=I.join("/")}m=A>=0?t[A]:"/"}let g=U8(a,m),v=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||_)&&(g.pathname+="/"),g}const al=e=>e.join("/").replace(/\/\/+/g,"/"),W8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,q8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Vf{constructor(t,n,i,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Ad(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wy=["post","put","patch","delete"],G8=new Set(Wy),Z8=["get",...Wy],X8=new Set(Z8),Y8=new Set([301,302,303,307,308]),K8=new Set([307,308]),_1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Q8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J8=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Vy="remix-router-transitions";function $8(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",i=!n;qn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let ve=e.detectErrorBoundary;a=Oe=>({hasErrorBoundary:ve(Oe)})}else a=J8;let l={},h=Wf(e.routes,a,void 0,l),m,g=e.basename||"/",v=e.dataStrategy||rb,_=e.patchRoutesOnNavigation,A=qr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),I=null,E=new Set,O=null,R=null,z=null,M=e.hydrationData!=null,k=Cl(h,e.history.location,g),j=null;if(k==null&&!_){let ve=Mo(404,{pathname:e.history.location.pathname}),{matches:Oe,route:He}=mm(h);k=Oe,j={[He.id]:ve}}k&&!e.hydrationData&&Ri(k,h,e.history.location.pathname).active&&(k=null);let $;if(k)if(k.some(ve=>ve.route.lazy))$=!1;else if(!k.some(ve=>ve.route.loader))$=!0;else if(A.v7_partialHydration){let ve=e.hydrationData?e.hydrationData.loaderData:null,Oe=e.hydrationData?e.hydrationData.errors:null;if(Oe){let He=k.findIndex(st=>Oe[st.route.id]!==void 0);$=k.slice(0,He+1).every(st=>!R0(st.route,ve,Oe))}else $=k.every(He=>!R0(He.route,ve,Oe))}else $=e.hydrationData!=null;else if($=!1,k=[],A.v7_partialHydration){let ve=Ri(null,h,e.history.location.pathname);ve.active&&ve.matches&&(k=ve.matches)}let de,ne={historyAction:e.history.action,location:e.history.location,matches:k,initialized:$,navigation:_1,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},re=vi.Pop,te=!1,se,Le=!1,J=new Map,Y=null,ye=!1,me=!1,ge=[],Me=new Set,Ie=new Map,pe=0,Re=-1,Ce=new Map,nt=new Set,W=new Map,ae=new Map,le=new Set,xe=new Map,he=new Map,Fe;function je(){if(I=e.history.listen(ve=>{let{action:Oe,location:He,delta:st}=ve;if(Fe){Fe(),Fe=void 0;return}Wu(he.size===0||st!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ft=no({currentLocation:ne.location,nextLocation:He,historyAction:Oe});if(ft&&st!=null){let Ke=new Promise(Ot=>{Fe=Ot});e.history.go(st*-1),Ln(ft,{state:"blocked",location:He,proceed(){Ln(ft,{state:"proceeding",proceed:void 0,reset:void 0,location:He}),Ke.then(()=>e.history.go(st))},reset(){let Ot=new Map(ne.blockers);Ot.set(ft,fc),it({blockers:Ot})}});return}return Xe(Oe,He)}),n){vb(t,J);let ve=()=>yb(t,J);t.addEventListener("pagehide",ve),Y=()=>t.removeEventListener("pagehide",ve)}return ne.initialized||Xe(vi.Pop,ne.location,{initialHydration:!0}),de}function qe(){I&&I(),Y&&Y(),E.clear(),se&&se.abort(),ne.fetchers.forEach((ve,Oe)=>wn(Oe)),ne.blockers.forEach((ve,Oe)=>kn(Oe))}function yt(ve){return E.add(ve),()=>E.delete(ve)}function it(ve,Oe){Oe===void 0&&(Oe={}),ne=qr({},ne,ve);let He=[],st=[];A.v7_fetcherPersist&&ne.fetchers.forEach((ft,Ke)=>{ft.state==="idle"&&(le.has(Ke)?st.push(Ke):He.push(Ke))}),[...E].forEach(ft=>ft(ne,{deletedFetchers:st,viewTransitionOpts:Oe.viewTransitionOpts,flushSync:Oe.flushSync===!0})),A.v7_fetcherPersist&&(He.forEach(ft=>ne.fetchers.delete(ft)),st.forEach(ft=>wn(ft)))}function bt(ve,Oe,He){var st,ft;let{flushSync:Ke}=He===void 0?{}:He,Ot=ne.actionData!=null&&ne.navigation.formMethod!=null&&Bs(ne.navigation.formMethod)&&ne.navigation.state==="loading"&&((st=ve.state)==null?void 0:st._isRedirect)!==!0,Qe;Oe.actionData?Object.keys(Oe.actionData).length>0?Qe=Oe.actionData:Qe=null:Ot?Qe=ne.actionData:Qe=null;let Lt=Oe.loaderData?pm(ne.loaderData,Oe.loaderData,Oe.matches||[],Oe.errors):ne.loaderData,Nt=ne.blockers;Nt.size>0&&(Nt=new Map(Nt),Nt.forEach((en,Wn)=>Nt.set(Wn,fc)));let Et=te===!0||ne.navigation.formMethod!=null&&Bs(ne.navigation.formMethod)&&((ft=ve.state)==null?void 0:ft._isRedirect)!==!0;m&&(h=m,m=void 0),ye||re===vi.Pop||(re===vi.Push?e.history.push(ve,ve.state):re===vi.Replace&&e.history.replace(ve,ve.state));let Jt;if(re===vi.Pop){let en=J.get(ne.location.pathname);en&&en.has(ve.pathname)?Jt={currentLocation:ne.location,nextLocation:ve}:J.has(ve.pathname)&&(Jt={currentLocation:ve,nextLocation:ne.location})}else if(Le){let en=J.get(ne.location.pathname);en?en.add(ve.pathname):(en=new Set([ve.pathname]),J.set(ne.location.pathname,en)),Jt={currentLocation:ne.location,nextLocation:ve}}it(qr({},Oe,{actionData:Qe,loaderData:Lt,historyAction:re,location:ve,initialized:!0,navigation:_1,revalidation:"idle",restoreScrollPosition:_n(ve,Oe.matches||ne.matches),preventScrollReset:Et,blockers:Nt}),{viewTransitionOpts:Jt,flushSync:Ke===!0}),re=vi.Pop,te=!1,Le=!1,ye=!1,me=!1,ge=[]}async function lt(ve,Oe){if(typeof ve=="number"){e.history.go(ve);return}let He=k0(ne.location,ne.matches,g,A.v7_prependBasename,ve,A.v7_relativeSplatPath,Oe==null?void 0:Oe.fromRouteId,Oe==null?void 0:Oe.relative),{path:st,submission:ft,error:Ke}=sm(A.v7_normalizeFormMethod,!1,He,Oe),Ot=ne.location,Qe=Kc(ne.location,st,Oe&&Oe.state);Qe=qr({},Qe,e.history.encodeLocation(Qe));let Lt=Oe&&Oe.replace!=null?Oe.replace:void 0,Nt=vi.Push;Lt===!0?Nt=vi.Replace:Lt===!1||ft!=null&&Bs(ft.formMethod)&&ft.formAction===ne.location.pathname+ne.location.search&&(Nt=vi.Replace);let Et=Oe&&"preventScrollReset"in Oe?Oe.preventScrollReset===!0:void 0,Jt=(Oe&&Oe.flushSync)===!0,en=no({currentLocation:Ot,nextLocation:Qe,historyAction:Nt});if(en){Ln(en,{state:"blocked",location:Qe,proceed(){Ln(en,{state:"proceeding",proceed:void 0,reset:void 0,location:Qe}),lt(ve,Oe)},reset(){let Wn=new Map(ne.blockers);Wn.set(en,fc),it({blockers:Wn})}});return}return await Xe(Nt,Qe,{submission:ft,pendingError:Ke,preventScrollReset:Et,replace:Oe&&Oe.replace,enableViewTransition:Oe&&Oe.viewTransition,flushSync:Jt})}function Yt(){if(Qt(),it({revalidation:"loading"}),ne.navigation.state!=="submitting"){if(ne.navigation.state==="idle"){Xe(ne.historyAction,ne.location,{startUninterruptedRevalidation:!0});return}Xe(re||ne.historyAction,ne.navigation.location,{overrideNavigation:ne.navigation,enableViewTransition:Le===!0})}}async function Xe(ve,Oe,He){se&&se.abort(),se=null,re=ve,ye=(He&&He.startUninterruptedRevalidation)===!0,ln(ne.location,ne.matches),te=(He&&He.preventScrollReset)===!0,Le=(He&&He.enableViewTransition)===!0;let st=m||h,ft=He&&He.overrideNavigation,Ke=Cl(st,Oe,g),Ot=(He&&He.flushSync)===!0,Qe=Ri(Ke,st,Oe.pathname);if(Qe.active&&Qe.matches&&(Ke=Qe.matches),!Ke){let{error:fn,notFoundMatches:Tn,route:Qn}=or(Oe.pathname);bt(Oe,{matches:Tn,loaderData:{},errors:{[Qn.id]:fn}},{flushSync:Ot});return}if(ne.initialized&&!me&&ub(ne.location,Oe)&&!(He&&He.submission&&Bs(He.submission.formMethod))){bt(Oe,{matches:Ke},{flushSync:Ot});return}se=new AbortController;let Lt=iu(e.history,Oe,se.signal,He&&He.submission),Nt;if(He&&He.pendingError)Nt=[El(Ke).route.id,{type:Ar.error,error:He.pendingError}];else if(He&&He.submission&&Bs(He.submission.formMethod)){let fn=await we(Lt,Oe,He.submission,Ke,Qe.active,{replace:He.replace,flushSync:Ot});if(fn.shortCircuited)return;if(fn.pendingActionResult){let[Tn,Qn]=fn.pendingActionResult;if(Jo(Qn)&&Ad(Qn.error)&&Qn.error.status===404){se=null,bt(Oe,{matches:fn.matches,loaderData:{},errors:{[Tn]:Qn.error}});return}}Ke=fn.matches||Ke,Nt=fn.pendingActionResult,ft=b1(Oe,He.submission),Ot=!1,Qe.active=!1,Lt=iu(e.history,Lt.url,Lt.signal)}let{shortCircuited:Et,matches:Jt,loaderData:en,errors:Wn}=await Ut(Lt,Oe,Ke,Qe.active,ft,He&&He.submission,He&&He.fetcherSubmission,He&&He.replace,He&&He.initialHydration===!0,Ot,Nt);Et||(se=null,bt(Oe,qr({matches:Jt||Ke},gm(Nt),{loaderData:en,errors:Wn})))}async function we(ve,Oe,He,st,ft,Ke){Ke===void 0&&(Ke={}),Qt();let Ot=gb(Oe,He);if(it({navigation:Ot},{flushSync:Ke.flushSync===!0}),ft){let Nt=await Bn(st,Oe.pathname,ve.signal);if(Nt.type==="aborted")return{shortCircuited:!0};if(Nt.type==="error"){let Et=El(Nt.partialMatches).route.id;return{matches:Nt.partialMatches,pendingActionResult:[Et,{type:Ar.error,error:Nt.error}]}}else if(Nt.matches)st=Nt.matches;else{let{notFoundMatches:Et,error:Jt,route:en}=or(Oe.pathname);return{matches:Et,pendingActionResult:[en.id,{type:Ar.error,error:Jt}]}}}let Qe,Lt=_c(st,Oe);if(!Lt.route.action&&!Lt.route.lazy)Qe={type:Ar.error,error:Mo(405,{method:ve.method,pathname:Oe.pathname,routeId:Lt.route.id})};else if(Qe=(await Zt("action",ne,ve,[Lt],st,null))[Lt.route.id],ve.signal.aborted)return{shortCircuited:!0};if(Pl(Qe)){let Nt;return Ke&&Ke.replace!=null?Nt=Ke.replace:Nt=hm(Qe.response.headers.get("Location"),new URL(ve.url),g)===ne.location.pathname+ne.location.search,await Ft(ve,Qe,!0,{submission:He,replace:Nt}),{shortCircuited:!0}}if(Qa(Qe))throw Mo(400,{type:"defer-action"});if(Jo(Qe)){let Nt=El(st,Lt.route.id);return(Ke&&Ke.replace)!==!0&&(re=vi.Push),{matches:st,pendingActionResult:[Nt.route.id,Qe]}}return{matches:st,pendingActionResult:[Lt.route.id,Qe]}}async function Ut(ve,Oe,He,st,ft,Ke,Ot,Qe,Lt,Nt,Et){let Jt=ft||b1(Oe,Ke),en=Ke||Ot||ym(Jt),Wn=!ye&&(!A.v7_partialHydration||!Lt);if(st){if(Wn){let Yn=wt(Et);it(qr({navigation:Jt},Yn!==void 0?{actionData:Yn}:{}),{flushSync:Nt})}let mn=await Bn(He,Oe.pathname,ve.signal);if(mn.type==="aborted")return{shortCircuited:!0};if(mn.type==="error"){let Yn=El(mn.partialMatches).route.id;return{matches:mn.partialMatches,loaderData:{},errors:{[Yn]:mn.error}}}else if(mn.matches)He=mn.matches;else{let{error:Yn,notFoundMatches:Cn,route:Sn}=or(Oe.pathname);return{matches:Cn,loaderData:{},errors:{[Sn.id]:Yn}}}}let fn=m||h,[Tn,Qn]=lm(e.history,ne,He,en,Oe,A.v7_partialHydration&&Lt===!0,A.v7_skipActionErrorRevalidation,me,ge,Me,le,W,nt,fn,g,Et);if(hn(mn=>!(He&&He.some(Yn=>Yn.route.id===mn))||Tn&&Tn.some(Yn=>Yn.route.id===mn)),Re=++pe,Tn.length===0&&Qn.length===0){let mn=xt();return bt(Oe,qr({matches:He,loaderData:{},errors:Et&&Jo(Et[1])?{[Et[0]]:Et[1].error}:null},gm(Et),mn?{fetchers:new Map(ne.fetchers)}:{}),{flushSync:Nt}),{shortCircuited:!0}}if(Wn){let mn={};if(!st){mn.navigation=Jt;let Yn=wt(Et);Yn!==void 0&&(mn.actionData=Yn)}Qn.length>0&&(mn.fetchers=rt(Qn)),it(mn,{flushSync:Nt})}Qn.forEach(mn=>{hr(mn.key),mn.controller&&Ie.set(mn.key,mn.controller)});let Lr=()=>Qn.forEach(mn=>hr(mn.key));se&&se.signal.addEventListener("abort",Lr);let{loaderResults:sr,fetcherResults:Pn}=await un(ne,He,Tn,Qn,ve);if(ve.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",Lr),Qn.forEach(mn=>Ie.delete(mn.key));let Zr=Vh(sr);if(Zr)return await Ft(ve,Zr.result,!0,{replace:Qe}),{shortCircuited:!0};if(Zr=Vh(Pn),Zr)return nt.add(Zr.key),await Ft(ve,Zr.result,!0,{replace:Qe}),{shortCircuited:!0};let{loaderData:Oi,errors:yo}=dm(ne,He,sr,Et,Qn,Pn,xe);xe.forEach((mn,Yn)=>{mn.subscribe(Cn=>{(Cn||mn.done)&&xe.delete(Yn)})}),A.v7_partialHydration&&Lt&&ne.errors&&(yo=qr({},ne.errors,yo));let ot=xt(),Wo=nn(Re),Jn=ot||Wo||Qn.length>0;return qr({matches:He,loaderData:Oi,errors:yo},Jn?{fetchers:new Map(ne.fetchers)}:{})}function wt(ve){if(ve&&!Jo(ve[1]))return{[ve[0]]:ve[1].data};if(ne.actionData)return Object.keys(ne.actionData).length===0?null:ne.actionData}function rt(ve){return ve.forEach(Oe=>{let He=ne.fetchers.get(Oe.key),st=dc(void 0,He?He.data:void 0);ne.fetchers.set(Oe.key,st)}),new Map(ne.fetchers)}function At(ve,Oe,He,st){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");hr(ve);let ft=(st&&st.flushSync)===!0,Ke=m||h,Ot=k0(ne.location,ne.matches,g,A.v7_prependBasename,He,A.v7_relativeSplatPath,Oe,st==null?void 0:st.relative),Qe=Cl(Ke,Ot,g),Lt=Ri(Qe,Ke,Ot);if(Lt.active&&Lt.matches&&(Qe=Lt.matches),!Qe){cn(ve,Oe,Mo(404,{pathname:Ot}),{flushSync:ft});return}let{path:Nt,submission:Et,error:Jt}=sm(A.v7_normalizeFormMethod,!0,Ot,st);if(Jt){cn(ve,Oe,Jt,{flushSync:ft});return}let en=_c(Qe,Nt),Wn=(st&&st.preventScrollReset)===!0;if(Et&&Bs(Et.formMethod)){Je(ve,Oe,Nt,en,Qe,Lt.active,ft,Wn,Et);return}W.set(ve,{routeId:Oe,path:Nt}),St(ve,Oe,Nt,en,Qe,Lt.active,ft,Wn,Et)}async function Je(ve,Oe,He,st,ft,Ke,Ot,Qe,Lt){Qt(),W.delete(ve);function Nt(jt){if(!jt.route.action&&!jt.route.lazy){let bn=Mo(405,{method:Lt.formMethod,pathname:He,routeId:Oe});return cn(ve,Oe,bn,{flushSync:Ot}),!0}return!1}if(!Ke&&Nt(st))return;let Et=ne.fetchers.get(ve);xn(ve,mb(Lt,Et),{flushSync:Ot});let Jt=new AbortController,en=iu(e.history,He,Jt.signal,Lt);if(Ke){let jt=await Bn(ft,He,en.signal);if(jt.type==="aborted")return;if(jt.type==="error"){cn(ve,Oe,jt.error,{flushSync:Ot});return}else if(jt.matches){if(ft=jt.matches,st=_c(ft,He),Nt(st))return}else{cn(ve,Oe,Mo(404,{pathname:He}),{flushSync:Ot});return}}Ie.set(ve,Jt);let Wn=pe,Tn=(await Zt("action",ne,en,[st],ft,ve))[st.route.id];if(en.signal.aborted){Ie.get(ve)===Jt&&Ie.delete(ve);return}if(A.v7_fetcherPersist&&le.has(ve)){if(Pl(Tn)||Jo(Tn)){xn(ve,Va(void 0));return}}else{if(Pl(Tn))if(Ie.delete(ve),Re>Wn){xn(ve,Va(void 0));return}else return nt.add(ve),xn(ve,dc(Lt)),Ft(en,Tn,!1,{fetcherSubmission:Lt,preventScrollReset:Qe});if(Jo(Tn)){cn(ve,Oe,Tn.error);return}}if(Qa(Tn))throw Mo(400,{type:"defer-action"});let Qn=ne.navigation.location||ne.location,Lr=iu(e.history,Qn,Jt.signal),sr=m||h,Pn=ne.navigation.state!=="idle"?Cl(sr,ne.navigation.location,g):ne.matches;qn(Pn,"Didn't find any matches after fetcher action");let Zr=++pe;Ce.set(ve,Zr);let Oi=dc(Lt,Tn.data);ne.fetchers.set(ve,Oi);let[yo,ot]=lm(e.history,ne,Pn,Lt,Qn,!1,A.v7_skipActionErrorRevalidation,me,ge,Me,le,W,nt,sr,g,[st.route.id,Tn]);ot.filter(jt=>jt.key!==ve).forEach(jt=>{let bn=jt.key,rn=ne.fetchers.get(bn),xo=dc(void 0,rn?rn.data:void 0);ne.fetchers.set(bn,xo),hr(bn),jt.controller&&Ie.set(bn,jt.controller)}),it({fetchers:new Map(ne.fetchers)});let Wo=()=>ot.forEach(jt=>hr(jt.key));Jt.signal.addEventListener("abort",Wo);let{loaderResults:Jn,fetcherResults:mn}=await un(ne,Pn,yo,ot,Lr);if(Jt.signal.aborted)return;Jt.signal.removeEventListener("abort",Wo),Ce.delete(ve),Ie.delete(ve),ot.forEach(jt=>Ie.delete(jt.key));let Yn=Vh(Jn);if(Yn)return Ft(Lr,Yn.result,!1,{preventScrollReset:Qe});if(Yn=Vh(mn),Yn)return nt.add(Yn.key),Ft(Lr,Yn.result,!1,{preventScrollReset:Qe});let{loaderData:Cn,errors:Sn}=dm(ne,Pn,Jn,void 0,ot,mn,xe);if(ne.fetchers.has(ve)){let jt=Va(Tn.data);ne.fetchers.set(ve,jt)}nn(Zr),ne.navigation.state==="loading"&&Zr>Re?(qn(re,"Expected pending action"),se&&se.abort(),bt(ne.navigation.location,{matches:Pn,loaderData:Cn,errors:Sn,fetchers:new Map(ne.fetchers)})):(it({errors:Sn,loaderData:pm(ne.loaderData,Cn,Pn,Sn),fetchers:new Map(ne.fetchers)}),me=!1)}async function St(ve,Oe,He,st,ft,Ke,Ot,Qe,Lt){let Nt=ne.fetchers.get(ve);xn(ve,dc(Lt,Nt?Nt.data:void 0),{flushSync:Ot});let Et=new AbortController,Jt=iu(e.history,He,Et.signal);if(Ke){let Tn=await Bn(ft,He,Jt.signal);if(Tn.type==="aborted")return;if(Tn.type==="error"){cn(ve,Oe,Tn.error,{flushSync:Ot});return}else if(Tn.matches)ft=Tn.matches,st=_c(ft,He);else{cn(ve,Oe,Mo(404,{pathname:He}),{flushSync:Ot});return}}Ie.set(ve,Et);let en=pe,fn=(await Zt("loader",ne,Jt,[st],ft,ve))[st.route.id];if(Qa(fn)&&(fn=await r2(fn,Jt.signal,!0)||fn),Ie.get(ve)===Et&&Ie.delete(ve),!Jt.signal.aborted){if(le.has(ve)){xn(ve,Va(void 0));return}if(Pl(fn))if(Re>en){xn(ve,Va(void 0));return}else{nt.add(ve),await Ft(Jt,fn,!1,{preventScrollReset:Qe});return}if(Jo(fn)){cn(ve,Oe,fn.error);return}qn(!Qa(fn),"Unhandled fetcher deferred data"),xn(ve,Va(fn.data))}}async function Ft(ve,Oe,He,st){let{submission:ft,fetcherSubmission:Ke,preventScrollReset:Ot,replace:Qe}=st===void 0?{}:st;Oe.response.headers.has("X-Remix-Revalidate")&&(me=!0);let Lt=Oe.response.headers.get("Location");qn(Lt,"Expected a Location header on the redirect Response"),Lt=hm(Lt,new URL(ve.url),g);let Nt=Kc(ne.location,Lt,{_isRedirect:!0});if(n){let Tn=!1;if(Oe.response.headers.has("X-Remix-Reload-Document"))Tn=!0;else if(n2.test(Lt)){const Qn=e.history.createURL(Lt);Tn=Qn.origin!==t.location.origin||ah(Qn.pathname,g)==null}if(Tn){Qe?t.location.replace(Lt):t.location.assign(Lt);return}}se=null;let Et=Qe===!0||Oe.response.headers.has("X-Remix-Replace")?vi.Replace:vi.Push,{formMethod:Jt,formAction:en,formEncType:Wn}=ne.navigation;!ft&&!Ke&&Jt&&en&&Wn&&(ft=ym(ne.navigation));let fn=ft||Ke;if(K8.has(Oe.response.status)&&fn&&Bs(fn.formMethod))await Xe(Et,Nt,{submission:qr({},fn,{formAction:Lt}),preventScrollReset:Ot||te,enableViewTransition:He?Le:void 0});else{let Tn=b1(Nt,ft);await Xe(Et,Nt,{overrideNavigation:Tn,fetcherSubmission:Ke,preventScrollReset:Ot||te,enableViewTransition:He?Le:void 0})}}async function Zt(ve,Oe,He,st,ft,Ke){let Ot,Qe={};try{Ot=await ib(v,ve,Oe,He,st,ft,Ke,l,a)}catch(Lt){return st.forEach(Nt=>{Qe[Nt.route.id]={type:Ar.error,error:Lt}}),Qe}for(let[Lt,Nt]of Object.entries(Ot))if(cb(Nt)){let Et=Nt.result;Qe[Lt]={type:Ar.redirect,response:ab(Et,He,Lt,ft,g,A.v7_relativeSplatPath)}}else Qe[Lt]=await sb(Nt);return Qe}async function un(ve,Oe,He,st,ft){let Ke=ve.matches,Ot=Zt("loader",ve,ft,He,Oe,null),Qe=Promise.all(st.map(async Et=>{if(Et.matches&&Et.match&&Et.controller){let en=(await Zt("loader",ve,iu(e.history,Et.path,Et.controller.signal),[Et.match],Et.matches,Et.key))[Et.match.route.id];return{[Et.key]:en}}else return Promise.resolve({[Et.key]:{type:Ar.error,error:Mo(404,{pathname:Et.path})}})})),Lt=await Ot,Nt=(await Qe).reduce((Et,Jt)=>Object.assign(Et,Jt),{});return await Promise.all([db(Oe,Lt,ft.signal,Ke,ve.loaderData),pb(Oe,Nt,st)]),{loaderResults:Lt,fetcherResults:Nt}}function Qt(){me=!0,ge.push(...hn()),W.forEach((ve,Oe)=>{Ie.has(Oe)&&Me.add(Oe),hr(Oe)})}function xn(ve,Oe,He){He===void 0&&(He={}),ne.fetchers.set(ve,Oe),it({fetchers:new Map(ne.fetchers)},{flushSync:(He&&He.flushSync)===!0})}function cn(ve,Oe,He,st){st===void 0&&(st={});let ft=El(ne.matches,Oe);wn(ve),it({errors:{[ft.route.id]:He},fetchers:new Map(ne.fetchers)},{flushSync:(st&&st.flushSync)===!0})}function zt(ve){return A.v7_fetcherPersist&&(ae.set(ve,(ae.get(ve)||0)+1),le.has(ve)&&le.delete(ve)),ne.fetchers.get(ve)||Q8}function wn(ve){let Oe=ne.fetchers.get(ve);Ie.has(ve)&&!(Oe&&Oe.state==="loading"&&Ce.has(ve))&&hr(ve),W.delete(ve),Ce.delete(ve),nt.delete(ve),le.delete(ve),Me.delete(ve),ne.fetchers.delete(ve)}function It(ve){if(A.v7_fetcherPersist){let Oe=(ae.get(ve)||0)-1;Oe<=0?(ae.delete(ve),le.add(ve)):ae.set(ve,Oe)}else wn(ve);it({fetchers:new Map(ne.fetchers)})}function hr(ve){let Oe=Ie.get(ve);Oe&&(Oe.abort(),Ie.delete(ve))}function Kt(ve){for(let Oe of ve){let He=zt(Oe),st=Va(He.data);ne.fetchers.set(Oe,st)}}function xt(){let ve=[],Oe=!1;for(let He of nt){let st=ne.fetchers.get(He);qn(st,"Expected fetcher: "+He),st.state==="loading"&&(nt.delete(He),ve.push(He),Oe=!0)}return Kt(ve),Oe}function nn(ve){let Oe=[];for(let[He,st]of Ce)if(st<ve){let ft=ne.fetchers.get(He);qn(ft,"Expected fetcher: "+He),ft.state==="loading"&&(hr(He),Ce.delete(He),Oe.push(He))}return Kt(Oe),Oe.length>0}function $t(ve,Oe){let He=ne.blockers.get(ve)||fc;return he.get(ve)!==Oe&&he.set(ve,Oe),He}function kn(ve){ne.blockers.delete(ve),he.delete(ve)}function Ln(ve,Oe){let He=ne.blockers.get(ve)||fc;qn(He.state==="unblocked"&&Oe.state==="blocked"||He.state==="blocked"&&Oe.state==="blocked"||He.state==="blocked"&&Oe.state==="proceeding"||He.state==="blocked"&&Oe.state==="unblocked"||He.state==="proceeding"&&Oe.state==="unblocked","Invalid blocker state transition: "+He.state+" -> "+Oe.state);let st=new Map(ne.blockers);st.set(ve,Oe),it({blockers:st})}function no(ve){let{currentLocation:Oe,nextLocation:He,historyAction:st}=ve;if(he.size===0)return;he.size>1&&Wu(!1,"A router only supports one blocker at a time");let ft=Array.from(he.entries()),[Ke,Ot]=ft[ft.length-1],Qe=ne.blockers.get(Ke);if(!(Qe&&Qe.state==="proceeding")&&Ot({currentLocation:Oe,nextLocation:He,historyAction:st}))return Ke}function or(ve){let Oe=Mo(404,{pathname:ve}),He=m||h,{matches:st,route:ft}=mm(He);return hn(),{notFoundMatches:st,route:ft,error:Oe}}function hn(ve){let Oe=[];return xe.forEach((He,st)=>{(!ve||ve(st))&&(He.cancel(),Oe.push(st),xe.delete(st))}),Oe}function ti(ve,Oe,He){if(O=ve,z=Oe,R=He||null,!M&&ne.navigation===_1){M=!0;let st=_n(ne.location,ne.matches);st!=null&&it({restoreScrollPosition:st})}return()=>{O=null,z=null,R=null}}function cr(ve,Oe){return R&&R(ve,Oe.map(st=>I8(st,ne.loaderData)))||ve.key}function ln(ve,Oe){if(O&&z){let He=cr(ve,Oe);O[He]=z()}}function _n(ve,Oe){if(O){let He=cr(ve,Oe),st=O[He];if(typeof st=="number")return st}return null}function Ri(ve,Oe,He){if(_)if(ve){if(Object.keys(ve[0].params).length>0)return{active:!0,matches:hf(Oe,He,g,!0)}}else return{active:!0,matches:hf(Oe,He,g,!0)||[]};return{active:!1,matches:null}}async function Bn(ve,Oe,He){if(!_)return{type:"success",matches:ve};let st=ve;for(;;){let ft=m==null,Ke=m||h,Ot=l;try{await _({path:Oe,matches:st,patch:(Nt,Et)=>{He.aborted||cm(Nt,Et,Ke,Ot,a)}})}catch(Nt){return{type:"error",error:Nt,partialMatches:st}}finally{ft&&!He.aborted&&(h=[...h])}if(He.aborted)return{type:"aborted"};let Qe=Cl(Ke,Oe,g);if(Qe)return{type:"success",matches:Qe};let Lt=hf(Ke,Oe,g,!0);if(!Lt||st.length===Lt.length&&st.every((Nt,Et)=>Nt.route.id===Lt[Et].route.id))return{type:"success",matches:null};st=Lt}}function ci(ve){l={},m=Wf(ve,a,void 0,l)}function hi(ve,Oe){let He=m==null;cm(ve,Oe,m||h,l,a),He&&(h=[...h],it({}))}return de={get basename(){return g},get future(){return A},get state(){return ne},get routes(){return h},get window(){return t},initialize:je,subscribe:yt,enableScrollRestoration:ti,navigate:lt,fetch:At,revalidate:Yt,createHref:ve=>e.history.createHref(ve),encodeLocation:ve=>e.history.encodeLocation(ve),getFetcher:zt,deleteFetcher:It,dispose:qe,getBlocker:$t,deleteBlocker:kn,patchRoutes:hi,_internalFetchControllers:Ie,_internalActiveDeferreds:xe,_internalSetRoutes:ci},de}function eb(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function k0(e,t,n,i,a,l,h,m){let g,v;if(h){g=[];for(let A of t)if(g.push(A),A.route.id===h){v=A;break}}else g=t,v=t[t.length-1];let _=t2(a||".",e2(g,l),ah(e.pathname,n)||e.pathname,m==="path");if(a==null&&(_.search=e.search,_.hash=e.hash),(a==null||a===""||a===".")&&v){let A=i2(_.search);if(v.route.index&&!A)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!v.route.index&&A){let I=new URLSearchParams(_.search),E=I.getAll("index");I.delete("index"),E.filter(R=>R).forEach(R=>I.append("index",R));let O=I.toString();_.search=O?"?"+O:""}}return i&&n!=="/"&&(_.pathname=_.pathname==="/"?n:al([n,_.pathname])),sh(_)}function sm(e,t,n,i){if(!i||!eb(i))return{path:n};if(i.formMethod&&!fb(i.formMethod))return{path:n,error:Mo(405,{method:i.formMethod})};let a=()=>({path:n,error:Mo(400,{type:"invalid-body"})}),l=i.formMethod||"get",h=e?l.toUpperCase():l.toLowerCase(),m=Zy(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Bs(h))return a();let I=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((E,O)=>{let[R,z]=O;return""+E+R+"="+z+`
`},""):String(i.body);return{path:n,submission:{formMethod:h,formAction:m,formEncType:i.formEncType,formData:void 0,json:void 0,text:I}}}else if(i.formEncType==="application/json"){if(!Bs(h))return a();try{let I=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:h,formAction:m,formEncType:i.formEncType,formData:void 0,json:I,text:void 0}}}catch{return a()}}}qn(typeof FormData=="function","FormData is not available in this environment");let g,v;if(i.formData)g=O0(i.formData),v=i.formData;else if(i.body instanceof FormData)g=O0(i.body),v=i.body;else if(i.body instanceof URLSearchParams)g=i.body,v=fm(g);else if(i.body==null)g=new URLSearchParams,v=new FormData;else try{g=new URLSearchParams(i.body),v=fm(g)}catch{return a()}let _={formMethod:h,formAction:m,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(Bs(_.formMethod))return{path:n,submission:_};let A=Ta(n);return t&&A.search&&i2(A.search)&&g.append("index",""),A.search="?"+g,{path:sh(A),submission:_}}function am(e,t,n){n===void 0&&(n=!1);let i=e.findIndex(a=>a.route.id===t);return i>=0?e.slice(0,n?i+1:i):e}function lm(e,t,n,i,a,l,h,m,g,v,_,A,I,E,O,R){let z=R?Jo(R[1])?R[1].error:R[1].data:void 0,M=e.createURL(t.location),k=e.createURL(a),j=n;l&&t.errors?j=am(n,Object.keys(t.errors)[0],!0):R&&Jo(R[1])&&(j=am(n,R[0]));let $=R?R[1].statusCode:void 0,de=h&&$&&$>=400,ne=j.filter((te,se)=>{let{route:Le}=te;if(Le.lazy)return!0;if(Le.loader==null)return!1;if(l)return R0(Le,t.loaderData,t.errors);if(tb(t.loaderData,t.matches[se],te)||g.some(ye=>ye===te.route.id))return!0;let J=t.matches[se],Y=te;return um(te,qr({currentUrl:M,currentParams:J.params,nextUrl:k,nextParams:Y.params},i,{actionResult:z,actionStatus:$,defaultShouldRevalidate:de?!1:m||M.pathname+M.search===k.pathname+k.search||M.search!==k.search||qy(J,Y)}))}),re=[];return A.forEach((te,se)=>{if(l||!n.some(me=>me.route.id===te.routeId)||_.has(se))return;let Le=Cl(E,te.path,O);if(!Le){re.push({key:se,routeId:te.routeId,path:te.path,matches:null,match:null,controller:null});return}let J=t.fetchers.get(se),Y=_c(Le,te.path),ye=!1;I.has(se)?ye=!1:v.has(se)?(v.delete(se),ye=!0):J&&J.state!=="idle"&&J.data===void 0?ye=m:ye=um(Y,qr({currentUrl:M,currentParams:t.matches[t.matches.length-1].params,nextUrl:k,nextParams:n[n.length-1].params},i,{actionResult:z,actionStatus:$,defaultShouldRevalidate:de?!1:m})),ye&&re.push({key:se,routeId:te.routeId,path:te.path,matches:Le,match:Y,controller:new AbortController})}),[ne,re]}function R0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=t!=null&&t[e.id]!==void 0,a=n!=null&&n[e.id]!==void 0;return!i&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!a}function tb(e,t,n){let i=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return i||a}function qy(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function um(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function cm(e,t,n,i,a){var l;let h;if(e){let v=i[e];qn(v,"No route found to patch children into: routeId = "+e),v.children||(v.children=[]),h=v.children}else h=n;let m=t.filter(v=>!h.some(_=>Gy(v,_))),g=Wf(m,a,[e||"_","patch",String(((l=h)==null?void 0:l.length)||"0")],i);h.push(...g)}function Gy(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>{var a;return(a=t.children)==null?void 0:a.some(l=>Gy(n,l))}):!1}async function nb(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let a=n[e.id];qn(a,"No route found in manifest");let l={};for(let h in i){let g=a[h]!==void 0&&h!=="hasErrorBoundary";Wu(!g,'Route "'+a.id+'" has a static property "'+h+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+h+'" will be ignored.')),!g&&!S8.has(h)&&(l[h]=i[h])}Object.assign(a,l),Object.assign(a,qr({},t(a),{lazy:void 0}))}async function rb(e){let{matches:t}=e,n=t.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,l,h)=>Object.assign(a,{[n[h].route.id]:l}),{})}async function ib(e,t,n,i,a,l,h,m,g,v){let _=l.map(E=>E.route.lazy?nb(E.route,g,m):void 0),A=l.map((E,O)=>{let R=_[O],z=a.some(k=>k.route.id===E.route.id);return qr({},E,{shouldLoad:z,resolve:async k=>(k&&i.method==="GET"&&(E.route.lazy||E.route.loader)&&(z=!0),z?ob(t,i,E,R,k,v):Promise.resolve({type:Ar.data,result:void 0}))})}),I=await e({matches:A,request:i,params:l[0].params,fetcherKey:h,context:v});try{await Promise.all(_)}catch{}return I}async function ob(e,t,n,i,a,l){let h,m,g=v=>{let _,A=new Promise((O,R)=>_=R);m=()=>_(),t.signal.addEventListener("abort",m);let I=O=>typeof v!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):v({request:t,params:n.params,context:l},...O!==void 0?[O]:[]),E=(async()=>{try{return{type:"data",result:await(a?a(R=>I(R)):I())}}catch(O){return{type:"error",result:O}}})();return Promise.race([E,A])};try{let v=n.route[e];if(i)if(v){let _,[A]=await Promise.all([g(v).catch(I=>{_=I}),i]);if(_!==void 0)throw _;h=A}else if(await i,v=n.route[e],v)h=await g(v);else if(e==="action"){let _=new URL(t.url),A=_.pathname+_.search;throw Mo(405,{method:t.method,pathname:A,routeId:n.route.id})}else return{type:Ar.data,result:void 0};else if(v)h=await g(v);else{let _=new URL(t.url),A=_.pathname+_.search;throw Mo(404,{pathname:A})}qn(h.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){return{type:Ar.error,result:v}}finally{m&&t.signal.removeEventListener("abort",m)}return h}async function sb(e){let{result:t,type:n}=e;if(Xy(t)){let v;try{let _=t.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?t.body==null?v=null:v=await t.json():v=await t.text()}catch(_){return{type:Ar.error,error:_}}return n===Ar.error?{type:Ar.error,error:new Vf(t.status,t.statusText,v),statusCode:t.status,headers:t.headers}:{type:Ar.data,data:v,statusCode:t.status,headers:t.headers}}if(n===Ar.error){if(vm(t)){var i;if(t.data instanceof Error){var a;return{type:Ar.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status}}t=new Vf(((i=t.init)==null?void 0:i.status)||500,void 0,t.data)}return{type:Ar.error,error:t,statusCode:Ad(t)?t.status:void 0}}if(hb(t)){var l,h;return{type:Ar.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((h=t.init)==null?void 0:h.headers)&&new Headers(t.init.headers)}}if(vm(t)){var m,g;return{type:Ar.data,data:t.data,statusCode:(m=t.init)==null?void 0:m.status,headers:(g=t.init)!=null&&g.headers?new Headers(t.init.headers):void 0}}return{type:Ar.data,data:t}}function ab(e,t,n,i,a,l){let h=e.headers.get("Location");if(qn(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!n2.test(h)){let m=i.slice(0,i.findIndex(g=>g.route.id===n)+1);h=k0(new URL(t.url),m,a,!0,h,l),e.headers.set("Location",h)}return e}function hm(e,t,n){if(n2.test(e)){let i=e,a=i.startsWith("//")?new URL(t.protocol+i):new URL(i),l=ah(a.pathname,n)!=null;if(a.origin===t.origin&&l)return a.pathname+a.search+a.hash}return e}function iu(e,t,n,i){let a=e.createURL(Zy(t)).toString(),l={signal:n};if(i&&Bs(i.formMethod)){let{formMethod:h,formEncType:m}=i;l.method=h.toUpperCase(),m==="application/json"?(l.headers=new Headers({"Content-Type":m}),l.body=JSON.stringify(i.json)):m==="text/plain"?l.body=i.text:m==="application/x-www-form-urlencoded"&&i.formData?l.body=O0(i.formData):l.body=i.formData}return new Request(a,l)}function O0(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function fm(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function lb(e,t,n,i,a){let l={},h=null,m,g=!1,v={},_=n&&Jo(n[1])?n[1].error:void 0;return e.forEach(A=>{if(!(A.route.id in t))return;let I=A.route.id,E=t[I];if(qn(!Pl(E),"Cannot handle redirect results in processLoaderData"),Jo(E)){let O=E.error;if(_!==void 0&&(O=_,_=void 0),h=h||{},a)h[I]=O;else{let R=El(e,I);h[R.route.id]==null&&(h[R.route.id]=O)}l[I]=void 0,g||(g=!0,m=Ad(E.error)?E.error.status:500),E.headers&&(v[I]=E.headers)}else Qa(E)?(i.set(I,E.deferredData),l[I]=E.deferredData.data,E.statusCode!=null&&E.statusCode!==200&&!g&&(m=E.statusCode),E.headers&&(v[I]=E.headers)):(l[I]=E.data,E.statusCode&&E.statusCode!==200&&!g&&(m=E.statusCode),E.headers&&(v[I]=E.headers))}),_!==void 0&&n&&(h={[n[0]]:_},l[n[0]]=void 0),{loaderData:l,errors:h,statusCode:m||200,loaderHeaders:v}}function dm(e,t,n,i,a,l,h){let{loaderData:m,errors:g}=lb(t,n,i,h,!1);return a.forEach(v=>{let{key:_,match:A,controller:I}=v,E=l[_];if(qn(E,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(Jo(E)){let O=El(e.matches,A==null?void 0:A.route.id);g&&g[O.route.id]||(g=qr({},g,{[O.route.id]:E.error})),e.fetchers.delete(_)}else if(Pl(E))qn(!1,"Unhandled fetcher revalidation redirect");else if(Qa(E))qn(!1,"Unhandled fetcher deferred data");else{let O=Va(E.data);e.fetchers.set(_,O)}}),{loaderData:m,errors:g}}function pm(e,t,n,i){let a=qr({},t);for(let l of n){let h=l.route.id;if(t.hasOwnProperty(h)?t[h]!==void 0&&(a[h]=t[h]):e[h]!==void 0&&l.route.loader&&(a[h]=e[h]),i&&i.hasOwnProperty(h))break}return a}function gm(e){return e?Jo(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function El(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function mm(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Mo(e,t){let{pathname:n,routeId:i,method:a,type:l,message:h}=t===void 0?{}:t,m="Unknown Server Error",g="Unknown @remix-run/router error";return e===400?(m="Bad Request",a&&n&&i?g="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?g="defer() is not supported in actions":l==="invalid-body"&&(g="Unable to encode submission body")):e===403?(m="Forbidden",g='Route "'+i+'" does not match URL "'+n+'"'):e===404?(m="Not Found",g='No route matches URL "'+n+'"'):e===405&&(m="Method Not Allowed",a&&n&&i?g="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":a&&(g='Invalid request method "'+a.toUpperCase()+'"')),new Vf(e||500,m,new Error(g),!0)}function Vh(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,a]=t[n];if(Pl(a))return{key:i,result:a}}}function Zy(e){let t=typeof e=="string"?Ta(e):e;return sh(qr({},t,{hash:""}))}function ub(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function cb(e){return Xy(e.result)&&Y8.has(e.result.status)}function Qa(e){return e.type===Ar.deferred}function Jo(e){return e.type===Ar.error}function Pl(e){return(e&&e.type)===Ar.redirect}function vm(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function hb(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Xy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function fb(e){return X8.has(e.toLowerCase())}function Bs(e){return G8.has(e.toLowerCase())}async function db(e,t,n,i,a){let l=Object.entries(t);for(let h=0;h<l.length;h++){let[m,g]=l[h],v=e.find(I=>(I==null?void 0:I.route.id)===m);if(!v)continue;let _=i.find(I=>I.route.id===v.route.id),A=_!=null&&!qy(_,v)&&(a&&a[v.route.id])!==void 0;Qa(g)&&A&&await r2(g,n,!1).then(I=>{I&&(t[m]=I)})}}async function pb(e,t,n){for(let i=0;i<n.length;i++){let{key:a,routeId:l,controller:h}=n[i],m=t[a];e.find(v=>(v==null?void 0:v.route.id)===l)&&Qa(m)&&(qn(h,"Expected an AbortController for revalidating fetcher deferred result"),await r2(m,h.signal,!0).then(v=>{v&&(t[a]=v)}))}}async function r2(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ar.data,data:e.deferredData.unwrappedData}}catch(a){return{type:Ar.error,error:a}}return{type:Ar.data,data:e.deferredData.data}}}function i2(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function _c(e,t){let n=typeof t=="string"?Ta(t).search:t.search;if(e[e.length-1].route.index&&i2(n||""))return e[e.length-1];let i=Hy(e);return i[i.length-1]}function ym(e){let{formMethod:t,formAction:n,formEncType:i,text:a,formData:l,json:h}=e;if(!(!t||!n||!i)){if(a!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:n,formEncType:i,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:h,text:void 0}}}function b1(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gb(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function dc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function mb(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Va(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vb(e,t){try{let n=e.sessionStorage.getItem(Vy);if(n){let i=JSON.parse(n);for(let[a,l]of Object.entries(i||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function yb(e,t){if(t.size>0){let n={};for(let[i,a]of t)n[i]=[...a];try{e.sessionStorage.setItem(Vy,JSON.stringify(n))}catch(i){Wu(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qc.apply(this,arguments)}const Cd=Te.createContext(null),Yy=Te.createContext(null),lh=Te.createContext(null),Ed=Te.createContext(null),Vl=Te.createContext({outlet:null,matches:[],isDataRoute:!1}),Ky=Te.createContext(null);function uh(){return Te.useContext(Ed)!=null}function Vs(){return uh()||qn(!1),Te.useContext(Ed).location}function Qy(e){Te.useContext(lh).static||Te.useLayoutEffect(e)}function Lo(){let{isDataRoute:e}=Te.useContext(Vl);return e?Tb():xb()}function xb(){uh()||qn(!1);let e=Te.useContext(Cd),{basename:t,future:n,navigator:i}=Te.useContext(lh),{matches:a}=Te.useContext(Vl),{pathname:l}=Vs(),h=JSON.stringify(e2(a,n.v7_relativeSplatPath)),m=Te.useRef(!1);return Qy(()=>{m.current=!0}),Te.useCallback(function(v,_){if(_===void 0&&(_={}),!m.current)return;if(typeof v=="number"){i.go(v);return}let A=t2(v,JSON.parse(h),l,_.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:al([t,A.pathname])),(_.replace?i.replace:i.push)(A,_.state,_)},[t,i,h,l,e])}function wb(e,t,n,i){uh()||qn(!1);let{navigator:a}=Te.useContext(lh),{matches:l}=Te.useContext(Vl),h=l[l.length-1],m=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=Vs(),_;if(t){var A;let z=typeof t=="string"?Ta(t):t;g==="/"||(A=z.pathname)!=null&&A.startsWith(g)||qn(!1),_=z}else _=v;let I=_.pathname||"/",E=I;if(g!=="/"){let z=g.replace(/^\//,"").split("/");E="/"+I.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=Cl(e,{pathname:E}),R=Eb(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:al([g,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:al([g,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,n,i);return t&&R?Te.createElement(Ed.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:vi.Pop}},R):R}function _b(){let e=Lb(),t=Ad(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return Te.createElement(Te.Fragment,null,Te.createElement("h2",null,"Unexpected Application Error!"),Te.createElement("h3",{style:{fontStyle:"italic"}},t),n?Te.createElement("pre",{style:a},n):null,l)}const bb=Te.createElement(_b,null);class Ab extends Te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Te.createElement(Vl.Provider,{value:this.props.routeContext},Te.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cb(e){let{routeContext:t,match:n,children:i}=e,a=Te.useContext(Cd);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Te.createElement(Vl.Provider,{value:t},i)}function Eb(e,t,n,i){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,m=(a=n)==null?void 0:a.errors;if(m!=null){let _=h.findIndex(A=>A.route.id&&(m==null?void 0:m[A.route.id])!==void 0);_>=0||qn(!1),h=h.slice(0,Math.min(h.length,_+1))}let g=!1,v=-1;if(n&&i&&i.v7_partialHydration)for(let _=0;_<h.length;_++){let A=h[_];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(v=_),A.route.id){let{loaderData:I,errors:E}=n,O=A.route.loader&&I[A.route.id]===void 0&&(!E||E[A.route.id]===void 0);if(A.route.lazy||O){g=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((_,A,I)=>{let E,O=!1,R=null,z=null;n&&(E=m&&A.route.id?m[A.route.id]:void 0,R=A.route.errorElement||bb,g&&(v<0&&I===0?(Pb("route-fallback",!1),O=!0,z=null):v===I&&(O=!0,z=A.route.hydrateFallbackElement||null)));let M=t.concat(h.slice(0,I+1)),k=()=>{let j;return E?j=R:O?j=z:A.route.Component?j=Te.createElement(A.route.Component,null):A.route.element?j=A.route.element:j=_,Te.createElement(Cb,{match:A,routeContext:{outlet:_,matches:M,isDataRoute:n!=null},children:j})};return n&&(A.route.ErrorBoundary||A.route.errorElement||I===0)?Te.createElement(Ab,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:k(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):k()},null)}var Jy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jy||{}),qf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qf||{});function Sb(e){let t=Te.useContext(Cd);return t||qn(!1),t}function Nb(e){let t=Te.useContext(Yy);return t||qn(!1),t}function Ib(e){let t=Te.useContext(Vl);return t||qn(!1),t}function $y(e){let t=Ib(),n=t.matches[t.matches.length-1];return n.route.id||qn(!1),n.route.id}function Lb(){var e;let t=Te.useContext(Ky),n=Nb(qf.UseRouteError),i=$y(qf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function Tb(){let{router:e}=Sb(Jy.UseNavigateStable),t=$y(qf.UseNavigateStable),n=Te.useRef(!1);return Qy(()=>{n.current=!0}),Te.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Qc({fromRouteId:t},l)))},[e,t])}const xm={};function Pb(e,t,n){!t&&!xm[e]&&(xm[e]=!0)}const wm={};function kb(e,t){wm[t]||(wm[t]=!0,console.warn(t))}const ou=(e,t,n)=>kb(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Rb(e,t){e!=null&&e.v7_startTransition||ou("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!t||!t.v7_relativeSplatPath)&&ou("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||ou("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||ou("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||ou("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||ou("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function M0(e){let{to:t,replace:n,state:i,relative:a}=e;uh()||qn(!1);let{future:l,static:h}=Te.useContext(lh),{matches:m}=Te.useContext(Vl),{pathname:g}=Vs(),v=Lo(),_=t2(t,e2(m,l.v7_relativeSplatPath),g,a==="path"),A=JSON.stringify(_);return Te.useEffect(()=>v(JSON.parse(A),{replace:n,state:i,relative:a}),[v,A,a,n,i]),null}function Ob(e){let{basename:t="/",children:n=null,location:i,navigationType:a=vi.Pop,navigator:l,static:h=!1,future:m}=e;uh()&&qn(!1);let g=t.replace(/^\/*/,"/"),v=Te.useMemo(()=>({basename:g,navigator:l,static:h,future:Qc({v7_relativeSplatPath:!1},m)}),[g,m,l,h]);typeof i=="string"&&(i=Ta(i));let{pathname:_="/",search:A="",hash:I="",state:E=null,key:O="default"}=i,R=Te.useMemo(()=>{let z=ah(_,g);return z==null?null:{location:{pathname:z,search:A,hash:I,state:E,key:O},navigationType:a}},[g,_,A,I,E,O,a]);return R==null?null:Te.createElement(lh.Provider,{value:v},Te.createElement(Ed.Provider,{children:n,value:R}))}new Promise(()=>{});function Mb(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:Te.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:Te.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:Te.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gf.apply(this,arguments)}const Db="6";try{window.__reactRouterVersion=Db}catch{}function Bb(e,t){return $8({basename:t==null?void 0:t.basename,future:Gf({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:A8({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Fb(),routes:e,mapRouteProperties:Mb,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Fb(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Gf({},t,{errors:jb(t.errors)})),t}function jb(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,a]of t)if(a&&a.__type==="RouteErrorResponse")n[i]=new Vf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let h=new l(a.message);h.stack="",n[i]=h}catch{}}if(n[i]==null){let l=new Error(a.message);l.stack="",n[i]=l}}else n[i]=a;return n}const zb=Te.createContext({isTransitioning:!1}),Ub=Te.createContext(new Map),Hb="startTransition",_m=c_[Hb],Wb="flushSync",bm=b8[Wb];function Vb(e){_m?_m(e):e()}function pc(e){bm?bm(e):e()}class qb{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function Gb(e){let{fallbackElement:t,router:n,future:i}=e,[a,l]=Te.useState(n.state),[h,m]=Te.useState(),[g,v]=Te.useState({isTransitioning:!1}),[_,A]=Te.useState(),[I,E]=Te.useState(),[O,R]=Te.useState(),z=Te.useRef(new Map),{v7_startTransition:M}=i||{},k=Te.useCallback(te=>{M?Vb(te):te()},[M]),j=Te.useCallback((te,se)=>{let{deletedFetchers:Le,flushSync:J,viewTransitionOpts:Y}=se;Le.forEach(me=>z.current.delete(me)),te.fetchers.forEach((me,ge)=>{me.data!==void 0&&z.current.set(ge,me.data)});let ye=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Y||ye){J?pc(()=>l(te)):k(()=>l(te));return}if(J){pc(()=>{I&&(_&&_.resolve(),I.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let me=n.window.document.startViewTransition(()=>{pc(()=>l(te))});me.finished.finally(()=>{pc(()=>{A(void 0),E(void 0),m(void 0),v({isTransitioning:!1})})}),pc(()=>E(me));return}I?(_&&_.resolve(),I.skipTransition(),R({state:te,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(m(te),v({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,I,_,z,k]);Te.useLayoutEffect(()=>n.subscribe(j),[n,j]),Te.useEffect(()=>{g.isTransitioning&&!g.flushSync&&A(new qb)},[g]),Te.useEffect(()=>{if(_&&h&&n.window){let te=h,se=_.promise,Le=n.window.document.startViewTransition(async()=>{k(()=>l(te)),await se});Le.finished.finally(()=>{A(void 0),E(void 0),m(void 0),v({isTransitioning:!1})}),E(Le)}},[k,h,_,n.window]),Te.useEffect(()=>{_&&h&&a.location.key===h.location.key&&_.resolve()},[_,I,a.location,h]),Te.useEffect(()=>{!g.isTransitioning&&O&&(m(O.state),v({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),R(void 0))},[g.isTransitioning,O]),Te.useEffect(()=>{},[]);let $=Te.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:te=>n.navigate(te),push:(te,se,Le)=>n.navigate(te,{state:se,preventScrollReset:Le==null?void 0:Le.preventScrollReset}),replace:(te,se,Le)=>n.navigate(te,{replace:!0,state:se,preventScrollReset:Le==null?void 0:Le.preventScrollReset})}),[n]),de=n.basename||"/",ne=Te.useMemo(()=>({router:n,navigator:$,static:!1,basename:de}),[n,$,de]),re=Te.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return Te.useEffect(()=>Rb(i,n.future),[i,n.future]),Te.createElement(Te.Fragment,null,Te.createElement(Cd.Provider,{value:ne},Te.createElement(Yy.Provider,{value:a},Te.createElement(Ub.Provider,{value:z.current},Te.createElement(zb.Provider,{value:g},Te.createElement(Ob,{basename:de,location:a.location,navigationType:a.historyAction,navigator:$,future:re},a.initialized||n.future.v7_partialHydration?Te.createElement(Zb,{routes:n.routes,future:n.future,state:a}):t))))),null)}const Zb=Te.memo(Xb);function Xb(e){let{routes:t,future:n,state:i}=e;return wb(t,void 0,i,n)}var Am;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Cm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cm||(Cm={}));var Ht;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ht||(Ht={}));var Em=new Map([[Ht.QR_CODE,"QR_CODE"],[Ht.AZTEC,"AZTEC"],[Ht.CODABAR,"CODABAR"],[Ht.CODE_39,"CODE_39"],[Ht.CODE_93,"CODE_93"],[Ht.CODE_128,"CODE_128"],[Ht.DATA_MATRIX,"DATA_MATRIX"],[Ht.MAXICODE,"MAXICODE"],[Ht.ITF,"ITF"],[Ht.EAN_13,"EAN_13"],[Ht.EAN_8,"EAN_8"],[Ht.PDF_417,"PDF_417"],[Ht.RSS_14,"RSS_14"],[Ht.RSS_EXPANDED,"RSS_EXPANDED"],[Ht.UPC_A,"UPC_A"],[Ht.UPC_E,"UPC_E"],[Ht.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Sm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Sm||(Sm={}));function Yb(e){return Object.values(Ht).includes(e)}var Zf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zf||(Zf={}));var Kb=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zf.SCAN_TYPE_CAMERA,Zf.SCAN_TYPE_FILE],e}(),ex=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Em.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Em.get(t))},e}(),Nm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),D0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(D0||(D0={}));var Qb=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:D0.UNKWOWN_ERROR}},e}(),Jb=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function xa(e){return typeof e>"u"||e===null}var Au=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),tx=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),h=Object.keys(t),m=0,g=h;m<g.length;m++){var v=g[m];if(l.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),B0={exports:{}};(function(e,t){(function(n,i){i(t)})(lu,function(n){function i(H){return H==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,r){H.__proto__=r}||function(H,r){for(var o in r)r.hasOwnProperty(o)&&(H[o]=r[o])};function l(H,r){a(H,r);function o(){this.constructor=H}H.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function h(H,r){var o=Object.setPrototypeOf;o?o(H,r):H.__proto__=r}function m(H,r){r===void 0&&(r=H.constructor);var o=Error.captureStackTrace;o&&o(H,r)}var g=function(H){l(r,H);function r(o){var u=this.constructor,c=H.call(this,o)||this;return Object.defineProperty(c,"name",{value:u.name,enumerable:!1}),h(c,u.prototype),m(c),c}return r}(Error);class v extends g{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}v.kind="Exception";class _ extends v{}_.kind="ArgumentException";class A extends v{}A.kind="IllegalArgumentException";class I{constructor(r){if(this.binarizer=r,r===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,u,c){const f=this.binarizer.getLuminanceSource().crop(r,o,u,c);return new I(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends v{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class O{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(r,o,u,c,f){for(;f--;)u[c++]=r[o++]}static currentTimeMillis(){return Date.now()}}class z extends v{}z.kind="IndexOutOfBoundsException";class M extends z{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}M.kind="ArrayIndexOutOfBoundsException";class k{static fill(r,o){for(let u=0,c=r.length;u<c;u++)r[u]=o}static fillWithin(r,o,u,c){k.rangeCheck(r.length,o,u);for(let f=o;f<u;f++)r[f]=c}static rangeCheck(r,o,u){if(o>u)throw new A("fromIndex("+o+") > toIndex("+u+")");if(o<0)throw new M(o);if(u>r)throw new M(u)}static asList(...r){return r}static create(r,o,u){return Array.from({length:r}).map(f=>Array.from({length:o}).fill(u))}static createInt32Array(r,o,u){return Array.from({length:r}).map(f=>Int32Array.from({length:o}).fill(u))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let u=0,c=r.length;u<c;u++)if(r[u]!==o[u])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const u of r)o=31*o+u;return o}static fillUint8Array(r,o){for(let u=0;u!==r.length;u++)r[u]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const u=new Uint8Array(o);return u.set(r),u}return r.slice(0,o)}static copyOfRange(r,o,u){const c=u-o,f=new Int32Array(c);return R.arraycopy(r,o,f,0,c),f}static binarySearch(r,o,u){u===void 0&&(u=k.numberComparator);let c=0,f=r.length-1;for(;c<=f;){const p=f+c>>1,x=u(o,r[p]);if(x>0)c=p+1;else if(x<0)f=p-1;else return p}return-c-1}static numberComparator(r,o){return r-o}}class j{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let u=31;return o=r<<16,o!==0&&(u-=16,r=o),o=r<<8,o!==0&&(u-=8,r=o),o=r<<4,o!==0&&(u-=4,r=o),o=r<<2,o!==0&&(u-=2,r=o),u-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=$.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=$.makeArray(r);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const u=this.bits;let c=Math.floor(r/32),f=u[c];f&=~((1<<(r&31))-1);const p=u.length;for(;f===0;){if(++c===p)return o;f=u[c]}const x=c*32+j.numberOfTrailingZeros(f);return x>o?o:x}getNextUnset(r){const o=this.size;if(r>=o)return o;const u=this.bits;let c=Math.floor(r/32),f=~u[c];f&=~((1<<(r&31))-1);const p=u.length;for(;f===0;){if(++c===p)return o;f=~u[c]}const x=c*32+j.numberOfTrailingZeros(f);return x>o?o:x}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new A;if(o===r)return;o--;const u=Math.floor(r/32),c=Math.floor(o/32),f=this.bits;for(let p=u;p<=c;p++){const x=p>u?0:r&31,N=(2<<(p<c?31:o&31))-(1<<x);f[p]|=N}}clear(){const r=this.bits.length,o=this.bits;for(let u=0;u<r;u++)o[u]=0}isRange(r,o,u){if(o<r||r<0||o>this.size)throw new A;if(o===r)return!0;o--;const c=Math.floor(r/32),f=Math.floor(o/32),p=this.bits;for(let x=c;x<=f;x++){const C=x>c?0:r&31,D=(2<<(x<f?31:o&31))-(1<<C)&4294967295;if((p[x]&D)!==(u?D:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let u=o;u>0;u--)this.appendBit((r>>u-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let u=0;u<o;u++)this.appendBit(r.get(u))}xor(r){if(this.size!==r.size)throw new A("Sizes don't match");const o=this.bits;for(let u=0,c=o.length;u<c;u++)o[u]^=r.bits[u]}toBytes(r,o,u,c){for(let f=0;f<c;f++){let p=0;for(let x=0;x<8;x++)this.get(r)&&(p|=1<<7-x),r++;o[u+f]=p}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),u=o+1,c=this.bits;for(let f=0;f<u;f++){let p=c[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,r[o-f]=p}if(this.size!==u*32){const f=u*32-this.size;let p=r[0]>>>f;for(let x=1;x<u;x++){const C=r[x];p|=C<<32-f,r[x-1]=p,p=C>>>f}r[u-1]=p}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof $))return!1;const o=r;return this.size===o.size&&k.equals(this.bits,o.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let r="";for(let o=0,u=this.size;o<u;o++)o&7||(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new $(this.size,this.bits.slice())}}var de;(function(H){H[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(de||(de={}));var ne=de;class re extends v{static getFormatInstance(){return new re}}re.kind="FormatException";var te;(function(H){H[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR"})(te||(te={}));class se{constructor(r,o,u,...c){this.valueIdentifier=r,this.name=u,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,se.VALUE_IDENTIFIER_TO_ECI.set(r,this),se.NAME_TO_ECI.set(u,this);const f=this.values;for(let p=0,x=f.length;p!==x;p++){const C=f[p];se.VALUES_TO_ECI.set(C,this)}for(const p of c)se.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new re("incorect value");const o=se.VALUES_TO_ECI.get(r);if(o===void 0)throw new re("incorect value");return o}static getCharacterSetECIByName(r){const o=se.NAME_TO_ECI.get(r);if(o===void 0)throw new re("incorect value");return o}equals(r){if(!(r instanceof se))return!1;const o=r;return this.getName()===o.getName()}}se.VALUE_IDENTIFIER_TO_ECI=new Map,se.VALUES_TO_ECI=new Map,se.NAME_TO_ECI=new Map,se.Cp437=new se(te.Cp437,Int32Array.from([0,2]),"Cp437"),se.ISO8859_1=new se(te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),se.ISO8859_2=new se(te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),se.ISO8859_3=new se(te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),se.ISO8859_4=new se(te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),se.ISO8859_5=new se(te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),se.ISO8859_6=new se(te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),se.ISO8859_7=new se(te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),se.ISO8859_8=new se(te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),se.ISO8859_9=new se(te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),se.ISO8859_10=new se(te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),se.ISO8859_11=new se(te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),se.ISO8859_13=new se(te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),se.ISO8859_14=new se(te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),se.ISO8859_15=new se(te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),se.ISO8859_16=new se(te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),se.SJIS=new se(te.SJIS,20,"SJIS","Shift_JIS"),se.Cp1250=new se(te.Cp1250,21,"Cp1250","windows-1250"),se.Cp1251=new se(te.Cp1251,22,"Cp1251","windows-1251"),se.Cp1252=new se(te.Cp1252,23,"Cp1252","windows-1252"),se.Cp1256=new se(te.Cp1256,24,"Cp1256","windows-1256"),se.UnicodeBigUnmarked=new se(te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),se.UTF8=new se(te.UTF8,26,"UTF8","UTF-8"),se.ASCII=new se(te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),se.Big5=new se(te.Big5,28,"Big5"),se.GB18030=new se(te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),se.EUC_KR=new se(te.EUC_KR,30,"EUC_KR","EUC-KR");class Le extends v{}Le.kind="UnsupportedOperationException";class J{static decode(r,o){const u=this.encodingName(o);return this.customDecoder?this.customDecoder(r,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(r,u):new TextDecoder(u).decode(r)}static shouldDecodeOnFallback(r){return!J.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const u=this.encodingName(o);return this.customEncoder?this.customEncoder(r,u):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof se?r:se.getCharacterSetECIByName(r)}static decodeFallback(r,o){const u=this.encodingCharacterSet(o);if(J.isDecodeFallbackSupported(u)){let c="";for(let f=0,p=r.length;f<p;f++){let x=r[f].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(u.equals(se.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Le(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(se.UTF8)||r.equals(se.ISO8859_1)||r.equals(se.ASCII)}static encodeFallback(r){const u=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let f=0;f<u.length;f++)c.push(u[f].charCodeAt(0));return new Uint8Array(c)}}class Y{static castAsNonUtf8Char(r,o=null){const u=o?o.getName():this.ISO88591;return J.decode(new Uint8Array([r]),u)}static guessEncoding(r,o){if(o!=null&&o.get(ne.CHARACTER_SET)!==void 0)return o.get(ne.CHARACTER_SET).toString();const u=r.length;let c=!0,f=!0,p=!0,x=0,C=0,N=0,D=0,U=0,Z=0,ce=0,be=0,Ee=0,ke=0,Ge=0;const dt=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let mt=0;mt<u&&(c||f||p);mt++){const pt=r[mt]&255;p&&(x>0?pt&128?x--:p=!1:pt&128&&(pt&64?(x++,pt&32?(x++,pt&16?(x++,pt&8?p=!1:D++):N++):C++):p=!1)),c&&(pt>127&&pt<160?c=!1:pt>159&&(pt<192||pt===215||pt===247)&&Ge++),f&&(U>0?pt<64||pt===127||pt>252?f=!1:U--:pt===128||pt===160||pt>239?f=!1:pt>160&&pt<224?(Z++,be=0,ce++,ce>Ee&&(Ee=ce)):pt>127?(U++,ce=0,be++,be>ke&&(ke=be)):(ce=0,be=0))}return p&&x>0&&(p=!1),f&&U>0&&(f=!1),p&&(dt||C+N+D>0)?Y.UTF8:f&&(Y.ASSUME_SHIFT_JIS||Ee>=3||ke>=3)?Y.SHIFT_JIS:c&&f?Ee===2&&Z===2||Ge*10>=u?Y.SHIFT_JIS:Y.ISO88591:c?Y.ISO88591:f?Y.SHIFT_JIS:p?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let u=-1;function c(p,x,C,N,D,U){if(p==="%%")return"%";if(o[++u]===void 0)return;p=N?parseInt(N.substr(1)):void 0;let Z=D?parseInt(D.substr(1)):void 0,ce;switch(U){case"s":ce=o[u];break;case"c":ce=o[u][0];break;case"f":ce=parseFloat(o[u]).toFixed(p);break;case"p":ce=parseFloat(o[u]).toPrecision(p);break;case"e":ce=parseFloat(o[u]).toExponential(p);break;case"x":ce=parseInt(o[u]).toString(Z||16);break;case"d":ce=parseFloat(parseInt(o[u],Z||10).toPrecision(p)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(Z);let be=parseInt(C),Ee=C&&C[0]+""=="0"?"0":" ";for(;ce.length<be;)ce=x!==void 0?ce+Ee:Ee+ce;return ce}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,c)}static getBytes(r,o){return J.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}Y.SHIFT_JIS=se.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=se.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=se.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class ye{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,u){for(let c=o;o<o+u;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class me{constructor(r,o,u,c){if(this.width=r,this.height=o,this.rowSize=u,this.bits=c,o==null&&(o=r),this.height=o,r<1||o<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((r+31)/32)),this.rowSize=u,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,u=r[0].length,c=new me(u,o);for(let f=0;f<o;f++){const p=r[f];for(let x=0;x<u;x++)p[x]&&c.set(x,f)}return c}static parseFromString(r,o,u){if(r===null)throw new A("stringRepresentation cannot be null");const c=new Array(r.length);let f=0,p=0,x=-1,C=0,N=0;for(;N<r.length;)if(r.charAt(N)===`
`||r.charAt(N)==="\r"){if(f>p){if(x===-1)x=f-p;else if(f-p!==x)throw new A("row lengths do not match");p=f,C++}N++}else if(r.substring(N,N+o.length)===o)N+=o.length,c[f]=!0,f++;else if(r.substring(N,N+u.length)===u)N+=u.length,c[f]=!1,f++;else throw new A("illegal character encountered: "+r.substring(N));if(f>p){if(x===-1)x=f-p;else if(f-p!==x)throw new A("row lengths do not match");C++}const D=new me(x,C);for(let U=0;U<f;U++)c[U]&&D.set(Math.floor(U%x),Math.floor(U/x));return D}get(r,o){const u=o*this.rowSize+Math.floor(r/32);return(this.bits[u]>>>(r&31)&1)!==0}set(r,o){const u=o*this.rowSize+Math.floor(r/32);this.bits[u]|=1<<(r&31)&4294967295}unset(r,o){const u=o*this.rowSize+Math.floor(r/32);this.bits[u]&=~(1<<(r&31)&4294967295)}flip(r,o){const u=o*this.rowSize+Math.floor(r/32);this.bits[u]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new A("input matrix dimensions do not match");const o=new $(Math.floor(this.width/32)+1),u=this.rowSize,c=this.bits;for(let f=0,p=this.height;f<p;f++){const x=f*u,C=r.getRow(f,o).getBitArray();for(let N=0;N<u;N++)c[x+N]^=C[N]}}clear(){const r=this.bits,o=r.length;for(let u=0;u<o;u++)r[u]=0}setRegion(r,o,u,c){if(o<0||r<0)throw new A("Left and top must be nonnegative");if(c<1||u<1)throw new A("Height and width must be at least 1");const f=r+u,p=o+c;if(p>this.height||f>this.width)throw new A("The region must fit inside the matrix");const x=this.rowSize,C=this.bits;for(let N=o;N<p;N++){const D=N*x;for(let U=r;U<f;U++)C[D+Math.floor(U/32)]|=1<<(U&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new $(this.width):o.clear();const u=this.rowSize,c=this.bits,f=r*u;for(let p=0;p<u;p++)o.setBulk(p*32,c[f+p]);return o}setRow(r,o){R.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let u=new $(r),c=new $(r);for(let f=0,p=Math.floor((o+1)/2);f<p;f++)u=this.getRow(f,u),c=this.getRow(o-1-f,c),u.reverse(),c.reverse(),this.setRow(f,c),this.setRow(o-1-f,u)}getEnclosingRectangle(){const r=this.width,o=this.height,u=this.rowSize,c=this.bits;let f=r,p=o,x=-1,C=-1;for(let N=0;N<o;N++)for(let D=0;D<u;D++){const U=c[N*u+D];if(U!==0){if(N<p&&(p=N),N>C&&(C=N),D*32<f){let Z=0;for(;!(U<<31-Z&4294967295);)Z++;D*32+Z<f&&(f=D*32+Z)}if(D*32+31>x){let Z=31;for(;!(U>>>Z);)Z--;D*32+Z>x&&(x=D*32+Z)}}}return x<f||C<p?null:Int32Array.from([f,p,x-f+1,C-p+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let u=0;for(;u<o.length&&o[u]===0;)u++;if(u===o.length)return null;const c=u/r;let f=u%r*32;const p=o[u];let x=0;for(;!(p<<31-x&4294967295);)x++;return f+=x,Int32Array.from([f,c])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let u=o.length-1;for(;u>=0&&o[u]===0;)u--;if(u<0)return null;const c=Math.floor(u/r);let f=Math.floor(u%r)*32;const p=o[u];let x=31;for(;!(p>>>x);)x--;return f+=x,Int32Array.from([f,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof me))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&k.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+k.hashCode(this.bits),r}toString(r="X ",o="  ",u=`
`){return this.buildToString(r,o,u)}buildToString(r,o,u){let c=new ye;for(let f=0,p=this.height;f<p;f++){for(let x=0,C=this.width;x<C;x++)c.append(this.get(x,f)?r:o);c.append(u)}return c.toString()}clone(){return new me(this.width,this.height,this.rowSize,this.bits.slice())}}class ge extends v{static getNotFoundInstance(){return new ge}}ge.kind="NotFoundException";class Me extends O{constructor(r){super(r),this.luminances=Me.EMPTY,this.buckets=new Int32Array(Me.LUMINANCE_BUCKETS)}getBlackRow(r,o){const u=this.getLuminanceSource(),c=u.getWidth();o==null||o.getSize()<c?o=new $(c):o.clear(),this.initArrays(c);const f=u.getRow(r,this.luminances),p=this.buckets;for(let C=0;C<c;C++)p[(f[C]&255)>>Me.LUMINANCE_SHIFT]++;const x=Me.estimateBlackPoint(p);if(c<3)for(let C=0;C<c;C++)(f[C]&255)<x&&o.set(C);else{let C=f[0]&255,N=f[1]&255;for(let D=1;D<c-1;D++){const U=f[D+1]&255;(N*4-C-U)/2<x&&o.set(D),C=N,N=U}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),u=r.getHeight(),c=new me(o,u);this.initArrays(o);const f=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(u*C/5),D=r.getRow(N,this.luminances),U=Math.floor(o*4/5);for(let Z=Math.floor(o/5);Z<U;Z++){const ce=D[Z]&255;f[ce>>Me.LUMINANCE_SHIFT]++}}const p=Me.estimateBlackPoint(f),x=r.getMatrix();for(let C=0;C<u;C++){const N=C*o;for(let D=0;D<o;D++)(x[N+D]&255)<p&&c.set(D,C)}return c}createBinarizer(r){return new Me(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let u=0;u<Me.LUMINANCE_BUCKETS;u++)o[u]=0}static estimateBlackPoint(r){const o=r.length;let u=0,c=0,f=0;for(let D=0;D<o;D++)r[D]>f&&(c=D,f=r[D]),r[D]>u&&(u=r[D]);let p=0,x=0;for(let D=0;D<o;D++){const U=D-c,Z=r[D]*U*U;Z>x&&(p=D,x=Z)}if(c>p){const D=c;c=p,p=D}if(p-c<=o/16)throw new ge;let C=p-1,N=-1;for(let D=p-1;D>c;D--){const U=D-c,Z=U*U*(p-D)*(u-r[D]);Z>N&&(C=D,N=Z)}return C<<Me.LUMINANCE_SHIFT}}Me.LUMINANCE_BITS=5,Me.LUMINANCE_SHIFT=8-Me.LUMINANCE_BITS,Me.LUMINANCE_BUCKETS=1<<Me.LUMINANCE_BITS,Me.EMPTY=Uint8ClampedArray.from([0]);class Ie extends Me{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),u=r.getHeight();if(o>=Ie.MINIMUM_DIMENSION&&u>=Ie.MINIMUM_DIMENSION){const c=r.getMatrix();let f=o>>Ie.BLOCK_SIZE_POWER;o&Ie.BLOCK_SIZE_MASK&&f++;let p=u>>Ie.BLOCK_SIZE_POWER;u&Ie.BLOCK_SIZE_MASK&&p++;const x=Ie.calculateBlackPoints(c,f,p,o,u),C=new me(o,u);Ie.calculateThresholdForBlock(c,f,p,o,u,x,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new Ie(r)}static calculateThresholdForBlock(r,o,u,c,f,p,x){const C=f-Ie.BLOCK_SIZE,N=c-Ie.BLOCK_SIZE;for(let D=0;D<u;D++){let U=D<<Ie.BLOCK_SIZE_POWER;U>C&&(U=C);const Z=Ie.cap(D,2,u-3);for(let ce=0;ce<o;ce++){let be=ce<<Ie.BLOCK_SIZE_POWER;be>N&&(be=N);const Ee=Ie.cap(ce,2,o-3);let ke=0;for(let dt=-2;dt<=2;dt++){const mt=p[Z+dt];ke+=mt[Ee-2]+mt[Ee-1]+mt[Ee]+mt[Ee+1]+mt[Ee+2]}const Ge=ke/25;Ie.thresholdBlock(r,be,U,Ge,c,x)}}}static cap(r,o,u){return r<o?o:r>u?u:r}static thresholdBlock(r,o,u,c,f,p){for(let x=0,C=u*f+o;x<Ie.BLOCK_SIZE;x++,C+=f)for(let N=0;N<Ie.BLOCK_SIZE;N++)(r[C+N]&255)<=c&&p.set(o+N,u+x)}static calculateBlackPoints(r,o,u,c,f){const p=f-Ie.BLOCK_SIZE,x=c-Ie.BLOCK_SIZE,C=new Array(u);for(let N=0;N<u;N++){C[N]=new Int32Array(o);let D=N<<Ie.BLOCK_SIZE_POWER;D>p&&(D=p);for(let U=0;U<o;U++){let Z=U<<Ie.BLOCK_SIZE_POWER;Z>x&&(Z=x);let ce=0,be=255,Ee=0;for(let Ge=0,dt=D*c+Z;Ge<Ie.BLOCK_SIZE;Ge++,dt+=c){for(let mt=0;mt<Ie.BLOCK_SIZE;mt++){const pt=r[dt+mt]&255;ce+=pt,pt<be&&(be=pt),pt>Ee&&(Ee=pt)}if(Ee-be>Ie.MIN_DYNAMIC_RANGE)for(Ge++,dt+=c;Ge<Ie.BLOCK_SIZE;Ge++,dt+=c)for(let mt=0;mt<Ie.BLOCK_SIZE;mt++)ce+=r[dt+mt]&255}let ke=ce>>Ie.BLOCK_SIZE_POWER*2;if(Ee-be<=Ie.MIN_DYNAMIC_RANGE&&(ke=be/2,N>0&&U>0)){const Ge=(C[N-1][U]+2*C[N][U-1]+C[N-1][U-1])/4;be<Ge&&(ke=Ge)}C[N][U]=ke}}return C}}Ie.BLOCK_SIZE_POWER=3,Ie.BLOCK_SIZE=1<<Ie.BLOCK_SIZE_POWER,Ie.BLOCK_SIZE_MASK=Ie.BLOCK_SIZE-1,Ie.MINIMUM_DIMENSION=Ie.BLOCK_SIZE*5,Ie.MIN_DYNAMIC_RANGE=24;class pe{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,u,c){throw new Le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Le("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new ye;for(let u=0;u<this.height;u++){const c=this.getRow(u,r);for(let f=0;f<this.width;f++){const p=c[f]&255;let x;p<64?x="#":p<128?x="+":p<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class Re extends pe{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const u=this.delegate.getRow(r,o),c=this.getWidth();for(let f=0;f<c;f++)u[f]=255-(u[f]&255);return u}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o);for(let c=0;c<o;c++)u[c]=255-(r[c]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,u,c){return new Re(this.delegate.crop(r,o,u,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class Ce extends pe{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return Ce.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,u){const c=new Uint8ClampedArray(o*u);for(let f=0,p=0,x=r.length;f<x;f+=4,p++){let C;if(r[f+3]===0)C=255;else{const D=r[f],U=r[f+1],Z=r[f+2];C=306*D+601*U+117*Z+512>>10}c[p]=C}return c}getRow(r,o){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const u=this.getWidth(),c=r*u;return o===null?o=this.buffer.slice(c,c+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(c,c+u))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,u,c){return super.crop(r,o,u,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),u=o.getContext("2d"),c=r*Ce.DEGREE_TO_RADIANS,f=this.canvas.width,p=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*f+Math.abs(Math.sin(c))*p),C=Math.ceil(Math.abs(Math.sin(c))*f+Math.abs(Math.cos(c))*p);return o.width=x,o.height=C,u.translate(x/2,C/2),u.rotate(c),u.drawImage(this.canvas,f/-2,p/-2),this.buffer=Ce.makeBufferFromCanvasImageData(o),this}invert(){return new Re(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class nt{constructor(r,o,u){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var W=(globalThis||lu||self||window||void 0)&&(globalThis||lu||self||window||void 0).__awaiter||function(H,r,o,u){function c(f){return f instanceof o?f:new o(function(p){p(f)})}return new(o||(o=Promise))(function(f,p){function x(D){try{N(u.next(D))}catch(U){p(U)}}function C(D){try{N(u.throw(D))}catch(U){p(U)}}function N(D){D.done?f(D.value):c(D.value).then(x,C)}N((u=u.apply(H,r||[])).next())})};class ae{constructor(r,o=500,u){this.reader=r,this.timeBetweenScansMillis=o,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return W(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const u of r){const c=u.kind==="video"?"videoinput":u.kind;if(c!=="videoinput")continue;const f=u.deviceId||u.id,p=u.label||`Video device ${o.length+1}`,x=u.groupId,C={deviceId:f,label:p,kind:c,groupId:x};o.push(C)}return o})}getVideoInputDevices(){return W(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new nt(o.deviceId,o.label))})}findDeviceById(r){return W(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(u=>u.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return W(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return W(this,void 0,void 0,function*(){this.reset();let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(r,o){return W(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(u,o)})}decodeOnceFromStream(r,o){return W(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(r,o,u){return W(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,u)})}decodeFromVideoDevice(r,o,u){return W(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeFromConstraints(f,o,u)})}decodeFromConstraints(r,o,u){return W(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,o,u)})}decodeFromStream(r,o,u){return W(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(c,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return W(this,void 0,void 0,function*(){const u=this.prepareVideoElement(o);return this.addVideoSource(u,r),this.videoElement=u,this.stream=r,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(r){return new Promise((o,u)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return W(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const u=document.getElementById(r);if(!u)throw new _(`element with id '${r}' not found`);if(u.nodeName.toLowerCase()!==o.toLowerCase())throw new _(`element with id '${r}' must be an ${o} element`);return u}decodeFromImage(r,o){if(!r&&!o)throw new _("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new _("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,u){if(r===void 0&&o===void 0)throw new _("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,u):this.decodeFromVideoElementContinuously(r,u)}decodeFromImageElement(r){if(!r)throw new _("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let u;return this.isImageLoaded(o)?u=this.decodeOnce(o,!1,!0):u=this._decodeOnLoadImage(o),u}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const u=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(u,o)}_decodeFromVideoElementSetup(r){if(!r)throw new _("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new _("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const u=this._decodeOnLoadImage(o);return o.src=r,u}decodeFromVideoUrl(r){if(!r)throw new _("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElement(o);return o.src=r,u}decodeFromVideoUrlContinuously(r,o){if(!r)throw new _("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(u,o);return u.src=r,c}_decodeOnLoadImage(r){return new Promise((o,u)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,u),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return W(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return W(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,u=!0){this._stopAsyncDecode=!1;const c=(f,p)=>{if(this._stopAsyncDecode){p(new ge("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(r);f(x)}catch(x){const C=o&&x instanceof ge,D=(x instanceof E||x instanceof re)&&u;if(C||D)return setTimeout(c,this._timeBetweenDecodingAttempts,f,p);p(x)}};return new Promise((f,p)=>c(f,p))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);o(c,null),setTimeout(u,this.timeBetweenScansMillis)}catch(c){o(null,c);const f=c instanceof E||c instanceof re,p=c instanceof ge;(f||p)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,u){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,u=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),u=new Ce(o),c=new Ie(u);return new I(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let u,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(u=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(u=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),o.style.width=u+"px",o.style.height=c+"px",o.width=u,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class le{constructor(r,o,u=o==null?0:8*o.length,c,f,p=R.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=u,this.resultPoints=c,this.format=f,this.timestamp=p,this.text=r,this.rawBytes=o,u==null?this.numBits=o==null?0:8*o.length:this.numBits=u,this.resultPoints=c,this.format=f,this.resultMetadata=null,p==null?this.timestamp=R.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const u=new Array(o.length+r.length);R.arraycopy(o,0,u,0,o.length),R.arraycopy(r,0,u,o.length,r.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var xe;(function(H){H[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xe||(xe={}));var he=xe,Fe;(function(H){H[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Fe||(Fe={}));var je=Fe;class qe{constructor(r,o,u,c,f=-1,p=-1){this.rawBytes=r,this.text=o,this.byteSegments=u,this.ecLevel=c,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class yt{exp(r){return this.expTable[r]}log(r){if(r===0)throw new A;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class it{constructor(r,o){if(o.length===0)throw new A;this.field=r;const u=o.length;if(u>1&&o[0]===0){let c=1;for(;c<u&&o[c]===0;)c++;c===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-c),R.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let u;if(r===1){u=0;for(let p=0,x=o.length;p!==x;p++){const C=o[p];u=yt.addOrSubtract(u,C)}return u}u=o[0];const c=o.length,f=this.field;for(let p=1;p<c;p++)u=yt.addOrSubtract(f.multiply(r,u),o[p]);return u}addOrSubtract(r){if(!this.field.equals(r.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,u=r.coefficients;if(o.length>u.length){const p=o;o=u,u=p}let c=new Int32Array(u.length);const f=u.length-o.length;R.arraycopy(u,0,c,0,f);for(let p=f;p<u.length;p++)c[p]=yt.addOrSubtract(o[p-f],u[p]);return new it(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,u=o.length,c=r.coefficients,f=c.length,p=new Int32Array(u+f-1),x=this.field;for(let C=0;C<u;C++){const N=o[C];for(let D=0;D<f;D++)p[C+D]=yt.addOrSubtract(p[C+D],x.multiply(N,c[D]))}return new it(x,p)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,u=this.field,c=new Int32Array(o),f=this.coefficients;for(let p=0;p<o;p++)c[p]=u.multiply(f[p],r);return new it(u,c)}multiplyByMonomial(r,o){if(r<0)throw new A;if(o===0)return this.field.getZero();const u=this.coefficients,c=u.length,f=new Int32Array(c+r),p=this.field;for(let x=0;x<c;x++)f[x]=p.multiply(u[x],o);return new it(p,f)}divide(r){if(!this.field.equals(r.field))throw new A("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new A("Divide by 0");const o=this.field;let u=o.getZero(),c=this;const f=r.getCoefficient(r.getDegree()),p=o.inverse(f);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const x=c.getDegree()-r.getDegree(),C=o.multiply(c.getCoefficient(c.getDegree()),p),N=r.multiplyByMonomial(x,C),D=o.buildMonomial(x,C);u=u.addOrSubtract(D),c=c.addOrSubtract(N)}return[u,c]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);if(u!==0){if(u<0?(r+=" - ",u=-u):r.length>0&&(r+=" + "),o===0||u!==1){const c=this.field.log(u);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class bt extends v{}bt.kind="ArithmeticException";class lt extends yt{constructor(r,o,u){super(),this.primitive=r,this.size=o,this.generatorBase=u;const c=new Int32Array(o);let f=1;for(let x=0;x<o;x++)c[x]=f,f*=2,f>=o&&(f^=r,f&=o-1);this.expTable=c;const p=new Int32Array(o);for(let x=0;x<o-1;x++)p[c[x]]=x;this.logTable=p,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new A;if(o===0)return this.zero;const u=new Int32Array(r+1);return u[0]=o,new it(this,u)}inverse(r){if(r===0)throw new bt;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class Yt extends v{}Yt.kind="ReedSolomonException";class Xe extends v{}Xe.kind="IllegalStateException";class we{constructor(r){this.field=r}decode(r,o){const u=this.field,c=new it(u,r),f=new Int32Array(o);let p=!0;for(let ce=0;ce<o;ce++){const be=c.evaluateAt(u.exp(ce+u.getGeneratorBase()));f[f.length-1-ce]=be,be!==0&&(p=!1)}if(p)return;const x=new it(u,f),C=this.runEuclideanAlgorithm(u.buildMonomial(o,1),x,o),N=C[0],D=C[1],U=this.findErrorLocations(N),Z=this.findErrorMagnitudes(D,U);for(let ce=0;ce<U.length;ce++){const be=r.length-1-u.log(U[ce]);if(be<0)throw new Yt("Bad error location");r[be]=lt.addOrSubtract(r[be],Z[ce])}}runEuclideanAlgorithm(r,o,u){if(r.getDegree()<o.getDegree()){const ce=r;r=o,o=ce}const c=this.field;let f=r,p=o,x=c.getZero(),C=c.getOne();for(;p.getDegree()>=(u/2|0);){let ce=f,be=x;if(f=p,x=C,f.isZero())throw new Yt("r_{i-1} was zero");p=ce;let Ee=c.getZero();const ke=f.getCoefficient(f.getDegree()),Ge=c.inverse(ke);for(;p.getDegree()>=f.getDegree()&&!p.isZero();){const dt=p.getDegree()-f.getDegree(),mt=c.multiply(p.getCoefficient(p.getDegree()),Ge);Ee=Ee.addOrSubtract(c.buildMonomial(dt,mt)),p=p.addOrSubtract(f.multiplyByMonomial(dt,mt))}if(C=Ee.multiply(x).addOrSubtract(be),p.getDegree()>=f.getDegree())throw new Xe("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new Yt("sigmaTilde(0) was zero");const D=c.inverse(N),U=C.multiplyScalar(D),Z=p.multiplyScalar(D);return[U,Z]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const u=new Int32Array(o);let c=0;const f=this.field;for(let p=1;p<f.getSize()&&c<o;p++)r.evaluateAt(p)===0&&(u[c]=f.inverse(p),c++);if(c!==o)throw new Yt("Error locator degree does not match number of roots");return u}findErrorMagnitudes(r,o){const u=o.length,c=new Int32Array(u),f=this.field;for(let p=0;p<u;p++){const x=f.inverse(o[p]);let C=1;for(let N=0;N<u;N++)if(p!==N){const D=f.multiply(o[N],x),U=D&1?D&-2:D|1;C=f.multiply(C,U)}c[p]=f.multiply(r.evaluateAt(x),f.inverse(C)),f.getGeneratorBase()!==0&&(c[p]=f.multiply(c[p],x))}return c}}var Ut;(function(H){H[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY"})(Ut||(Ut={}));class wt{decode(r){this.ddata=r;let o=r.getBits(),u=this.extractBits(o),c=this.correctBits(u),f=wt.convertBoolArrayToByteArray(c),p=wt.getEncodedData(c),x=new qe(f,p,null,null);return x.setNumBits(c.length),x}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,u=Ut.UPPER,c=Ut.UPPER,f="",p=0;for(;p<o;)if(c===Ut.BINARY){if(o-p<5)break;let x=wt.readCode(r,p,5);if(p+=5,x===0){if(o-p<11)break;x=wt.readCode(r,p,11)+31,p+=11}for(let C=0;C<x;C++){if(o-p<8){p=o;break}const N=wt.readCode(r,p,8);f+=Y.castAsNonUtf8Char(N),p+=8}c=u}else{let x=c===Ut.DIGIT?4:5;if(o-p<x)break;let C=wt.readCode(r,p,x);p+=x;let N=wt.getCharacter(c,C);N.startsWith("CTRL_")?(u=c,c=wt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(u=c)):(f+=N,c=u)}return f}static getTable(r){switch(r){case"L":return Ut.LOWER;case"P":return Ut.PUNCT;case"M":return Ut.MIXED;case"D":return Ut.DIGIT;case"B":return Ut.BINARY;case"U":default:return Ut.UPPER}}static getCharacter(r,o){switch(r){case Ut.UPPER:return wt.UPPER_TABLE[o];case Ut.LOWER:return wt.LOWER_TABLE[o];case Ut.MIXED:return wt.MIXED_TABLE[o];case Ut.PUNCT:return wt.PUNCT_TABLE[o];case Ut.DIGIT:return wt.DIGIT_TABLE[o];default:throw new Xe("Bad table")}}correctBits(r){let o,u;this.ddata.getNbLayers()<=2?(u=6,o=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,o=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,o=lt.AZTEC_DATA_10):(u=12,o=lt.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),f=r.length/u;if(f<c)throw new re;let p=r.length%u,x=new Int32Array(f);for(let Z=0;Z<f;Z++,p+=u)x[Z]=wt.readCode(r,p,u);try{new we(o).decode(x,f-c)}catch(Z){throw new re(Z)}let C=(1<<u)-1,N=0;for(let Z=0;Z<c;Z++){let ce=x[Z];if(ce===0||ce===C)throw new re;(ce===1||ce===C-1)&&N++}let D=new Array(c*u-N),U=0;for(let Z=0;Z<c;Z++){let ce=x[Z];if(ce===1||ce===C-1)D.fill(ce>1,U,U+u-1),U+=u-1;else for(let be=u-1;be>=0;--be)D[U++]=(ce&1<<be)!==0}return D}extractBits(r){let o=this.ddata.isCompact(),u=this.ddata.getNbLayers(),c=(o?11:14)+u*4,f=new Int32Array(c),p=new Array(this.totalBitsInLayer(u,o));if(o)for(let x=0;x<f.length;x++)f[x]=x;else{let x=c+1+2*j.truncDivision(j.truncDivision(c,2)-1,15),C=c/2,N=j.truncDivision(x,2);for(let D=0;D<C;D++){let U=D+j.truncDivision(D,15);f[C-D-1]=N-U-1,f[C+D]=N+U+1}}for(let x=0,C=0;x<u;x++){let N=(u-x)*4+(o?9:12),D=x*2,U=c-1-D;for(let Z=0;Z<N;Z++){let ce=Z*2;for(let be=0;be<2;be++)p[C+ce+be]=r.get(f[D+be],f[D+Z]),p[C+2*N+ce+be]=r.get(f[D+Z],f[U-be]),p[C+4*N+ce+be]=r.get(f[U-be],f[U-Z]),p[C+6*N+ce+be]=r.get(f[U-Z],f[D+be])}C+=N*8}return p}static readCode(r,o,u){let c=0;for(let f=o;f<o+u;f++)c<<=1,r[f]&&(c|=1);return c}static readByte(r,o){let u=r.length-o;return u>=8?wt.readCode(r,o,8):wt.readCode(r,o,u)<<8-u}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let u=0;u<o.length;u++)o[u]=wt.readByte(r,8*u);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,u,c){const f=r-u,p=o-c;return Math.sqrt(f*f+p*p)}static sum(r){let o=0;for(let u=0,c=r.length;u!==c;u++){const f=r[u];o+=f}return o}}class At{static floatToIntBits(r){return r}}At.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Je{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Je){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*At.floatToIntBits(this.x)+At.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),u=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let f,p,x;if(u>=o&&u>=c?(p=r[0],f=r[1],x=r[2]):c>=u&&c>=o?(p=r[1],f=r[0],x=r[2]):(p=r[2],f=r[0],x=r[1]),this.crossProductZ(f,p,x)<0){const C=f;f=x,x=C}r[0]=f,r[1]=p,r[2]=x}static distance(r,o){return rt.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,u){const c=o.x,f=o.y;return(u.x-c)*(r.y-f)-(u.y-f)*(r.x-c)}}class St{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ft extends St{constructor(r,o,u,c,f){super(r,o),this.compact=u,this.nbDatablocks=c,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Zt{constructor(r,o,u,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=Zt.INIT_SIZE),u==null&&(u=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const f=o/2|0;if(this.leftInit=u-f,this.rightInit=u+f,this.upInit=c-f,this.downInit=c+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ge}detect(){let r=this.leftInit,o=this.rightInit,u=this.upInit,c=this.downInit,f=!1,p=!0,x=!1,C=!1,N=!1,D=!1,U=!1;const Z=this.width,ce=this.height;for(;p;){p=!1;let be=!0;for(;(be||!C)&&o<Z;)be=this.containsBlackPoint(u,c,o,!1),be?(o++,p=!0,C=!0):C||o++;if(o>=Z){f=!0;break}let Ee=!0;for(;(Ee||!N)&&c<ce;)Ee=this.containsBlackPoint(r,o,c,!0),Ee?(c++,p=!0,N=!0):N||c++;if(c>=ce){f=!0;break}let ke=!0;for(;(ke||!D)&&r>=0;)ke=this.containsBlackPoint(u,c,r,!1),ke?(r--,p=!0,D=!0):D||r--;if(r<0){f=!0;break}let Ge=!0;for(;(Ge||!U)&&u>=0;)Ge=this.containsBlackPoint(r,o,u,!0),Ge?(u--,p=!0,U=!0):U||u--;if(u<0){f=!0;break}p&&(x=!0)}if(!f&&x){const be=o-r;let Ee=null;for(let mt=1;Ee===null&&mt<be;mt++)Ee=this.getBlackPointOnSegment(r,c-mt,r+mt,c);if(Ee==null)throw new ge;let ke=null;for(let mt=1;ke===null&&mt<be;mt++)ke=this.getBlackPointOnSegment(r,u+mt,r+mt,u);if(ke==null)throw new ge;let Ge=null;for(let mt=1;Ge===null&&mt<be;mt++)Ge=this.getBlackPointOnSegment(o,u+mt,o-mt,u);if(Ge==null)throw new ge;let dt=null;for(let mt=1;dt===null&&mt<be;mt++)dt=this.getBlackPointOnSegment(o,c-mt,o-mt,c);if(dt==null)throw new ge;return this.centerEdges(dt,Ee,Ge,ke)}else throw new ge}getBlackPointOnSegment(r,o,u,c){const f=rt.round(rt.distance(r,o,u,c)),p=(u-r)/f,x=(c-o)/f,C=this.image;for(let N=0;N<f;N++){const D=rt.round(r+N*p),U=rt.round(o+N*x);if(C.get(D,U))return new Je(D,U)}return null}centerEdges(r,o,u,c){const f=r.getX(),p=r.getY(),x=o.getX(),C=o.getY(),N=u.getX(),D=u.getY(),U=c.getX(),Z=c.getY(),ce=Zt.CORR;return f<this.width/2?[new Je(U-ce,Z+ce),new Je(x+ce,C+ce),new Je(N-ce,D-ce),new Je(f+ce,p-ce)]:[new Je(U+ce,Z+ce),new Je(x+ce,C-ce),new Je(N-ce,D+ce),new Je(f-ce,p-ce)]}containsBlackPoint(r,o,u,c){const f=this.image;if(c){for(let p=r;p<=o;p++)if(f.get(p,u))return!0}else for(let p=r;p<=o;p++)if(f.get(u,p))return!0;return!1}}Zt.INIT_SIZE=10,Zt.CORR=1;class un{static checkAndNudgePoints(r,o){const u=r.getWidth(),c=r.getHeight();let f=!0;for(let p=0;p<o.length&&f;p+=2){const x=Math.floor(o[p]),C=Math.floor(o[p+1]);if(x<-1||x>u||C<-1||C>c)throw new ge;f=!1,x===-1?(o[p]=0,f=!0):x===u&&(o[p]=u-1,f=!0),C===-1?(o[p+1]=0,f=!0):C===c&&(o[p+1]=c-1,f=!0)}f=!0;for(let p=o.length-2;p>=0&&f;p-=2){const x=Math.floor(o[p]),C=Math.floor(o[p+1]);if(x<-1||x>u||C<-1||C>c)throw new ge;f=!1,x===-1?(o[p]=0,f=!0):x===u&&(o[p]=u-1,f=!0),C===-1?(o[p+1]=0,f=!0):C===c&&(o[p+1]=c-1,f=!0)}}}class Qt{constructor(r,o,u,c,f,p,x,C,N){this.a11=r,this.a21=o,this.a31=u,this.a12=c,this.a22=f,this.a32=p,this.a13=x,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(r,o,u,c,f,p,x,C,N,D,U,Z,ce,be,Ee,ke){const Ge=Qt.quadrilateralToSquare(r,o,u,c,f,p,x,C);return Qt.squareToQuadrilateral(N,D,U,Z,ce,be,Ee,ke).times(Ge)}transformPoints(r){const o=r.length,u=this.a11,c=this.a12,f=this.a13,p=this.a21,x=this.a22,C=this.a23,N=this.a31,D=this.a32,U=this.a33;for(let Z=0;Z<o;Z+=2){const ce=r[Z],be=r[Z+1],Ee=f*ce+C*be+U;r[Z]=(u*ce+p*be+N)/Ee,r[Z+1]=(c*ce+x*be+D)/Ee}}transformPointsWithValues(r,o){const u=this.a11,c=this.a12,f=this.a13,p=this.a21,x=this.a22,C=this.a23,N=this.a31,D=this.a32,U=this.a33,Z=r.length;for(let ce=0;ce<Z;ce++){const be=r[ce],Ee=o[ce],ke=f*be+C*Ee+U;r[ce]=(u*be+p*Ee+N)/ke,o[ce]=(c*be+x*Ee+D)/ke}}static squareToQuadrilateral(r,o,u,c,f,p,x,C){const N=r-u+f-x,D=o-c+p-C;if(N===0&&D===0)return new Qt(u-r,f-u,r,c-o,p-c,o,0,0,1);{const U=u-f,Z=x-f,ce=c-p,be=C-p,Ee=U*be-Z*ce,ke=(N*be-Z*D)/Ee,Ge=(U*D-N*ce)/Ee;return new Qt(u-r+ke*u,x-r+Ge*x,r,c-o+ke*c,C-o+Ge*C,o,ke,Ge,1)}}static quadrilateralToSquare(r,o,u,c,f,p,x,C){return Qt.squareToQuadrilateral(r,o,u,c,f,p,x,C).buildAdjoint()}buildAdjoint(){return new Qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Qt(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class xn extends un{sampleGrid(r,o,u,c,f,p,x,C,N,D,U,Z,ce,be,Ee,ke,Ge,dt,mt){const pt=Qt.quadrilateralToQuadrilateral(c,f,p,x,C,N,D,U,Z,ce,be,Ee,ke,Ge,dt,mt);return this.sampleGridWithTransform(r,o,u,pt)}sampleGridWithTransform(r,o,u,c){if(o<=0||u<=0)throw new ge;const f=new me(o,u),p=new Float32Array(2*o);for(let x=0;x<u;x++){const C=p.length,N=x+.5;for(let D=0;D<C;D+=2)p[D]=D/2+.5,p[D+1]=N;c.transformPoints(p),un.checkAndNudgePoints(r,p);try{for(let D=0;D<C;D+=2)r.get(Math.floor(p[D]),Math.floor(p[D+1]))&&f.set(D/2,x)}catch{throw new ge}}return f}}class cn{static setGridSampler(r){cn.gridSampler=r}static getInstance(){return cn.gridSampler}}cn.gridSampler=new xn;class zt{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new Je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class wn{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),u=this.getBullsEyeCorners(o);if(r){let p=u[0];u[0]=u[2],u[2]=p}this.extractParameters(u);let c=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),f=this.getMatrixCornerPoints(u);return new Ft(c,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new ge;let o=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(u,o);let c=0;for(let p=0;p<4;p++){let x=u[(this.shift+p)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let f=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(r,o){let u=0;r.forEach((c,f,p)=>{let x=(c>>o-2<<1)+(c&1);u=(u<<3)+x}),u=((u&1)<<11)+(u>>1);for(let c=0;c<4;c++)if(j.bitCount(u^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new ge}getCorrectedParameterData(r,o){let u,c;o?(u=7,c=2):(u=10,c=4);let f=u-c,p=new Int32Array(u);for(let C=u-1;C>=0;--C)p[C]=r&15,r>>=4;try{new we(lt.AZTEC_PARAM).decode(p,f)}catch{throw new ge}let x=0;for(let C=0;C<c;C++)x=(x<<4)+p[C];return x}getBullsEyeCorners(r){let o=r,u=r,c=r,f=r,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let U=this.getFirstDifferent(o,p,1,-1),Z=this.getFirstDifferent(u,p,1,1),ce=this.getFirstDifferent(c,p,-1,1),be=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){let Ee=this.distancePoint(be,U)*this.nbCenterLayers/(this.distancePoint(f,o)*(this.nbCenterLayers+2));if(Ee<.75||Ee>1.25||!this.isWhiteOrBlackRectangle(U,Z,ce,be))break}o=U,u=Z,c=ce,f=be,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ge;this.compact=this.nbCenterLayers===5;let x=new Je(o.getX()+.5,o.getY()-.5),C=new Je(u.getX()+.5,u.getY()+.5),N=new Je(c.getX()-.5,c.getY()+.5),D=new Je(f.getX()-.5,f.getY()-.5);return this.expandSquare([x,C,N,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,u,c;try{let x=new Zt(this.image).detect();r=x[0],o=x[1],u=x[2],c=x[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;r=this.getFirstDifferent(new zt(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new zt(C+7,N+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new zt(C-7,N+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new zt(C-7,N-7),!1,-1,-1).toResultPoint()}let f=rt.round((r.getX()+c.getX()+o.getX()+u.getX())/4),p=rt.round((r.getY()+c.getY()+o.getY()+u.getY())/4);try{let x=new Zt(this.image,15,f,p).detect();r=x[0],o=x[1],u=x[2],c=x[3]}catch{r=this.getFirstDifferent(new zt(f+7,p-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new zt(f+7,p+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new zt(f-7,p+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new zt(f-7,p-7),!1,-1,-1).toResultPoint()}return f=rt.round((r.getX()+c.getX()+o.getX()+u.getX())/4),p=rt.round((r.getY()+c.getY()+o.getY()+u.getY())/4),new zt(f,p)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,u,c,f){let p=cn.getInstance(),x=this.getDimension(),C=x/2-this.nbCenterLayers,N=x/2+this.nbCenterLayers;return p.sampleGrid(r,x,x,C,C,N,C,N,N,C,N,o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY(),f.getX(),f.getY())}sampleLine(r,o,u){let c=0,f=this.distanceResultPoint(r,o),p=f/u,x=r.getX(),C=r.getY(),N=p*(o.getX()-r.getX())/f,D=p*(o.getY()-r.getY())/f;for(let U=0;U<u;U++)this.image.get(rt.round(x+U*N),rt.round(C+U*D))&&(c|=1<<u-U-1);return c}isWhiteOrBlackRectangle(r,o,u,c){let f=3;r=new zt(r.getX()-f,r.getY()+f),o=new zt(o.getX()-f,o.getY()-f),u=new zt(u.getX()+f,u.getY()-f),c=new zt(c.getX()+f,c.getY()+f);let p=this.getColor(c,r);if(p===0)return!1;let x=this.getColor(r,o);return x!==p||(x=this.getColor(o,u),x!==p)?!1:(x=this.getColor(u,c),x===p)}getColor(r,o){let u=this.distancePoint(r,o),c=(o.getX()-r.getX())/u,f=(o.getY()-r.getY())/u,p=0,x=r.getX(),C=r.getY(),N=this.image.get(r.getX(),r.getY()),D=Math.ceil(u);for(let Z=0;Z<D;Z++)x+=c,C+=f,this.image.get(rt.round(x),rt.round(C))!==N&&p++;let U=p/u;return U>.1&&U<.9?0:U<=.1===N?1:-1}getFirstDifferent(r,o,u,c){let f=r.getX()+u,p=r.getY()+c;for(;this.isValid(f,p)&&this.image.get(f,p)===o;)f+=u,p+=c;for(f-=u,p-=c;this.isValid(f,p)&&this.image.get(f,p)===o;)f+=u;for(f-=u;this.isValid(f,p)&&this.image.get(f,p)===o;)p+=c;return p-=c,new zt(f,p)}expandSquare(r,o,u){let c=u/(2*o),f=r[0].getX()-r[2].getX(),p=r[0].getY()-r[2].getY(),x=(r[0].getX()+r[2].getX())/2,C=(r[0].getY()+r[2].getY())/2,N=new Je(x+c*f,C+c*p),D=new Je(x-c*f,C-c*p);f=r[1].getX()-r[3].getX(),p=r[1].getY()-r[3].getY(),x=(r[1].getX()+r[3].getX())/2,C=(r[1].getY()+r[3].getY())/2;let U=new Je(x+c*f,C+c*p),Z=new Je(x-c*f,C-c*p);return[N,U,D,Z]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=rt.round(r.getX()),u=rt.round(r.getY());return this.isValid(o,u)}distancePoint(r,o){return rt.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return rt.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class It{decode(r,o=null){let u=null,c=new wn(r.getBlackMatrix()),f=null,p=null;try{let D=c.detectMirror(!1);f=D.getPoints(),this.reportFoundResultPoints(o,f),p=new wt().decode(D)}catch(D){u=D}if(p==null)try{let D=c.detectMirror(!0);f=D.getPoints(),this.reportFoundResultPoints(o,f),p=new wt().decode(D)}catch(D){throw u??D}let x=new le(p.getText(),p.getRawBytes(),p.getNumBits(),f,he.AZTEC,R.currentTimeMillis()),C=p.getByteSegments();C!=null&&x.putMetadata(je.BYTE_SEGMENTS,C);let N=p.getECLevel();return N!=null&&x.putMetadata(je.ERROR_CORRECTION_LEVEL,N),x}reportFoundResultPoints(r,o){if(r!=null){let u=r.get(ne.NEED_RESULT_POINT_CALLBACK);u!=null&&o.forEach((c,f,p)=>{u.foundPossibleResultPoint(c)})}}reset(){}}class hr extends ae{constructor(r=500){super(new It,r)}}class Kt{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(ne.TRY_HARDER)===!0&&r.isRotateSupported()){const f=r.rotateCounterClockwise(),p=this.doDecode(f,o),x=p.getResultMetadata();let C=270;x!==null&&x.get(je.ORIENTATION)===!0&&(C=C+x.get(je.ORIENTATION)%360),p.putMetadata(je.ORIENTATION,C);const N=p.getResultPoints();if(N!==null){const D=f.getHeight();for(let U=0;U<N.length;U++)N[U]=new Je(D-N[U].getY()-1,N[U].getX())}return p}else throw new ge}}reset(){}doDecode(r,o){const u=r.getWidth(),c=r.getHeight();let f=new $(u);const p=o&&o.get(ne.TRY_HARDER)===!0,x=Math.max(1,c>>(p?8:5));let C;p?C=c:C=15;const N=Math.trunc(c/2);for(let D=0;D<C;D++){const U=Math.trunc((D+1)/2),Z=(D&1)===0,ce=N+x*(Z?U:-U);if(ce<0||ce>=c)break;try{f=r.getBlackRow(ce,f)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(f.reverse(),o&&o.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const Ee=new Map;o.forEach((ke,Ge)=>Ee.set(Ge,ke)),Ee.delete(ne.NEED_RESULT_POINT_CALLBACK),o=Ee}try{const Ee=this.decodeRow(ce,f,o);if(be===1){Ee.putMetadata(je.ORIENTATION,180);const ke=Ee.getResultPoints();ke!==null&&(ke[0]=new Je(u-ke[0].getX()-1,ke[0].getY()),ke[1]=new Je(u-ke[1].getX()-1,ke[1].getY()))}return Ee}catch{}}}throw new ge}static recordPattern(r,o,u){const c=u.length;for(let N=0;N<c;N++)u[N]=0;const f=r.getSize();if(o>=f)throw new ge;let p=!r.get(o),x=0,C=o;for(;C<f;){if(r.get(C)!==p)u[x]++;else{if(++x===c)break;u[x]=1,p=!p}C++}if(!(x===c||x===c-1&&C===f))throw new ge}static recordPatternInReverse(r,o,u){let c=u.length,f=r.get(o);for(;o>0&&c>=0;)r.get(--o)!==f&&(c--,f=!f);if(c>=0)throw new ge;Kt.recordPattern(r,o+1,u)}static patternMatchVariance(r,o,u){const c=r.length;let f=0,p=0;for(let N=0;N<c;N++)f+=r[N],p+=o[N];if(f<p)return Number.POSITIVE_INFINITY;const x=f/p;u*=x;let C=0;for(let N=0;N<c;N++){const D=r[N],U=o[N]*x,Z=D>U?D-U:U-D;if(Z>u)return Number.POSITIVE_INFINITY;C+=Z}return C/f}}class xt extends Kt{static findStartPattern(r){const o=r.getSize(),u=r.getNextSet(0);let c=0,f=Int32Array.from([0,0,0,0,0,0]),p=u,x=!1;const C=6;for(let N=u;N<o;N++)if(r.get(N)!==x)f[c]++;else{if(c===C-1){let D=xt.MAX_AVG_VARIANCE,U=-1;for(let Z=xt.CODE_START_A;Z<=xt.CODE_START_C;Z++){const ce=Kt.patternMatchVariance(f,xt.CODE_PATTERNS[Z],xt.MAX_INDIVIDUAL_VARIANCE);ce<D&&(D=ce,U=Z)}if(U>=0&&r.isRange(Math.max(0,p-(N-p)/2),p,!1))return Int32Array.from([p,N,U]);p+=f[0]+f[1],f=f.slice(2,f.length-1),f[c-1]=0,f[c]=0,c--}else c++;f[c]=1,x=!x}throw new ge}static decodeCode(r,o,u){Kt.recordPattern(r,u,o);let c=xt.MAX_AVG_VARIANCE,f=-1;for(let p=0;p<xt.CODE_PATTERNS.length;p++){const x=xt.CODE_PATTERNS[p],C=this.patternMatchVariance(o,x,xt.MAX_INDIVIDUAL_VARIANCE);C<c&&(c=C,f=p)}if(f>=0)return f;throw new ge}decodeRow(r,o,u){const c=u&&u.get(ne.ASSUME_GS1)===!0,f=xt.findStartPattern(o),p=f[2];let x=0;const C=new Uint8Array(20);C[x++]=p;let N;switch(p){case xt.CODE_START_A:N=xt.CODE_CODE_A;break;case xt.CODE_START_B:N=xt.CODE_CODE_B;break;case xt.CODE_START_C:N=xt.CODE_CODE_C;break;default:throw new re}let D=!1,U=!1,Z="",ce=f[0],be=f[1];const Ee=Int32Array.from([0,0,0,0,0,0]);let ke=0,Ge=0,dt=p,mt=0,pt=!0,Nn=!1,gn=!1;for(;!D;){const ji=U;switch(U=!1,ke=Ge,Ge=xt.decodeCode(o,Ee,be),C[x++]=Ge,Ge!==xt.CODE_STOP&&(pt=!0),Ge!==xt.CODE_STOP&&(mt++,dt+=mt*Ge),ce=be,be+=Ee.reduce((oo,gi)=>oo+gi,0),Ge){case xt.CODE_START_A:case xt.CODE_START_B:case xt.CODE_START_C:throw new re}switch(N){case xt.CODE_CODE_A:if(Ge<64)gn===Nn?Z+=String.fromCharCode(" ".charCodeAt(0)+Ge):Z+=String.fromCharCode(" ".charCodeAt(0)+Ge+128),gn=!1;else if(Ge<96)gn===Nn?Z+=String.fromCharCode(Ge-64):Z+=String.fromCharCode(Ge+64),gn=!1;else switch(Ge!==xt.CODE_STOP&&(pt=!1),Ge){case xt.CODE_FNC_1:c&&(Z.length===0?Z+="]C1":Z+=String.fromCharCode(29));break;case xt.CODE_FNC_2:case xt.CODE_FNC_3:break;case xt.CODE_FNC_4_A:!Nn&&gn?(Nn=!0,gn=!1):Nn&&gn?(Nn=!1,gn=!1):gn=!0;break;case xt.CODE_SHIFT:U=!0,N=xt.CODE_CODE_B;break;case xt.CODE_CODE_B:N=xt.CODE_CODE_B;break;case xt.CODE_CODE_C:N=xt.CODE_CODE_C;break;case xt.CODE_STOP:D=!0;break}break;case xt.CODE_CODE_B:if(Ge<96)gn===Nn?Z+=String.fromCharCode(" ".charCodeAt(0)+Ge):Z+=String.fromCharCode(" ".charCodeAt(0)+Ge+128),gn=!1;else switch(Ge!==xt.CODE_STOP&&(pt=!1),Ge){case xt.CODE_FNC_1:c&&(Z.length===0?Z+="]C1":Z+=String.fromCharCode(29));break;case xt.CODE_FNC_2:case xt.CODE_FNC_3:break;case xt.CODE_FNC_4_B:!Nn&&gn?(Nn=!0,gn=!1):Nn&&gn?(Nn=!1,gn=!1):gn=!0;break;case xt.CODE_SHIFT:U=!0,N=xt.CODE_CODE_A;break;case xt.CODE_CODE_A:N=xt.CODE_CODE_A;break;case xt.CODE_CODE_C:N=xt.CODE_CODE_C;break;case xt.CODE_STOP:D=!0;break}break;case xt.CODE_CODE_C:if(Ge<100)Ge<10&&(Z+="0"),Z+=Ge;else switch(Ge!==xt.CODE_STOP&&(pt=!1),Ge){case xt.CODE_FNC_1:c&&(Z.length===0?Z+="]C1":Z+=String.fromCharCode(29));break;case xt.CODE_CODE_A:N=xt.CODE_CODE_A;break;case xt.CODE_CODE_B:N=xt.CODE_CODE_B;break;case xt.CODE_STOP:D=!0;break}break}ji&&(N=N===xt.CODE_CODE_A?xt.CODE_CODE_B:xt.CODE_CODE_A)}const nr=be-ce;if(be=o.getNextUnset(be),!o.isRange(be,Math.min(o.getSize(),be+(be-ce)/2),!1))throw new ge;if(dt-=mt*ke,dt%103!==ke)throw new E;const Wr=Z.length;if(Wr===0)throw new ge;Wr>0&&pt&&(N===xt.CODE_CODE_C?Z=Z.substring(0,Wr-2):Z=Z.substring(0,Wr-1));const Br=(f[1]+f[0])/2,jn=ce+nr/2,Rr=C.length,Vr=new Uint8Array(Rr);for(let ji=0;ji<Rr;ji++)Vr[ji]=C[ji];const Yi=[new Je(Br,r),new Je(jn,r)];return new le(Z,Vr,0,Yi,he.CODE_128,new Date().getTime())}}xt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xt.MAX_AVG_VARIANCE=.25,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.CODE_SHIFT=98,xt.CODE_CODE_C=99,xt.CODE_CODE_B=100,xt.CODE_CODE_A=101,xt.CODE_FNC_1=102,xt.CODE_FNC_2=97,xt.CODE_FNC_3=96,xt.CODE_FNC_4_A=101,xt.CODE_FNC_4_B=100,xt.CODE_START_A=103,xt.CODE_START_B=104,xt.CODE_START_C=105,xt.CODE_STOP=106;class nn extends Kt{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,u){let c=this.counters;c.fill(0),this.decodeRowResult="";let f=nn.findAsteriskPattern(o,c),p=o.getNextSet(f[1]),x=o.getSize(),C,N;do{nn.recordPattern(o,p,c);let Ee=nn.toNarrowWidePattern(c);if(Ee<0)throw new ge;C=nn.patternToChar(Ee),this.decodeRowResult+=C,N=p;for(let ke of c)p+=ke;p=o.getNextSet(p)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let Ee of c)D+=Ee;let U=p-N-D;if(p!==x&&U*2<D)throw new ge;if(this.usingCheckDigit){let Ee=this.decodeRowResult.length-1,ke=0;for(let Ge=0;Ge<Ee;Ge++)ke+=nn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ge));if(this.decodeRowResult.charAt(Ee)!==nn.ALPHABET_STRING.charAt(ke%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,Ee)}if(this.decodeRowResult.length===0)throw new ge;let Z;this.extendedMode?Z=nn.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let ce=(f[1]+f[0])/2,be=N+D/2;return new le(Z,null,0,[new Je(ce,r),new Je(be,r)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let u=r.getSize(),c=r.getNextSet(0),f=0,p=c,x=!1,C=o.length;for(let N=c;N<u;N++)if(r.get(N)!==x)o[f]++;else{if(f===C-1){if(this.toNarrowWidePattern(o)===nn.ASTERISK_ENCODING&&r.isRange(Math.max(0,p-Math.floor((N-p)/2)),p,!1))return[p,N];p+=o[0]+o[1],o.copyWithin(0,2,2+f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,x=!x}throw new ge}static toNarrowWidePattern(r){let o=r.length,u=0,c;do{let f=2147483647;for(let C of r)C<f&&C>u&&(f=C);u=f,c=0;let p=0,x=0;for(let C=0;C<o;C++){let N=r[C];N>u&&(x|=1<<o-1-C,c++,p+=N)}if(c===3){for(let C=0;C<o&&c>0;C++){let N=r[C];if(N>u&&(c--,N*2>=p))return-1}return x}}while(c>3);return-1}static patternToChar(r){for(let o=0;o<nn.CHARACTER_ENCODINGS.length;o++)if(nn.CHARACTER_ENCODINGS[o]===r)return nn.ALPHABET_STRING.charAt(o);if(r===nn.ASTERISK_ENCODING)return"*";throw new ge}static decodeExtended(r){let o=r.length,u="";for(let c=0;c<o;c++){let f=r.charAt(c);if(f==="+"||f==="$"||f==="%"||f==="/"){let p=r.charAt(c+1),x="\0";switch(f){case"+":if(p>="A"&&p<="Z")x=String.fromCharCode(p.charCodeAt(0)+32);else throw new re;break;case"$":if(p>="A"&&p<="Z")x=String.fromCharCode(p.charCodeAt(0)-64);else throw new re;break;case"%":if(p>="A"&&p<="E")x=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")x=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")x=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")x=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")x="\0";else if(p==="V")x="@";else if(p==="W")x="`";else if(p==="X"||p==="Y"||p==="Z")x="";else throw new re;break;case"/":if(p>="A"&&p<="O")x=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")x=":";else throw new re;break}u+=x,c++}else u+=f}return u}}nn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",nn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],nn.ASTERISK_ENCODING=148;class $t extends Kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,u){let c=this.decodeStart(o),f=this.decodeEnd(o),p=new ye;$t.decodeMiddle(o,c[1],f[0],p);let x=p.toString(),C=null;u!=null&&(C=u.get(ne.ALLOWED_LENGTHS)),C==null&&(C=$t.DEFAULT_ALLOWED_LENGTHS);let N=x.length,D=!1,U=0;for(let be of C){if(N===be){D=!0;break}be>U&&(U=be)}if(!D&&N>U&&(D=!0),!D)throw new re;const Z=[new Je(c[1],r),new Je(f[0],r)];return new le(x,null,0,Z,he.ITF,new Date().getTime())}static decodeMiddle(r,o,u,c){let f=new Int32Array(10),p=new Int32Array(5),x=new Int32Array(5);for(f.fill(0),p.fill(0),x.fill(0);o<u;){Kt.recordPattern(r,o,f);for(let N=0;N<5;N++){let D=2*N;p[N]=f[D],x[N]=f[D+1]}let C=$t.decodeDigit(p);c.append(C.toString()),C=this.decodeDigit(x),c.append(C.toString()),f.forEach(function(N){o+=N})}}decodeStart(r){let o=$t.skipWhiteSpace(r),u=$t.findGuardPattern(r,o,$t.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(r,u[0]),u}validateQuietZone(r,o){let u=this.narrowLineWidth*10;u=u<o?u:o;for(let c=o-1;u>0&&c>=0&&!r.get(c);c--)u--;if(u!==0)throw new ge}static skipWhiteSpace(r){const o=r.getSize(),u=r.getNextSet(0);if(u===o)throw new ge;return u}decodeEnd(r){r.reverse();try{let o=$t.skipWhiteSpace(r),u;try{u=$t.findGuardPattern(r,o,$t.END_PATTERN_REVERSED[0])}catch(f){f instanceof ge&&(u=$t.findGuardPattern(r,o,$t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,u[0]);let c=u[0];return u[0]=r.getSize()-u[1],u[1]=r.getSize()-c,u}finally{r.reverse()}}static findGuardPattern(r,o,u){let c=u.length,f=new Int32Array(c),p=r.getSize(),x=!1,C=0,N=o;f.fill(0);for(let D=o;D<p;D++)if(r.get(D)!==x)f[C]++;else{if(C===c-1){if(Kt.patternMatchVariance(f,u,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return[N,D];N+=f[0]+f[1],R.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,x=!x}throw new ge}static decodeDigit(r){let o=$t.MAX_AVG_VARIANCE,u=-1,c=$t.PATTERNS.length;for(let f=0;f<c;f++){let p=$t.PATTERNS[f],x=Kt.patternMatchVariance(r,p,$t.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,u=f):x===o&&(u=-1)}if(u>=0)return u%10;throw new ge}}$t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$t.MAX_AVG_VARIANCE=.38,$t.MAX_INDIVIDUAL_VARIANCE=.5,$t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$t.START_PATTERN=Int32Array.from([1,1,1,1]),$t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kn extends Kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,u,c=0,f=Int32Array.from([0,0,0]);for(;!o;){f=Int32Array.from([0,0,0]),u=kn.findGuardPattern(r,c,!1,this.START_END_PATTERN,f);let p=u[0];c=u[1];let x=p-(c-p);x>=0&&(o=r.isRange(x,p,!1))}return u}static checkChecksum(r){return kn.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let u=parseInt(r.charAt(o-1),10);return kn.getStandardUPCEANChecksum(r.substring(0,o-1))===u}static getStandardUPCEANChecksum(r){let o=r.length,u=0;for(let c=o-1;c>=0;c-=2){let f=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new re;u+=f}u*=3;for(let c=o-2;c>=0;c-=2){let f=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new re;u+=f}return(1e3-u)%10}static decodeEnd(r,o){return kn.findGuardPattern(r,o,!1,kn.START_END_PATTERN,new Int32Array(kn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,u,c){return this.findGuardPattern(r,o,u,c,new Int32Array(c.length))}static findGuardPattern(r,o,u,c,f){let p=r.getSize();o=u?r.getNextUnset(o):r.getNextSet(o);let x=0,C=o,N=c.length,D=u;for(let U=o;U<p;U++)if(r.get(U)!==D)f[x]++;else{if(x===N-1){if(Kt.patternMatchVariance(f,c,kn.MAX_INDIVIDUAL_VARIANCE)<kn.MAX_AVG_VARIANCE)return Int32Array.from([C,U]);C+=f[0]+f[1];let Z=f.slice(2,f.length-1);for(let ce=0;ce<x-1;ce++)f[ce]=Z[ce];f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,D=!D}throw new ge}static decodeDigit(r,o,u,c){this.recordPattern(r,u,o);let f=this.MAX_AVG_VARIANCE,p=-1,x=c.length;for(let C=0;C<x;C++){let N=c[C],D=Kt.patternMatchVariance(o,N,kn.MAX_INDIVIDUAL_VARIANCE);D<f&&(f=D,p=C)}if(p>=0)return p;throw new ge}}kn.MAX_AVG_VARIANCE=.48,kn.MAX_INDIVIDUAL_VARIANCE=.7,kn.START_END_PATTERN=Int32Array.from([1,1,1]),kn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ln{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,u){let c=this.decodeRowStringBuffer,f=this.decodeMiddle(o,u,c),p=c.toString(),x=Ln.parseExtensionString(p),C=[new Je((u[0]+u[1])/2,r),new Je(f,r)],N=new le(p,null,0,C,he.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&N.putAllMetadata(x),N}decodeMiddle(r,o,u){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=r.getSize(),p=o[1],x=0;for(let N=0;N<5&&p<f;N++){let D=kn.decodeDigit(r,c,p,kn.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let U of c)p+=U;D>=10&&(x|=1<<4-N),N!==4&&(p=r.getNextSet(p),p=r.getNextUnset(p))}if(u.length!==5)throw new ge;let C=this.determineCheckDigit(x);if(Ln.extensionChecksum(u.toString())!==C)throw new ge;return p}static extensionChecksum(r){let o=r.length,u=0;for(let c=o-2;c>=0;c-=2)u+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);u*=3;for(let c=o-1;c>=0;c-=2)u+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);return u*=3,u%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ge}static parseExtensionString(r){if(r.length!==5)return null;let o=Ln.parseExtension5String(r);return o==null?null:new Map([[je.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let u=parseInt(r.substring(1)),c=(u/100).toString(),f=u%100,p=f<10?"0"+f:f.toString();return o+c+"."+p}}class no{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,u){let c=this.decodeRowStringBuffer,f=this.decodeMiddle(o,u,c),p=c.toString(),x=no.parseExtensionString(p),C=[new Je((u[0]+u[1])/2,r),new Je(f,r)],N=new le(p,null,0,C,he.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&N.putAllMetadata(x),N}decodeMiddle(r,o,u){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=r.getSize(),p=o[1],x=0;for(let C=0;C<2&&p<f;C++){let N=kn.decodeDigit(r,c,p,kn.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let D of c)p+=D;N>=10&&(x|=1<<1-C),C!==1&&(p=r.getNextSet(p),p=r.getNextUnset(p))}if(u.length!==2)throw new ge;if(parseInt(u.toString())%4!==x)throw new ge;return p}static parseExtensionString(r){return r.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(r)]])}}class or{static decodeRow(r,o,u){let c=kn.findGuardPattern(o,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ln().decodeRow(r,o,c)}catch{return new no().decodeRow(r,o,c)}}}or.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class hn extends kn{constructor(){super(),this.decodeRowStringBuffer="",hn.L_AND_G_PATTERNS=hn.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=hn.L_PATTERNS[r-10],u=new Int32Array(o.length);for(let c=0;c<o.length;c++)u[c]=o[o.length-c-1];hn.L_AND_G_PATTERNS[r]=u}}decodeRow(r,o,u){let c=hn.findStartGuardPattern(o),f=u==null?null:u.get(ne.NEED_RESULT_POINT_CALLBACK);if(f!=null){const pt=new Je((c[0]+c[1])/2,r);f.foundPossibleResultPoint(pt)}let p=this.decodeMiddle(o,c,this.decodeRowStringBuffer),x=p.rowOffset,C=p.resultString;if(f!=null){const pt=new Je(x,r);f.foundPossibleResultPoint(pt)}let N=this.decodeEnd(o,x);if(f!=null){const pt=new Je((N[0]+N[1])/2,r);f.foundPossibleResultPoint(pt)}let D=N[1],U=D+(D-N[0]);if(U>=o.getSize()||!o.isRange(D,U,!1))throw new ge;let Z=C.toString();if(Z.length<8)throw new re;if(!hn.checkChecksum(Z))throw new E;let ce=(c[1]+c[0])/2,be=(N[1]+N[0])/2,Ee=this.getBarcodeFormat(),ke=[new Je(ce,r),new Je(be,r)],Ge=new le(Z,null,0,ke,Ee,new Date().getTime()),dt=0;try{let pt=or.decodeRow(r,o,N[1]);Ge.putMetadata(je.UPC_EAN_EXTENSION,pt.getText()),Ge.putAllMetadata(pt.getResultMetadata()),Ge.addResultPoints(pt.getResultPoints()),dt=pt.getText().length}catch{}let mt=u==null?null:u.get(ne.ALLOWED_EAN_EXTENSIONS);if(mt!=null){let pt=!1;for(let Nn in mt)if(dt.toString()===Nn){pt=!0;break}if(!pt)throw new ge}return Ge}decodeEnd(r,o){return hn.findGuardPattern(r,o,!1,hn.START_END_PATTERN,new Int32Array(hn.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return hn.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let u=parseInt(r.charAt(o-1),10);return hn.getStandardUPCEANChecksum(r.substring(0,o-1))===u}static getStandardUPCEANChecksum(r){let o=r.length,u=0;for(let c=o-1;c>=0;c-=2){let f=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new re;u+=f}u*=3;for(let c=o-2;c>=0;c-=2){let f=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new re;u+=f}return(1e3-u)%10}}class ti extends hn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,u){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=r.getSize(),p=o[1],x=0;for(let N=0;N<6&&p<f;N++){let D=hn.decodeDigit(r,c,p,hn.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let U of c)p+=U;D>=10&&(x|=1<<5-N)}u=ti.determineFirstDigit(u,x),p=hn.findGuardPattern(r,p,!0,hn.MIDDLE_PATTERN,new Int32Array(hn.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&p<f;N++){let D=hn.decodeDigit(r,c,p,hn.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+D);for(let U of c)p+=U}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(r,o){for(let u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return r=String.fromCharCode("0".charCodeAt(0)+u)+r,r;throw new ge}}ti.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class cr extends hn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,u){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=r.getSize(),p=o[1];for(let C=0;C<4&&p<f;C++){let N=hn.decodeDigit(r,c,p,hn.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+N);for(let D of c)p+=D}p=hn.findGuardPattern(r,p,!0,hn.MIDDLE_PATTERN,new Int32Array(hn.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&p<f;C++){let N=hn.decodeDigit(r,c,p,hn.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+N);for(let D of c)p+=D}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return he.EAN_8}}class ln extends hn{constructor(){super(...arguments),this.ean13Reader=new ti}getBarcodeFormat(){return he.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,u))}decodeMiddle(r,o,u){return this.ean13Reader.decodeMiddle(r,o,u)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let u=new le(o.substring(1),null,null,r.getResultPoints(),he.UPC_A);return r.getResultMetadata()!=null&&u.putAllMetadata(r.getResultMetadata()),u}else throw new ge}reset(){this.ean13Reader.reset()}}class _n extends hn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,u){const c=this.decodeMiddleCounters.map(N=>N);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const f=r.getSize();let p=o[1],x=0;for(let N=0;N<6&&p<f;N++){const D=_n.decodeDigit(r,c,p,_n.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let U of c)p+=U;D>=10&&(x|=1<<5-N)}let C=_n.determineNumSysAndCheckDigit(u,x);return{rowOffset:p,resultString:C}}decodeEnd(r,o){return _n.findGuardPatternWithoutCounters(r,o,!0,_n.MIDDLE_END_PATTERN)}checkChecksum(r){return hn.checkChecksum(_n.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let u=0;u<=1;u++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][c]){let f=String.fromCharCode("0".charCodeAt(0)+u),p=String.fromCharCode("0".charCodeAt(0)+c);return f+r+p}throw ge.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(f=>f.charCodeAt(0)),u=new ye;u.append(r.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(c),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(c);break}return r.length>=8&&u.append(r.charAt(7)),u.toString()}}_n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ri extends Kt{constructor(r){super();let o=r==null?null:r.get(ne.POSSIBLE_FORMATS),u=[];i(o)?(u.push(new ti),u.push(new ln),u.push(new cr),u.push(new _n)):(o.indexOf(he.EAN_13)>-1&&u.push(new ti),o.indexOf(he.UPC_A)>-1&&u.push(new ln),o.indexOf(he.EAN_8)>-1&&u.push(new cr),o.indexOf(he.UPC_E)>-1&&u.push(new _n)),this.readers=u}decodeRow(r,o,u){for(let c of this.readers)try{const f=c.decodeRow(r,o,u),p=f.getBarcodeFormat()===he.EAN_13&&f.getText().charAt(0)==="0",x=u==null?null:u.get(ne.POSSIBLE_FORMATS),C=x==null||x.includes(he.UPC_A);if(p&&C){const N=f.getRawBytes(),D=new le(f.getText().substring(1),N,N?N.length:null,f.getResultPoints(),he.UPC_A);return D.putAllMetadata(f.getResultMetadata()),D}return f}catch{}throw new ge}reset(){for(let r of this.readers)r.reset()}}class Bn extends Kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let u=0;u<o.length;u++)if(Kt.patternMatchVariance(r,o[u],Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE)return u;throw new ge}static count(r){return rt.sum(new Int32Array(r))}static increment(r,o){let u=0,c=o[0];for(let f=1;f<r.length;f++)o[f]>c&&(c=o[f],u=f);r[u]++}static decrement(r,o){let u=0,c=o[0];for(let f=1;f<r.length;f++)o[f]<c&&(c=o[f],u=f);r[u]--}static isFinderPattern(r){let o=r[0]+r[1],u=o+r[2]+r[3],c=o/u;if(c>=Bn.MIN_FINDER_PATTERN_RATIO&&c<=Bn.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let x of r)x>p&&(p=x),x<f&&(f=x);return p<10*f}return!1}}Bn.MAX_AVG_VARIANCE=.2,Bn.MAX_INDIVIDUAL_VARIANCE=.45,Bn.MIN_FINDER_PATTERN_RATIO=9.5/12,Bn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ci{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof ci))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class hi{constructor(r,o,u,c,f){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Je(u,f)),this.resultPoints.push(new Je(c,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof hi))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class ve{constructor(){}static getRSSvalue(r,o,u){let c=0;for(let C of r)c+=C;let f=0,p=0,x=r.length;for(let C=0;C<x-1;C++){let N;for(N=1,p|=1<<C;N<r[C];N++,p&=~(1<<C)){let D=ve.combins(c-N-1,x-C-2);if(u&&p===0&&c-N-(x-C-1)>=x-C-1&&(D-=ve.combins(c-N-(x-C),x-C-2)),x-C-1>1){let U=0;for(let Z=c-N-(x-C-2);Z>o;Z--)U+=ve.combins(c-N-Z-1,x-C-3);D-=U*(x-1-C)}else c-N>o&&D--;f+=D}c-=N}return f}static combins(r,o){let u,c;r-o>o?(c=o,u=r-o):(c=r-o,u=o);let f=1,p=1;for(let x=r;x>u;x--)f*=x,p<=c&&(f/=p,p++);for(;p<=c;)f/=p,p++;return f}}class Oe{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let u=12*o,c=new $(u),f=0,x=r[0].getRightChar().getValue();for(let C=11;C>=0;--C)x&1<<C&&c.set(f),f++;for(let C=1;C<r.length;++C){let N=r[C],D=N.getLeftChar().getValue();for(let U=11;U>=0;--U)D&1<<U&&c.set(f),f++;if(N.getRightChar()!=null){let U=N.getRightChar().getValue();for(let Z=11;Z>=0;--Z)U&1<<Z&&c.set(f),f++}}return c}}class He{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class st{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class ft extends st{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===ft.FNC1}}ft.FNC1="$";class Ke extends st{constructor(r,o,u){super(r),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ot extends st{constructor(r,o,u){if(super(r),o<0||o>10||u<0||u>10)throw new re;this.firstDigit=o,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ot.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ot.FNC1}isAnyFNC1(){return this.firstDigit===Ot.FNC1||this.secondDigit===Ot.FNC1}}Ot.FNC1=10;class Qe{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new ge;let o=r.substring(0,2);for(let f of Qe.TWO_DIGIT_DATA_LENGTH)if(f[0]===o)return f[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(2,f[2],r):Qe.processFixedAI(2,f[1],r);if(r.length<3)throw new ge;let u=r.substring(0,3);for(let f of Qe.THREE_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(3,f[2],r):Qe.processFixedAI(3,f[1],r);for(let f of Qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(4,f[2],r):Qe.processFixedAI(4,f[1],r);if(r.length<4)throw new ge;let c=r.substring(0,4);for(let f of Qe.FOUR_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(4,f[2],r):Qe.processFixedAI(4,f[1],r);throw new ge}static processFixedAI(r,o,u){if(u.length<r)throw new ge;let c=u.substring(0,r);if(u.length<r+o)throw new ge;let f=u.substring(r,r+o),p=u.substring(r+o),x="("+c+")"+f,C=Qe.parseFieldsInGeneralPurpose(p);return C==null?x:x+C}static processVariableAI(r,o,u){let c=u.substring(0,r),f;u.length<r+o?f=u.length:f=r+o;let p=u.substring(r,f),x=u.substring(f),C="("+c+")"+p,N=Qe.parseFieldsInGeneralPurpose(x);return N==null?C:C+N}}Qe.VARIABLE_LENGTH=[],Qe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Qe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Qe.VARIABLE_LENGTH,20],["22",Qe.VARIABLE_LENGTH,29],["30",Qe.VARIABLE_LENGTH,8],["37",Qe.VARIABLE_LENGTH,8],["90",Qe.VARIABLE_LENGTH,30],["91",Qe.VARIABLE_LENGTH,30],["92",Qe.VARIABLE_LENGTH,30],["93",Qe.VARIABLE_LENGTH,30],["94",Qe.VARIABLE_LENGTH,30],["95",Qe.VARIABLE_LENGTH,30],["96",Qe.VARIABLE_LENGTH,30],["97",Qe.VARIABLE_LENGTH,3],["98",Qe.VARIABLE_LENGTH,30],["99",Qe.VARIABLE_LENGTH,30]],Qe.THREE_DIGIT_DATA_LENGTH=[["240",Qe.VARIABLE_LENGTH,30],["241",Qe.VARIABLE_LENGTH,30],["242",Qe.VARIABLE_LENGTH,6],["250",Qe.VARIABLE_LENGTH,30],["251",Qe.VARIABLE_LENGTH,30],["253",Qe.VARIABLE_LENGTH,17],["254",Qe.VARIABLE_LENGTH,20],["400",Qe.VARIABLE_LENGTH,30],["401",Qe.VARIABLE_LENGTH,30],["402",17],["403",Qe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Qe.VARIABLE_LENGTH,20],["421",Qe.VARIABLE_LENGTH,15],["422",3],["423",Qe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Qe.VARIABLE_LENGTH,15],["391",Qe.VARIABLE_LENGTH,18],["392",Qe.VARIABLE_LENGTH,15],["393",Qe.VARIABLE_LENGTH,18],["703",Qe.VARIABLE_LENGTH,30]],Qe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Qe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Qe.VARIABLE_LENGTH,20],["8003",Qe.VARIABLE_LENGTH,30],["8004",Qe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Qe.VARIABLE_LENGTH,30],["8008",Qe.VARIABLE_LENGTH,12],["8018",18],["8020",Qe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Qe.VARIABLE_LENGTH,70],["8200",Qe.VARIABLE_LENGTH,70]];class Lt{constructor(r){this.buffer=new ye,this.information=r}decodeAllCodes(r,o){let u=o,c=null;do{let f=this.decodeGeneralPurposeField(u,c),p=Qe.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&r.append(p),f.isRemaining()?c=""+f.getRemainingValue():c=null,u===f.getNewPosition())break;u=f.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(r,4);return f===0?new Ot(this.information.getSize(),Ot.FNC1,Ot.FNC1):new Ot(this.information.getSize(),f-1,Ot.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),u=(o-8)/11,c=(o-8)%11;return new Ot(r+7,u,c)}extractNumericValueFromBitArray(r,o){return Lt.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,u){let c=0;for(let f=0;f<u;++f)r.get(o+f)&&(c|=1<<u-f-1);return c}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Ke(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Ke(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let u=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(u!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new Ke(this.current.getPosition(),this.buffer.toString()):o=new Ke(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new He(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new Ke(this.current.getPosition(),this.buffer.toString());return new He(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new He(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Ke(this.current.getPosition(),this.buffer.toString());return new He(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new He(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Ke(this.current.getPosition(),this.buffer.toString());return new He(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new He(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,7);if(u>=64&&u<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new ft(r+5,ft.FNC1);if(o>=5&&o<15)return new ft(r+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(r,7);if(u>=64&&u<90)return new ft(r+7,""+(u+1));if(u>=90&&u<116)return new ft(r+7,""+(u+7));let c=this.extractNumericValueFromBitArray(r,8),f;switch(c){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new re}return new ft(r+8,f)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,6);return u>=16&&u<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new ft(r+5,ft.FNC1);if(o>=5&&o<15)return new ft(r+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(r,6);if(u>=32&&u<58)return new ft(r+6,""+(u+33));let c;switch(u){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Xe("Decoding invalid alphanumeric value: "+u)}return new ft(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class Nt{constructor(r){this.information=r,this.generalDecoder=new Lt(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Et extends Nt{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let u=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,u)}encodeCompressedGtinWithoutAI(r,o,u){for(let c=0;c<4;++c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);f/100===0&&r.append("0"),f/10===0&&r.append("0"),r.append(f)}Et.appendCheckDigit(r,u)}static appendCheckDigit(r,o){let u=0;for(let c=0;c<13;c++){let f=r.charAt(c+o).charCodeAt(0)-"0".charCodeAt(0);u+=c&1?f:3*f}u=10-u%10,u===10&&(u=0),r.append(u)}}Et.GTIN_SIZE=40;class Jt extends Et{constructor(r){super(r)}parseInformation(){let r=new ye;r.append("(01)");let o=r.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE,4);return r.append(u),this.encodeCompressedGtinWithoutAI(r,Jt.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,Jt.HEADER_SIZE+44)}}Jt.HEADER_SIZE=1+1+2;class en extends Nt{constructor(r){super(r)}parseInformation(){let r=new ye;return this.getGeneralDecoder().decodeAllCodes(r,en.HEADER_SIZE)}}en.HEADER_SIZE=2+1+2;class Wn extends Et{constructor(r){super(r)}encodeCompressedWeight(r,o,u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(r,c);let f=this.checkWeight(c),p=1e5;for(let x=0;x<5;++x)f/p===0&&r.append("0"),p/=10;r.append(f)}}class fn extends Wn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=fn.HEADER_SIZE+Wn.GTIN_SIZE+fn.WEIGHT_SIZE)throw new ge;let r=new ye;return this.encodeCompressedGtin(r,fn.HEADER_SIZE),this.encodeCompressedWeight(r,fn.HEADER_SIZE+Wn.GTIN_SIZE,fn.WEIGHT_SIZE),r.toString()}}fn.HEADER_SIZE=4+1,fn.WEIGHT_SIZE=15;class Tn extends fn{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class Qn extends fn{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Lr extends Et{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Lr.HEADER_SIZE+Et.GTIN_SIZE)throw new ge;let r=new ye;this.encodeCompressedGtin(r,Lr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+Et.GTIN_SIZE,Lr.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Lr.HEADER_SIZE+Et.GTIN_SIZE+Lr.LAST_DIGIT_SIZE,null);return r.append(u.getNewString()),r.toString()}}Lr.HEADER_SIZE=5+1+2,Lr.LAST_DIGIT_SIZE=2;class sr extends Et{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<sr.HEADER_SIZE+Et.GTIN_SIZE)throw new ge;let r=new ye;this.encodeCompressedGtin(r,sr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE+Et.GTIN_SIZE,sr.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE+Et.GTIN_SIZE+sr.LAST_DIGIT_SIZE,sr.FIRST_THREE_DIGITS_SIZE);u/100==0&&r.append("0"),u/10==0&&r.append("0"),r.append(u);let c=this.getGeneralDecoder().decodeGeneralPurposeField(sr.HEADER_SIZE+Et.GTIN_SIZE+sr.LAST_DIGIT_SIZE+sr.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}sr.HEADER_SIZE=5+1+2,sr.LAST_DIGIT_SIZE=2,sr.FIRST_THREE_DIGITS_SIZE=10;class Pn extends Wn{constructor(r,o,u){super(r),this.dateCode=u,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Pn.HEADER_SIZE+Pn.GTIN_SIZE+Pn.WEIGHT_SIZE+Pn.DATE_SIZE)throw new ge;let r=new ye;return this.encodeCompressedGtin(r,Pn.HEADER_SIZE),this.encodeCompressedWeight(r,Pn.HEADER_SIZE+Pn.GTIN_SIZE,Pn.WEIGHT_SIZE),this.encodeCompressedDate(r,Pn.HEADER_SIZE+Pn.GTIN_SIZE+Pn.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Pn.DATE_SIZE);if(u==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=u%32;u/=32;let f=u%12+1;u/=12;let p=u;p/10==0&&r.append("0"),r.append(p),f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}Pn.HEADER_SIZE=7+1,Pn.WEIGHT_SIZE=20,Pn.DATE_SIZE=16;function Zr(H){try{if(H.get(1))return new Jt(H);if(!H.get(2))return new en(H);switch(Lt.extractNumericValueFromBitArray(H,1,4)){case 4:return new Tn(H);case 5:return new Qn(H)}switch(Lt.extractNumericValueFromBitArray(H,1,5)){case 12:return new Lr(H);case 13:return new sr(H)}switch(Lt.extractNumericValueFromBitArray(H,1,7)){case 56:return new Pn(H,"310","11");case 57:return new Pn(H,"320","11");case 58:return new Pn(H,"310","13");case 59:return new Pn(H,"320","13");case 60:return new Pn(H,"310","15");case 61:return new Pn(H,"320","15");case 62:return new Pn(H,"310","17");case 63:return new Pn(H,"320","17")}}catch(r){throw console.log(r),new Xe("unknown decoder: "+H)}}class Oi{constructor(r,o,u,c){this.leftchar=r,this.rightchar=o,this.finderpattern=u,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof Oi?Oi.equalsOrNull(r.leftchar,o.leftchar)&&Oi.equalsOrNull(r.rightchar,o.rightchar)&&Oi.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:Oi.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class yo{constructor(r,o,u){this.pairs=r,this.rowNumber=o,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof yo?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let u;return r.forEach((c,f)=>{o.forEach(p=>{c.getLeftChar().getValue()===p.getLeftChar().getValue()&&c.getRightChar().getValue()===p.getRightChar().getValue()&&c.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(u=!0)})}),u}}class ot extends Bn{constructor(r){super(...arguments),this.pairs=new Array(ot.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,u){this.pairs.length=0,this.startFromEven=!1;try{return ot.constructResult(this.decodeRow2pairs(r,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ot.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(f){if(f instanceof ge){if(!this.pairs.length)throw new ge;u=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new ge}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let u=o;u<this.rows.length;u++){let c=this.rows[u];this.pairs.length=0;for(let p of r)this.pairs.push(p.getPairs());if(this.pairs.push(c.getPairs()),!ot.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(r);f.push(c);try{return this.checkRows(f,u+1)}catch(p){this.verbose&&console.log(p)}}throw new ge}static isValidSequence(r){for(let o of ot.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let u=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=o[c]){u=!1;break}if(u)return!0}return!1}storeRow(r,o){let u=0,c=!1,f=!1;for(;u<this.rows.length;){let p=this.rows[u];if(p.getRowNumber()>r){f=p.isEquivalent(this.pairs);break}c=p.isEquivalent(this.pairs),u++}f||c||ot.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new yo(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let u of o)if(u.getPairs().length!==r.length){for(let c of u.getPairs())for(let f of r)if(Oi.equals(c,f))break}}static isPartialRow(r,o){for(let u of o){let c=!0;for(let f of r){let p=!1;for(let x of u.getPairs())if(f.equals(x)){p=!0;break}if(!p){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=Oe.buildBitArray(r),c=Zr(o).parseInformation(),f=r[0].getFinderPattern().getResultPoints(),p=r[r.length-1].getFinderPattern().getResultPoints(),x=[f[0],f[1],p[0],p[1]];return new le(c,null,null,x,he.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),u=r.getRightChar();if(u==null)return!1;let c=u.getChecksumPortion(),f=2;for(let x=1;x<this.pairs.size();++x){let C=this.pairs.get(x);c+=C.getLeftChar().getChecksumPortion(),f++;let N=C.getRightChar();N!=null&&(c+=N.getChecksumPortion(),f++)}return c%=211,211*(f-4)+c==o.getValue()}static getNextSecondBar(r,o){let u;return r.get(o)?(u=r.getNextUnset(o),u=r.getNextSet(u)):(u=r.getNextSet(o),u=r.getNextUnset(u)),u}retrieveNextPair(r,o,u){let c=o.length%2==0;this.startFromEven&&(c=!c);let f,p=!0,x=-1;do this.findNextPair(r,o,x),f=this.parseFoundFinderPattern(r,u,c),f==null?x=ot.getNextSecondBar(r,this.startEnd[0]):p=!1;while(p);let C=this.decodeDataCharacter(r,f,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ge;let N;try{N=this.decodeDataCharacter(r,f,c,!1)}catch(D){N=null,this.verbose&&console.log(D)}return new Oi(C,N,f,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,u){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=r.getSize(),p;u>=0?p=u:this.isEmptyPair(o)?p=0:p=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let C=!1;for(;p<f&&(C=!r.get(p),!!C);)p++;let N=0,D=p;for(let U=p;U<f;U++)if(r.get(U)!=C)c[N]++;else{if(N==3){if(x&&ot.reverseCounters(c),ot.isFinderPattern(c)){this.startEnd[0]=D,this.startEnd[1]=U;return}x&&ot.reverseCounters(c),D+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,N--}else N++;c[N]=1,C=!C}throw new ge}static reverseCounters(r){let o=r.length;for(let u=0;u<o/2;++u){let c=r[u];r[u]=r[o-u-1],r[o-u-1]=c}}parseFoundFinderPattern(r,o,u){let c,f,p;if(u){let N=this.startEnd[0]-1;for(;N>=0&&!r.get(N);)N--;N++,c=this.startEnd[0]-N,f=N,p=this.startEnd[1]}else f=this.startEnd[0],p=r.getNextUnset(this.startEnd[1]+1),c=p-this.startEnd[1];let x=this.getDecodeFinderCounters();R.arraycopy(x,0,x,1,x.length-1),x[0]=c;let C;try{C=this.parseFinderValue(x,ot.FINDER_PATTERNS)}catch{return null}return new hi(C,[f,p],f,p,o)}decodeDataCharacter(r,o,u,c){let f=this.getDataCharacterCounters();for(let jn=0;jn<f.length;jn++)f[jn]=0;if(c)ot.recordPatternInReverse(r,o.getStartEnd()[0],f);else{ot.recordPattern(r,o.getStartEnd()[1],f);for(let jn=0,Rr=f.length-1;jn<Rr;jn++,Rr--){let Vr=f[jn];f[jn]=f[Rr],f[Rr]=Vr}}let p=17,x=rt.sum(new Int32Array(f))/p,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-C)/C>.3)throw new ge;let N=this.getOddCounts(),D=this.getEvenCounts(),U=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let jn=0;jn<f.length;jn++){let Rr=1*f[jn]/x,Vr=Rr+.5;if(Vr<1){if(Rr<.3)throw new ge;Vr=1}else if(Vr>8){if(Rr>8.7)throw new ge;Vr=8}let Yi=jn/2;jn&1?(D[Yi]=Vr,Z[Yi]=Rr-Vr):(N[Yi]=Vr,U[Yi]=Rr-Vr)}this.adjustOddEvenCounts(p);let ce=4*o.getValue()+(u?0:2)+(c?0:1)-1,be=0,Ee=0;for(let jn=N.length-1;jn>=0;jn--){if(ot.isNotA1left(o,u,c)){let Rr=ot.WEIGHTS[ce][2*jn];Ee+=N[jn]*Rr}be+=N[jn]}let ke=0;for(let jn=D.length-1;jn>=0;jn--)if(ot.isNotA1left(o,u,c)){let Rr=ot.WEIGHTS[ce][2*jn+1];ke+=D[jn]*Rr}let Ge=Ee+ke;if(be&1||be>13||be<4)throw new ge;let dt=(13-be)/2,mt=ot.SYMBOL_WIDEST[dt],pt=9-mt,Nn=ve.getRSSvalue(N,mt,!0),gn=ve.getRSSvalue(D,pt,!1),nr=ot.EVEN_TOTAL_SUBSET[dt],Wr=ot.GSUM[dt],Br=Nn*nr+gn+Wr;return new ci(Br,Ge)}static isNotA1left(r,o,u){return!(r.getValue()==0&&o&&u)}adjustOddEvenCounts(r){let o=rt.sum(new Int32Array(this.getOddCounts())),u=rt.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1;o>13?f=!0:o<4&&(c=!0);let p=!1,x=!1;u>13?x=!0:u<4&&(p=!0);let C=o+u-r,N=(o&1)==1,D=(u&1)==0;if(C==1)if(N){if(D)throw new ge;f=!0}else{if(!D)throw new ge;x=!0}else if(C==-1)if(N){if(D)throw new ge;c=!0}else{if(!D)throw new ge;p=!0}else if(C==0){if(N){if(!D)throw new ge;o<u?(c=!0,x=!0):(f=!0,p=!0)}else if(D)throw new ge}else throw new ge;if(c){if(f)throw new ge;ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(x)throw new ge;ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.SYMBOL_WIDEST=[7,5,4,3,1],ot.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ot.GSUM=[0,348,1388,2948,3988],ot.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ot.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ot.FINDER_PAT_A=0,ot.FINDER_PAT_B=1,ot.FINDER_PAT_C=2,ot.FINDER_PAT_D=3,ot.FINDER_PAT_E=4,ot.FINDER_PAT_F=5,ot.FINDER_PATTERN_SEQUENCES=[[ot.FINDER_PAT_A,ot.FINDER_PAT_A],[ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B],[ot.FINDER_PAT_A,ot.FINDER_PAT_C,ot.FINDER_PAT_B,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_C],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F]],ot.MAX_PAIRS=11;class Wo extends ci{constructor(r,o,u){super(r,o),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Jn extends Bn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,u){const c=this.decodePair(o,!1,r,u);Jn.addOrTally(this.possibleLeftPairs,c),o.reverse();let f=this.decodePair(o,!0,r,u);Jn.addOrTally(this.possibleRightPairs,f),o.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Jn.checkChecksum(p,x))return Jn.constructResult(p,x)}throw new ge}static addOrTally(r,o){if(o==null)return;let u=!1;for(let c of r)if(c.getValue()===o.getValue()){c.incrementCount(),u=!0;break}u||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let u=4537077*r.getValue()+o.getValue(),c=new String(u).toString(),f=new ye;for(let N=13-c.length;N>0;N--)f.append("0");f.append(c);let p=0;for(let N=0;N<13;N++){let D=f.charAt(N).charCodeAt(0)-"0".charCodeAt(0);p+=N&1?D:3*D}p=10-p%10,p===10&&(p=0),f.append(p.toString());let x=r.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new le(f.toString(),null,0,[x[0],x[1],C[0],C[1]],he.RSS_14,new Date().getTime())}static checkChecksum(r,o){let u=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,u===c}decodePair(r,o,u,c){try{let f=this.findFinderPattern(r,o),p=this.parseFoundFinderPattern(r,u,o,f),x=c==null?null:c.get(ne.NEED_RESULT_POINT_CALLBACK);if(x!=null){let D=(f[0]+f[1])/2;o&&(D=r.getSize()-1-D),x.foundPossibleResultPoint(new Je(D,u))}let C=this.decodeDataCharacter(r,p,!0),N=this.decodeDataCharacter(r,p,!1);return new Wo(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(r,o,u){let c=this.getDataCharacterCounters();for(let ke=0;ke<c.length;ke++)c[ke]=0;if(u)Kt.recordPatternInReverse(r,o.getStartEnd()[0],c);else{Kt.recordPattern(r,o.getStartEnd()[1]+1,c);for(let ke=0,Ge=c.length-1;ke<Ge;ke++,Ge--){let dt=c[ke];c[ke]=c[Ge],c[Ge]=dt}}let f=u?16:15,p=rt.sum(new Int32Array(c))/f,x=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ke=0;ke<c.length;ke++){let Ge=c[ke]/p,dt=Math.floor(Ge+.5);dt<1?dt=1:dt>8&&(dt=8);let mt=Math.floor(ke/2);ke&1?(C[mt]=dt,D[mt]=Ge-dt):(x[mt]=dt,N[mt]=Ge-dt)}this.adjustOddEvenCounts(u,f);let U=0,Z=0;for(let ke=x.length-1;ke>=0;ke--)Z*=9,Z+=x[ke],U+=x[ke];let ce=0,be=0;for(let ke=C.length-1;ke>=0;ke--)ce*=9,ce+=C[ke],be+=C[ke];let Ee=Z+3*ce;if(u){if(U&1||U>12||U<4)throw new ge;let ke=(12-U)/2,Ge=Jn.OUTSIDE_ODD_WIDEST[ke],dt=9-Ge,mt=ve.getRSSvalue(x,Ge,!1),pt=ve.getRSSvalue(C,dt,!0),Nn=Jn.OUTSIDE_EVEN_TOTAL_SUBSET[ke],gn=Jn.OUTSIDE_GSUM[ke];return new ci(mt*Nn+pt+gn,Ee)}else{if(be&1||be>10||be<4)throw new ge;let ke=(10-be)/2,Ge=Jn.INSIDE_ODD_WIDEST[ke],dt=9-Ge,mt=ve.getRSSvalue(x,Ge,!0),pt=ve.getRSSvalue(C,dt,!1),Nn=Jn.INSIDE_ODD_TOTAL_SUBSET[ke],gn=Jn.INSIDE_GSUM[ke];return new ci(pt*Nn+mt+gn,Ee)}}findFinderPattern(r,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=!1,p=0;for(;p<c&&(f=!r.get(p),o!==f);)p++;let x=0,C=p;for(let N=p;N<c;N++)if(r.get(N)!==f)u[x]++;else{if(x===3){if(Bn.isFinderPattern(u))return[C,N];C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,f=!f}throw new ge}parseFoundFinderPattern(r,o,u,c){let f=r.get(c[0]),p=c[0]-1;for(;p>=0&&f!==r.get(p);)p--;p++;const x=c[0]-p,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);R.arraycopy(C,0,N,1,C.length-1),N[0]=x;const D=this.parseFinderValue(N,Jn.FINDER_PATTERNS);let U=p,Z=c[1];return u&&(U=r.getSize()-1-U,Z=r.getSize()-1-Z),new hi(D,[p,c[1]],U,Z,o)}adjustOddEvenCounts(r,o){let u=rt.sum(new Int32Array(this.getOddCounts())),c=rt.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1,x=!1,C=!1;r?(u>12?p=!0:u<4&&(f=!0),c>12?C=!0:c<4&&(x=!0)):(u>11?p=!0:u<5&&(f=!0),c>10?C=!0:c<4&&(x=!0));let N=u+c-o,D=(u&1)===(r?1:0),U=(c&1)===1;if(N===1)if(D){if(U)throw new ge;p=!0}else{if(!U)throw new ge;C=!0}else if(N===-1)if(D){if(U)throw new ge;f=!0}else{if(!U)throw new ge;x=!0}else if(N===0){if(D){if(!U)throw new ge;u<c?(f=!0,C=!0):(p=!0,x=!0)}else if(U)throw new ge}else throw new ge;if(f){if(p)throw new ge;Bn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Bn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(C)throw new ge;Bn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Bn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Jn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Jn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Jn.OUTSIDE_GSUM=[0,161,961,2015,2715],Jn.INSIDE_GSUM=[0,336,1036,1516],Jn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Jn.INSIDE_ODD_WIDEST=[2,4,6,8],Jn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class mn extends Kt{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const u=r?r.get(ne.POSSIBLE_FORMATS):null,c=r&&r.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(he.EAN_13)||u.includes(he.UPC_A)||u.includes(he.EAN_8)||u.includes(he.UPC_E))&&this.readers.push(new Ri(r)),u.includes(he.CODE_39)&&this.readers.push(new nn(c)),u.includes(he.CODE_128)&&this.readers.push(new xt),u.includes(he.ITF)&&this.readers.push(new $t),u.includes(he.RSS_14)&&this.readers.push(new Jn),u.includes(he.RSS_EXPANDED)&&this.readers.push(new ot(this.verbose))):(this.readers.push(new Ri(r)),this.readers.push(new nn),this.readers.push(new Ri(r)),this.readers.push(new xt),this.readers.push(new $t),this.readers.push(new Jn),this.readers.push(new ot(this.verbose)))}decodeRow(r,o,u){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,o,u)}catch{}throw new ge}reset(){this.readers.forEach(r=>r.reset())}}class Yn extends ae{constructor(r=500,o){super(new mn(o),r,o)}}class Cn{constructor(r,o,u){this.ecCodewords=r,this.ecBlocks=[o],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Sn{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class jt{constructor(r,o,u,c,f,p){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=u,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=f,this.ecBlocks=p;let x=0;const C=p.getECCodewords(),N=p.getECBlocks();for(let D of N)x+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if(r&1||o&1)throw new re;for(let u of jt.VERSIONS)if(u.symbolSizeRows===r&&u.symbolSizeColumns===o)return u;throw new re}toString(){return""+this.versionNumber}static buildVersions(){return[new jt(1,10,10,8,8,new Cn(5,new Sn(1,3))),new jt(2,12,12,10,10,new Cn(7,new Sn(1,5))),new jt(3,14,14,12,12,new Cn(10,new Sn(1,8))),new jt(4,16,16,14,14,new Cn(12,new Sn(1,12))),new jt(5,18,18,16,16,new Cn(14,new Sn(1,18))),new jt(6,20,20,18,18,new Cn(18,new Sn(1,22))),new jt(7,22,22,20,20,new Cn(20,new Sn(1,30))),new jt(8,24,24,22,22,new Cn(24,new Sn(1,36))),new jt(9,26,26,24,24,new Cn(28,new Sn(1,44))),new jt(10,32,32,14,14,new Cn(36,new Sn(1,62))),new jt(11,36,36,16,16,new Cn(42,new Sn(1,86))),new jt(12,40,40,18,18,new Cn(48,new Sn(1,114))),new jt(13,44,44,20,20,new Cn(56,new Sn(1,144))),new jt(14,48,48,22,22,new Cn(68,new Sn(1,174))),new jt(15,52,52,24,24,new Cn(42,new Sn(2,102))),new jt(16,64,64,14,14,new Cn(56,new Sn(2,140))),new jt(17,72,72,16,16,new Cn(36,new Sn(4,92))),new jt(18,80,80,18,18,new Cn(48,new Sn(4,114))),new jt(19,88,88,20,20,new Cn(56,new Sn(4,144))),new jt(20,96,96,22,22,new Cn(68,new Sn(4,174))),new jt(21,104,104,24,24,new Cn(56,new Sn(6,136))),new jt(22,120,120,18,18,new Cn(68,new Sn(6,175))),new jt(23,132,132,20,20,new Cn(62,new Sn(8,163))),new jt(24,144,144,22,22,new Cn(62,new Sn(8,156),new Sn(2,155))),new jt(25,8,18,6,16,new Cn(7,new Sn(1,5))),new jt(26,8,32,6,14,new Cn(11,new Sn(1,10))),new jt(27,12,26,10,24,new Cn(14,new Sn(1,16))),new jt(28,12,36,10,16,new Cn(18,new Sn(1,22))),new jt(29,16,36,14,16,new Cn(24,new Sn(1,32))),new jt(30,16,48,14,22,new Cn(28,new Sn(1,49)))]}}jt.VERSIONS=jt.buildVersions();class bn{constructor(r){const o=r.getHeight();if(o<8||o>144||o&1)throw new re;this.version=bn.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),u=r.getWidth();return jt.getVersionForDimensions(o,u)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,u=4,c=0;const f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let x=!1,C=!1,N=!1,D=!1;do if(u===f&&c===0&&!x)r[o++]=this.readCorner1(f,p)&255,u-=2,c+=2,x=!0;else if(u===f-2&&c===0&&p&3&&!C)r[o++]=this.readCorner2(f,p)&255,u-=2,c+=2,C=!0;else if(u===f+4&&c===2&&!(p&7)&&!N)r[o++]=this.readCorner3(f,p)&255,u-=2,c+=2,N=!0;else if(u===f-2&&c===0&&(p&7)===4&&!D)r[o++]=this.readCorner4(f,p)&255,u-=2,c+=2,D=!0;else{do u<f&&c>=0&&!this.readMappingMatrix.get(c,u)&&(r[o++]=this.readUtah(u,c,f,p)&255),u-=2,c+=2;while(u>=0&&c<p);u+=1,c+=3;do u>=0&&c<p&&!this.readMappingMatrix.get(c,u)&&(r[o++]=this.readUtah(u,c,f,p)&255),u+=2,c-=2;while(u<f&&c>=0);u+=3,c+=1}while(u<f||c<p);if(o!==this.version.getTotalCodewords())throw new re;return r}readModule(r,o,u,c){return r<0&&(r+=u,o+=4-(u+4&7)),o<0&&(o+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,u,c){let f=0;return this.readModule(r-2,o-2,u,c)&&(f|=1),f<<=1,this.readModule(r-2,o-1,u,c)&&(f|=1),f<<=1,this.readModule(r-1,o-2,u,c)&&(f|=1),f<<=1,this.readModule(r-1,o-1,u,c)&&(f|=1),f<<=1,this.readModule(r-1,o,u,c)&&(f|=1),f<<=1,this.readModule(r,o-2,u,c)&&(f|=1),f<<=1,this.readModule(r,o-1,u,c)&&(f|=1),f<<=1,this.readModule(r,o,u,c)&&(f|=1),f}readCorner1(r,o){let u=0;return this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,1,r,o)&&(u|=1),u<<=1,this.readModule(r-1,2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u<<=1,this.readModule(2,o-1,r,o)&&(u|=1),u<<=1,this.readModule(3,o-1,r,o)&&(u|=1),u}readCorner2(r,o){let u=0;return this.readModule(r-3,0,r,o)&&(u|=1),u<<=1,this.readModule(r-2,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(0,o-4,r,o)&&(u|=1),u<<=1,this.readModule(0,o-3,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u}readCorner3(r,o){let u=0;return this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,o-1,r,o)&&(u|=1),u<<=1,this.readModule(0,o-3,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-3,r,o)&&(u|=1),u<<=1,this.readModule(1,o-2,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u}readCorner4(r,o){let u=0;return this.readModule(r-3,0,r,o)&&(u|=1),u<<=1,this.readModule(r-2,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u<<=1,this.readModule(2,o-1,r,o)&&(u|=1),u<<=1,this.readModule(3,o-1,r,o)&&(u|=1),u}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new A("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=o/c|0,x=u/f|0,C=p*c,N=x*f,D=new me(N,C);for(let U=0;U<p;++U){const Z=U*c;for(let ce=0;ce<x;++ce){const be=ce*f;for(let Ee=0;Ee<c;++Ee){const ke=U*(c+2)+1+Ee,Ge=Z+Ee;for(let dt=0;dt<f;++dt){const mt=ce*(f+2)+1+dt;if(r.get(mt,ke)){const pt=be+dt;D.set(pt,Ge)}}}}}return D}}class rn{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const u=o.getECBlocks();let c=0;const f=u.getECBlocks();for(let Ee of f)c+=Ee.getCount();const p=new Array(c);let x=0;for(let Ee of f)for(let ke=0;ke<Ee.getCount();ke++){const Ge=Ee.getDataCodewords(),dt=u.getECCodewords()+Ge;p[x++]=new rn(Ge,new Uint8Array(dt))}const N=p[0].codewords.length-u.getECCodewords(),D=N-1;let U=0;for(let Ee=0;Ee<D;Ee++)for(let ke=0;ke<x;ke++)p[ke].codewords[Ee]=r[U++];const Z=o.getVersionNumber()===24,ce=Z?8:x;for(let Ee=0;Ee<ce;Ee++)p[Ee].codewords[N-1]=r[U++];const be=p[0].codewords.length;for(let Ee=N;Ee<be;Ee++)for(let ke=0;ke<x;ke++){const Ge=Z?(ke+8)%x:ke,dt=Z&&Ge>7?Ee-1:Ee;p[Ge].codewords[dt]=r[U++]}if(U!==r.length)throw new A;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xo{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new A(""+r);let o=0,u=this.bitOffset,c=this.byteOffset;const f=this.bytes;if(u>0){const p=8-u,x=r<p?r:p,C=p-x,N=255>>8-x<<C;o=(f[c]&N)>>C,r-=x,u+=x,u===8&&(u=0,c++)}if(r>0){for(;r>=8;)o=o<<8|f[c]&255,c++,r-=8;if(r>0){const p=8-r,x=255>>p<<p;o=o<<r|(f[c]&x)>>p,u+=r}}return this.bitOffset=u,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ar;(function(H){H[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE"})(ar||(ar={}));class bi{static decode(r){const o=new xo(r),u=new ye,c=new ye,f=new Array;let p=ar.ASCII_ENCODE;do if(p===ar.ASCII_ENCODE)p=this.decodeAsciiSegment(o,u,c);else{switch(p){case ar.C40_ENCODE:this.decodeC40Segment(o,u);break;case ar.TEXT_ENCODE:this.decodeTextSegment(o,u);break;case ar.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,u);break;case ar.EDIFACT_ENCODE:this.decodeEdifactSegment(o,u);break;case ar.BASE256_ENCODE:this.decodeBase256Segment(o,u,f);break;default:throw new re}p=ar.ASCII_ENCODE}while(p!==ar.PAD_ENCODE&&o.available()>0);return c.length()>0&&u.append(c.toString()),new qe(r,u.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(r,o,u){let c=!1;do{let f=r.readBits(8);if(f===0)throw new re;if(f<=128)return c&&(f+=128),o.append(String.fromCharCode(f-1)),ar.ASCII_ENCODE;if(f===129)return ar.PAD_ENCODE;if(f<=229){const p=f-130;p<10&&o.append("0"),o.append(""+p)}else switch(f){case 230:return ar.C40_ENCODE;case 231:return ar.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),u.insert(0,"");break;case 237:o.append("[)>06"),u.insert(0,"");break;case 238:return ar.ANSIX12_ENCODE;case 239:return ar.TEXT_ENCODE;case 240:return ar.EDIFACT_ENCODE;case 241:break;default:if(f!==254||r.available()!==0)throw new re;break}}while(r.available()>0);return ar.ASCII_ENCODE}static decodeC40Segment(r,o){let u=!1;const c=[];let f=0;do{if(r.available()===8)return;const p=r.readBits(8);if(p===254)return;this.parseTwoBytes(p,r.readBits(8),c);for(let x=0;x<3;x++){const C=c[x];switch(f){case 0:if(C<3)f=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else throw new re;break;case 1:u?(o.append(String.fromCharCode(C+128)),u=!1):o.append(String.fromCharCode(C)),f=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:u=!0;break;default:throw new re}f=0;break;case 3:u?(o.append(String.fromCharCode(C+224)),u=!1):o.append(String.fromCharCode(C+96)),f=0;break;default:throw new re}}}while(r.available()>0)}static decodeTextSegment(r,o){let u=!1,c=[],f=0;do{if(r.available()===8)return;const p=r.readBits(8);if(p===254)return;this.parseTwoBytes(p,r.readBits(8),c);for(let x=0;x<3;x++){const C=c[x];switch(f){case 0:if(C<3)f=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else throw new re;break;case 1:u?(o.append(String.fromCharCode(C+128)),u=!1):o.append(String.fromCharCode(C)),f=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:u=!0;break;default:throw new re}f=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N),f=0}else throw new re;break;default:throw new re}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const u=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),u);for(let f=0;f<3;f++){const p=u[f];switch(p){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(p<14)o.append(String.fromCharCode(p+44));else if(p<40)o.append(String.fromCharCode(p+51));else throw new re;break}}}while(r.available()>0)}static parseTwoBytes(r,o,u){let c=(r<<8)+o-1,f=Math.floor(c/1600);u[0]=f,c-=f*1600,f=Math.floor(c/40),u[1]=f,u[2]=c-f*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let u=0;u<4;u++){let c=r.readBits(6);if(c===31){const f=8-r.getBitOffset();f!==8&&r.readBits(f);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,o,u){let c=1+r.getByteOffset();const f=this.unrandomize255State(r.readBits(8),c++);let p;if(f===0?p=r.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(r.readBits(8),c++),p<0)throw new re;const x=new Uint8Array(p);for(let C=0;C<p;C++){if(r.available()<8)throw new re;x[C]=this.unrandomize255State(r.readBits(8),c++)}u.push(x);try{o.append(J.decode(x,Y.ISO88591))}catch(C){throw new Xe("Platform does not support required encoding: "+C.message)}}static unrandomize255State(r,o){const u=149*o%255+1,c=r-u;return c>=0?c:c+256}}bi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],bi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],bi.TEXT_SHIFT2_SET_CHARS=bi.C40_SHIFT2_SET_CHARS,bi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Cs{constructor(){this.rsDecoder=new we(lt.DATA_MATRIX_FIELD_256)}decode(r){const o=new bn(r),u=o.getVersion(),c=o.readCodewords(),f=rn.getDataBlocks(c,u);let p=0;for(let N of f)p+=N.getNumDataCodewords();const x=new Uint8Array(p),C=f.length;for(let N=0;N<C;N++){const D=f[N],U=D.getCodewords(),Z=D.getNumDataCodewords();this.correctErrors(U,Z);for(let ce=0;ce<Z;ce++)x[ce*C+N]=U[ce]}return bi.decode(x)}correctErrors(r,o){const u=new Int32Array(r);try{this.rsDecoder.decode(u,r.length-o)}catch{throw new E}for(let c=0;c<o;c++)r[c]=u[c]}}class Wt{constructor(r){this.image=r,this.rectangleDetector=new Zt(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ge;o=this.shiftToModuleCenter(o);const u=o[0],c=o[1],f=o[2],p=o[3];let x=this.transitionsBetween(u,p)+1,C=this.transitionsBetween(f,p)+1;(x&1)===1&&(x+=1),(C&1)===1&&(C+=1),4*x<7*C&&4*C<7*x&&(x=C=Math.max(x,C));let N=Wt.sampleGrid(this.image,u,c,f,p,x,C);return new St(N,[u,c,f,p])}static shiftPoint(r,o,u){let c=(o.getX()-r.getX())/(u+1),f=(o.getY()-r.getY())/(u+1);return new Je(r.getX()+c,r.getY()+f)}static moveAway(r,o,u){let c=r.getX(),f=r.getY();return c<o?c-=1:c+=1,f<u?f-=1:f+=1,new Je(c,f)}detectSolid1(r){let o=r[0],u=r[1],c=r[3],f=r[2],p=this.transitionsBetween(o,u),x=this.transitionsBetween(u,c),C=this.transitionsBetween(c,f),N=this.transitionsBetween(f,o),D=p,U=[f,o,u,c];return D>x&&(D=x,U[0]=o,U[1]=u,U[2]=c,U[3]=f),D>C&&(D=C,U[0]=u,U[1]=c,U[2]=f,U[3]=o),D>N&&(U[0]=c,U[1]=f,U[2]=o,U[3]=u),U}detectSolid2(r){let o=r[0],u=r[1],c=r[2],f=r[3],p=this.transitionsBetween(o,f),x=Wt.shiftPoint(u,c,(p+1)*4),C=Wt.shiftPoint(c,u,(p+1)*4),N=this.transitionsBetween(x,o),D=this.transitionsBetween(C,f);return N<D?(r[0]=o,r[1]=u,r[2]=c,r[3]=f):(r[0]=u,r[1]=c,r[2]=f,r[3]=o),r}correctTopRight(r){let o=r[0],u=r[1],c=r[2],f=r[3],p=this.transitionsBetween(o,f),x=this.transitionsBetween(u,f),C=Wt.shiftPoint(o,u,(x+1)*4),N=Wt.shiftPoint(c,u,(p+1)*4);p=this.transitionsBetween(C,f),x=this.transitionsBetween(N,f);let D=new Je(f.getX()+(c.getX()-u.getX())/(p+1),f.getY()+(c.getY()-u.getY())/(p+1)),U=new Je(f.getX()+(o.getX()-u.getX())/(x+1),f.getY()+(o.getY()-u.getY())/(x+1));if(!this.isValid(D))return this.isValid(U)?U:null;if(!this.isValid(U))return D;let Z=this.transitionsBetween(C,D)+this.transitionsBetween(N,D),ce=this.transitionsBetween(C,U)+this.transitionsBetween(N,U);return Z>ce?D:U}shiftToModuleCenter(r){let o=r[0],u=r[1],c=r[2],f=r[3],p=this.transitionsBetween(o,f)+1,x=this.transitionsBetween(c,f)+1,C=Wt.shiftPoint(o,u,x*4),N=Wt.shiftPoint(c,u,p*4);p=this.transitionsBetween(C,f)+1,x=this.transitionsBetween(N,f)+1,(p&1)===1&&(p+=1),(x&1)===1&&(x+=1);let D=(o.getX()+u.getX()+c.getX()+f.getX())/4,U=(o.getY()+u.getY()+c.getY()+f.getY())/4;o=Wt.moveAway(o,D,U),u=Wt.moveAway(u,D,U),c=Wt.moveAway(c,D,U),f=Wt.moveAway(f,D,U);let Z,ce;return C=Wt.shiftPoint(o,u,x*4),C=Wt.shiftPoint(C,f,p*4),Z=Wt.shiftPoint(u,o,x*4),Z=Wt.shiftPoint(Z,c,p*4),N=Wt.shiftPoint(c,f,x*4),N=Wt.shiftPoint(N,u,p*4),ce=Wt.shiftPoint(f,c,x*4),ce=Wt.shiftPoint(ce,o,p*4),[C,Z,N,ce]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,u,c,f,p,x){return cn.getInstance().sampleGrid(r,p,x,.5,.5,p-.5,.5,p-.5,x-.5,.5,x-.5,o.getX(),o.getY(),f.getX(),f.getY(),c.getX(),c.getY(),u.getX(),u.getY())}transitionsBetween(r,o){let u=Math.trunc(r.getX()),c=Math.trunc(r.getY()),f=Math.trunc(o.getX()),p=Math.trunc(o.getY()),x=Math.abs(p-c)>Math.abs(f-u);if(x){let Ee=u;u=c,c=Ee,Ee=f,f=p,p=Ee}let C=Math.abs(f-u),N=Math.abs(p-c),D=-C/2,U=c<p?1:-1,Z=u<f?1:-1,ce=0,be=this.image.get(x?c:u,x?u:c);for(let Ee=u,ke=c;Ee!==f;Ee+=Z){let Ge=this.image.get(x?ke:Ee,x?Ee:ke);if(Ge!==be&&(ce++,be=Ge),D+=N,D>0){if(ke===p)break;ke+=U,D-=C}}return ce}}class Rn{constructor(){this.decoder=new Cs}decode(r,o=null){let u,c;if(o!=null&&o.has(ne.PURE_BARCODE)){const N=Rn.extractPureBits(r.getBlackMatrix());u=this.decoder.decode(N),c=Rn.NO_POINTS}else{const N=new Wt(r.getBlackMatrix()).detect();u=this.decoder.decode(N.getBits()),c=N.getPoints()}const f=u.getRawBytes(),p=new le(u.getText(),f,8*f.length,c,he.DATA_MATRIX,R.currentTimeMillis()),x=u.getByteSegments();x!=null&&p.putMetadata(je.BYTE_SEGMENTS,x);const C=u.getECLevel();return C!=null&&p.putMetadata(je.ERROR_CORRECTION_LEVEL,C),p}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),u=r.getBottomRightOnBit();if(o==null||u==null)throw new ge;const c=this.moduleSize(o,r);let f=o[1];const p=u[1];let x=o[0];const N=(u[0]-x+1)/c,D=(p-f+1)/c;if(N<=0||D<=0)throw new ge;const U=c/2;f+=U,x+=U;const Z=new me(N,D);for(let ce=0;ce<D;ce++){const be=f+ce*c;for(let Ee=0;Ee<N;Ee++)r.get(x+Ee*c,be)&&Z.set(Ee,ce)}return Z}static moduleSize(r,o){const u=o.getWidth();let c=r[0];const f=r[1];for(;c<u&&o.get(c,f);)c++;if(c===u)throw new ge;const p=c-r[0];if(p===0)throw new ge;return p}}Rn.NO_POINTS=[];class ss extends ae{constructor(r=500){super(new Rn,r)}}var Tr;(function(H){H[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H"})(Tr||(Tr={}));class En{constructor(r,o,u){this.value=r,this.stringValue=o,this.bits=u,En.FOR_BITS.set(u,this),En.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return En.L;case"M":return En.M;case"Q":return En.Q;case"H":return En.H;default:throw new _(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof En))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=En.FOR_BITS.size)throw new A;return En.FOR_BITS.get(r)}}En.FOR_BITS=new Map,En.FOR_VALUE=new Map,En.L=new En(Tr.L,"L",1),En.M=new En(Tr.M,"M",0),En.Q=new En(Tr.Q,"Q",3),En.H=new En(Tr.H,"H",2);class Xr{constructor(r){this.errorCorrectionLevel=En.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return j.bitCount(r^o)}static decodeFormatInformation(r,o){const u=Xr.doDecodeFormatInformation(r,o);return u!==null?u:Xr.doDecodeFormatInformation(r^Xr.FORMAT_INFO_MASK_QR,o^Xr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let u=Number.MAX_SAFE_INTEGER,c=0;for(const f of Xr.FORMAT_INFO_DECODE_LOOKUP){const p=f[0];if(p===r||p===o)return new Xr(f[1]);let x=Xr.numBitsDiffering(r,p);x<u&&(c=f[1],u=x),r!==o&&(x=Xr.numBitsDiffering(o,p),x<u&&(c=f[1],u=x))}return u<=3?new Xr(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Xr))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Xr.FORMAT_INFO_MASK_QR=21522,Xr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ze{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const u of o)r+=u.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class oe{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tt{constructor(r,o,...u){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=u;let c=0;const f=u[0].getECCodewordsPerBlock(),p=u[0].getECBlocks();for(const x of p)c+=x.getCount()*(x.getDataCodewords()+f);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new re;try{return this.getVersionForNumber((r-17)/4)}catch{throw new re}}static getVersionForNumber(r){if(r<1||r>40)throw new A;return Tt.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,u=0;for(let c=0;c<Tt.VERSION_DECODE_INFO.length;c++){const f=Tt.VERSION_DECODE_INFO[c];if(f===r)return Tt.getVersionForNumber(c+7);const p=Xr.numBitsDiffering(r,f);p<o&&(u=c+7,o=p)}return o<=3?Tt.getVersionForNumber(u):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new me(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const u=this.alignmentPatternCenters.length;for(let c=0;c<u;c++){const f=this.alignmentPatternCenters[c]-2;for(let p=0;p<u;p++)c===0&&(p===0||p===u-1)||c===u-1&&p===0||o.setRegion(this.alignmentPatternCenters[p]-2,f,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}Tt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Tt.VERSIONS=[new Tt(1,new Int32Array(0),new ze(7,new oe(1,19)),new ze(10,new oe(1,16)),new ze(13,new oe(1,13)),new ze(17,new oe(1,9))),new Tt(2,Int32Array.from([6,18]),new ze(10,new oe(1,34)),new ze(16,new oe(1,28)),new ze(22,new oe(1,22)),new ze(28,new oe(1,16))),new Tt(3,Int32Array.from([6,22]),new ze(15,new oe(1,55)),new ze(26,new oe(1,44)),new ze(18,new oe(2,17)),new ze(22,new oe(2,13))),new Tt(4,Int32Array.from([6,26]),new ze(20,new oe(1,80)),new ze(18,new oe(2,32)),new ze(26,new oe(2,24)),new ze(16,new oe(4,9))),new Tt(5,Int32Array.from([6,30]),new ze(26,new oe(1,108)),new ze(24,new oe(2,43)),new ze(18,new oe(2,15),new oe(2,16)),new ze(22,new oe(2,11),new oe(2,12))),new Tt(6,Int32Array.from([6,34]),new ze(18,new oe(2,68)),new ze(16,new oe(4,27)),new ze(24,new oe(4,19)),new ze(28,new oe(4,15))),new Tt(7,Int32Array.from([6,22,38]),new ze(20,new oe(2,78)),new ze(18,new oe(4,31)),new ze(18,new oe(2,14),new oe(4,15)),new ze(26,new oe(4,13),new oe(1,14))),new Tt(8,Int32Array.from([6,24,42]),new ze(24,new oe(2,97)),new ze(22,new oe(2,38),new oe(2,39)),new ze(22,new oe(4,18),new oe(2,19)),new ze(26,new oe(4,14),new oe(2,15))),new Tt(9,Int32Array.from([6,26,46]),new ze(30,new oe(2,116)),new ze(22,new oe(3,36),new oe(2,37)),new ze(20,new oe(4,16),new oe(4,17)),new ze(24,new oe(4,12),new oe(4,13))),new Tt(10,Int32Array.from([6,28,50]),new ze(18,new oe(2,68),new oe(2,69)),new ze(26,new oe(4,43),new oe(1,44)),new ze(24,new oe(6,19),new oe(2,20)),new ze(28,new oe(6,15),new oe(2,16))),new Tt(11,Int32Array.from([6,30,54]),new ze(20,new oe(4,81)),new ze(30,new oe(1,50),new oe(4,51)),new ze(28,new oe(4,22),new oe(4,23)),new ze(24,new oe(3,12),new oe(8,13))),new Tt(12,Int32Array.from([6,32,58]),new ze(24,new oe(2,92),new oe(2,93)),new ze(22,new oe(6,36),new oe(2,37)),new ze(26,new oe(4,20),new oe(6,21)),new ze(28,new oe(7,14),new oe(4,15))),new Tt(13,Int32Array.from([6,34,62]),new ze(26,new oe(4,107)),new ze(22,new oe(8,37),new oe(1,38)),new ze(24,new oe(8,20),new oe(4,21)),new ze(22,new oe(12,11),new oe(4,12))),new Tt(14,Int32Array.from([6,26,46,66]),new ze(30,new oe(3,115),new oe(1,116)),new ze(24,new oe(4,40),new oe(5,41)),new ze(20,new oe(11,16),new oe(5,17)),new ze(24,new oe(11,12),new oe(5,13))),new Tt(15,Int32Array.from([6,26,48,70]),new ze(22,new oe(5,87),new oe(1,88)),new ze(24,new oe(5,41),new oe(5,42)),new ze(30,new oe(5,24),new oe(7,25)),new ze(24,new oe(11,12),new oe(7,13))),new Tt(16,Int32Array.from([6,26,50,74]),new ze(24,new oe(5,98),new oe(1,99)),new ze(28,new oe(7,45),new oe(3,46)),new ze(24,new oe(15,19),new oe(2,20)),new ze(30,new oe(3,15),new oe(13,16))),new Tt(17,Int32Array.from([6,30,54,78]),new ze(28,new oe(1,107),new oe(5,108)),new ze(28,new oe(10,46),new oe(1,47)),new ze(28,new oe(1,22),new oe(15,23)),new ze(28,new oe(2,14),new oe(17,15))),new Tt(18,Int32Array.from([6,30,56,82]),new ze(30,new oe(5,120),new oe(1,121)),new ze(26,new oe(9,43),new oe(4,44)),new ze(28,new oe(17,22),new oe(1,23)),new ze(28,new oe(2,14),new oe(19,15))),new Tt(19,Int32Array.from([6,30,58,86]),new ze(28,new oe(3,113),new oe(4,114)),new ze(26,new oe(3,44),new oe(11,45)),new ze(26,new oe(17,21),new oe(4,22)),new ze(26,new oe(9,13),new oe(16,14))),new Tt(20,Int32Array.from([6,34,62,90]),new ze(28,new oe(3,107),new oe(5,108)),new ze(26,new oe(3,41),new oe(13,42)),new ze(30,new oe(15,24),new oe(5,25)),new ze(28,new oe(15,15),new oe(10,16))),new Tt(21,Int32Array.from([6,28,50,72,94]),new ze(28,new oe(4,116),new oe(4,117)),new ze(26,new oe(17,42)),new ze(28,new oe(17,22),new oe(6,23)),new ze(30,new oe(19,16),new oe(6,17))),new Tt(22,Int32Array.from([6,26,50,74,98]),new ze(28,new oe(2,111),new oe(7,112)),new ze(28,new oe(17,46)),new ze(30,new oe(7,24),new oe(16,25)),new ze(24,new oe(34,13))),new Tt(23,Int32Array.from([6,30,54,78,102]),new ze(30,new oe(4,121),new oe(5,122)),new ze(28,new oe(4,47),new oe(14,48)),new ze(30,new oe(11,24),new oe(14,25)),new ze(30,new oe(16,15),new oe(14,16))),new Tt(24,Int32Array.from([6,28,54,80,106]),new ze(30,new oe(6,117),new oe(4,118)),new ze(28,new oe(6,45),new oe(14,46)),new ze(30,new oe(11,24),new oe(16,25)),new ze(30,new oe(30,16),new oe(2,17))),new Tt(25,Int32Array.from([6,32,58,84,110]),new ze(26,new oe(8,106),new oe(4,107)),new ze(28,new oe(8,47),new oe(13,48)),new ze(30,new oe(7,24),new oe(22,25)),new ze(30,new oe(22,15),new oe(13,16))),new Tt(26,Int32Array.from([6,30,58,86,114]),new ze(28,new oe(10,114),new oe(2,115)),new ze(28,new oe(19,46),new oe(4,47)),new ze(28,new oe(28,22),new oe(6,23)),new ze(30,new oe(33,16),new oe(4,17))),new Tt(27,Int32Array.from([6,34,62,90,118]),new ze(30,new oe(8,122),new oe(4,123)),new ze(28,new oe(22,45),new oe(3,46)),new ze(30,new oe(8,23),new oe(26,24)),new ze(30,new oe(12,15),new oe(28,16))),new Tt(28,Int32Array.from([6,26,50,74,98,122]),new ze(30,new oe(3,117),new oe(10,118)),new ze(28,new oe(3,45),new oe(23,46)),new ze(30,new oe(4,24),new oe(31,25)),new ze(30,new oe(11,15),new oe(31,16))),new Tt(29,Int32Array.from([6,30,54,78,102,126]),new ze(30,new oe(7,116),new oe(7,117)),new ze(28,new oe(21,45),new oe(7,46)),new ze(30,new oe(1,23),new oe(37,24)),new ze(30,new oe(19,15),new oe(26,16))),new Tt(30,Int32Array.from([6,26,52,78,104,130]),new ze(30,new oe(5,115),new oe(10,116)),new ze(28,new oe(19,47),new oe(10,48)),new ze(30,new oe(15,24),new oe(25,25)),new ze(30,new oe(23,15),new oe(25,16))),new Tt(31,Int32Array.from([6,30,56,82,108,134]),new ze(30,new oe(13,115),new oe(3,116)),new ze(28,new oe(2,46),new oe(29,47)),new ze(30,new oe(42,24),new oe(1,25)),new ze(30,new oe(23,15),new oe(28,16))),new Tt(32,Int32Array.from([6,34,60,86,112,138]),new ze(30,new oe(17,115)),new ze(28,new oe(10,46),new oe(23,47)),new ze(30,new oe(10,24),new oe(35,25)),new ze(30,new oe(19,15),new oe(35,16))),new Tt(33,Int32Array.from([6,30,58,86,114,142]),new ze(30,new oe(17,115),new oe(1,116)),new ze(28,new oe(14,46),new oe(21,47)),new ze(30,new oe(29,24),new oe(19,25)),new ze(30,new oe(11,15),new oe(46,16))),new Tt(34,Int32Array.from([6,34,62,90,118,146]),new ze(30,new oe(13,115),new oe(6,116)),new ze(28,new oe(14,46),new oe(23,47)),new ze(30,new oe(44,24),new oe(7,25)),new ze(30,new oe(59,16),new oe(1,17))),new Tt(35,Int32Array.from([6,30,54,78,102,126,150]),new ze(30,new oe(12,121),new oe(7,122)),new ze(28,new oe(12,47),new oe(26,48)),new ze(30,new oe(39,24),new oe(14,25)),new ze(30,new oe(22,15),new oe(41,16))),new Tt(36,Int32Array.from([6,24,50,76,102,128,154]),new ze(30,new oe(6,121),new oe(14,122)),new ze(28,new oe(6,47),new oe(34,48)),new ze(30,new oe(46,24),new oe(10,25)),new ze(30,new oe(2,15),new oe(64,16))),new Tt(37,Int32Array.from([6,28,54,80,106,132,158]),new ze(30,new oe(17,122),new oe(4,123)),new ze(28,new oe(29,46),new oe(14,47)),new ze(30,new oe(49,24),new oe(10,25)),new ze(30,new oe(24,15),new oe(46,16))),new Tt(38,Int32Array.from([6,32,58,84,110,136,162]),new ze(30,new oe(4,122),new oe(18,123)),new ze(28,new oe(13,46),new oe(32,47)),new ze(30,new oe(48,24),new oe(14,25)),new ze(30,new oe(42,15),new oe(32,16))),new Tt(39,Int32Array.from([6,26,54,82,110,138,166]),new ze(30,new oe(20,117),new oe(4,118)),new ze(28,new oe(40,47),new oe(7,48)),new ze(30,new oe(43,24),new oe(22,25)),new ze(30,new oe(10,15),new oe(67,16))),new Tt(40,Int32Array.from([6,30,58,86,114,142,170]),new ze(30,new oe(19,118),new oe(6,119)),new ze(28,new oe(18,47),new oe(31,48)),new ze(30,new oe(34,24),new oe(34,25)),new ze(30,new oe(20,15),new oe(61,16)))];var lr;(function(H){H[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111"})(lr||(lr={}));class ni{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let u=0;u<o;u++)for(let c=0;c<o;c++)this.isMasked(u,c)&&r.flip(c,u)}}ni.values=new Map([[lr.DATA_MASK_000,new ni(lr.DATA_MASK_000,(H,r)=>(H+r&1)===0)],[lr.DATA_MASK_001,new ni(lr.DATA_MASK_001,(H,r)=>(H&1)===0)],[lr.DATA_MASK_010,new ni(lr.DATA_MASK_010,(H,r)=>r%3===0)],[lr.DATA_MASK_011,new ni(lr.DATA_MASK_011,(H,r)=>(H+r)%3===0)],[lr.DATA_MASK_100,new ni(lr.DATA_MASK_100,(H,r)=>(Math.floor(H/2)+Math.floor(r/3)&1)===0)],[lr.DATA_MASK_101,new ni(lr.DATA_MASK_101,(H,r)=>H*r%6===0)],[lr.DATA_MASK_110,new ni(lr.DATA_MASK_110,(H,r)=>H*r%6<3)],[lr.DATA_MASK_111,new ni(lr.DATA_MASK_111,(H,r)=>(H+r+H*r%3&1)===0)]]);class Vo{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new re;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let f=0;f<6;f++)r=this.copyBit(f,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let f=5;f>=0;f--)r=this.copyBit(8,f,r);const o=this.bitMatrix.getHeight();let u=0;const c=o-7;for(let f=o-1;f>=c;f--)u=this.copyBit(8,f,u);for(let f=o-8;f<o;f++)u=this.copyBit(f,8,u);if(this.parsedFormatInfo=Xr.decodeFormatInformation(r,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new re}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return Tt.getVersionForNumber(o);let u=0;const c=r-11;for(let p=5;p>=0;p--)for(let x=r-9;x>=c;x--)u=this.copyBit(x,p,u);let f=Tt.decodeVersionInformation(u);if(f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;u=0;for(let p=5;p>=0;p--)for(let x=r-9;x>=c;x--)u=this.copyBit(p,x,u);if(f=Tt.decodeVersionInformation(u),f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;throw new re}copyBit(r,o,u){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?u<<1|1:u<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),u=ni.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,c);const f=o.buildFunctionPattern();let p=!0;const x=new Uint8Array(o.getTotalCodewords());let C=0,N=0,D=0;for(let U=c-1;U>0;U-=2){U===6&&U--;for(let Z=0;Z<c;Z++){const ce=p?c-1-Z:Z;for(let be=0;be<2;be++)f.get(U-be,ce)||(D++,N<<=1,this.bitMatrix.get(U-be,ce)&&(N|=1),D===8&&(x[C++]=N,D=0,N=0))}p=!p}if(C!==o.getTotalCodewords())throw new re;return x}remask(){if(this.parsedFormatInfo===null)return;const r=ni.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,u=r.getWidth();o<u;o++)for(let c=o+1,f=r.getHeight();c<f;c++)r.get(o,c)!==r.get(c,o)&&(r.flip(c,o),r.flip(o,c))}}class Es{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,u){if(r.length!==o.getTotalCodewords())throw new A;const c=o.getECBlocksForLevel(u);let f=0;const p=c.getECBlocks();for(const be of p)f+=be.getCount();const x=new Array(f);let C=0;for(const be of p)for(let Ee=0;Ee<be.getCount();Ee++){const ke=be.getDataCodewords(),Ge=c.getECCodewordsPerBlock()+ke;x[C++]=new Es(ke,new Uint8Array(Ge))}const N=x[0].codewords.length;let D=x.length-1;for(;D>=0&&x[D].codewords.length!==N;)D--;D++;const U=N-c.getECCodewordsPerBlock();let Z=0;for(let be=0;be<U;be++)for(let Ee=0;Ee<C;Ee++)x[Ee].codewords[be]=r[Z++];for(let be=D;be<C;be++)x[be].codewords[U]=r[Z++];const ce=x[0].codewords.length;for(let be=U;be<ce;be++)for(let Ee=0;Ee<C;Ee++){const ke=Ee<D?be:be+1;x[Ee].codewords[ke]=r[Z++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ri;(function(H){H[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI"})(ri||(ri={}));class Xt{constructor(r,o,u,c){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=u,this.bits=c,Xt.FOR_BITS.set(c,this),Xt.FOR_VALUE.set(r,this)}static forBits(r){const o=Xt.FOR_BITS.get(r);if(o===void 0)throw new A;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let u;return o<=9?u=0:o<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Xt))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}Xt.FOR_BITS=new Map,Xt.FOR_VALUE=new Map,Xt.TERMINATOR=new Xt(ri.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Xt.NUMERIC=new Xt(ri.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Xt.ALPHANUMERIC=new Xt(ri.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Xt.STRUCTURED_APPEND=new Xt(ri.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Xt.BYTE=new Xt(ri.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Xt.ECI=new Xt(ri.ECI,"ECI",Int32Array.from([0,0,0]),7),Xt.KANJI=new Xt(ri.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Xt.FNC1_FIRST_POSITION=new Xt(ri.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Xt.FNC1_SECOND_POSITION=new Xt(ri.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Xt.HANZI=new Xt(ri.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Vn{static decode(r,o,u,c){const f=new xo(r);let p=new ye;const x=new Array;let C=-1,N=-1;try{let D=null,U=!1,Z;do{if(f.available()<4)Z=Xt.TERMINATOR;else{const ce=f.readBits(4);Z=Xt.forBits(ce)}switch(Z){case Xt.TERMINATOR:break;case Xt.FNC1_FIRST_POSITION:case Xt.FNC1_SECOND_POSITION:U=!0;break;case Xt.STRUCTURED_APPEND:if(f.available()<16)throw new re;C=f.readBits(8),N=f.readBits(8);break;case Xt.ECI:const ce=Vn.parseECIValue(f);if(D=se.getCharacterSetECIByValue(ce),D===null)throw new re;break;case Xt.HANZI:const be=f.readBits(4),Ee=f.readBits(Z.getCharacterCountBits(o));be===Vn.GB2312_SUBSET&&Vn.decodeHanziSegment(f,p,Ee);break;default:const ke=f.readBits(Z.getCharacterCountBits(o));switch(Z){case Xt.NUMERIC:Vn.decodeNumericSegment(f,p,ke);break;case Xt.ALPHANUMERIC:Vn.decodeAlphanumericSegment(f,p,ke,U);break;case Xt.BYTE:Vn.decodeByteSegment(f,p,ke,D,x,c);break;case Xt.KANJI:Vn.decodeKanjiSegment(f,p,ke);break;default:throw new re}break}}while(Z!==Xt.TERMINATOR)}catch{throw new re}return new qe(r,p.toString(),x.length===0?null:x,u===null?null:u.toString(),C,N)}static decodeHanziSegment(r,o,u){if(u*13>r.available())throw new re;const c=new Uint8Array(2*u);let f=0;for(;u>0;){const p=r.readBits(13);let x=p/96<<8&4294967295|p%96;x<959?x+=41377:x+=42657,c[f]=x>>8&255,c[f+1]=x&255,f+=2,u--}try{o.append(J.decode(c,Y.GB2312))}catch(p){throw new re(p)}}static decodeKanjiSegment(r,o,u){if(u*13>r.available())throw new re;const c=new Uint8Array(2*u);let f=0;for(;u>0;){const p=r.readBits(13);let x=p/192<<8&4294967295|p%192;x<7936?x+=33088:x+=49472,c[f]=x>>8,c[f+1]=x,f+=2,u--}try{o.append(J.decode(c,Y.SHIFT_JIS))}catch(p){throw new re(p)}}static decodeByteSegment(r,o,u,c,f,p){if(8*u>r.available())throw new re;const x=new Uint8Array(u);for(let N=0;N<u;N++)x[N]=r.readBits(8);let C;c===null?C=Y.guessEncoding(x,p):C=c.getName();try{o.append(J.decode(x,C))}catch(N){throw new re(N)}f.push(x)}static toAlphaNumericChar(r){if(r>=Vn.ALPHANUMERIC_CHARS.length)throw new re;return Vn.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,u,c){const f=o.length();for(;u>1;){if(r.available()<11)throw new re;const p=r.readBits(11);o.append(Vn.toAlphaNumericChar(Math.floor(p/45))),o.append(Vn.toAlphaNumericChar(p%45)),u-=2}if(u===1){if(r.available()<6)throw new re;o.append(Vn.toAlphaNumericChar(r.readBits(6)))}if(c)for(let p=f;p<o.length();p++)o.charAt(p)==="%"&&(p<o.length()-1&&o.charAt(p+1)==="%"?o.deleteCharAt(p+1):o.setCharAt(p,String.fromCharCode(29)))}static decodeNumericSegment(r,o,u){for(;u>=3;){if(r.available()<10)throw new re;const c=r.readBits(10);if(c>=1e3)throw new re;o.append(Vn.toAlphaNumericChar(Math.floor(c/100))),o.append(Vn.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(Vn.toAlphaNumericChar(c%10)),u-=3}if(u===2){if(r.available()<7)throw new re;const c=r.readBits(7);if(c>=100)throw new re;o.append(Vn.toAlphaNumericChar(Math.floor(c/10))),o.append(Vn.toAlphaNumericChar(c%10))}else if(u===1){if(r.available()<4)throw new re;const c=r.readBits(4);if(c>=10)throw new re;o.append(Vn.toAlphaNumericChar(c))}}static parseECIValue(r){const o=r.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const u=r.readBits(8);return(o&63)<<8&4294967295|u}if((o&224)===192){const u=r.readBits(16);return(o&31)<<16&4294967295|u}throw new re}}Vn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Vn.GB2312_SUBSET=1;class To{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class as{constructor(){this.rsDecoder=new we(lt.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(me.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const u=new Vo(r);let c=null;try{return this.decodeBitMatrixParser(u,o)}catch(f){c=f}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const f=this.decodeBitMatrixParser(u,o);return f.setOther(new To(!0)),f}catch(f){throw c!==null?c:f}}decodeBitMatrixParser(r,o){const u=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),f=r.readCodewords(),p=Es.getDataBlocks(f,u,c);let x=0;for(const D of p)x+=D.getNumDataCodewords();const C=new Uint8Array(x);let N=0;for(const D of p){const U=D.getCodewords(),Z=D.getNumDataCodewords();this.correctErrors(U,Z);for(let ce=0;ce<Z;ce++)C[N++]=U[ce]}return Vn.decode(C,u,c,o)}correctErrors(r,o){const u=new Int32Array(r);try{this.rsDecoder.decode(u,r.length-o)}catch{throw new E}for(let c=0;c<o;c++)r[c]=u[c]}}class ls extends Je{constructor(r,o,u){super(r,o),this.estimatedModuleSize=u}aboutEquals(r,o,u){if(Math.abs(o-this.getY())<=r&&Math.abs(u-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,o,u){const c=(this.getX()+o)/2,f=(this.getY()+r)/2,p=(this.estimatedModuleSize+u)/2;return new ls(c,f,p)}}class Pr{constructor(r,o,u,c,f,p,x){this.image=r,this.startX=o,this.startY=u,this.width=c,this.height=f,this.moduleSize=p,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,u=this.width,c=r+u,f=this.startY+o/2,p=new Int32Array(3),x=this.image;for(let C=0;C<o;C++){const N=f+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));p[0]=0,p[1]=0,p[2]=0;let D=r;for(;D<c&&!x.get(D,N);)D++;let U=0;for(;D<c;){if(x.get(D,N))if(U===1)p[1]++;else if(U===2){if(this.foundPatternCross(p)){const Z=this.handlePossibleCenter(p,N,D);if(Z!==null)return Z}p[0]=p[2],p[1]=1,p[2]=0,U=1}else p[++U]++;else U===1&&U++,p[U]++;D++}if(this.foundPatternCross(p)){const Z=this.handlePossibleCenter(p,N,c);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ge}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,u=o/2;for(let c=0;c<3;c++)if(Math.abs(o-r[c])>=u)return!1;return!0}crossCheckVertical(r,o,u,c){const f=this.image,p=f.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let C=r;for(;C>=0&&f.get(o,C)&&x[1]<=u;)x[1]++,C--;if(C<0||x[1]>u)return NaN;for(;C>=0&&!f.get(o,C)&&x[0]<=u;)x[0]++,C--;if(x[0]>u)return NaN;for(C=r+1;C<p&&f.get(o,C)&&x[1]<=u;)x[1]++,C++;if(C===p||x[1]>u)return NaN;for(;C<p&&!f.get(o,C)&&x[2]<=u;)x[2]++,C++;if(x[2]>u)return NaN;const N=x[0]+x[1]+x[2];return 5*Math.abs(N-c)>=2*c?NaN:this.foundPatternCross(x)?Pr.centerFromEnd(x,C):NaN}handlePossibleCenter(r,o,u){const c=r[0]+r[1]+r[2],f=Pr.centerFromEnd(r,u),p=this.crossCheckVertical(o,f,2*r[1],c);if(!isNaN(p)){const x=(r[0]+r[1]+r[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(x,p,f))return N.combineEstimate(p,f,x);const C=new ls(f,p,x);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Zs extends Je{constructor(r,o,u,c){super(r,o),this.estimatedModuleSize=u,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,u){if(Math.abs(o-this.getY())<=r&&Math.abs(u-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,o,u){const c=this.count+1,f=(this.count*this.getX()+o)/c,p=(this.count*this.getY()+r)/c,x=(this.count*this.estimatedModuleSize+u)/c;return new Zs(f,p,x,c)}}class Xs{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vt{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get(ne.TRY_HARDER)!==void 0,u=r!=null&&r.get(ne.PURE_BARCODE)!==void 0,c=this.image,f=c.getHeight(),p=c.getWidth();let x=Math.floor(3*f/(4*Vt.MAX_MODULES));(x<Vt.MIN_SKIP||o)&&(x=Vt.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let U=x-1;U<f&&!C;U+=x){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let Z=0;for(let ce=0;ce<p;ce++)if(c.get(ce,U))(Z&1)===1&&Z++,N[Z]++;else if(Z&1)N[Z]++;else if(Z===4)if(Vt.foundPatternCross(N)){if(this.handlePossibleCenter(N,U,ce,u)===!0)if(x=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const Ee=this.findRowSkip();Ee>N[2]&&(U+=Ee-N[2]-x,ce=p-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,Z=3;continue}Z=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,Z=3;else N[++Z]++;Vt.foundPatternCross(N)&&this.handlePossibleCenter(N,U,p,u)===!0&&(x=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Je.orderBestPatterns(D),new Xs(D)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let f=0;f<5;f++){const p=r[f];if(p===0)return!1;o+=p}if(o<7)return!1;const u=o/7,c=u/2;return Math.abs(u-r[0])<c&&Math.abs(u-r[1])<c&&Math.abs(3*u-r[2])<3*c&&Math.abs(u-r[3])<c&&Math.abs(u-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,u,c){const f=this.getCrossCheckStateCount();let p=0;const x=this.image;for(;r>=p&&o>=p&&x.get(o-p,r-p);)f[2]++,p++;if(r<p||o<p)return!1;for(;r>=p&&o>=p&&!x.get(o-p,r-p)&&f[1]<=u;)f[1]++,p++;if(r<p||o<p||f[1]>u)return!1;for(;r>=p&&o>=p&&x.get(o-p,r-p)&&f[0]<=u;)f[0]++,p++;if(f[0]>u)return!1;const C=x.getHeight(),N=x.getWidth();for(p=1;r+p<C&&o+p<N&&x.get(o+p,r+p);)f[2]++,p++;if(r+p>=C||o+p>=N)return!1;for(;r+p<C&&o+p<N&&!x.get(o+p,r+p)&&f[3]<u;)f[3]++,p++;if(r+p>=C||o+p>=N||f[3]>=u)return!1;for(;r+p<C&&o+p<N&&x.get(o+p,r+p)&&f[4]<u;)f[4]++,p++;if(f[4]>=u)return!1;const D=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(D-c)<2*c&&Vt.foundPatternCross(f)}crossCheckVertical(r,o,u,c){const f=this.image,p=f.getHeight(),x=this.getCrossCheckStateCount();let C=r;for(;C>=0&&f.get(o,C);)x[2]++,C--;if(C<0)return NaN;for(;C>=0&&!f.get(o,C)&&x[1]<=u;)x[1]++,C--;if(C<0||x[1]>u)return NaN;for(;C>=0&&f.get(o,C)&&x[0]<=u;)x[0]++,C--;if(x[0]>u)return NaN;for(C=r+1;C<p&&f.get(o,C);)x[2]++,C++;if(C===p)return NaN;for(;C<p&&!f.get(o,C)&&x[3]<u;)x[3]++,C++;if(C===p||x[3]>=u)return NaN;for(;C<p&&f.get(o,C)&&x[4]<u;)x[4]++,C++;if(x[4]>=u)return NaN;const N=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(N-c)>=2*c?NaN:Vt.foundPatternCross(x)?Vt.centerFromEnd(x,C):NaN}crossCheckHorizontal(r,o,u,c){const f=this.image,p=f.getWidth(),x=this.getCrossCheckStateCount();let C=r;for(;C>=0&&f.get(C,o);)x[2]++,C--;if(C<0)return NaN;for(;C>=0&&!f.get(C,o)&&x[1]<=u;)x[1]++,C--;if(C<0||x[1]>u)return NaN;for(;C>=0&&f.get(C,o)&&x[0]<=u;)x[0]++,C--;if(x[0]>u)return NaN;for(C=r+1;C<p&&f.get(C,o);)x[2]++,C++;if(C===p)return NaN;for(;C<p&&!f.get(C,o)&&x[3]<u;)x[3]++,C++;if(C===p||x[3]>=u)return NaN;for(;C<p&&f.get(C,o)&&x[4]<u;)x[4]++,C++;if(x[4]>=u)return NaN;const N=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(N-c)>=c?NaN:Vt.foundPatternCross(x)?Vt.centerFromEnd(x,C):NaN}handlePossibleCenter(r,o,u,c){const f=r[0]+r[1]+r[2]+r[3]+r[4];let p=Vt.centerFromEnd(r,u),x=this.crossCheckVertical(o,Math.floor(p),r[2],f);if(!isNaN(x)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(x),r[2],f),!isNaN(p)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(p),r[2],f)))){const C=f/7;let N=!1;const D=this.possibleCenters;for(let U=0,Z=D.length;U<Z;U++){const ce=D[U];if(ce.aboutEquals(C,x,p)){D[U]=ce.combineEstimate(x,p,C),N=!0;break}}if(!N){const U=new Zs(p,x,C);D.push(U),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(U)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const u of this.possibleCenters)if(u.getCount()>=Vt.CENTER_QUORUM)if(o==null)o=u;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const u=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=Vt.CENTER_QUORUM&&(r++,o+=p.getEstimatedModuleSize());if(r<3)return!1;const c=o/u;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-c);return f<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new ge;const o=this.possibleCenters;let u;if(r>3){let c=0,f=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();c+=N,f+=N*N}u=c/r;let p=Math.sqrt(f/r-u*u);o.sort((C,N)=>{const D=Math.abs(N.getEstimatedModuleSize()-u),U=Math.abs(C.getEstimatedModuleSize()-u);return D<U?-1:D>U?1:0});const x=Math.max(.2*u,p);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-u)>x&&(o.splice(C,1),C--)}}if(o.length>3){let c=0;for(const f of o)c+=f.getEstimatedModuleSize();u=c/o.length,o.sort((f,p)=>{if(p.getCount()===f.getCount()){const x=Math.abs(p.getEstimatedModuleSize()-u),C=Math.abs(f.getEstimatedModuleSize()-u);return x<C?1:x>C?-1:0}else return p.getCount()-f.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Vt.CENTER_QUORUM=2,Vt.MIN_SKIP=3,Vt.MAX_MODULES=57;class on{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(ne.NEED_RESULT_POINT_CALLBACK);const u=new Vt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(u)}processFinderPatternInfo(r){const o=r.getTopLeft(),u=r.getTopRight(),c=r.getBottomLeft(),f=this.calculateModuleSize(o,u,c);if(f<1)throw new ge("No pattern found in proccess finder.");const p=on.computeDimension(o,u,c,f),x=Tt.getProvisionalVersionForDimension(p),C=x.getDimensionForVersion()-7;let N=null;if(x.getAlignmentPatternCenters().length>0){const ce=u.getX()-o.getX()+c.getX(),be=u.getY()-o.getY()+c.getY(),Ee=1-3/C,ke=Math.floor(o.getX()+Ee*(ce-o.getX())),Ge=Math.floor(o.getY()+Ee*(be-o.getY()));for(let dt=4;dt<=16;dt<<=1)try{N=this.findAlignmentInRegion(f,ke,Ge,dt);break}catch(mt){if(!(mt instanceof ge))throw mt}}const D=on.createTransform(o,u,c,N,p),U=on.sampleGrid(this.image,D,p);let Z;return N===null?Z=[c,o,u]:Z=[c,o,u,N],new St(U,Z)}static createTransform(r,o,u,c,f){const p=f-3.5;let x,C,N,D;return c!==null?(x=c.getX(),C=c.getY(),N=p-3,D=N):(x=o.getX()-r.getX()+u.getX(),C=o.getY()-r.getY()+u.getY(),N=p,D=p),Qt.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,N,D,3.5,p,r.getX(),r.getY(),o.getX(),o.getY(),x,C,u.getX(),u.getY())}static sampleGrid(r,o,u){return cn.getInstance().sampleGridWithTransform(r,u,u,o)}static computeDimension(r,o,u,c){const f=rt.round(Je.distance(r,o)/c),p=rt.round(Je.distance(r,u)/c);let x=Math.floor((f+p)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ge("Dimensions could be not found.")}return x}calculateModuleSize(r,o,u){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,u))/2}calculateModuleSizeOneWay(r,o){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(u)?c/7:isNaN(c)?u/7:(u+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,u,c){let f=this.sizeOfBlackWhiteBlackRun(r,o,u,c),p=1,x=r-(u-r);x<0?(p=r/(r-x),x=0):x>=this.image.getWidth()&&(p=(this.image.getWidth()-1-r)/(x-r),x=this.image.getWidth()-1);let C=Math.floor(o-(c-o)*p);return p=1,C<0?(p=o/(o-C),C=0):C>=this.image.getHeight()&&(p=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),x=Math.floor(r+(x-r)*p),f+=this.sizeOfBlackWhiteBlackRun(r,o,x,C),f-1}sizeOfBlackWhiteBlackRun(r,o,u,c){const f=Math.abs(c-o)>Math.abs(u-r);if(f){let ce=r;r=o,o=ce,ce=u,u=c,c=ce}const p=Math.abs(u-r),x=Math.abs(c-o);let C=-p/2;const N=r<u?1:-1,D=o<c?1:-1;let U=0;const Z=u+N;for(let ce=r,be=o;ce!==Z;ce+=N){const Ee=f?be:ce,ke=f?ce:be;if(U===1===this.image.get(Ee,ke)){if(U===2)return rt.distance(ce,be,r,o);U++}if(C+=x,C>0){if(be===c)break;be+=D,C-=p}}return U===2?rt.distance(u+N,c,r,o):NaN}findAlignmentInRegion(r,o,u,c){const f=Math.floor(c*r),p=Math.max(0,o-f),x=Math.min(this.image.getWidth()-1,o+f);if(x-p<r*3)throw new ge("Alignment top exceeds estimated module size.");const C=Math.max(0,u-f),N=Math.min(this.image.getHeight()-1,u+f);if(N-C<r*3)throw new ge("Alignment bottom exceeds estimated module size.");return new Pr(this.image,p,C,x-p,N-C,r,this.resultPointCallback).find()}}class Yr{constructor(){this.decoder=new as}getDecoder(){return this.decoder}decode(r,o){let u,c;if(o!=null&&o.get(ne.PURE_BARCODE)!==void 0){const C=Yr.extractPureBits(r.getBlackMatrix());u=this.decoder.decodeBitMatrix(C,o),c=Yr.NO_POINTS}else{const C=new on(r.getBlackMatrix()).detect(o);u=this.decoder.decodeBitMatrix(C.getBits(),o),c=C.getPoints()}u.getOther()instanceof To&&u.getOther().applyMirroredCorrection(c);const f=new le(u.getText(),u.getRawBytes(),void 0,c,he.QR_CODE,void 0),p=u.getByteSegments();p!==null&&f.putMetadata(je.BYTE_SEGMENTS,p);const x=u.getECLevel();return x!==null&&f.putMetadata(je.ERROR_CORRECTION_LEVEL,x),u.hasStructuredAppend()&&(f.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),f.putMetadata(je.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),f}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),u=r.getBottomRightOnBit();if(o===null||u===null)throw new ge;const c=this.moduleSize(o,r);let f=o[1],p=u[1],x=o[0],C=u[0];if(x>=C||f>=p)throw new ge;if(p-f!==C-x&&(C=x+(p-f),C>=r.getWidth()))throw new ge;const N=Math.round((C-x+1)/c),D=Math.round((p-f+1)/c);if(N<=0||D<=0)throw new ge;if(D!==N)throw new ge;const U=Math.floor(c/2);f+=U,x+=U;const Z=x+Math.floor((N-1)*c)-C;if(Z>0){if(Z>U)throw new ge;x-=Z}const ce=f+Math.floor((D-1)*c)-p;if(ce>0){if(ce>U)throw new ge;f-=ce}const be=new me(N,D);for(let Ee=0;Ee<D;Ee++){const ke=f+Math.floor(Ee*c);for(let Ge=0;Ge<N;Ge++)r.get(x+Math.floor(Ge*c),ke)&&be.set(Ge,Ee)}return be}static moduleSize(r,o){const u=o.getHeight(),c=o.getWidth();let f=r[0],p=r[1],x=!0,C=0;for(;f<c&&p<u;){if(x!==o.get(f,p)){if(++C===5)break;x=!x}f++,p++}if(f===c||p===u)throw new ge;return(f-r[0])/7}}Yr.NO_POINTS=new Array;class Ct{PDF417Common(){}static getBitCountSum(r){return rt.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ct.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let u=0;for(const c of r)o[u++]=c;return o}static getCodeword(r){const o=k.binarySearch(Ct.SYMBOL_TABLE,r&262143);return o<0?-1:(Ct.CODEWORD_TABLE[o]-1)%Ct.NUMBER_OF_CODEWORDS}}Ct.NUMBER_OF_CODEWORDS=929,Ct.MAX_CODEWORDS_IN_BARCODE=Ct.NUMBER_OF_CODEWORDS-1,Ct.MIN_ROWS_IN_BARCODE=3,Ct.MAX_ROWS_IN_BARCODE=90,Ct.MODULES_IN_CODEWORD=17,Ct.MODULES_IN_STOP_PATTERN=18,Ct.BARS_IN_MODULE=8,Ct.EMPTY_INT_ARRAY=new Int32Array([]),Ct.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ct.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fa{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class vn{static detectMultiple(r,o,u){let c=r.getBlackMatrix(),f=vn.detect(u,c);return f.length||(c=c.clone(),c.rotate180(),f=vn.detect(u,c)),new fa(c,f)}static detect(r,o){const u=new Array;let c=0,f=0,p=!1;for(;c<o.getHeight();){const x=vn.findVertices(o,c,f);if(x[0]==null&&x[3]==null){if(!p)break;p=!1,f=0;for(const C of u)C[1]!=null&&(c=Math.trunc(Math.max(c,C[1].getY()))),C[3]!=null&&(c=Math.max(c,Math.trunc(C[3].getY())));c+=vn.ROW_STEP;continue}if(p=!0,u.push(x),!r)break;x[2]!=null?(f=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(f=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return u}static findVertices(r,o,u){const c=r.getHeight(),f=r.getWidth(),p=new Array(8);return vn.copyToResult(p,vn.findRowsWithPattern(r,c,f,o,u,vn.START_PATTERN),vn.INDEXES_START_PATTERN),p[4]!=null&&(u=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY())),vn.copyToResult(p,vn.findRowsWithPattern(r,c,f,o,u,vn.STOP_PATTERN),vn.INDEXES_STOP_PATTERN),p}static copyToResult(r,o,u){for(let c=0;c<u.length;c++)r[u[c]]=o[c]}static findRowsWithPattern(r,o,u,c,f,p){const x=new Array(4);let C=!1;const N=new Int32Array(p.length);for(;c<o;c+=vn.ROW_STEP){let U=vn.findGuardPattern(r,f,c,u,!1,p,N);if(U!=null){for(;c>0;){const Z=vn.findGuardPattern(r,f,--c,u,!1,p,N);if(Z!=null)U=Z;else{c++;break}}x[0]=new Je(U[0],c),x[1]=new Je(U[1],c),C=!0;break}}let D=c+1;if(C){let U=0,Z=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;D<o;D++){const ce=vn.findGuardPattern(r,Z[0],D,u,!1,p,N);if(ce!=null&&Math.abs(Z[0]-ce[0])<vn.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-ce[1])<vn.MAX_PATTERN_DRIFT)Z=ce,U=0;else{if(U>vn.SKIPPED_ROW_COUNT_MAX)break;U++}}D-=U+1,x[2]=new Je(Z[0],D),x[3]=new Je(Z[1],D)}return D-c<vn.BARCODE_MIN_HEIGHT&&k.fill(x,null),x}static findGuardPattern(r,o,u,c,f,p,x){k.fillWithin(x,0,x.length,0);let C=o,N=0;for(;r.get(C,u)&&C>0&&N++<vn.MAX_PIXEL_DRIFT;)C--;let D=C,U=0,Z=p.length;for(let ce=f;D<c;D++)if(r.get(D,u)!==ce)x[U]++;else{if(U===Z-1){if(vn.patternMatchVariance(x,p,vn.MAX_INDIVIDUAL_VARIANCE)<vn.MAX_AVG_VARIANCE)return new Int32Array([C,D]);C+=x[0]+x[1],R.arraycopy(x,2,x,0,U-1),x[U-1]=0,x[U]=0,U--}else U++;x[U]=1,ce=!ce}return U===Z-1&&vn.patternMatchVariance(x,p,vn.MAX_INDIVIDUAL_VARIANCE)<vn.MAX_AVG_VARIANCE?new Int32Array([C,D-1]):null}static patternMatchVariance(r,o,u){let c=r.length,f=0,p=0;for(let N=0;N<c;N++)f+=r[N],p+=o[N];if(f<p)return 1/0;let x=f/p;u*=x;let C=0;for(let N=0;N<c;N++){let D=r[N],U=o[N]*x,Z=D>U?D-U:U-D;if(Z>u)return 1/0;C+=Z}return C/f}}vn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),vn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),vn.MAX_AVG_VARIANCE=.42,vn.MAX_INDIVIDUAL_VARIANCE=.8,vn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),vn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),vn.MAX_PIXEL_DRIFT=3,vn.MAX_PATTERN_DRIFT=5,vn.SKIPPED_ROW_COUNT_MAX=25,vn.ROW_STEP=5,vn.BARCODE_MIN_HEIGHT=10;class _r{constructor(r,o){if(o.length===0)throw new A;this.field=r;let u=o.length;if(u>1&&o[0]===0){let c=1;for(;c<u&&o[c]===0;)c++;c===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-c),R.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let f of this.coefficients)c=this.field.add(c,f);return c}let o=this.coefficients[0],u=this.coefficients.length;for(let c=1;c<u;c++)o=this.field.add(this.field.multiply(r,o),this.coefficients[c]);return o}add(r){if(!this.field.equals(r.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,u=r.coefficients;if(o.length>u.length){let p=o;o=u,u=p}let c=new Int32Array(u.length),f=u.length-o.length;R.arraycopy(u,0,c,0,f);for(let p=f;p<u.length;p++)c[p]=this.field.add(o[p-f],u[p]);return new _r(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new A("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof _r?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new _r(this.field,new Int32Array([0]));let o=this.coefficients,u=o.length,c=r.coefficients,f=c.length,p=new Int32Array(u+f-1);for(let x=0;x<u;x++){let C=o[x];for(let N=0;N<f;N++)p[x+N]=this.field.add(p[x+N],this.field.multiply(C,c[N]))}return new _r(this.field,p)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let u=0;u<r;u++)o[u]=this.field.subtract(0,this.coefficients[u]);return new _r(this.field,o)}multiplyScalar(r){if(r===0)return new _r(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,u=new Int32Array(o);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],r);return new _r(this.field,u)}multiplyByMonomial(r,o){if(r<0)throw new A;if(o===0)return new _r(this.field,new Int32Array([0]));let u=this.coefficients.length,c=new Int32Array(u+r);for(let f=0;f<u;f++)c[f]=this.field.multiply(this.coefficients[f],o);return new _r(this.field,c)}toString(){let r=new ye;for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);u!==0&&(u<0?(r.append(" - "),u=-u):r.length()>0&&r.append(" + "),(o===0||u!==1)&&r.append(u),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class Ss{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new A;return this.logTable[r]}inverse(r){if(r===0)throw new bt;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class wo extends Ss{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let u=1;for(let c=0;c<r;c++)this.expTable[c]=u,u=u*o%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new _r(this,new Int32Array([0])),this.one=new _r(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new A;if(o===0)return this.zero;let u=new Int32Array(r+1);return u[0]=o,new _r(this,u)}}wo.PDF417_GF=new wo(Ct.NUMBER_OF_CODEWORDS,3);class Ys{constructor(){this.field=wo.PDF417_GF}decode(r,o,u){let c=new _r(this.field,r),f=new Int32Array(o),p=!1;for(let be=o;be>0;be--){let Ee=c.evaluateAt(this.field.exp(be));f[o-be]=Ee,Ee!==0&&(p=!0)}if(!p)return 0;let x=this.field.getOne();if(u!=null)for(const be of u){let Ee=this.field.exp(r.length-1-be),ke=new _r(this.field,new Int32Array([this.field.subtract(0,Ee),1]));x=x.multiply(ke)}let C=new _r(this.field,f),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),D=N[0],U=N[1],Z=this.findErrorLocations(D),ce=this.findErrorMagnitudes(U,D,Z);for(let be=0;be<Z.length;be++){let Ee=r.length-1-this.field.log(Z[be]);if(Ee<0)throw E.getChecksumInstance();r[Ee]=this.field.subtract(r[Ee],ce[be])}return Z.length}runEuclideanAlgorithm(r,o,u){if(r.getDegree()<o.getDegree()){let Z=r;r=o,o=Z}let c=r,f=o,p=this.field.getZero(),x=this.field.getOne();for(;f.getDegree()>=Math.round(u/2);){let Z=c,ce=p;if(c=f,p=x,c.isZero())throw E.getChecksumInstance();f=Z;let be=this.field.getZero(),Ee=c.getCoefficient(c.getDegree()),ke=this.field.inverse(Ee);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){let Ge=f.getDegree()-c.getDegree(),dt=this.field.multiply(f.getCoefficient(f.getDegree()),ke);be=be.add(this.field.buildMonomial(Ge,dt)),f=f.subtract(c.multiplyByMonomial(Ge,dt))}x=be.multiply(p).subtract(ce).negative()}let C=x.getCoefficient(0);if(C===0)throw E.getChecksumInstance();let N=this.field.inverse(C),D=x.multiply(N),U=f.multiply(N);return[D,U]}findErrorLocations(r){let o=r.getDegree(),u=new Int32Array(o),c=0;for(let f=1;f<this.field.getSize()&&c<o;f++)r.evaluateAt(f)===0&&(u[c]=this.field.inverse(f),c++);if(c!==o)throw E.getChecksumInstance();return u}findErrorMagnitudes(r,o,u){let c=o.getDegree(),f=new Int32Array(c);for(let N=1;N<=c;N++)f[c-N]=this.field.multiply(N,o.getCoefficient(N));let p=new _r(this.field,f),x=u.length,C=new Int32Array(x);for(let N=0;N<x;N++){let D=this.field.inverse(u[N]),U=this.field.subtract(0,r.evaluateAt(D)),Z=this.field.inverse(p.evaluateAt(D));C[N]=this.field.multiply(U,Z)}return C}}class qi{constructor(r,o,u,c,f){r instanceof qi?this.constructor_2(r):this.constructor_1(r,o,u,c,f)}constructor_1(r,o,u,c,f){const p=o==null||u==null,x=c==null||f==null;if(p&&x)throw new ge;p?(o=new Je(0,c.getY()),u=new Je(0,f.getY())):x&&(c=new Je(r.getWidth()-1,o.getY()),f=new Je(r.getWidth()-1,u.getY())),this.image=r,this.topLeft=o,this.bottomLeft=u,this.topRight=c,this.bottomRight=f,this.minX=Math.trunc(Math.min(o.getX(),u.getX())),this.maxX=Math.trunc(Math.max(c.getX(),f.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(u.getY(),f.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new qi(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,u){let c=this.topLeft,f=this.bottomLeft,p=this.topRight,x=this.bottomRight;if(r>0){let C=u?this.topLeft:this.topRight,N=Math.trunc(C.getY()-r);N<0&&(N=0);let D=new Je(C.getX(),N);u?c=D:p=D}if(o>0){let C=u?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let D=new Je(C.getX(),N);u?f=D:x=D}return new qi(this.image,c,f,p,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Mr{constructor(r,o,u,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=u,this.rowCount=o+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fi{constructor(){this.buffer=""}static form(r,o){let u=-1;function c(p,x,C,N,D,U){if(p==="%%")return"%";if(o[++u]===void 0)return;p=N?parseInt(N.substr(1)):void 0;let Z=D?parseInt(D.substr(1)):void 0,ce;switch(U){case"s":ce=o[u];break;case"c":ce=o[u][0];break;case"f":ce=parseFloat(o[u]).toFixed(p);break;case"p":ce=parseFloat(o[u]).toPrecision(p);break;case"e":ce=parseFloat(o[u]).toExponential(p);break;case"x":ce=parseInt(o[u]).toString(Z||16);break;case"d":ce=parseFloat(parseInt(o[u],Z||10).toPrecision(p)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(Z);let be=parseInt(C),Ee=C&&C[0]+""=="0"?"0":" ";for(;ce.length<be;)ce=x!==void 0?ce+Ee:Ee+ce;return ce}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,c)}format(r,...o){this.buffer+=fi.form(r,o)}toString(){return this.buffer}}class Gi{constructor(r){this.boundingBox=new qi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let u=1;u<Gi.MAX_NEARBY_DISTANCE;u++){let c=this.imageRowToCodewordIndex(r)-u;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(r)+u,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new fi;let o=0;for(const u of this.codewords){if(u==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue())}return r.toString()}}Gi.MAX_NEARBY_DISTANCE=5;class us{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[u,c]of this.values.entries()){const f={getKey:()=>u,getValue:()=>c};f.getValue()>r?(r=f.getValue(),o=[],o.push(f.getKey())):f.getValue()===r&&o.push(f.getKey())}return Ct.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class cs extends Gi{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let u=this.getBoundingBox(),c=this._isLeft?u.getTopLeft():u.getTopRight(),f=this._isLeft?u.getBottomLeft():u.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),C=-1,N=1,D=0;for(let U=p;U<x;U++){if(o[U]==null)continue;let Z=o[U],ce=Z.getRowNumber()-C;if(ce===0)D++;else if(ce===1)N=Math.max(N,D),D=1,C=Z.getRowNumber();else if(ce<0||Z.getRowNumber()>=r.getRowCount()||ce>U)o[U]=null;else{let be;N>2?be=(N-2)*ce:be=ce;let Ee=be>=U;for(let ke=1;ke<=be&&!Ee;ke++)Ee=o[U-ke]!=null;Ee?o[U]=null:(C=Z.getRowNumber(),D=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let u of this.getCodewords())if(u!=null){let c=u.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),C=-1;for(let N=f;N<p;N++){if(x[N]==null)continue;let D=x[N];D.setRowNumberAsRowIndicatorColumn();let U=D.getRowNumber()-C;U===0||(U===1?C=D.getRowNumber():D.getRowNumber()>=r.getRowCount()?x[N]=null:C=D.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new us,u=new us,c=new us,f=new us;for(let x of r){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let C=x.getValue()%30,N=x.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:u.setValue(C*3+1);break;case 1:f.setValue(C/3),c.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+c.getValue()[0]<Ct.MIN_ROWS_IN_BARCODE||u.getValue()[0]+c.getValue()[0]>Ct.MAX_ROWS_IN_BARCODE)return null;let p=new Mr(o.getValue()[0],u.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(r,p),p}removeIncorrectCodewords(r,o){for(let u=0;u<r.length;u++){let c=r[u];if(r[u]==null)continue;let f=c.getValue()%30,p=c.getRowNumber();if(p>o.getRowCount()){r[u]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:f*3+1!==o.getRowCountUpperPart()&&(r[u]=null);break;case 1:(Math.trunc(f/3)!==o.getErrorCorrectionLevel()||f%3!==o.getRowCountLowerPart())&&(r[u]=null);break;case 2:f+1!==o.getColumnCount()&&(r[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Po{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ct.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let u=this.detectionResultColumns[o].getCodewords();for(let c=0;c<u.length;c++)u[c]!=null&&(u[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,u))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<r.length;u++)if(r[u]!=null&&o[u]!=null&&r[u].getRowNumber()===o[u].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let f=this.detectionResultColumns[c].getCodewords()[u];f!=null&&(f.setRowNumber(r[u].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let c=o[u].getRowNumber(),f=0;for(let p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){let x=this.detectionResultColumns[p].getCodewords()[u];x!=null&&(f=Po.adjustRowNumberIfValid(c,f,x),x.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let c=o[u].getRowNumber(),f=0;for(let p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){let x=this.detectionResultColumns[p].getCodewords()[u];x!=null&&(f=Po.adjustRowNumberIfValid(c,f,x),x.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(r)?(u.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,u){if(!this.detectionResultColumns[r-1])return;let c=u[o],f=this.detectionResultColumns[r-1].getCodewords(),p=f;this.detectionResultColumns[r+1]!=null&&(p=this.detectionResultColumns[r+1].getCodewords());let x=new Array(14);x[2]=f[o],x[3]=p[o],o>0&&(x[0]=u[o-1],x[4]=f[o-1],x[5]=p[o-1]),o>1&&(x[8]=u[o-2],x[10]=f[o-2],x[11]=p[o-2]),o<u.length-1&&(x[1]=u[o+1],x[6]=f[o+1],x[7]=p[o+1]),o<u.length-2&&(x[9]=u[o+2],x[12]=f[o+2],x[13]=p[o+2]);for(let C of x)if(Po.adjustRowNumber(c,C))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new fi;for(let u=0;u<r.getCodewords().length;u++){o.format("CW %3d:",u);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let f=this.detectionResultColumns[c].getCodewords()[u];if(f==null){o.format("    |   ");continue}o.format(" %3d|%3d",f.getRowNumber(),f.getValue())}o.format("%n")}return o.toString()}}class ro{constructor(r,o,u,c){this.rowNumber=ro.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(u),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==ro.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}ro.BARCODE_ROW_UNKNOWN=-1;class di{static initialize(){for(let r=0;r<Ct.SYMBOL_TABLE.length;r++){let o=Ct.SYMBOL_TABLE[r],u=o&1;for(let c=0;c<Ct.BARS_IN_MODULE;c++){let f=0;for(;(o&1)===u;)f+=1,o>>=1;u=o&1,di.RATIOS_TABLE[r]||(di.RATIOS_TABLE[r]=new Array(Ct.BARS_IN_MODULE)),di.RATIOS_TABLE[r][Ct.BARS_IN_MODULE-c-1]=Math.fround(f/Ct.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=di.getDecodedCodewordValue(di.sampleBitCounts(r));return o!==-1?o:di.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=rt.sum(r),u=new Int32Array(Ct.BARS_IN_MODULE),c=0,f=0;for(let p=0;p<Ct.MODULES_IN_CODEWORD;p++){let x=o/(2*Ct.MODULES_IN_CODEWORD)+p*o/Ct.MODULES_IN_CODEWORD;f+r[c]<=x&&(f+=r[c],c++),u[c]++}return u}static getDecodedCodewordValue(r){let o=di.getBitValue(r);return Ct.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let u=0;u<r.length;u++)for(let c=0;c<r[u];c++)o=o<<1|(u%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=rt.sum(r),u=new Array(Ct.BARS_IN_MODULE);if(o>1)for(let p=0;p<u.length;p++)u[p]=Math.fround(r[p]/o);let c=At.MAX_VALUE,f=-1;this.bSymbolTableReady||di.initialize();for(let p=0;p<di.RATIOS_TABLE.length;p++){let x=0,C=di.RATIOS_TABLE[p];for(let N=0;N<Ct.BARS_IN_MODULE;N++){let D=Math.fround(C[N]-u[N]);if(x+=Math.fround(D*D),x>=c)break}x<c&&(c=x,f=Ct.SYMBOL_TABLE[p])}return f}}di.bSymbolTableReady=!1,di.RATIOS_TABLE=new Array(Ct.SYMBOL_TABLE.length).map(H=>new Array(Ct.BARS_IN_MODULE));class Ks{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class On{static parseLong(r,o=void 0){return parseInt(r,o)}}class da extends v{}da.kind="NullPointerException";class Hr{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,u){if(r==null)throw new da;if(o<0||o>r.length||u<0||o+u>r.length||o+u<0)throw new z;if(u===0)return;for(let c=0;c<u;c++)this.write(r[o+c])}flush(){}close(){}}class Zi extends v{}class Pa extends Hr{constructor(r=32){if(super(),this.count=0,r<0)throw new A("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let u=this.buf.length<<1;if(u-r<0&&(u=r),u<0){if(r<0)throw new Zi;u=j.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,u)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,u){if(o<0||o>r.length||u<0||o+u-r.length>0)throw new z;this.ensureCapacity(this.count+u),R.arraycopy(r,o,this.buf,this.count,u),this.count+=u}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Un;(function(H){H[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Un||(Un={}));function Mi(){if(typeof window<"u")return window.BigInt||null;if(typeof lu<"u")return lu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let hs;function Ii(H){if(typeof hs>"u"&&(hs=Mi()),hs===null)throw new Error("BigInt is not supported!");return hs(H)}function ml(){let H=[];H[0]=Ii(1);let r=Ii(900);H[1]=r;for(let o=2;o<16;o++)H[o]=H[o-1]*r;return H}class Ze{static decode(r,o){let u=new ye(""),c=se.ISO8859_1;u.enableDecoding(c);let f=1,p=r[f++],x=new Ks;for(;f<r[0];){switch(p){case Ze.TEXT_COMPACTION_MODE_LATCH:f=Ze.textCompaction(r,f,u);break;case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:f=Ze.byteCompaction(p,r,c,f,u);break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[f++]);break;case Ze.NUMERIC_COMPACTION_MODE_LATCH:f=Ze.numericCompaction(r,f,u);break;case Ze.ECI_CHARSET:se.getCharacterSetECIByValue(r[f++]);break;case Ze.ECI_GENERAL_PURPOSE:f+=2;break;case Ze.ECI_USER_DEFINED:f++;break;case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Ze.decodeMacroBlock(r,f,x);break;case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:throw new re;default:f--,f=Ze.textCompaction(r,f,u);break}if(f<r.length)p=r[f++];else throw re.getFormatInstance()}if(u.length()===0)throw re.getFormatInstance();let C=new qe(null,u.toString(),null,o);return C.setOther(x),C}static decodeMacroBlock(r,o,u){if(o+Ze.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw re.getFormatInstance();let c=new Int32Array(Ze.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Ze.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)c[x]=r[o];u.setSegmentIndex(j.parseInt(Ze.decodeBase900toBase10(c,Ze.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new ye;o=Ze.textCompaction(r,o,f),u.setFileId(f.toString());let p=-1;for(r[o]===Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=o+1);o<r[0];)switch(r[o]){case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ye;o=Ze.textCompaction(r,o+1,x),u.setFileName(x.toString());break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ye;o=Ze.textCompaction(r,o+1,C),u.setSender(C.toString());break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ye;o=Ze.textCompaction(r,o+1,N),u.setAddressee(N.toString());break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new ye;o=Ze.numericCompaction(r,o+1,D),u.setSegmentCount(j.parseInt(D.toString()));break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let U=new ye;o=Ze.numericCompaction(r,o+1,U),u.setTimestamp(On.parseLong(U.toString()));break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new ye;o=Ze.numericCompaction(r,o+1,Z),u.setChecksum(j.parseInt(Z.toString()));break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new ye;o=Ze.numericCompaction(r,o+1,ce),u.setFileSize(On.parseLong(ce.toString()));break;default:throw re.getFormatInstance()}break;case Ze.MACRO_PDF417_TERMINATOR:o++,u.setLastSegment(!0);break;default:throw re.getFormatInstance()}if(p!==-1){let x=o-p;u.isLastSegment()&&x--,u.setOptionalData(k.copyOfRange(r,p,p+x))}return o}static textCompaction(r,o,u){let c=new Int32Array((r[0]-o)*2),f=new Int32Array((r[0]-o)*2),p=0,x=!1;for(;o<r[0]&&!x;){let C=r[o++];if(C<Ze.TEXT_COMPACTION_MODE_LATCH)c[p]=C/30,c[p+1]=C%30,p+=2;else switch(C){case Ze.TEXT_COMPACTION_MODE_LATCH:c[p++]=Ze.TEXT_COMPACTION_MODE_LATCH;break;case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.NUMERIC_COMPACTION_MODE_LATCH:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[p]=Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=r[o++],f[p]=C,p++;break}}return Ze.decodeTextCompaction(c,f,p,u),o}static decodeTextCompaction(r,o,u,c){let f=Un.ALPHA,p=Un.ALPHA,x=0;for(;x<u;){let C=r[x],N="";switch(f){case Un.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case Ze.LL:f=Un.LOWER;break;case Ze.ML:f=Un.MIXED;break;case Ze.PS:p=f,f=Un.PUNCT_SHIFT;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:f=Un.ALPHA;break}break;case Un.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case Ze.AS:p=f,f=Un.ALPHA_SHIFT;break;case Ze.ML:f=Un.MIXED;break;case Ze.PS:p=f,f=Un.PUNCT_SHIFT;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:f=Un.ALPHA;break}break;case Un.MIXED:if(C<Ze.PL)N=Ze.MIXED_CHARS[C];else switch(C){case Ze.PL:f=Un.PUNCT;break;case 26:N=" ";break;case Ze.LL:f=Un.LOWER;break;case Ze.AL:f=Un.ALPHA;break;case Ze.PS:p=f,f=Un.PUNCT_SHIFT;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:f=Un.ALPHA;break}break;case Un.PUNCT:if(C<Ze.PAL)N=Ze.PUNCT_CHARS[C];else switch(C){case Ze.PAL:f=Un.ALPHA;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:f=Un.ALPHA;break}break;case Un.ALPHA_SHIFT:if(f=p,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case Ze.TEXT_COMPACTION_MODE_LATCH:f=Un.ALPHA;break}break;case Un.PUNCT_SHIFT:if(f=p,C<Ze.PAL)N=Ze.PUNCT_CHARS[C];else switch(C){case Ze.PAL:f=Un.ALPHA;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:f=Un.ALPHA;break}break}N!==""&&c.append(N),x++}}static byteCompaction(r,o,u,c,f){let p=new Pa,x=0,C=0,N=!1;switch(r){case Ze.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),U=o[c++];for(;c<o[0]&&!N;)switch(D[x++]=U,C=900*C+U,U=o[c++],U){case Ze.TEXT_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.NUMERIC_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:c--,N=!0;break;default:if(x%5===0&&x>0){for(let Z=0;Z<6;++Z)p.write(Number(Ii(C)>>Ii(8*(5-Z))));C=0,x=0}break}c===o[0]&&U<Ze.TEXT_COMPACTION_MODE_LATCH&&(D[x++]=U);for(let Z=0;Z<x;Z++)p.write(D[Z]);break;case Ze.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!N;){let Z=o[c++];if(Z<Ze.TEXT_COMPACTION_MODE_LATCH)x++,C=900*C+Z;else switch(Z){case Ze.TEXT_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.NUMERIC_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:c--,N=!0;break}if(x%5===0&&x>0){for(let ce=0;ce<6;++ce)p.write(Number(Ii(C)>>Ii(8*(5-ce))));C=0,x=0}}break}return f.append(J.decode(p.toByteArray(),u)),c}static numericCompaction(r,o,u){let c=0,f=!1,p=new Int32Array(Ze.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!f;){let x=r[o++];if(o===r[0]&&(f=!0),x<Ze.TEXT_COMPACTION_MODE_LATCH)p[c]=x,c++;else switch(x){case Ze.TEXT_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:o--,f=!0;break}(c%Ze.MAX_NUMERIC_CODEWORDS===0||x===Ze.NUMERIC_COMPACTION_MODE_LATCH||f)&&c>0&&(u.append(Ze.decodeBase900toBase10(p,c)),c=0)}return o}static decodeBase900toBase10(r,o){let u=Ii(0);for(let f=0;f<o;f++)u+=Ze.EXP900[o-f-1]*Ii(r[f]);let c=u.toString();if(c.charAt(0)!=="1")throw new re;return c.substring(1)}}Ze.TEXT_COMPACTION_MODE_LATCH=900,Ze.BYTE_COMPACTION_MODE_LATCH=901,Ze.NUMERIC_COMPACTION_MODE_LATCH=902,Ze.BYTE_COMPACTION_MODE_LATCH_6=924,Ze.ECI_USER_DEFINED=925,Ze.ECI_GENERAL_PURPOSE=926,Ze.ECI_CHARSET=927,Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ze.MACRO_PDF417_TERMINATOR=922,Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ze.MAX_NUMERIC_CODEWORDS=15,Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ze.PL=25,Ze.LL=27,Ze.AS=27,Ze.ML=28,Ze.AL=28,Ze.PS=29,Ze.PAL=29,Ze.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ze.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ze.EXP900=Mi()?ml():[],Ze.NUMBER_OF_SEQUENCE_CODEWORDS=2;class An{constructor(){}static decode(r,o,u,c,f,p,x){let C=new qi(r,o,u,c,f),N=null,D=null,U;for(let be=!0;;be=!1){if(o!=null&&(N=An.getRowIndicatorColumn(r,C,o,!0,p,x)),c!=null&&(D=An.getRowIndicatorColumn(r,C,c,!1,p,x)),U=An.merge(N,D),U==null)throw ge.getNotFoundInstance();let Ee=U.getBoundingBox();if(be&&Ee!=null&&(Ee.getMinY()<C.getMinY()||Ee.getMaxY()>C.getMaxY()))C=Ee;else break}U.setBoundingBox(C);let Z=U.getBarcodeColumnCount()+1;U.setDetectionResultColumn(0,N),U.setDetectionResultColumn(Z,D);let ce=N!=null;for(let be=1;be<=Z;be++){let Ee=ce?be:Z-be;if(U.getDetectionResultColumn(Ee)!==void 0)continue;let ke;Ee===0||Ee===Z?ke=new cs(C,Ee===0):ke=new Gi(C),U.setDetectionResultColumn(Ee,ke);let Ge=-1,dt=Ge;for(let mt=C.getMinY();mt<=C.getMaxY();mt++){if(Ge=An.getStartColumn(U,Ee,mt,ce),Ge<0||Ge>C.getMaxX()){if(dt===-1)continue;Ge=dt}let pt=An.detectCodeword(r,C.getMinX(),C.getMaxX(),ce,Ge,mt,p,x);pt!=null&&(ke.setCodeword(mt,pt),dt=Ge,p=Math.min(p,pt.getWidth()),x=Math.max(x,pt.getWidth()))}}return An.createDecoderResult(U)}static merge(r,o){if(r==null&&o==null)return null;let u=An.getBarcodeMetadata(r,o);if(u==null)return null;let c=qi.merge(An.adjustBoundingBox(r),An.adjustBoundingBox(o));return new Po(u,c)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let u=An.getMax(o),c=0;for(let x of o)if(c+=u-x,x>0)break;let f=r.getCodewords();for(let x=0;c>0&&f[x]==null;x++)c--;let p=0;for(let x=o.length-1;x>=0&&(p+=u-o[x],!(o[x]>0));x--);for(let x=f.length-1;p>0&&f[x]==null;x--)p--;return r.getBoundingBox().addMissingRows(c,p,r.isLeft())}static getMax(r){let o=-1;for(let u of r)o=Math.max(o,u);return o}static getBarcodeMetadata(r,o){let u;if(r==null||(u=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?u:u.getColumnCount()!==c.getColumnCount()&&u.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&u.getRowCount()!==c.getRowCount()?null:u}static getRowIndicatorColumn(r,o,u,c,f,p){let x=new cs(o,c);for(let C=0;C<2;C++){let N=C===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let U=Math.trunc(Math.trunc(u.getY()));U<=o.getMaxY()&&U>=o.getMinY();U+=N){let Z=An.detectCodeword(r,0,r.getWidth(),c,D,U,f,p);Z!=null&&(x.setCodeword(U,Z),c?D=Z.getStartX():D=Z.getEndX())}}return x}static adjustCodewordCount(r,o){let u=o[0][1],c=u.getValue(),f=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-An.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(f<1||f>Ct.MAX_CODEWORDS_IN_BARCODE)throw ge.getNotFoundInstance();u.setValue(f)}else c[0]!==f&&u.setValue(f)}static createDecoderResult(r){let o=An.createBarcodeMatrix(r);An.adjustCodewordCount(r,o);let u=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),f=[],p=new Array;for(let C=0;C<r.getBarcodeRowCount();C++)for(let N=0;N<r.getBarcodeColumnCount();N++){let D=o[C][N+1].getValue(),U=C*r.getBarcodeColumnCount()+N;D.length===0?u.push(U):D.length===1?c[U]=D[0]:(p.push(U),f.push(D))}let x=new Array(f.length);for(let C=0;C<x.length;C++)x[C]=f[C];return An.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,Ct.toIntArray(u),Ct.toIntArray(p),x)}static createDecoderResultFromAmbiguousValues(r,o,u,c,f){let p=new Int32Array(c.length),x=100;for(;x-- >0;){for(let C=0;C<p.length;C++)o[c[C]]=f[C][p[C]];try{return An.decodeCodewords(o,r,u)}catch(C){if(!(C instanceof E))throw C}if(p.length===0)throw E.getChecksumInstance();for(let C=0;C<p.length;C++)if(p[C]<f[C].length-1){p[C]++;break}else if(p[C]=0,C===p.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let f=0;f<o[c].length;f++)o[c][f]=new us;let u=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let f of c.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=0){if(p>=o.length)continue;o[p][u].setValue(f.getValue())}}}u++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,u,c){let f=c?1:-1,p=null;if(An.isValidBarcodeColumn(r,o-f)&&(p=r.getDetectionResultColumn(o-f).getCodeword(u)),p!=null)return c?p.getEndX():p.getStartX();if(p=r.getDetectionResultColumn(o).getCodewordNearby(u),p!=null)return c?p.getStartX():p.getEndX();if(An.isValidBarcodeColumn(r,o-f)&&(p=r.getDetectionResultColumn(o-f).getCodewordNearby(u)),p!=null)return c?p.getEndX():p.getStartX();let x=0;for(;An.isValidBarcodeColumn(r,o-f);){o-=f;for(let C of r.getDetectionResultColumn(o).getCodewords())if(C!=null)return(c?C.getEndX():C.getStartX())+f*x*(C.getEndX()-C.getStartX());x++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,u,c,f,p,x,C){f=An.adjustCodewordStartColumn(r,o,u,c,f,p);let N=An.getModuleBitCount(r,o,u,c,f,p);if(N==null)return null;let D,U=rt.sum(N);if(c)D=f+U;else{for(let be=0;be<N.length/2;be++){let Ee=N[be];N[be]=N[N.length-1-be],N[N.length-1-be]=Ee}D=f,f=D-U}if(!An.checkCodewordSkew(U,x,C))return null;let Z=di.getDecodedValue(N),ce=Ct.getCodeword(Z);return ce===-1?null:new ro(f,D,An.getCodewordBucketNumber(Z),ce)}static getModuleBitCount(r,o,u,c,f,p){let x=f,C=new Int32Array(8),N=0,D=c?1:-1,U=c;for(;(c?x<u:x>=o)&&N<C.length;)r.get(x,p)===U?(C[N]++,x+=D):(N++,U=!U);return N===C.length||x===(c?u:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,u,c,f,p){let x=f,C=c?-1:1;for(let N=0;N<2;N++){for(;(c?x>=o:x<u)&&c===r.get(x,p);){if(Math.abs(f-x)>An.CODEWORD_SKEW_SIZE)return f;x+=C}C=-C,c=!c}return x}static checkCodewordSkew(r,o,u){return o-An.CODEWORD_SKEW_SIZE<=r&&r<=u+An.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,u){if(r.length===0)throw re.getFormatInstance();let c=1<<o+1,f=An.correctErrors(r,u,c);An.verifyCodewordCount(r,c);let p=Ze.decode(r,""+o);return p.setErrorsCorrected(f),p.setErasures(u.length),p}static correctErrors(r,o,u){if(o!=null&&o.length>u/2+An.MAX_ERRORS||u<0||u>An.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return An.errorCorrection.decode(r,u,o)}static verifyCodewordCount(r,o){if(r.length<4)throw re.getFormatInstance();let u=r[0];if(u>r.length)throw re.getFormatInstance();if(u===0)if(o<r.length)r[0]=r.length-o;else throw re.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),u=0,c=o.length-1;for(;!((r&1)!==u&&(u=r&1,c--,c<0));)o[c]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return An.getCodewordBucketNumber(An.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new fi;for(let u=0;u<r.length;u++){o.format("Row %2d: ",u);for(let c=0;c<r[u].length;c++){let f=r[u][c];f.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}o.format("%n")}return o.toString()}}An.CODEWORD_SKEW_SIZE=2,An.MAX_ERRORS=3,An.MAX_EC_CODEWORDS=512,An.errorCorrection=new Ys;class Dr{decode(r,o=null){let u=Dr.decode(r,o,!1);if(u==null||u.length===0||u[0]==null)throw ge.getNotFoundInstance();return u[0]}decodeMultiple(r,o=null){try{return Dr.decode(r,o,!0)}catch(u){throw u instanceof re||u instanceof E?ge.getNotFoundInstance():u}}static decode(r,o,u){const c=new Array,f=vn.detectMultiple(r,o,u);for(const p of f.getPoints()){const x=An.decode(f.getBits(),p[4],p[5],p[6],p[7],Dr.getMinCodewordWidth(p),Dr.getMaxCodewordWidth(p)),C=new le(x.getText(),x.getRawBytes(),void 0,p,he.PDF_417);C.putMetadata(je.ERROR_CORRECTION_LEVEL,x.getECLevel());const N=x.getOther();N!=null&&C.putMetadata(je.PDF417_EXTRA_METADATA,N),c.push(C)}return c.map(p=>p)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?j.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Dr.getMaxWidth(r[0],r[4]),Dr.getMaxWidth(r[6],r[2])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN),Math.max(Dr.getMaxWidth(r[1],r[5]),Dr.getMaxWidth(r[7],r[3])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Dr.getMinWidth(r[0],r[4]),Dr.getMinWidth(r[6],r[2])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN),Math.min(Dr.getMinWidth(r[1],r[5]),Dr.getMinWidth(r[7],r[3])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN)))}reset(){}}class pi extends v{}pi.kind="ReaderException";class pa{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!i(r)&&r.get(ne.TRY_HARDER)===!0,u=i(r)?null:r.get(ne.POSSIBLE_FORMATS),c=new Array;if(!i(u)){const f=u.some(p=>p===he.UPC_A||p===he.UPC_E||p===he.EAN_13||p===he.EAN_8||p===he.CODABAR||p===he.CODE_39||p===he.CODE_93||p===he.CODE_128||p===he.ITF||p===he.RSS_14||p===he.RSS_EXPANDED);f&&!o&&c.push(new mn(r,this.verbose)),u.includes(he.QR_CODE)&&c.push(new Yr),u.includes(he.DATA_MATRIX)&&c.push(new Rn),u.includes(he.AZTEC)&&c.push(new It),u.includes(he.PDF_417)&&c.push(new Dr),f&&o&&c.push(new mn(r,this.verbose))}c.length===0&&(o||c.push(new mn(r,this.verbose)),c.push(new Yr),c.push(new Rn),c.push(new It),c.push(new Dr),o&&c.push(new mn(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new pi("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(u){if(u instanceof pi)continue}throw new ge("No MultiFormat Readers were able to detect the code.")}}class Ns extends ae{constructor(r=null,o=500){const u=new pa;u.setHints(r),super(u,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class io extends ae{constructor(r=500){super(new Dr,r)}}class Qs extends ae{constructor(r=500){super(new Yr,r)}}var Is;(function(H){H[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION"})(Is||(Is={}));var Cr=Is;class fs{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new it(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let u=o[o.length-1];const c=this.field;for(let f=o.length;f<=r;f++){const p=u.multiply(new it(c,Int32Array.from([1,c.exp(f-1+c.getGeneratorBase())])));o.push(p),u=p}}return o[r]}encode(r,o){if(o===0)throw new A("No error correction bytes");const u=r.length-o;if(u<=0)throw new A("No data bytes provided");const c=this.buildGenerator(o),f=new Int32Array(u);R.arraycopy(r,0,f,0,u);let p=new it(this.field,f);p=p.multiplyByMonomial(o,1);const C=p.divide(c)[1].getCoefficients(),N=o-C.length;for(let D=0;D<N;D++)r[u+D]=0;R.arraycopy(C,0,r,u+N,C.length)}}class $n{constructor(){}static applyMaskPenaltyRule1(r){return $n.applyMaskPenaltyRule1Internal(r,!0)+$n.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const u=r.getArray(),c=r.getWidth(),f=r.getHeight();for(let p=0;p<f-1;p++){const x=u[p];for(let C=0;C<c-1;C++){const N=x[C];N===x[C+1]&&N===u[p+1][C]&&N===u[p+1][C+1]&&o++}}return $n.N2*o}static applyMaskPenaltyRule3(r){let o=0;const u=r.getArray(),c=r.getWidth(),f=r.getHeight();for(let p=0;p<f;p++)for(let x=0;x<c;x++){const C=u[p];x+6<c&&C[x]===1&&C[x+1]===0&&C[x+2]===1&&C[x+3]===1&&C[x+4]===1&&C[x+5]===0&&C[x+6]===1&&($n.isWhiteHorizontal(C,x-4,x)||$n.isWhiteHorizontal(C,x+7,x+11))&&o++,p+6<f&&u[p][x]===1&&u[p+1][x]===0&&u[p+2][x]===1&&u[p+3][x]===1&&u[p+4][x]===1&&u[p+5][x]===0&&u[p+6][x]===1&&($n.isWhiteVertical(u,x,p-4,p)||$n.isWhiteVertical(u,x,p+7,p+11))&&o++}return o*$n.N3}static isWhiteHorizontal(r,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,o,u,c){u=Math.max(u,0),c=Math.min(c,r.length);for(let f=u;f<c;f++)if(r[f][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const u=r.getArray(),c=r.getWidth(),f=r.getHeight();for(let C=0;C<f;C++){const N=u[C];for(let D=0;D<c;D++)N[D]===1&&o++}const p=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-p)*10/p)*$n.N4}static getDataMaskBit(r,o,u){let c,f;switch(r){case 0:c=u+o&1;break;case 1:c=u&1;break;case 2:c=o%3;break;case 3:c=(u+o)%3;break;case 4:c=Math.floor(u/2)+Math.floor(o/3)&1;break;case 5:f=u*o,c=(f&1)+f%3;break;case 6:f=u*o,c=(f&1)+f%3&1;break;case 7:f=u*o,c=f%3+(u+o&1)&1;break;default:throw new A("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,o){let u=0;const c=o?r.getHeight():r.getWidth(),f=o?r.getWidth():r.getHeight(),p=r.getArray();for(let x=0;x<c;x++){let C=0,N=-1;for(let D=0;D<f;D++){const U=o?p[x][D]:p[D][x];U===N?C++:(C>=5&&(u+=$n.N1+(C-5)),C=1,N=U)}C>=5&&(u+=$n.N1+(C-5))}return u}}$n.N1=3,$n.N2=3,$n.N3=40,$n.N4=10;class qo{constructor(r,o){this.width=r,this.height=o;const u=new Array(o);for(let c=0;c!==o;c++)u[c]=new Uint8Array(r);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,u){this.bytes[o][r]=u}setBoolean(r,o,u){this.bytes[o][r]=u?1:0}clear(r){for(const o of this.bytes)k.fill(o,r)}equals(r){if(!(r instanceof qo))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let u=0,c=this.height;u<c;++u){const f=this.bytes[u],p=o.bytes[u];for(let x=0,C=this.width;x<C;++x)if(f[x]!==p[x])return!1}return!0}toString(){const r=new ye;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o];for(let f=0,p=this.width;f<p;++f)switch(c[f]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Di{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new ye;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Di.NUM_MASK_PATTERNS}}Di.NUM_MASK_PATTERNS=8;class Xn extends v{}Xn.kind="WriterException";class S{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,u,c,f){S.clearMatrix(f),S.embedBasicPatterns(u,f),S.embedTypeInfo(o,c,f),S.maybeEmbedVersionInfo(u,f),S.embedDataBits(r,c,f)}static embedBasicPatterns(r,o){S.embedPositionDetectionPatternsAndSeparators(o),S.embedDarkDotAtLeftBottomCorner(o),S.maybeEmbedPositionAdjustmentPatterns(r,o),S.embedTimingPatterns(o)}static embedTypeInfo(r,o,u){const c=new $;S.makeTypeInfoBits(r,o,c);for(let f=0,p=c.getSize();f<p;++f){const x=c.get(c.getSize()-1-f),C=S.TYPE_INFO_COORDINATES[f],N=C[0],D=C[1];if(u.setBoolean(N,D,x),f<8){const U=u.getWidth()-f-1,Z=8;u.setBoolean(U,Z,x)}else{const Z=u.getHeight()-7+(f-8);u.setBoolean(8,Z,x)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const u=new $;S.makeVersionInfoBits(r,u);let c=6*3-1;for(let f=0;f<6;++f)for(let p=0;p<3;++p){const x=u.get(c);c--,o.setBoolean(f,o.getHeight()-11+p,x),o.setBoolean(o.getHeight()-11+p,f,x)}}static embedDataBits(r,o,u){let c=0,f=-1,p=u.getWidth()-1,x=u.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);x>=0&&x<u.getHeight();){for(let C=0;C<2;++C){const N=p-C;if(!S.isEmpty(u.get(N,x)))continue;let D;c<r.getSize()?(D=r.get(c),++c):D=!1,o!==255&&$n.getDataMaskBit(o,N,x)&&(D=!D),u.setBoolean(N,x,D)}x+=f}f=-f,x+=f,p-=2}if(c!==r.getSize())throw new Xn("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-j.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new A("0 polynomial");const u=S.findMSBSet(o);for(r<<=u-1;S.findMSBSet(r)>=u;)r^=o<<S.findMSBSet(r)-u;return r}static makeTypeInfoBits(r,o,u){if(!Di.isValidMaskPattern(o))throw new Xn("Invalid mask pattern");const c=r.getBits()<<3|o;u.appendBits(c,5);const f=S.calculateBCHCode(c,S.TYPE_INFO_POLY);u.appendBits(f,10);const p=new $;if(p.appendBits(S.TYPE_INFO_MASK_PATTERN,15),u.xor(p),u.getSize()!==15)throw new Xn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const u=S.calculateBCHCode(r.getVersionNumber(),S.VERSION_INFO_POLY);if(o.appendBits(u,12),o.getSize()!==18)throw new Xn("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const u=(o+1)%2;S.isEmpty(r.get(o,6))&&r.setNumber(o,6,u),S.isEmpty(r.get(6,o))&&r.setNumber(6,o,u)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Xn;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,u){for(let c=0;c<8;++c){if(!S.isEmpty(u.get(r+c,o)))throw new Xn;u.setNumber(r+c,o,0)}}static embedVerticalSeparationPattern(r,o,u){for(let c=0;c<7;++c){if(!S.isEmpty(u.get(r,o+c)))throw new Xn;u.setNumber(r,o+c,0)}}static embedPositionAdjustmentPattern(r,o,u){for(let c=0;c<5;++c){const f=S.POSITION_ADJUSTMENT_PATTERN[c];for(let p=0;p<5;++p)u.setNumber(r+p,o+c,f[p])}}static embedPositionDetectionPattern(r,o,u){for(let c=0;c<7;++c){const f=S.POSITION_DETECTION_PATTERN[c];for(let p=0;p<7;++p)u.setNumber(r+p,o+c,f[p])}}static embedPositionDetectionPatternsAndSeparators(r){const o=S.POSITION_DETECTION_PATTERN[0].length;S.embedPositionDetectionPattern(0,0,r),S.embedPositionDetectionPattern(r.getWidth()-o,0,r),S.embedPositionDetectionPattern(0,r.getWidth()-o,r);const u=8;S.embedHorizontalSeparationPattern(0,u-1,r),S.embedHorizontalSeparationPattern(r.getWidth()-u,u-1,r),S.embedHorizontalSeparationPattern(0,r.getWidth()-u,r);const c=7;S.embedVerticalSeparationPattern(c,0,r),S.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),S.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const u=r.getVersionNumber()-1,c=S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let f=0,p=c.length;f!==p;f++){const x=c[f];if(x>=0)for(let C=0;C!==p;C++){const N=c[C];N>=0&&S.isEmpty(o.get(N,x))&&S.embedPositionAdjustmentPattern(N-2,x-2,o)}}}}S.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),S.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),S.VERSION_INFO_POLY=7973,S.TYPE_INFO_POLY=1335,S.TYPE_INFO_MASK_PATTERN=21522;class q{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ue{constructor(){}static calculateMaskPenalty(r){return $n.applyMaskPenaltyRule1(r)+$n.applyMaskPenaltyRule2(r)+$n.applyMaskPenaltyRule3(r)+$n.applyMaskPenaltyRule4(r)}static encode(r,o,u=null){let c=ue.DEFAULT_BYTE_MODE_ENCODING;const f=u!==null&&u.get(Cr.CHARACTER_SET)!==void 0;f&&(c=u.get(Cr.CHARACTER_SET).toString());const p=this.chooseMode(r,c),x=new $;if(p===Xt.BYTE&&(f||ue.DEFAULT_BYTE_MODE_ENCODING!==c)){const mt=se.getCharacterSetECIByName(c);mt!==void 0&&this.appendECI(mt,x)}this.appendModeInfo(p,x);const C=new $;this.appendBytes(r,p,C,c);let N;if(u!==null&&u.get(Cr.QR_VERSION)!==void 0){const mt=Number.parseInt(u.get(Cr.QR_VERSION).toString(),10);N=Tt.getVersionForNumber(mt);const pt=this.calculateBitsNeeded(p,x,C,N);if(!this.willFit(pt,N,o))throw new Xn("Data too big for requested version")}else N=this.recommendVersion(o,p,x,C);const D=new $;D.appendBitArray(x);const U=p===Xt.BYTE?C.getSizeInBytes():r.length;this.appendLengthInfo(U,N,p,D),D.appendBitArray(C);const Z=N.getECBlocksForLevel(o),ce=N.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(ce,D);const be=this.interleaveWithECBytes(D,N.getTotalCodewords(),ce,Z.getNumBlocks()),Ee=new Di;Ee.setECLevel(o),Ee.setMode(p),Ee.setVersion(N);const ke=N.getDimensionForVersion(),Ge=new qo(ke,ke),dt=this.chooseMaskPattern(be,o,N,Ge);return Ee.setMaskPattern(dt),S.buildMatrix(be,o,N,dt,Ge),Ee.setMatrix(Ge),Ee}static recommendVersion(r,o,u,c){const f=this.calculateBitsNeeded(o,u,c,Tt.getVersionForNumber(1)),p=this.chooseVersion(f,r),x=this.calculateBitsNeeded(o,u,c,p);return this.chooseVersion(x,r)}static calculateBitsNeeded(r,o,u,c){return o.getSize()+r.getCharacterCountBits(c)+u.getSize()}static getAlphanumericCode(r){return r<ue.ALPHANUMERIC_TABLE.length?ue.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(se.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return Xt.KANJI;let u=!1,c=!1;for(let f=0,p=r.length;f<p;++f){const x=r.charAt(f);if(ue.isDigit(x))u=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return Xt.BYTE}return c?Xt.ALPHANUMERIC:u?Xt.NUMERIC:Xt.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=J.encode(r,se.SJIS)}catch{return!1}const u=o.length;if(u%2!==0)return!1;for(let c=0;c<u;c+=2){const f=o[c]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(r,o,u,c){let f=Number.MAX_SAFE_INTEGER,p=-1;for(let x=0;x<Di.NUM_MASK_PATTERNS;x++){S.buildMatrix(r,o,u,x,c);let C=this.calculateMaskPenalty(c);C<f&&(f=C,p=x)}return p}static chooseVersion(r,o){for(let u=1;u<=40;u++){const c=Tt.getVersionForNumber(u);if(ue.willFit(r,c,o))return c}throw new Xn("Data too big")}static willFit(r,o,u){const c=o.getTotalCodewords(),p=o.getECBlocksForLevel(u).getTotalECCodewords(),x=c-p,C=(r+7)/8;return x>=C}static terminateBits(r,o){const u=r*8;if(o.getSize()>u)throw new Xn("data bits cannot fit in the QR Code"+o.getSize()+" > "+u);for(let p=0;p<4&&o.getSize()<u;++p)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let p=c;p<8;p++)o.appendBit(!1);const f=r-o.getSizeInBytes();for(let p=0;p<f;++p)o.appendBits(p&1?17:236,8);if(o.getSize()!==u)throw new Xn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,u,c,f,p){if(c>=u)throw new Xn("Block ID too large");const x=r%u,C=u-x,N=Math.floor(r/u),D=N+1,U=Math.floor(o/u),Z=U+1,ce=N-U,be=D-Z;if(ce!==be)throw new Xn("EC bytes mismatch");if(u!==C+x)throw new Xn("RS blocks mismatch");if(r!==(U+ce)*C+(Z+be)*x)throw new Xn("Total bytes mismatch");c<C?(f[0]=U,p[0]=ce):(f[0]=Z,p[0]=be)}static interleaveWithECBytes(r,o,u,c){if(r.getSizeInBytes()!==u)throw new Xn("Number of bits and data bytes does not match");let f=0,p=0,x=0;const C=new Array;for(let D=0;D<c;++D){const U=new Int32Array(1),Z=new Int32Array(1);ue.getNumDataBytesAndNumECBytesForBlockID(o,u,c,D,U,Z);const ce=U[0],be=new Uint8Array(ce);r.toBytes(8*f,be,0,ce);const Ee=ue.generateECBytes(be,Z[0]);C.push(new q(be,Ee)),p=Math.max(p,ce),x=Math.max(x,Ee.length),f+=U[0]}if(u!==f)throw new Xn("Data bytes does not match offset");const N=new $;for(let D=0;D<p;++D)for(const U of C){const Z=U.getDataBytes();D<Z.length&&N.appendBits(Z[D],8)}for(let D=0;D<x;++D)for(const U of C){const Z=U.getErrorCorrectionBytes();D<Z.length&&N.appendBits(Z[D],8)}if(o!==N.getSizeInBytes())throw new Xn("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(r,o){const u=r.length,c=new Int32Array(u+o);for(let p=0;p<u;p++)c[p]=r[p]&255;new fs(lt.QR_CODE_FIELD_256).encode(c,o);const f=new Uint8Array(o);for(let p=0;p<o;p++)f[p]=c[u+p];return f}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,u,c){const f=u.getCharacterCountBits(o);if(r>=1<<f)throw new Xn(r+" is bigger than "+((1<<f)-1));c.appendBits(r,f)}static appendBytes(r,o,u,c){switch(o){case Xt.NUMERIC:ue.appendNumericBytes(r,u);break;case Xt.ALPHANUMERIC:ue.appendAlphanumericBytes(r,u);break;case Xt.BYTE:ue.append8BitBytes(r,u,c);break;case Xt.KANJI:ue.appendKanjiBytes(r,u);break;default:throw new Xn("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=ue.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const u=r.length;let c=0;for(;c<u;){const f=ue.getDigit(r.charAt(c));if(c+2<u){const p=ue.getDigit(r.charAt(c+1)),x=ue.getDigit(r.charAt(c+2));o.appendBits(f*100+p*10+x,10),c+=3}else if(c+1<u){const p=ue.getDigit(r.charAt(c+1));o.appendBits(f*10+p,7),c+=2}else o.appendBits(f,4),c++}}static appendAlphanumericBytes(r,o){const u=r.length;let c=0;for(;c<u;){const f=ue.getAlphanumericCode(r.charCodeAt(c));if(f===-1)throw new Xn;if(c+1<u){const p=ue.getAlphanumericCode(r.charCodeAt(c+1));if(p===-1)throw new Xn;o.appendBits(f*45+p,11),c+=2}else o.appendBits(f,6),c++}}static append8BitBytes(r,o,u){let c;try{c=J.encode(r,u)}catch(f){throw new Xn(f)}for(let f=0,p=c.length;f!==p;f++){const x=c[f];o.appendBits(x,8)}}static appendKanjiBytes(r,o){let u;try{u=J.encode(r,se.SJIS)}catch(f){throw new Xn(f)}const c=u.length;for(let f=0;f<c;f+=2){const p=u[f]&255,x=u[f+1]&255,C=p<<8&4294967295|x;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Xn("Invalid byte sequence");const D=(N>>8)*192+(N&255);o.appendBits(D,13)}}static appendECI(r,o){o.appendBits(Xt.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}ue.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ue.DEFAULT_BYTE_MODE_ENCODING=se.UTF8.getName();class Ae{write(r,o,u,c=null){if(r.length===0)throw new A("Found empty contents");if(o<0||u<0)throw new A("Requested dimensions are too small: "+o+"x"+u);let f=En.L,p=Ae.QUIET_ZONE_SIZE;c!==null&&(c.get(Cr.ERROR_CORRECTION)!==void 0&&(f=En.fromString(c.get(Cr.ERROR_CORRECTION).toString())),c.get(Cr.MARGIN)!==void 0&&(p=Number.parseInt(c.get(Cr.MARGIN).toString(),10)));const x=ue.encode(r,f,c);return this.renderResult(x,o,u,p)}writeToDom(r,o,u,c,f=null){typeof r=="string"&&(r=document.querySelector(r));const p=this.write(o,u,c,f);r&&r.appendChild(p)}renderResult(r,o,u,c){const f=r.getMatrix();if(f===null)throw new Xe;const p=f.getWidth(),x=f.getHeight(),C=p+c*2,N=x+c*2,D=Math.max(o,C),U=Math.max(u,N),Z=Math.min(Math.floor(D/C),Math.floor(U/N)),ce=Math.floor((D-p*Z)/2),be=Math.floor((U-x*Z)/2),Ee=this.createSVGElement(D,U);for(let ke=0,Ge=be;ke<x;ke++,Ge+=Z)for(let dt=0,mt=ce;dt<p;dt++,mt+=Z)if(f.get(dt,ke)===1){const pt=this.createSvgRectElement(mt,Ge,Z,Z);Ee.appendChild(pt)}return Ee}createSVGElement(r,o){const u=document.createElementNS(Ae.SVG_NS,"svg");return u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",o.toString()),u}createSvgRectElement(r,o,u,c){const f=document.createElementNS(Ae.SVG_NS,"rect");return f.setAttributeNS(null,"x",r.toString()),f.setAttributeNS(null,"y",o.toString()),f.setAttributeNS(null,"height",u.toString()),f.setAttributeNS(null,"width",c.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Ae.QUIET_ZONE_SIZE=4,Ae.SVG_NS="http://www.w3.org/2000/svg";class De{encode(r,o,u,c,f){if(r.length===0)throw new A("Found empty contents");if(o!==he.QR_CODE)throw new A("Can only encode QR_CODE, but got "+o);if(u<0||c<0)throw new A(`Requested dimensions are too small: ${u}x${c}`);let p=En.L,x=De.QUIET_ZONE_SIZE;f!==null&&(f.get(Cr.ERROR_CORRECTION)!==void 0&&(p=En.fromString(f.get(Cr.ERROR_CORRECTION).toString())),f.get(Cr.MARGIN)!==void 0&&(x=Number.parseInt(f.get(Cr.MARGIN).toString(),10)));const C=ue.encode(r,p,f);return De.renderResult(C,u,c,x)}static renderResult(r,o,u,c){const f=r.getMatrix();if(f===null)throw new Xe;const p=f.getWidth(),x=f.getHeight(),C=p+c*2,N=x+c*2,D=Math.max(o,C),U=Math.max(u,N),Z=Math.min(Math.floor(D/C),Math.floor(U/N)),ce=Math.floor((D-p*Z)/2),be=Math.floor((U-x*Z)/2),Ee=new me(D,U);for(let ke=0,Ge=be;ke<x;ke++,Ge+=Z)for(let dt=0,mt=ce;dt<p;dt++,mt+=Z)f.get(dt,ke)===1&&Ee.setRegion(mt,Ge,Z,Z);return Ee}}De.QUIET_ZONE_SIZE=4;class $e{encode(r,o,u,c,f){let p;switch(o){case he.QR_CODE:p=new De;break;default:throw new A("No encoder available for format "+o)}return p.encode(r,o,u,c,f)}}class ut extends pe{constructor(r,o,u,c,f,p,x,C){if(super(p,x),this.yuvData=r,this.dataWidth=o,this.dataHeight=u,this.left=c,this.top=f,c+p>o||f+x>u)throw new A("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(p,x)}getRow(r,o){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const c=(r+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,c,o,0,u),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const u=r*o,c=new Uint8ClampedArray(u);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return R.arraycopy(this.yuvData,f,c,0,u),c;for(let p=0;p<o;p++){const x=p*r;R.arraycopy(this.yuvData,f,c,x,r),f+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,o,u,c){return new ut(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,u,c,!1)}renderThumbnail(){const r=this.getWidth()/ut.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ut.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(r*o),c=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<o;p++){const x=p*r;for(let C=0;C<r;C++){const N=c[f+C*ut.THUMBNAIL_SCALE_FACTOR]&255;u[x+C]=4278190080|N*65793}f+=this.dataWidth*ut.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/ut.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ut.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const u=this.yuvData;for(let c=0,f=this.top*this.dataWidth+this.left;c<o;c++,f+=this.dataWidth){const p=f+r/2;for(let x=f,C=f+r-1;x<p;x++,C--){const N=u[x];u[x]=u[C],u[C]=N}}}invert(){return new Re(this)}}ut.THUMBNAIL_SCALE_FACTOR=2;class Pt extends pe{constructor(r,o,u,c,f,p,x){if(super(o,u),this.dataWidth=c,this.dataHeight=f,this.left=p,this.top=x,r.BYTES_PER_ELEMENT===4){const C=o*u,N=new Uint8ClampedArray(C);for(let D=0;D<C;D++){const U=r[D],Z=U>>16&255,ce=U>>7&510,be=U&255;N[D]=(Z+ce+be)/4&255}this.luminances=N}else this.luminances=r;if(c===void 0&&(this.dataWidth=o),f===void 0&&(this.dataHeight=u),p===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const c=(r+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,c,o,0,u),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const u=r*o,c=new Uint8ClampedArray(u);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return R.arraycopy(this.luminances,f,c,0,u),c;for(let p=0;p<o;p++){const x=p*r;R.arraycopy(this.luminances,f,c,x,r),f+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,o,u,c){return new Pt(this.luminances,u,c,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new Re(this)}}class Dt extends se{static forName(r){return this.getCharacterSetECIByName(r)}}class dn{}dn.ISO_8859_1=se.ISO8859_1;class pn{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Hn{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class fr{constructor(r){this.previous=r}getPrevious(){return this.previous}}class er extends fr{constructor(r,o,u){super(r),this.value=o,this.bitCount=u}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new er(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new er(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+j.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class kr extends er{constructor(r,o,u){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=u}appendTo(r,o){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):u===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+u],8)}addBinaryShift(r,o){return new kr(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ai(H,r,o){return new kr(H,r,o)}function Er(H,r,o){return new er(H,r,o)}const _o=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Kn=0,ii=1,Li=2,Bi=3,Fi=4,bo=new er(null,0,0),Ls=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Go(H){for(let r of H)k.fill(r,-1);return H[Kn][Fi]=0,H[ii][Fi]=0,H[ii][Kn]=28,H[Bi][Fi]=0,H[Li][Fi]=0,H[Li][Kn]=15,H}const ds=Go(k.createInt32Array(6,6));class tr{constructor(r,o,u,c){this.token=r,this.mode=o,this.binaryShiftByteCount=u,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let u=this.bitCount,c=this.token;if(r!==this.mode){let p=Ls[this.mode][r];c=Er(c,p&65535,p>>16),u+=p>>16}let f=r===Li?4:5;return c=Er(c,o,f),new tr(c,r,0,u+f)}shiftAndAppend(r,o){let u=this.token,c=this.mode===Li?4:5;return u=Er(u,ds[this.mode][r],c),u=Er(u,o,5),new tr(u,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let o=this.token,u=this.mode,c=this.bitCount;if(this.mode===Fi||this.mode===Li){let x=Ls[u][Kn];o=Er(o,x&65535,x>>16),c+=x>>16,u=Kn}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new tr(o,u,this.binaryShiftByteCount+1,c+f);return p.binaryShiftByteCount===2047+31&&(p=p.endBinaryShift(r+1)),p}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Ai(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new tr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(Ls[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=tr.calculateBinaryShiftCost(r)-tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())o.unshift(c);let u=new $;for(const c of o)c.appendTo(u,r);return u}toString(){return Y.format("%s bits=%d bytes=%d",_o[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}tr.INITIAL_STATE=new tr(bo,Kn,0,0);function Js(H){const r=Y.getCharCode(" "),o=Y.getCharCode("."),u=Y.getCharCode(",");H[Kn][r]=1;const c=Y.getCharCode("Z"),f=Y.getCharCode("A");for(let Z=f;Z<=c;Z++)H[Kn][Z]=Z-f+2;H[ii][r]=1;const p=Y.getCharCode("z"),x=Y.getCharCode("a");for(let Z=x;Z<=p;Z++)H[ii][Z]=Z-x+2;H[Li][r]=1;const C=Y.getCharCode("9"),N=Y.getCharCode("0");for(let Z=N;Z<=C;Z++)H[Li][Z]=Z-N+2;H[Li][u]=12,H[Li][o]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<D.length;Z++)H[Bi][Y.getCharCode(D[Z])]=Z;const U=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<U.length;Z++)Y.getCharCode(U[Z])>0&&(H[Fi][Y.getCharCode(U[Z])]=Z);return H}const Ti=Js(k.createInt32Array(5,256));class Xi{constructor(r){this.text=r}encode(){const r=Y.getCharCode(" "),o=Y.getCharCode(`
`);let u=Hn.singletonList(tr.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let p,x=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case Y.getCharCode("\r"):p=x===o?2:0;break;case Y.getCharCode("."):p=x===r?3:0;break;case Y.getCharCode(","):p=x===r?4:0;break;case Y.getCharCode(":"):p=x===r?5:0;break;default:p=0}p>0?(u=Xi.updateStateListForPair(u,f,p),f++):u=this.updateStateListForChar(u,f)}return Hn.min(u,(f,p)=>f.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const u=[];for(let c of r)this.updateStateForChar(c,o,u);return Xi.simplifyStates(u)}updateStateForChar(r,o,u){let c=this.text[o]&255,f=Ti[r.getMode()][c]>0,p=null;for(let x=0;x<=Fi;x++){let C=Ti[x][c];if(C>0){if(p==null&&(p=r.endBinaryShift(o)),!f||x===r.getMode()||x===Li){const N=p.latchAndAppend(x,C);u.push(N)}if(!f&&ds[r.getMode()][x]>=0){const N=p.shiftAndAppend(x,C);u.push(N)}}}if(r.getBinaryShiftByteCount()>0||Ti[r.getMode()][c]===0){let x=r.addBinaryShiftChar(o);u.push(x)}}static updateStateListForPair(r,o,u){const c=[];for(let f of r)this.updateStateForPair(f,o,u,c);return this.simplifyStates(c)}static updateStateForPair(r,o,u,c){let f=r.endBinaryShift(o);if(c.push(f.latchAndAppend(Fi,u)),r.getMode()!==Fi&&c.push(f.shiftAndAppend(Fi,u)),u===3||u===4){let p=f.latchAndAppend(Li,16-u).latchAndAppend(Li,1);c.push(p)}if(r.getBinaryShiftByteCount()>0){let p=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(p)}}static simplifyStates(r){let o=[];for(const u of r){let c=!0;for(const f of o){if(f.isBetterThanOrEqualTo(u)){c=!1;break}u.isBetterThanOrEqualTo(f)&&(o=o.filter(p=>p!==f))}c&&o.push(u)}return o}}class Fn{constructor(){}static encodeBytes(r){return Fn.encode(r,Fn.DEFAULT_EC_PERCENT,Fn.DEFAULT_AZTEC_LAYERS)}static encode(r,o,u){let c=new Xi(r).encode(),f=j.truncDivision(c.getSize()*o,100)+11,p=c.getSize()+f,x,C,N,D,U;if(u!==Fn.DEFAULT_AZTEC_LAYERS){if(x=u<0,C=Math.abs(u),C>(x?Fn.MAX_NB_BITS_COMPACT:Fn.MAX_NB_BITS))throw new A(Y.format("Illegal value %s for layers",u));N=Fn.totalBitsInLayer(C,x),D=Fn.WORD_SIZE[C];let pt=N-N%D;if(U=Fn.stuffBits(c,D),U.getSize()+f>pt)throw new A("Data to large for user specified layer");if(x&&U.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,U=null;for(let pt=0;;pt++){if(pt>Fn.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(x=pt<=3,C=x?pt+1:pt,N=Fn.totalBitsInLayer(C,x),p>N)continue;(U==null||D!==Fn.WORD_SIZE[C])&&(D=Fn.WORD_SIZE[C],U=Fn.stuffBits(c,D));let Nn=N-N%D;if(!(x&&U.getSize()>D*64)&&U.getSize()+f<=Nn)break}}let Z=Fn.generateCheckWords(U,N,D),ce=U.getSize()/D,be=Fn.generateModeMessage(x,C,ce),Ee=(x?11:14)+C*4,ke=new Int32Array(Ee),Ge;if(x){Ge=Ee;for(let pt=0;pt<ke.length;pt++)ke[pt]=pt}else{Ge=Ee+1+2*j.truncDivision(j.truncDivision(Ee,2)-1,15);let pt=j.truncDivision(Ee,2),Nn=j.truncDivision(Ge,2);for(let gn=0;gn<pt;gn++){let nr=gn+j.truncDivision(gn,15);ke[pt-gn-1]=Nn-nr-1,ke[pt+gn]=Nn+nr+1}}let dt=new me(Ge);for(let pt=0,Nn=0;pt<C;pt++){let gn=(C-pt)*4+(x?9:12);for(let nr=0;nr<gn;nr++){let Wr=nr*2;for(let Br=0;Br<2;Br++)Z.get(Nn+Wr+Br)&&dt.set(ke[pt*2+Br],ke[pt*2+nr]),Z.get(Nn+gn*2+Wr+Br)&&dt.set(ke[pt*2+nr],ke[Ee-1-pt*2-Br]),Z.get(Nn+gn*4+Wr+Br)&&dt.set(ke[Ee-1-pt*2-Br],ke[Ee-1-pt*2-nr]),Z.get(Nn+gn*6+Wr+Br)&&dt.set(ke[Ee-1-pt*2-nr],ke[pt*2+Br])}Nn+=gn*8}if(Fn.drawModeMessage(dt,x,Ge,be),x)Fn.drawBullsEye(dt,j.truncDivision(Ge,2),5);else{Fn.drawBullsEye(dt,j.truncDivision(Ge,2),7);for(let pt=0,Nn=0;pt<j.truncDivision(Ee,2)-1;pt+=15,Nn+=16)for(let gn=j.truncDivision(Ge,2)&1;gn<Ge;gn+=2)dt.set(j.truncDivision(Ge,2)-Nn,gn),dt.set(j.truncDivision(Ge,2)+Nn,gn),dt.set(gn,j.truncDivision(Ge,2)-Nn),dt.set(gn,j.truncDivision(Ge,2)+Nn)}let mt=new pn;return mt.setCompact(x),mt.setSize(Ge),mt.setLayers(C),mt.setCodeWords(ce),mt.setMatrix(dt),mt}static drawBullsEye(r,o,u){for(let c=0;c<u;c+=2)for(let f=o-c;f<=o+c;f++)r.set(f,o-c),r.set(f,o+c),r.set(o-c,f),r.set(o+c,f);r.set(o-u,o-u),r.set(o-u+1,o-u),r.set(o-u,o-u+1),r.set(o+u,o-u),r.set(o+u,o-u+1),r.set(o+u,o+u-1)}static generateModeMessage(r,o,u){let c=new $;return r?(c.appendBits(o-1,2),c.appendBits(u-1,6),c=Fn.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(u-1,11),c=Fn.generateCheckWords(c,40,4)),c}static drawModeMessage(r,o,u,c){let f=j.truncDivision(u,2);if(o)for(let p=0;p<7;p++){let x=f-3+p;c.get(p)&&r.set(x,f-5),c.get(p+7)&&r.set(f+5,x),c.get(20-p)&&r.set(x,f+5),c.get(27-p)&&r.set(f-5,x)}else for(let p=0;p<10;p++){let x=f-5+p+j.truncDivision(p,5);c.get(p)&&r.set(x,f-7),c.get(p+10)&&r.set(f+7,x),c.get(29-p)&&r.set(x,f+7),c.get(39-p)&&r.set(f-7,x)}}static generateCheckWords(r,o,u){let c=r.getSize()/u,f=new fs(Fn.getGF(u)),p=j.truncDivision(o,u),x=Fn.bitsToWords(r,u,p);f.encode(x,p-c);let C=o%u,N=new $;N.appendBits(0,C);for(const D of Array.from(x))N.appendBits(D,u);return N}static bitsToWords(r,o,u){let c=new Int32Array(u),f,p;for(f=0,p=r.getSize()/o;f<p;f++){let x=0;for(let C=0;C<o;C++)x|=r.get(f*o+C)?1<<o-C-1:0;c[f]=x}return c}static getGF(r){switch(r){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+r)}}static stuffBits(r,o){let u=new $,c=r.getSize(),f=(1<<o)-2;for(let p=0;p<c;p+=o){let x=0;for(let C=0;C<o;C++)(p+C>=c||r.get(p+C))&&(x|=1<<o-1-C);(x&f)===f?(u.appendBits(x&f,o),p--):x&f?u.appendBits(x,o):(u.appendBits(x|1,o),p--)}return u}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}Fn.DEFAULT_EC_PERCENT=33,Fn.DEFAULT_AZTEC_LAYERS=0,Fn.MAX_NB_BITS=32,Fn.MAX_NB_BITS_COMPACT=4,Fn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Kr{encode(r,o,u,c){return this.encodeWithHints(r,o,u,c,null)}encodeWithHints(r,o,u,c,f){let p=dn.ISO_8859_1,x=Fn.DEFAULT_EC_PERCENT,C=Fn.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Cr.CHARACTER_SET)&&(p=Dt.forName(f.get(Cr.CHARACTER_SET).toString())),f.has(Cr.ERROR_CORRECTION)&&(x=j.parseInt(f.get(Cr.ERROR_CORRECTION).toString())),f.has(Cr.AZTEC_LAYERS)&&(C=j.parseInt(f.get(Cr.AZTEC_LAYERS).toString()))),Kr.encodeLayers(r,o,u,c,p,x,C)}static encodeLayers(r,o,u,c,f,p,x){if(o!==he.AZTEC)throw new A("Can only encode AZTEC, but got "+o);let C=Fn.encode(Y.getBytes(r,f),p,x);return Kr.renderResult(C,u,c)}static renderResult(r,o,u){let c=r.getMatrix();if(c==null)throw new Xe;let f=c.getWidth(),p=c.getHeight(),x=Math.max(o,f),C=Math.max(u,p),N=Math.min(x/f,C/p),D=(x-f*N)/2,U=(C-p*N)/2,Z=new me(x,C);for(let ce=0,be=U;ce<p;ce++,be+=N)for(let Ee=0,ke=D;Ee<f;Ee++,ke+=N)c.get(Ee,ce)&&Z.setRegion(ke,be,N,N);return Z}}n.AbstractExpandedDecoder=Nt,n.ArgumentException=_,n.ArithmeticException=bt,n.AztecCode=pn,n.AztecCodeReader=It,n.AztecCodeWriter=Kr,n.AztecDecoder=wt,n.AztecDetector=wn,n.AztecDetectorResult=Ft,n.AztecEncoder=Fn,n.AztecHighLevelEncoder=Xi,n.AztecPoint=zt,n.BarcodeFormat=he,n.Binarizer=O,n.BinaryBitmap=I,n.BitArray=$,n.BitMatrix=me,n.BitSource=xo,n.BrowserAztecCodeReader=hr,n.BrowserBarcodeReader=Yn,n.BrowserCodeReader=ae,n.BrowserDatamatrixCodeReader=ss,n.BrowserMultiFormatReader=Ns,n.BrowserPDF417Reader=io,n.BrowserQRCodeReader=Qs,n.BrowserQRCodeSvgWriter=Ae,n.CharacterSetECI=se,n.ChecksumException=E,n.Code128Reader=xt,n.Code39Reader=nn,n.DataMatrixDecodedBitStreamParser=bi,n.DataMatrixReader=Rn,n.DecodeHintType=ne,n.DecoderResult=qe,n.DefaultGridSampler=xn,n.DetectorResult=St,n.EAN13Reader=ti,n.EncodeHintType=Cr,n.Exception=v,n.FormatException=re,n.GenericGF=lt,n.GenericGFPoly=it,n.GlobalHistogramBinarizer=Me,n.GridSampler=un,n.GridSamplerInstance=cn,n.HTMLCanvasElementLuminanceSource=Ce,n.HybridBinarizer=Ie,n.ITFReader=$t,n.IllegalArgumentException=A,n.IllegalStateException=Xe,n.InvertedLuminanceSource=Re,n.LuminanceSource=pe,n.MathUtils=rt,n.MultiFormatOneDReader=mn,n.MultiFormatReader=pa,n.MultiFormatWriter=$e,n.NotFoundException=ge,n.OneDReader=Kt,n.PDF417DecodedBitStreamParser=Ze,n.PDF417DecoderErrorCorrection=Ys,n.PDF417Reader=Dr,n.PDF417ResultMetadata=Ks,n.PerspectiveTransform=Qt,n.PlanarYUVLuminanceSource=ut,n.QRCodeByteMatrix=qo,n.QRCodeDataMask=ni,n.QRCodeDecodedBitStreamParser=Vn,n.QRCodeDecoderErrorCorrectionLevel=En,n.QRCodeDecoderFormatInformation=Xr,n.QRCodeEncoder=ue,n.QRCodeEncoderQRCode=Di,n.QRCodeMaskUtil=$n,n.QRCodeMatrixUtil=S,n.QRCodeMode=Xt,n.QRCodeReader=Yr,n.QRCodeVersion=Tt,n.QRCodeWriter=De,n.RGBLuminanceSource=Pt,n.RSS14Reader=Jn,n.RSSExpandedReader=ot,n.ReaderException=pi,n.ReedSolomonDecoder=we,n.ReedSolomonEncoder=fs,n.ReedSolomonException=Yt,n.Result=le,n.ResultMetadataType=je,n.ResultPoint=Je,n.StringUtils=Y,n.UnsupportedOperationException=Le,n.VideoInputDevice=nt,n.WhiteRectangleDetector=Zt,n.WriterException=Xn,n.ZXingArrays=k,n.ZXingCharset=Dt,n.ZXingInteger=j,n.ZXingStandardCharsets=dn,n.ZXingStringBuilder=ye,n.ZXingStringEncoding=J,n.ZXingSystem=R,n.createAbstractExpandedDecoder=Zr,Object.defineProperty(n,"__esModule",{value:!0})})})(B0,B0.exports);var jr=B0.exports;const $b=od(jr),e6=J0({__proto__:null,default:$b},[jr]);var Im=function(){function e(t,n,i){if(this.formatMap=new Map([[Ht.QR_CODE,jr.BarcodeFormat.QR_CODE],[Ht.AZTEC,jr.BarcodeFormat.AZTEC],[Ht.CODABAR,jr.BarcodeFormat.CODABAR],[Ht.CODE_39,jr.BarcodeFormat.CODE_39],[Ht.CODE_93,jr.BarcodeFormat.CODE_93],[Ht.CODE_128,jr.BarcodeFormat.CODE_128],[Ht.DATA_MATRIX,jr.BarcodeFormat.DATA_MATRIX],[Ht.MAXICODE,jr.BarcodeFormat.MAXICODE],[Ht.ITF,jr.BarcodeFormat.ITF],[Ht.EAN_13,jr.BarcodeFormat.EAN_13],[Ht.EAN_8,jr.BarcodeFormat.EAN_8],[Ht.PDF_417,jr.BarcodeFormat.PDF_417],[Ht.RSS_14,jr.BarcodeFormat.RSS_14],[Ht.RSS_EXPANDED,jr.BarcodeFormat.RSS_EXPANDED],[Ht.UPC_A,jr.BarcodeFormat.UPC_A],[Ht.UPC_E,jr.BarcodeFormat.UPC_E],[Ht.UPC_EAN_EXTENSION,jr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!e6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),l=new Map;l.set(jr.DecodeHintType.POSSIBLE_FORMATS,a),l.set(jr.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new jr.MultiFormatReader(this.verbose,this.hints),i=new jr.HTMLCanvasElementLuminanceSource(t),a=new jr.BinaryBitmap(new jr.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:ex.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),t6=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function m(_){try{v(i.next(_))}catch(A){h(A)}}function g(_){try{v(i.throw(_))}catch(A){h(A)}}function v(_){_.done?l(_.value):a(_.value).then(m,g)}v((i=i.apply(e,t||[])).next())})},n6=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(_){return g([v,_])}}function g(v){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(i=1,a&&(l=v[0]&2?a.return:v[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,v[1])).done)return l;switch(a=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){n.label=v[1];break}if(v[0]===6&&n.label<l[1]){n.label=l[1],l=v;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(v);break}l[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(_){v=[6,_],a=0}finally{i=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Lm=function(){function e(t,n,i){if(this.formatMap=new Map([[Ht.QR_CODE,"qr_code"],[Ht.AZTEC,"aztec"],[Ht.CODABAR,"codabar"],[Ht.CODE_39,"code_39"],[Ht.CODE_93,"code_93"],[Ht.CODE_128,"code_128"],[Ht.DATA_MATRIX,"data_matrix"],[Ht.ITF,"itf"],[Ht.EAN_13,"ean_13"],[Ht.EAN_8,"ean_8"],[Ht.PDF_417,"pdf417"],[Ht.UPC_A,"upc_a"],[Ht.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return t6(this,void 0,void 0,function(){var n,i;return n6(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:ex.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,l=t;a<l.length;a++){var h=l[a],m=h.boundingBox.width*h.boundingBox.height;m>i&&(i=m,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Tm=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function m(_){try{v(i.next(_))}catch(A){h(A)}}function g(_){try{v(i.throw(_))}catch(A){h(A)}}function v(_){_.done?l(_.value):a(_.value).then(m,g)}v((i=i.apply(e,t||[])).next())})},Pm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(_){return g([v,_])}}function g(v){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(i=1,a&&(l=v[0]&2?a.return:v[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,v[1])).done)return l;switch(a=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){n.label=v[1];break}if(v[0]===6&&n.label<l[1]){n.label=l[1],l=v;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(v);break}l[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(_){v=[6,_],a=0}finally{i=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},r6=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Lm.isSupported()?(this.primaryDecoder=new Lm(t,i,a),this.secondaryDecoder=new Im(t,i,a)):this.primaryDecoder=new Im(t,i,a)}return e.prototype.decodeAsync=function(t){return Tm(this,void 0,void 0,function(){var n;return Pm(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Tm(this,void 0,void 0,function(){var n,i;return Pm(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),o2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xf=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function m(_){try{v(i.next(_))}catch(A){h(A)}}function g(_){try{v(i.throw(_))}catch(A){h(A)}}function v(_){_.done?l(_.value):a(_.value).then(m,g)}v((i=i.apply(e,t||[])).next())})},Yf=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(_){return g([v,_])}}function g(v){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(i=1,a&&(l=v[0]&2?a.return:v[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,v[1])).done)return l;switch(a=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){n.label=v[1];break}if(v[0]===6&&n.label<l[1]){n.label=l[1],l=v;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(v);break}l[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(_){v=[6,_],a=0}finally{i=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},nx=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),i6=function(e){o2(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(nx),o6=function(e){o2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(i6),s6=function(e){o2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(nx),a6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new o6(this.track)},e.prototype.torchFeature=function(){return new s6(this.track)},e}(),l6=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return Xf(this,void 0,void 0,function(){var l,h;return Yf(this,function(m){switch(m.label){case 0:return l=new e(t,n,a),i.aspectRatio?(h={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:m.sent(),m.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Xf(this,void 0,void 0,function(){return Yf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),l=a.length,h=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++h,h>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new a6(this.getFirstTrackOrFail())},e}(),u6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Xf(this,void 0,void 0,function(){return Yf(this,function(a){return[2,l6.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Xf(this,void 0,void 0,function(){var n,i;return Yf(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),km=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function m(_){try{v(i.next(_))}catch(A){h(A)}}function g(_){try{v(i.throw(_))}catch(A){h(A)}}function v(_){_.done?l(_.value):a(_.value).then(m,g)}v((i=i.apply(e,t||[])).next())})},Rm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(_){return g([v,_])}}function g(v){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(i=1,a&&(l=v[0]&2?a.return:v[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,v[1])).done)return l;switch(a=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){n.label=v[1];break}if(v[0]===6&&n.label<l[1]){n.label=l[1],l=v;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(v);break}l[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(_){v=[6,_],a=0}finally{i=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},c6=function(){function e(){}return e.failIfNotSupported=function(){return km(this,void 0,void 0,function(){return Rm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return km(this,void 0,void 0,function(){return Rm(this,function(n){return[2,u6.create(t)]})})},e}(),h6=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function m(_){try{v(i.next(_))}catch(A){h(A)}}function g(_){try{v(i.throw(_))}catch(A){h(A)}}function v(_){_.done?l(_.value):a(_.value).then(m,g)}v((i=i.apply(e,t||[])).next())})},f6=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(_){return g([v,_])}}function g(v){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(i=1,a&&(l=v[0]&2?a.return:v[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,v[1])).done)return l;switch(a=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){n.label=v[1];break}if(v[0]===6&&n.label<l[1]){n.label=l[1],l=v;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(v);break}l[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(_){v=[6,_],a=0}finally{i=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},d6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Au.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Au.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return h6(this,void 0,void 0,function(){var t,n,i,a,l,h,m;return f6(this,function(g){switch(g.label){case 0:return t=function(v){for(var _=v.getVideoTracks(),A=0,I=_;A<I.length;A++){var E=I[A];E.enabled=!1,E.stop(),v.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=g.sent(),a=[],l=0,h=i;l<h.length;l++)m=h[l],m.kind==="videoinput"&&a.push({id:m.deviceId,label:m.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var h=[],m=0,g=l;m<g.length;m++){var v=g[m];v.kind==="video"&&h.push({id:v.id,label:v.label})}t(h)},a=MediaStreamTrack;a.getSources(i)})},e}(),si;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(si||(si={}));var p6=function(){function e(){this.state=si.NOT_STARTED,this.onGoingTransactionNewState=si.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===si.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=si.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===si.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=si.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==si.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case si.UNKNOWN:throw"Transition from unknown is not allowed";case si.NOT_STARTED:this.failIfNewStateIs(t,[si.PAUSED]);break;case si.SCANNING:break;case si.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),g6=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===si.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==si.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===si.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===si.PAUSED},e}(),m6=function(){function e(){}return e.create=function(){return new g6(new p6)},e}(),v6=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ko=function(e){v6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Kb),y6=function(){function e(t,n){this.logger=n,this.fps=Ko.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ko.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?tx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!xa(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),rx=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new Jb(this.verbose),this.qrcode=new r6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=m6.create()}return e.prototype.start=function(t,n,i,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;a?h=a:h=this.verbose?this.logger.log:function(){};var m=y6.create(n,this.logger);this.clearElement();var g=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=g,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:Ko.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var A=this,I=this.stateManagerProxy.startTransition(si.SCANNING);return new Promise(function(E,O){var R=v?m.videoConstraints:A.createVideoConstraints(t);if(!R){I.cancel(),O("videoConstraints should be defined");return}var z={};(!v||m.aspectRatio)&&(z.aspectRatio=m.aspectRatio);var M={onRenderSurfaceReady:function(k,j){A.setupUi(k,j,m),A.isScanning=!0,A.foreverScan(m,i,h)}};c6.failIfNotSupported().then(function(k){k.create(R).then(function(j){return j.render(l.element,z,M).then(function($){A.renderedCamera=$,I.execute(),E(null)}).catch(function($){I.cancel(),O($)})}).catch(function(j){I.cancel(),O(Au.errorGettingUserMedia(j))})}).catch(function(k){I.cancel(),O(Au.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(si.PAUSED),this.showPausedState(),(xa(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(si.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(si.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(Ko.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(xa(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var m=h.width,g=h.height,v=document.getElementById(i.elementId),_=v.clientWidth?v.clientWidth:Ko.DEFAULT_WIDTH,A=Math.max(v.clientHeight?v.clientHeight:g,Ko.FILE_SCAN_MIN_HEIGHT),I=i.computeCanvasDrawConfig(m,g,_,A);if(n){var E=i.createCanvasElement(_,A,"qr-canvas-visible");E.style.display="inline-block",v.appendChild(E);var O=E.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=_,O.canvas.height=A,O.drawImage(h,0,0,m,g,I.x,I.y,I.width,I.height)}var R=Ko.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(h.width,I.width),M=Math.max(h.height,I.height),k=z+2*R,j=M+2*R,$=i.createCanvasElement(k,j);v.appendChild($);var de=$.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=k,de.canvas.height=j,de.drawImage(h,0,0,m,g,R,R,z,M);try{i.qrcode.decodeRobustlyAsync($).then(function(ne){a(Nm.createFromQrcodeResult(ne))}).catch(l)}catch(ne){l("QR code parse error, error = ".concat(ne))}},h.onerror=l,h.onabort=l,h.onstalled=l,h.onsuspend=l,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return d6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!tx.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ht.QR_CODE,Ht.AZTEC,Ht.CODABAR,Ht.CODE_39,Ht.CODE_93,Ht.CODE_128,Ht.DATA_MATRIX,Ht.MAXICODE,Ht.ITF,Ht.EAN_13,Ht.EAN_8,Ht.PDF_417,Ht.RSS_14,Ht.RSS_EXPANDED,Ht.UPC_A,Ht.UPC_E,Ht.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=t.formatsToSupport;a<l.length;a++){var h=l[a];Yb(h)?i.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(xa(t))return!0;if(!xa(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(xa(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return xa(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var h=this.toQrdimensions(t,n,l),m=function(v){if(v<Ko.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ko.MIN_QR_BOX_SIZE,"px.")},g=function(v){return v>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};m(h.width),m(h.height),h.width=g(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=xa(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=i.isShadedBoxEnabled()&&l.height<=n,m={x:0,y:0,width:t,height:n},g=h?this.getShadedRegionBounds(t,n,l):m,v=this.createCanvasElement(g.width,g.height),_={willReadFrequently:!0},A=v.getContext("2d",_);A.canvas.width=g.width,A.canvas.height=g.height,this.element.append(v),h&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=A,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Au.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,Nm.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=Au.codeParseError(a);return n(l,Qb.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),h=l.videoWidth/l.clientWidth,m=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*h,v=this.qrRegion.height*m,_=this.qrRegion.x*h,A=this.qrRegion.y*m;this.context.drawImage(l,_,A,g,v,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(E){!E&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){I()})):I()}).catch(function(E){a.logger.logError("Error happend while scanning context",E),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",h=function(O){if(O in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var v=t.facingMode;if(typeof v=="string"){if(h(v))return{facingMode:v}}else if(typeof v=="object")if(l in v){if(h(v["".concat(l)]))return{facingMode:{exact:v["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var _=typeof v;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(l in A)return{deviceId:{exact:A["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var l=(i-t)/2,h=(a-n)/2;return{x:l,y:h,width:t,height:n}}else{var m=t,g=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Ko.BORDER_SHADER_MATCH_COLOR:Ko.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,l=n,h=document.createElement("canvas");return h.style.width="".concat(a,"px"),h.style.height="".concat(l,"px"),h.style.display="none",h.id=xa(i)?"qr-canvas":i,h},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var h=(n-a.width)/2,m=(i-a.height)/2;if(l.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Ko.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var g=5,v=40;this.insertShaderBorders(l,v,g,-g,null,0,!0),this.insertShaderBorders(l,v,g,-g,null,0,!1),this.insertShaderBorders(l,v,g,null,-g,0,!0),this.insertShaderBorders(l,v,g,null,-g,0,!1),this.insertShaderBorders(l,g,v+g,-g,null,-g,!0),this.insertShaderBorders(l,g,v+g,null,-g,-g,!0),this.insertShaderBorders(l,g,v+g,-g,null,-g,!1),this.insertShaderBorders(l,g,v+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,a,l,h,m){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=Ko.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(i,"px"),a!==null&&(g.style.top="".concat(a,"px")),l!==null&&(g.style.bottom="".concat(l,"px")),m?g.style.left="".concat(h,"px"):g.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Om;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Om||(Om={}));const ix=Te.createContext({token:null,adminToken:null,setToken:()=>{},setAdminToken:()=>{},validateToken:()=>{}}),x6=async e=>{try{const t=await fetch("/api/validate-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return t.ok?!0:(console.error("Token validation failed:",t.statusText),!1)}catch(t){return console.error("Error during token validation:",t.message),!1}},w6=({children:e})=>{const[t,n]=Te.useState(localStorage.getItem("ACCESS_TOKEN")),[i,a]=Te.useState(localStorage.getItem("ACCESS_ADMIN_TOKEN")),l=m=>{n(m),m?localStorage.setItem("ACCESS_TOKEN",m):localStorage.removeItem("ACCESS_TOKEN")},h=m=>{a(m),m?localStorage.setItem("ACCESS_ADMIN_TOKEN",m):localStorage.removeItem("ACCESS_ADMIN_TOKEN")};return V.jsx(ix.Provider,{value:{token:t,adminToken:i,setToken:l,setAdminToken:h,validateToken:x6},children:e})},ui=()=>Te.useContext(ix);function ox(){const[e,t]=Te.useState(!1),[n,i]=Te.useState(!1),{token:a,setToken:l}=ui(),h=Lo();let m;const g=document.getElementById("root").getAttribute("data-csrf"),v=(I,E)=>{A(I)};Te.useEffect(()=>{if(!(m!=null&&m.getState())){const I={fps:5,qrbox:{width:150,height:150}};m=new rx("reader"),m.start({facingMode:"environment"},I,v).catch(E=>{t(!0),console.warn(`Code scan error = ${E}`)})}},[]),Te.useEffect(()=>{const I=E=>{m.stop()};return window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I)}},[]);const _=()=>{h("/AdminLandingPage")},A=(I,E)=>{fetch("/api/qr-login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":g},body:JSON.stringify({qr_code:I})}).then(O=>{if(!O.ok)throw new Error(`HTTP error! Status: ${O.status}`);return O.json()}).then(O=>{O.status.toLowerCase()==="success"&&O.token?(l(O.token),m.stop(),i(!0)):console.error("Ungltiger QR-Code")}).catch(O=>console.error("Fetch error:",O))};return V.jsxs("div",{className:"container",children:[V.jsx("h1",{style:{marginBottom:"10px",textAlign:"center"},children:"Willkommen im PLS-System"}),V.jsxs("p",{style:{marginBottom:"20px",textAlign:"center"},children:[V.jsx("h2",{children:"Hinweis:"}),V.jsx("strong",{children:"Admin:"})," Erstellen Sie zunchst einen Einsatzort und generieren Sie bei Bedarf QR-Codes fr die Authorisierung der Einsatzkrfte und Patienten.",V.jsx("br",{}),V.jsx("button",{onClick:_,className:"admin-button",title:"Admins erstellen zuerst einen Einsatzort und bei Bedarf QR-Codes fr Einsatzkrfte und Patienten.",children:"Adminanmeldung"}),V.jsx("br",{}),V.jsx("br",{}),V.jsx("strong",{children:"Einsatzkrfte:"})," Nutzen Sie Ihren QR-Code fr die Anmeldung."]}),V.jsx("div",{className:"actions",children:V.jsx("div",{id:"reader",title:"Scannen Sie Ihren QR-Code, um sich als Einsatzkraft zu registrieren."})}),e&&V.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera ber die Einstellungen."}),n&&V.jsx(M0,{to:"/RoleSelection"})]})}function _6(){return V.jsx("div",{children:"404 - Page Not Found"})}function b6(){const{token:e}=ui();return e?V.jsx(M0,{to:"/RoleSelection"}):V.jsx(M0,{to:"/qrAuthenticator"})}function A6(){const[e,t]=Te.useState("");Te.useState(""),Te.useState("");const{token:n,setToken:i}=ui(),[a,l]=Te.useState(""),h=Lo(),[m,g]=Te.useState(!0),[v,_]=Te.useState([]),A=O=>{const R=O.target.value;l(R)},I=O=>{t(O.target.value)},E=O=>{switch(O.preventDefault(),e.toUpperCase()){case"TRIAGE":h("/ScanPatient",{state:{operationScene:a}});break;case"LEITSTELLE":h("/SituationRoomTable",{state:{operationScene:a}});break;default:h("/NotFound");break}};return Te.useEffect(()=>{(async()=>{try{const R=await fetch("/api/getAllCurrentOperationScenes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!R.ok)throw new Error("Network response was not ok");const z=await R.json();if(z.error&&z.error.toUpperCase()==="UNAUTHORIZED"){h("/AdminLandingPage");return}_(z),g(!1)}catch(R){console.error("Einsatzort konnte nicht geladen werden:",R)}})()},[]),V.jsx("div",{children:m?V.jsx("p",{children:"Lade bestehende Einsatzorte..."}):V.jsxs("div",{children:[V.jsx("h3",{children:"Willkommen bei der Rolenauswahl"}),V.jsx("h4",{children:"Sie sind im Einsatz fr"}),V.jsxs("select",{value:a,onChange:A,style:{textAlign:"center"},children:[V.jsx("option",{value:"",children:"Whle einen Einsatzort aus"}),v.map(O=>V.jsx("option",{value:JSON.stringify(O),children:O.name},O.idoperationScene))]}),V.jsx("p",{children:"in Funktion als"}),V.jsxs("select",{value:e,onChange:I,style:{textAlign:"center"},children:[V.jsx("option",{value:"",children:"Rolle auswhlen"}),V.jsx("option",{value:"Triage",children:"Triage"}),V.jsx("option",{value:"Leitstelle",children:"Leitstelle"})]}),V.jsx("form",{onSubmit:E,style:{position:"absolute",bottom:"50px",left:"0",width:"100%",textAlign:"center",padding:"0"},children:V.jsx("button",{type:"submit",children:"Besttigen"})})]})})}function C6(){var I;const e=Vs(),[t,n]=Te.useState(!1);Te.useState(!1);const[i,a]=Te.useState(null),{token:l,setToken:h}=ui(),m=(I=e.state)==null?void 0:I.operationScene,g=Lo();let v;Te.useEffect(()=>{if(!(v!=null&&v.getState())){const E={fps:5,qrbox:{width:200,height:200}};v=new rx("reader"),v.start({facingMode:"environment"},E,_).catch(O=>{n(!0),console.warn(`Code scan error = ${O}`)})}},[]);const _=(E,O)=>{A(E)};Te.useEffect(()=>{const E=O=>{v.stop()};return window.addEventListener("beforeunload",E),()=>{window.removeEventListener("beforeunload",E)}},[]);function A(E,O){fetch("/api/verify-patient-qr-code",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({qr_code:E,operationScene:m})}).then(R=>{if(!R.ok){if(data.error&&data.error.toUpperCase()==="UNAUTHORIZED"){g("/AdminLandingPage");return}throw new Error("Netzwerkantwort war nicht ok")}return R.json()}).then(R=>{R.patientId?(v.stop(),a(R.patientId),g("/TriagePage1",{state:{patientId:R.patientId,operationScene:m}})):console.error("Ungltiger QR-Code oder Fehler bei der Erstellung des Patienten")}).catch(R=>{console.error("Fehler beim Senden des QR-Codes",R)})}return V.jsxs("div",{children:[V.jsx("h2",{children:"Bitte einen Patienten QR-Code scannen"}),V.jsx("div",{id:"reader"}),t?V.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera ber die Einstellungen."}):""]})}function E6(){var j,$;const{token:e,setToken:t}=ui(),n=Lo(),i=Vs(),[a,l]=Te.useState(!1),[h,m]=Te.useState(!1),g=(j=i.state)==null?void 0:j.patientId,v=($=i.state)==null?void 0:$.operationScene,[_,A]=Te.useState({loaded:!1,coordinates:{lat:"",lng:""},error:null});Te.useEffect(()=>{let de=!0;return navigator.geolocation?navigator.geolocation.getCurrentPosition(ne=>{de&&A({loaded:!0,coordinates:{lat:ne.coords.latitude,lng:ne.coords.longitude},error:null})},ne=>{de&&A(re=>({...re,loaded:!0,error:ne}))}):de&&A(ne=>({...ne,loaded:!0,error:{message:"Geolocation is not supported by your browser"}})),()=>{de=!1}},[]);const I=async de=>{if(!g){console.error("Keine Patienten-ID verfgbar");return}if(!_.loaded||_.error){console.error("Koordinaten sind nicht verfgbar.");return}const ne={triageColor:de,lat:_.coordinates.lat,lng:_.coordinates.lng};try{const re=await fetch(`/api/persons/${g}/update-triage-color`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(ne)});if(!re.ok)throw new Error("Serverantwort war nicht ok");const te=await re.json();console.log(te.message)}catch(re){console.error("Fehler beim Aktualisieren der Triagefarbe:",re)}},E=()=>{l(!0),I("grn")},O=()=>{m(!0),I("schwarz")},R=()=>{n("/TriagePage2",{state:{patientId:g,operationScene:v}})},z=()=>{n("/ScanPatient",{state:{operationScene:v}})},M=()=>{n("/ShowBodyFront",{state:{patientId:g}})};function k(){if(!h&&!a)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",g]}),V.jsxs("div",{children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[V.jsx("button",{onClick:E,children:"Patient gehfhig (ohne weitere Verletzungen)"}),V.jsx("button",{onClick:R,children:"Patient nicht gehfhig (und/oder weitere Verletzungen)"})]}),V.jsx("button",{onClick:O,style:{width:"90%",height:"5rem"},children:"eindeutiges Todeszeichen"})]}),V.jsx("div",{style:{justifyContent:"space-between",gap:"10px",marginTop:"50px"}})]});if(a)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",g]}),V.jsx("p",{style:{border:"2px solid green",padding:"2%",display:"inline-block",color:"green"},children:"Patient wurde mit der Kategorie GRN versehen"}),V.jsx("button",{onClick:z,children:"Nchsten Patienten laden"})]});if(h)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",g]}),V.jsx("p",{style:{border:"2px solid #000",margin:"5%",padding:"2%",display:"inline-block"},children:"Patient wurde mit der Kategorie SCHWARZ versehen"}),V.jsx("button",{onClick:z,children:"Nchsten Patienten laden"})]})}return V.jsxs("div",{children:[k(),V.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:M,children:""}),V.jsx("h4",{children:"GPS Koordinaten:"}),V.jsxs("p",{children:["Laden: ",_.loaded?"Erfolgreich":"Ldt..."]}),_.loaded&&!_.error&&V.jsxs("div",{children:[V.jsxs("p",{children:["Breitengrad: ",_.coordinates.lat]}),V.jsxs("p",{children:["Lngengrad: ",_.coordinates.lng]})]}),_.error&&V.jsx("div",{children:V.jsxs("p",{children:["Fehler: ",_.error.message]})})]})}function S6(){var z,M;const{token:e,setToken:t}=ui(),n=Lo(),i=Vs(),[a,l]=Te.useState(!1),h=(z=i.state)==null?void 0:z.patientId,m=(M=i.state)==null?void 0:M.operationScene,[g,v]=Te.useState({loaded:!1,coordinates:{lat:"",lng:""},error:null});Te.useEffect(()=>{let k=!0;return navigator.geolocation?navigator.geolocation.getCurrentPosition(j=>{k&&v({loaded:!0,coordinates:{lat:j.coords.latitude,lng:j.coords.longitude},error:null})},j=>{k&&v($=>({...$,loaded:!0,error:j}))}):k&&v(j=>({...j,loaded:!0,error:{message:"Geolocation is not supported by your browser"}})),()=>{k=!1}},[]);const _=async k=>{if(!h){console.error("Keine Patienten-ID verfgbar");return}if(!g.loaded||g.error){console.error("Koordinaten sind nicht verfgbar.");return}const j={triageColor:k,lat:g.coordinates.lat,lng:g.coordinates.lng,respiration:!1};try{const $=await fetch(`/api/persons/${h}/update-triage-color`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(j)});if(!$.ok)throw new Error("Serverantwort war nicht ok");const de=await $.json();console.log(de.message)}catch($){console.error("Fehler beim Aktualisieren der Triagefarbe:",$)}},A=()=>{l(!0),_("rot")},I=async()=>{const k={lat:g.coordinates.lat,lng:g.coordinates.lng,respiration:!0};try{const j=await fetch(`/api/persons/${h}/respiration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(k)});if(!j.ok)throw new Error("Serverantwort war nicht ok");const $=await j.json();console.log($.message)}catch(j){console.error("Fehler beim Aktualisieren der Atmung:",j)}n("/TriagePage3",{state:{patientId:h,operationScene:m}})},E=()=>{n("/ScanPatient",{state:{operationScene:m}})};function O(){if(a){if(a)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",h," ",V.jsx("br",{})," nicht gehfhig"]}),V.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),V.jsx("button",{onClick:E,children:"Nchsten Patienten laden"})]})}else return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",h," ",V.jsx("br",{})," nicht gehfhig"]}),V.jsx("div",{children:V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[V.jsx("button",{onClick:I,children:"Atmung suffizient"}),V.jsx("button",{onClick:A,children:"Atmung nicht suffizient"})]})})]})}const R=()=>{n("/ShowBodyFront",{state:{patientId:h}})};return V.jsxs("div",{children:[O(),V.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:R,children:""})]})}function N6(){var k,j;const{token:e,setToken:t}=ui(),n=Lo(),i=Vs(),[a,l]=Te.useState(!1),[h,m]=Te.useState(!1),g=(k=i.state)==null?void 0:k.patientId,v=(j=i.state)==null?void 0:j.operationScene,[_,A]=Te.useState({loaded:!1,coordinates:{lat:"",lng:""},error:null});Te.useEffect(()=>{let $=!0;return navigator.geolocation?navigator.geolocation.getCurrentPosition(de=>{$&&A({loaded:!0,coordinates:{lat:de.coords.latitude,lng:de.coords.longitude},error:null})},de=>{$&&A(ne=>({...ne,loaded:!0,error:de}))}):$&&A(de=>({...de,loaded:!0,error:{message:"Geolocation is not supported by your browser"}})),()=>{$=!1}},[]);const I=async $=>{if(!g){console.error("Keine Patienten-ID verfgbar");return}if(!_.loaded||_.error){console.error("Koordinaten sind nicht verfgbar.");return}var de;switch($){case"rot":de={triageColor:$,lat:_.coordinates.lat,lng:_.coordinates.lng,bloodStopable:!1};break;case"gelb":de={triageColor:$,lat:_.coordinates.lat,lng:_.coordinates.lng,bloodStopable:!0};break;default:de={triageColor:$,lat:_.coordinates.lat,lng:_.coordinates.lng}}try{const ne=await fetch(`/api/persons/${g}/update-triage-color`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(de)});if(!ne.ok)throw new Error("Serverantwort war nicht ok");const re=await ne.json();console.log(re.message)}catch(ne){console.error("Fehler beim Aktualisieren der Triagefarbe:",ne)}},E=()=>{l(!0),I("rot")},O=()=>{m(!0),I("gelb")},R=()=>{n("/ScanPatient",{state:{operationScene:v}})};function z(){if(!a&&!h)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",g," ",V.jsx("br",{})," nicht gehfhig ",V.jsx("br",{})," ","Atmung suffizient"]}),V.jsx("div",{children:V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[V.jsx("button",{onClick:O,children:"Blutung Stillbar"}),V.jsx("button",{onClick:E,children:"Blutung nicht stillbar"})]})})]});if(a)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",g," ",V.jsx("br",{})," nicht gehfhig ",V.jsx("br",{})," ","Atmung"]}),V.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),V.jsx("button",{onClick:R,children:"Nchsten Patienten laden"})]});if(h)return V.jsxs("div",{children:[V.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ID: ",g," ",V.jsx("br",{})," nicht gehfhig ",V.jsx("br",{})," ","Atmung"]}),V.jsx("p",{style:{border:"2px solid yellow",margin:"5%",padding:"2%",display:"inline-block",color:"yellow"},children:"Patient wurde mit der Kategorie Gelb versehen"}),V.jsx("button",{onClick:R,children:"Nchsten Patienten laden"})]})}const M=()=>{n("/ShowBodyFront",{state:{patientId:g}})};return V.jsxs("div",{children:[z(),V.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:M,children:""})]})}var F0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(lu,function(n){var i="1.9.4";function a(s){var d,w,T,F;for(w=1,T=arguments.length;w<T;w++){F=arguments[w];for(d in F)s[d]=F[d]}return s}var l=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function h(s,d){var w=Array.prototype.slice;if(s.bind)return s.bind.apply(s,w.call(arguments,1));var T=w.call(arguments,2);return function(){return s.apply(d,T.length?T.concat(w.call(arguments)):arguments)}}var m=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++m),s._leaflet_id}function v(s,d,w){var T,F,Q,_e;return _e=function(){T=!1,F&&(Q.apply(w,F),F=!1)},Q=function(){T?F=arguments:(s.apply(w,arguments),setTimeout(_e,d),T=!0)},Q}function _(s,d,w){var T=d[1],F=d[0],Q=T-F;return s===T&&w?s:((s-F)%Q+Q)%Q+F}function A(){return!1}function I(s,d){if(d===!1)return s;var w=Math.pow(10,d===void 0?6:d);return Math.round(s*w)/w}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function O(s){return E(s).split(/\s+/)}function R(s,d){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var w in d)s.options[w]=d[w];return s.options}function z(s,d,w){var T=[];for(var F in s)T.push(encodeURIComponent(w?F.toUpperCase():F)+"="+encodeURIComponent(s[F]));return(!d||d.indexOf("?")===-1?"?":"&")+T.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function k(s,d){return s.replace(M,function(w,T){var F=d[T];if(F===void 0)throw new Error("No value provided for variable "+w);return typeof F=="function"&&(F=F(d)),F})}var j=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function $(s,d){for(var w=0;w<s.length;w++)if(s[w]===d)return w;return-1}var de="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ne(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var re=0;function te(s){var d=+new Date,w=Math.max(0,16-(d-re));return re=d+w,window.setTimeout(s,w)}var se=window.requestAnimationFrame||ne("RequestAnimationFrame")||te,Le=window.cancelAnimationFrame||ne("CancelAnimationFrame")||ne("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function J(s,d,w){if(w&&se===te)s.call(d);else return se.call(window,h(s,d))}function Y(s){s&&Le.call(window,s)}var ye={__proto__:null,extend:a,create:l,bind:h,get lastId(){return m},stamp:g,throttle:v,wrapNum:_,falseFn:A,formatNum:I,trim:E,splitWords:O,setOptions:R,getParamString:z,template:k,isArray:j,indexOf:$,emptyImageUrl:de,requestFn:se,cancelFn:Le,requestAnimFrame:J,cancelAnimFrame:Y};function me(){}me.extend=function(s){var d=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=d.__super__=this.prototype,T=l(w);T.constructor=d,d.prototype=T;for(var F in this)Object.prototype.hasOwnProperty.call(this,F)&&F!=="prototype"&&F!=="__super__"&&(d[F]=this[F]);return s.statics&&a(d,s.statics),s.includes&&(ge(s.includes),a.apply(null,[T].concat(s.includes))),a(T,s),delete T.statics,delete T.includes,T.options&&(T.options=w.options?l(w.options):{},a(T.options,s.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var Q=0,_e=T._initHooks.length;Q<_e;Q++)T._initHooks[Q].call(this)}},d},me.include=function(s){var d=this.prototype.options;return a(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},me.mergeOptions=function(s){return a(this.prototype.options,s),this},me.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),w=typeof s=="function"?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ge(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=j(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Me={on:function(s,d,w){if(typeof s=="object")for(var T in s)this._on(T,s[T],d);else{s=O(s);for(var F=0,Q=s.length;F<Q;F++)this._on(s[F],d,w)}return this},off:function(s,d,w){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var T in s)this._off(T,s[T],d);else{s=O(s);for(var F=arguments.length===1,Q=0,_e=s.length;Q<_e;Q++)F?this._off(s[Q]):this._off(s[Q],d,w)}return this},_on:function(s,d,w,T){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(s,d,w)===!1){w===this&&(w=void 0);var F={fn:d,ctx:w};T&&(F.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(F)}},_off:function(s,d,w){var T,F,Q;if(this._events&&(T=this._events[s],!!T)){if(arguments.length===1){if(this._firingCount)for(F=0,Q=T.length;F<Q;F++)T[F].fn=A;delete this._events[s];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var _e=this._listens(s,d,w);if(_e!==!1){var Ue=T[_e];this._firingCount&&(Ue.fn=A,this._events[s]=T=T.slice()),T.splice(_e,1)}}},fire:function(s,d,w){if(!this.listens(s,w))return this;var T=a({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var F=this._events[s];if(F){this._firingCount=this._firingCount+1||1;for(var Q=0,_e=F.length;Q<_e;Q++){var Ue=F[Q],Ye=Ue.fn;Ue.once&&this.off(s,Ye,Ue.ctx),Ye.call(Ue.ctx||this,T)}this._firingCount--}}return w&&this._propagateEvent(T),this},listens:function(s,d,w,T){typeof s!="string"&&console.warn('"string" type argument expected');var F=d;typeof d!="function"&&(T=!!d,F=void 0,w=void 0);var Q=this._events&&this._events[s];if(Q&&Q.length&&this._listens(s,F,w)!==!1)return!0;if(T){for(var _e in this._eventParents)if(this._eventParents[_e].listens(s,d,w,T))return!0}return!1},_listens:function(s,d,w){if(!this._events)return!1;var T=this._events[s]||[];if(!d)return!!T.length;w===this&&(w=void 0);for(var F=0,Q=T.length;F<Q;F++)if(T[F].fn===d&&T[F].ctx===w)return F;return!1},once:function(s,d,w){if(typeof s=="object")for(var T in s)this._on(T,s[T],d,!0);else{s=O(s);for(var F=0,Q=s.length;F<Q;F++)this._on(s[F],d,w,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,a({layer:s.target,propagatedFrom:s.target},s),!0)}};Me.addEventListener=Me.on,Me.removeEventListener=Me.clearAllEventListeners=Me.off,Me.addOneTimeEventListener=Me.once,Me.fireEvent=Me.fire,Me.hasEventListeners=Me.listens;var Ie=me.extend(Me);function pe(s,d,w){this.x=w?Math.round(s):s,this.y=w?Math.round(d):d}var Re=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(s){return this.clone()._add(Ce(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Ce(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pe(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pe(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(s){s=Ce(s);var d=s.x-this.x,w=s.y-this.y;return Math.sqrt(d*d+w*w)},equals:function(s){return s=Ce(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Ce(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function Ce(s,d,w){return s instanceof pe?s:j(s)?new pe(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pe(s.x,s.y):new pe(s,d,w)}function nt(s,d){if(s)for(var w=d?[s,d]:s,T=0,F=w.length;T<F;T++)this.extend(w[T])}nt.prototype={extend:function(s){var d,w;if(!s)return this;if(s instanceof pe||typeof s[0]=="number"||"x"in s)d=w=Ce(s);else if(s=W(s),d=s.min,w=s.max,!d||!w)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=w.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(s){return Ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Ce(this.min.x,this.max.y)},getTopRight:function(){return Ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,w;return typeof s[0]=="number"||s instanceof pe?s=Ce(s):s=W(s),s instanceof nt?(d=s.min,w=s.max):d=w=s,d.x>=this.min.x&&w.x<=this.max.x&&d.y>=this.min.y&&w.y<=this.max.y},intersects:function(s){s=W(s);var d=this.min,w=this.max,T=s.min,F=s.max,Q=F.x>=d.x&&T.x<=w.x,_e=F.y>=d.y&&T.y<=w.y;return Q&&_e},overlaps:function(s){s=W(s);var d=this.min,w=this.max,T=s.min,F=s.max,Q=F.x>d.x&&T.x<w.x,_e=F.y>d.y&&T.y<w.y;return Q&&_e},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var d=this.min,w=this.max,T=Math.abs(d.x-w.x)*s,F=Math.abs(d.y-w.y)*s;return W(Ce(d.x-T,d.y-F),Ce(w.x+T,w.y+F))},equals:function(s){return s?(s=W(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function W(s,d){return!s||s instanceof nt?s:new nt(s,d)}function ae(s,d){if(s)for(var w=d?[s,d]:s,T=0,F=w.length;T<F;T++)this.extend(w[T])}ae.prototype={extend:function(s){var d=this._southWest,w=this._northEast,T,F;if(s instanceof xe)T=s,F=s;else if(s instanceof ae){if(T=s._southWest,F=s._northEast,!T||!F)return this}else return s?this.extend(he(s)||le(s)):this;return!d&&!w?(this._southWest=new xe(T.lat,T.lng),this._northEast=new xe(F.lat,F.lng)):(d.lat=Math.min(T.lat,d.lat),d.lng=Math.min(T.lng,d.lng),w.lat=Math.max(F.lat,w.lat),w.lng=Math.max(F.lng,w.lng)),this},pad:function(s){var d=this._southWest,w=this._northEast,T=Math.abs(d.lat-w.lat)*s,F=Math.abs(d.lng-w.lng)*s;return new ae(new xe(d.lat-T,d.lng-F),new xe(w.lat+T,w.lng+F))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof xe||"lat"in s?s=he(s):s=le(s);var d=this._southWest,w=this._northEast,T,F;return s instanceof ae?(T=s.getSouthWest(),F=s.getNorthEast()):T=F=s,T.lat>=d.lat&&F.lat<=w.lat&&T.lng>=d.lng&&F.lng<=w.lng},intersects:function(s){s=le(s);var d=this._southWest,w=this._northEast,T=s.getSouthWest(),F=s.getNorthEast(),Q=F.lat>=d.lat&&T.lat<=w.lat,_e=F.lng>=d.lng&&T.lng<=w.lng;return Q&&_e},overlaps:function(s){s=le(s);var d=this._southWest,w=this._northEast,T=s.getSouthWest(),F=s.getNorthEast(),Q=F.lat>d.lat&&T.lat<w.lat,_e=F.lng>d.lng&&T.lng<w.lng;return Q&&_e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return s?(s=le(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(s,d){return s instanceof ae?s:new ae(s,d)}function xe(s,d,w){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,w!==void 0&&(this.alt=+w)}xe.prototype={equals:function(s,d){if(!s)return!1;s=he(s);var w=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return w<=(d===void 0?1e-9:d)},toString:function(s){return"LatLng("+I(this.lat,s)+", "+I(this.lng,s)+")"},distanceTo:function(s){return je.distance(this,he(s))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,w=d/Math.cos(Math.PI/180*this.lat);return le([this.lat-d,this.lng-w],[this.lat+d,this.lng+w])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function he(s,d,w){return s instanceof xe?s:j(s)&&typeof s[0]!="object"?s.length===3?new xe(s[0],s[1],s[2]):s.length===2?new xe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new xe(s.lat,"lng"in s?s.lng:s.lon,s.alt):d===void 0?null:new xe(s,d,w)}var Fe={latLngToPoint:function(s,d){var w=this.projection.project(s),T=this.scale(d);return this.transformation._transform(w,T)},pointToLatLng:function(s,d){var w=this.scale(d),T=this.transformation.untransform(s,w);return this.projection.unproject(T)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,w=this.scale(s),T=this.transformation.transform(d.min,w),F=this.transformation.transform(d.max,w);return new nt(T,F)},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,w=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,T=s.alt;return new xe(w,d,T)},wrapLatLngBounds:function(s){var d=s.getCenter(),w=this.wrapLatLng(d),T=d.lat-w.lat,F=d.lng-w.lng;if(T===0&&F===0)return s;var Q=s.getSouthWest(),_e=s.getNorthEast(),Ue=new xe(Q.lat-T,Q.lng-F),Ye=new xe(_e.lat-T,_e.lng-F);return new ae(Ue,Ye)}},je=a({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var w=Math.PI/180,T=s.lat*w,F=d.lat*w,Q=Math.sin((d.lat-s.lat)*w/2),_e=Math.sin((d.lng-s.lng)*w/2),Ue=Q*Q+Math.cos(T)*Math.cos(F)*_e*_e,Ye=2*Math.atan2(Math.sqrt(Ue),Math.sqrt(1-Ue));return this.R*Ye}}),qe=6378137,yt={R:qe,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,w=this.MAX_LATITUDE,T=Math.max(Math.min(w,s.lat),-w),F=Math.sin(T*d);return new pe(this.R*s.lng*d,this.R*Math.log((1+F)/(1-F))/2)},unproject:function(s){var d=180/Math.PI;return new xe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:function(){var s=qe*Math.PI;return new nt([-s,-s],[s,s])}()};function it(s,d,w,T){if(j(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=d,this._c=w,this._d=T}it.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return d=d||1,s.x=d*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return d=d||1,new pe((s.x/d-this._b)/this._a,(s.y/d-this._d)/this._c)}};function bt(s,d,w,T){return new it(s,d,w,T)}var lt=a({},je,{code:"EPSG:3857",projection:yt,transformation:function(){var s=.5/(Math.PI*yt.R);return bt(s,.5,-s,.5)}()}),Yt=a({},lt,{code:"EPSG:900913"});function Xe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function we(s,d){var w="",T,F,Q,_e,Ue,Ye;for(T=0,Q=s.length;T<Q;T++){for(Ue=s[T],F=0,_e=Ue.length;F<_e;F++)Ye=Ue[F],w+=(F?"L":"M")+Ye.x+" "+Ye.y;w+=d?Ke.svg?"z":"x":""}return w||"M0 0"}var Ut=document.documentElement.style,wt="ActiveXObject"in window,rt=wt&&!document.addEventListener,At="msLaunchUri"in navigator&&!("documentMode"in document),Je=ft("webkit"),St=ft("android"),Ft=ft("android 2")||ft("android 3"),Zt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),un=St&&ft("Google")&&Zt<537&&!("AudioNode"in window),Qt=!!window.opera,xn=!At&&ft("chrome"),cn=ft("gecko")&&!Je&&!Qt&&!wt,zt=!xn&&ft("safari"),wn=ft("phantom"),It="OTransition"in Ut,hr=navigator.platform.indexOf("Win")===0,Kt=wt&&"transition"in Ut,xt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ft,nn="MozPerspective"in Ut,$t=!window.L_DISABLE_3D&&(Kt||xt||nn)&&!It&&!wn,kn=typeof orientation<"u"||ft("mobile"),Ln=kn&&Je,no=kn&&xt,or=!window.PointerEvent&&window.MSPointerEvent,hn=!!(window.PointerEvent||or),ti="ontouchstart"in window||!!window.TouchEvent,cr=!window.L_NO_TOUCH&&(ti||hn),ln=kn&&Qt,_n=kn&&cn,Ri=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bn=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",A,d),window.removeEventListener("testPassiveEventSupport",A,d)}catch{}return s}(),ci=function(){return!!document.createElement("canvas").getContext}(),hi=!!(document.createElementNS&&Xe("svg").createSVGRect),ve=!!hi&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Oe=!hi&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),He=navigator.platform.indexOf("Mac")===0,st=navigator.platform.indexOf("Linux")===0;function ft(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ke={ie:wt,ielt9:rt,edge:At,webkit:Je,android:St,android23:Ft,androidStock:un,opera:Qt,chrome:xn,gecko:cn,safari:zt,phantom:wn,opera12:It,win:hr,ie3d:Kt,webkit3d:xt,gecko3d:nn,any3d:$t,mobile:kn,mobileWebkit:Ln,mobileWebkit3d:no,msPointer:or,pointer:hn,touch:cr,touchNative:ti,mobileOpera:ln,mobileGecko:_n,retina:Ri,passiveEvents:Bn,canvas:ci,svg:hi,vml:Oe,inlineSvg:ve,mac:He,linux:st},Ot=Ke.msPointer?"MSPointerDown":"pointerdown",Qe=Ke.msPointer?"MSPointerMove":"pointermove",Lt=Ke.msPointer?"MSPointerUp":"pointerup",Nt=Ke.msPointer?"MSPointerCancel":"pointercancel",Et={touchstart:Ot,touchmove:Qe,touchend:Lt,touchcancel:Nt},Jt={touchstart:Oi,touchmove:Zr,touchend:Zr,touchcancel:Zr},en={},Wn=!1;function fn(s,d,w){return d==="touchstart"&&Pn(),Jt[d]?(w=Jt[d].bind(this,w),s.addEventListener(Et[d],w,!1),w):(console.warn("wrong event specified:",d),A)}function Tn(s,d,w){if(!Et[d]){console.warn("wrong event specified:",d);return}s.removeEventListener(Et[d],w,!1)}function Qn(s){en[s.pointerId]=s}function Lr(s){en[s.pointerId]&&(en[s.pointerId]=s)}function sr(s){delete en[s.pointerId]}function Pn(){Wn||(document.addEventListener(Ot,Qn,!0),document.addEventListener(Qe,Lr,!0),document.addEventListener(Lt,sr,!0),document.addEventListener(Nt,sr,!0),Wn=!0)}function Zr(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var w in en)d.touches.push(en[w]);d.changedTouches=[d],s(d)}}function Oi(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Mr(d),Zr(s,d)}function yo(s){var d={},w,T;for(T in s)w=s[T],d[T]=w&&w.bind?w.bind(s):w;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var ot=200;function Wo(s,d){s.addEventListener("dblclick",d);var w=0,T;function F(Q){if(Q.detail!==1){T=Q.detail;return}if(!(Q.pointerType==="mouse"||Q.sourceCapabilities&&!Q.sourceCapabilities.firesTouchEvents)){var _e=Gi(Q);if(!(_e.some(function(Ye){return Ye instanceof HTMLLabelElement&&Ye.attributes.for})&&!_e.some(function(Ye){return Ye instanceof HTMLInputElement||Ye instanceof HTMLSelectElement}))){var Ue=Date.now();Ue-w<=ot?(T++,T===2&&d(yo(Q))):T=1,w=Ue}}}return s.addEventListener("click",F),{dblclick:d,simDblclick:F}}function Jn(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}var mn=ze(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yn=ze(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Cn=Yn==="webkitTransition"||Yn==="OTransition"?Yn+"End":"transitionend";function Sn(s){return typeof s=="string"?document.getElementById(s):s}function jt(s,d){var w=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!w||w==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(s,null);w=T?T[d]:null}return w==="auto"?null:w}function bn(s,d,w){var T=document.createElement(s);return T.className=d||"",w&&w.appendChild(T),T}function rn(s){var d=s.parentNode;d&&d.removeChild(s)}function xo(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ar(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function bi(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function Cs(s,d){if(s.classList!==void 0)return s.classList.contains(d);var w=Tr(s);return w.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(w)}function Wt(s,d){if(s.classList!==void 0)for(var w=O(d),T=0,F=w.length;T<F;T++)s.classList.add(w[T]);else if(!Cs(s,d)){var Q=Tr(s);ss(s,(Q?Q+" ":"")+d)}}function Rn(s,d){s.classList!==void 0?s.classList.remove(d):ss(s,E((" "+Tr(s)+" ").replace(" "+d+" "," ")))}function ss(s,d){s.className.baseVal===void 0?s.className=d:s.className.baseVal=d}function Tr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function En(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&Xr(s,d)}function Xr(s,d){var w=!1,T="DXImageTransform.Microsoft.Alpha";try{w=s.filters.item(T)}catch{if(d===1)return}d=Math.round(d*100),w?(w.Enabled=d!==100,w.Opacity=d):s.style.filter+=" progid:"+T+"(opacity="+d+")"}function ze(s){for(var d=document.documentElement.style,w=0;w<s.length;w++)if(s[w]in d)return s[w];return!1}function oe(s,d,w){var T=d||new pe(0,0);s.style[mn]=(Ke.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(w?" scale("+w+")":"")}function Tt(s,d){s._leaflet_pos=d,Ke.any3d?oe(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function lr(s){return s._leaflet_pos||new pe(0,0)}var ni,Vo,Es;if("onselectstart"in document)ni=function(){on(window,"selectstart",Mr)},Vo=function(){Ct(window,"selectstart",Mr)};else{var ri=ze(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ni=function(){if(ri){var s=document.documentElement.style;Es=s[ri],s[ri]="none"}},Vo=function(){ri&&(document.documentElement.style[ri]=Es,Es=void 0)}}function Xt(){on(window,"dragstart",Mr)}function Vn(){Ct(window,"dragstart",Mr)}var To,as;function ls(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Pr(),To=s,as=s.style.outlineStyle,s.style.outlineStyle="none",on(window,"keydown",Pr))}function Pr(){To&&(To.style.outlineStyle=as,To=void 0,as=void 0,Ct(window,"keydown",Pr))}function Zs(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Xs(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var Vt={__proto__:null,TRANSFORM:mn,TRANSITION:Yn,TRANSITION_END:Cn,get:Sn,getStyle:jt,create:bn,remove:rn,empty:xo,toFront:ar,toBack:bi,hasClass:Cs,addClass:Wt,removeClass:Rn,setClass:ss,getClass:Tr,setOpacity:En,testProp:ze,setTransform:oe,setPosition:Tt,getPosition:lr,get disableTextSelection(){return ni},get enableTextSelection(){return Vo},disableImageDrag:Xt,enableImageDrag:Vn,preventOutline:ls,restoreOutline:Pr,getSizedParentNode:Zs,getScale:Xs};function on(s,d,w,T){if(d&&typeof d=="object")for(var F in d)_r(s,F,d[F],w);else{d=O(d);for(var Q=0,_e=d.length;Q<_e;Q++)_r(s,d[Q],w,T)}return this}var Yr="_leaflet_events";function Ct(s,d,w,T){if(arguments.length===1)fa(s),delete s[Yr];else if(d&&typeof d=="object")for(var F in d)Ss(s,F,d[F],w);else if(d=O(d),arguments.length===2)fa(s,function(Ue){return $(d,Ue)!==-1});else for(var Q=0,_e=d.length;Q<_e;Q++)Ss(s,d[Q],w,T);return this}function fa(s,d){for(var w in s[Yr]){var T=w.split(/\d/)[0];(!d||d(T))&&Ss(s,T,null,null,w)}}var vn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _r(s,d,w,T){var F=d+g(w)+(T?"_"+g(T):"");if(s[Yr]&&s[Yr][F])return this;var Q=function(Ue){return w.call(T||s,Ue||window.event)},_e=Q;!Ke.touchNative&&Ke.pointer&&d.indexOf("touch")===0?Q=fn(s,d,Q):Ke.touch&&d==="dblclick"?Q=Wo(s,Q):"addEventListener"in s?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?s.addEventListener(vn[d]||d,Q,Ke.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(Q=function(Ue){Ue=Ue||window.event,ro(s,Ue)&&_e(Ue)},s.addEventListener(vn[d],Q,!1)):s.addEventListener(d,_e,!1):s.attachEvent("on"+d,Q),s[Yr]=s[Yr]||{},s[Yr][F]=Q}function Ss(s,d,w,T,F){F=F||d+g(w)+(T?"_"+g(T):"");var Q=s[Yr]&&s[Yr][F];if(!Q)return this;!Ke.touchNative&&Ke.pointer&&d.indexOf("touch")===0?Tn(s,d,Q):Ke.touch&&d==="dblclick"?Jn(s,Q):"removeEventListener"in s?s.removeEventListener(vn[d]||d,Q,!1):s.detachEvent("on"+d,Q),s[Yr][F]=null}function wo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ys(s){return _r(s,"wheel",wo),this}function qi(s){return on(s,"mousedown touchstart dblclick contextmenu",wo),s._leaflet_disable_click=!0,this}function Mr(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function fi(s){return Mr(s),wo(s),this}function Gi(s){if(s.composedPath)return s.composedPath();for(var d=[],w=s.target;w;)d.push(w),w=w.parentNode;return d}function us(s,d){if(!d)return new pe(s.clientX,s.clientY);var w=Xs(d),T=w.boundingClientRect;return new pe((s.clientX-T.left)/w.x-d.clientLeft,(s.clientY-T.top)/w.y-d.clientTop)}var cs=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Po(s){return Ke.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/cs:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ro(s,d){var w=d.relatedTarget;if(!w)return!0;try{for(;w&&w!==s;)w=w.parentNode}catch{return!1}return w!==s}var di={__proto__:null,on,off:Ct,stopPropagation:wo,disableScrollPropagation:Ys,disableClickPropagation:qi,preventDefault:Mr,stop:fi,getPropagationPath:Gi,getMousePosition:us,getWheelDelta:Po,isExternalTarget:ro,addListener:on,removeListener:Ct},Ks=Ie.extend({run:function(s,d,w,T){this.stop(),this._el=s,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=lr(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,w=this._duration*1e3;d<w?this._runFrame(this._easeOut(d/w),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var w=this._startPos.add(this._offset.multiplyBy(s));d&&w._round(),Tt(this._el,w),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),On=Ie.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=R(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(he(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yn&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),on(this._proxy,Cn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,w){if(d=d===void 0?this._zoom:this._limitZoom(d),s=this._limitCenter(he(s),d,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=a({animate:w.animate},w.zoom),w.pan=a({animate:w.animate,duration:w.duration},w.pan));var T=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,w.zoom):this._tryAnimatedPan(s,w.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(s,d,w.pan&&w.pan.noMoveStart),this},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return s=s||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,d)},zoomOut:function(s,d){return s=s||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,d)},setZoomAround:function(s,d,w){var T=this.getZoomScale(d),F=this.getSize().divideBy(2),Q=s instanceof pe?s:this.latLngToContainerPoint(s),_e=Q.subtract(F).multiplyBy(1-1/T),Ue=this.containerPointToLatLng(F.add(_e));return this.setView(Ue,d,{zoom:w})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():le(s);var w=Ce(d.paddingTopLeft||d.padding||[0,0]),T=Ce(d.paddingBottomRight||d.padding||[0,0]),F=this.getBoundsZoom(s,!1,w.add(T));if(F=typeof d.maxZoom=="number"?Math.min(d.maxZoom,F):F,F===1/0)return{center:s.getCenter(),zoom:F};var Q=T.subtract(w).divideBy(2),_e=this.project(s.getSouthWest(),F),Ue=this.project(s.getNorthEast(),F),Ye=this.unproject(_e.add(Ue).divideBy(2).add(Q),F);return{center:Ye,zoom:F}},fitBounds:function(s,d){if(s=le(s),!s.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(s,d);return this.setView(w.center,w.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(s=Ce(s).round(),d=d||{},!s.x&&!s.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,w,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,w){if(w=w||{},w.animate===!1||!Ke.any3d)return this.setView(s,d,w);this._stop();var T=this.project(this.getCenter()),F=this.project(s),Q=this.getSize(),_e=this._zoom;s=he(s),d=d===void 0?_e:d;var Ue=Math.max(Q.x,Q.y),Ye=Ue*this.getZoomScale(_e,d),gt=F.distanceTo(T)||1,Mt=1.42,tn=Mt*Mt;function zn(mr){var Qi=mr?-1:1,kd=mr?Ye:Ue,Rd=Ye*Ye-Ue*Ue+Qi*tn*tn*gt*gt,fh=2*kd*tn*gt,Jl=Rd/fh,Qu=Math.sqrt(Jl*Jl+1)-Jl,dh=Qu<1e-9?-18:Math.log(Qu);return dh}function Ki(mr){return(Math.exp(mr)-Math.exp(-mr))/2}function mi(mr){return(Math.exp(mr)+Math.exp(-mr))/2}function ko(mr){return Ki(mr)/mi(mr)}var ao=zn(0);function Oa(mr){return Ue*(mi(ao)/mi(ao+Mt*mr))}function Td(mr){return Ue*(mi(ao)*ko(ao+Mt*mr)-Ki(ao))/tn}function ea(mr){return 1-Math.pow(1-mr,1.5)}var Zo=Date.now(),ms=(zn(1)-ao)/Mt,Pd=w.duration?1e3*w.duration:1e3*ms*.8;function Ku(){var mr=(Date.now()-Zo)/Pd,Qi=ea(mr)*ms;mr<=1?(this._flyToFrame=J(Ku,this),this._move(this.unproject(T.add(F.subtract(T).multiplyBy(Td(Qi)/gt)),_e),this.getScaleZoom(Ue/Oa(Qi),_e),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),Ku.call(this),this},flyToBounds:function(s,d){var w=this._getBoundsCenterZoom(s,d);return this.flyTo(w.center,w.zoom,d)},setMaxBounds:function(s){return s=le(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var w=this.getCenter(),T=this._limitCenter(w,this._zoom,le(s));return w.equals(T)||this.panTo(T,d),this._enforcingBounds=!1,this},panInside:function(s,d){d=d||{};var w=Ce(d.paddingTopLeft||d.padding||[0,0]),T=Ce(d.paddingBottomRight||d.padding||[0,0]),F=this.project(this.getCenter()),Q=this.project(s),_e=this.getPixelBounds(),Ue=W([_e.min.add(w),_e.max.subtract(T)]),Ye=Ue.getSize();if(!Ue.contains(Q)){this._enforcingBounds=!0;var gt=Q.subtract(Ue.getCenter()),Mt=Ue.extend(Q).getSize().subtract(Ye);F.x+=gt.x<0?-Mt.x:Mt.x,F.y+=gt.y<0?-Mt.y:Mt.y,this.panTo(this.unproject(F),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=a({animate:!1,pan:!0},s===!0?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),T=d.divideBy(2).round(),F=w.divideBy(2).round(),Q=T.subtract(F);return!Q.x&&!Q.y?this:(s.animate&&s.pan?this.panBy(Q):(s.pan&&this._rawPanBy(Q),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=a({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=h(this._handleGeolocationResponse,this),w=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,w,s):navigator.geolocation.getCurrentPosition(d,w,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,w=s.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var d=s.coords.latitude,w=s.coords.longitude,T=new xe(d,w),F=T.toBounds(s.coords.accuracy*2),Q=this._locateOptions;if(Q.setView){var _e=this.getBoundsZoom(F);this.setView(T,Q.maxZoom?Math.min(_e,Q.maxZoom):_e)}var Ue={latlng:T,bounds:F,timestamp:s.timestamp};for(var Ye in s.coords)typeof s.coords[Ye]=="number"&&(Ue[Ye]=s.coords[Ye]);this.fire("locationfound",Ue)}},addHandler:function(s,d){if(!d)return this;var w=this[s]=new d(this);return this._handlers.push(w),this.options[s]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)rn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var w="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),T=bn("div",w,d||this._mapPane);return s&&(this._panes[s]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),d=this.unproject(s.getBottomLeft()),w=this.unproject(s.getTopRight());return new ae(d,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,w){s=le(s),w=Ce(w||[0,0]);var T=this.getZoom()||0,F=this.getMinZoom(),Q=this.getMaxZoom(),_e=s.getNorthWest(),Ue=s.getSouthEast(),Ye=this.getSize().subtract(w),gt=W(this.project(Ue,T),this.project(_e,T)).getSize(),Mt=Ke.any3d?this.options.zoomSnap:1,tn=Ye.x/gt.x,zn=Ye.y/gt.y,Ki=d?Math.max(tn,zn):Math.min(tn,zn);return T=this.getScaleZoom(Ki,T),Mt&&(T=Math.round(T/(Mt/100))*(Mt/100),T=d?Math.ceil(T/Mt)*Mt:Math.floor(T/Mt)*Mt),Math.max(F,Math.min(Q,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var w=this._getTopLeftPoint(s,d);return new nt(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var w=this.options.crs;return d=d===void 0?this._zoom:d,w.scale(s)/w.scale(d)},getScaleZoom:function(s,d){var w=this.options.crs;d=d===void 0?this._zoom:d;var T=w.zoom(s*w.scale(d));return isNaN(T)?1/0:T},project:function(s,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(he(s),d)},unproject:function(s,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(Ce(s),d)},layerPointToLatLng:function(s){var d=Ce(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){var d=this.project(he(s))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(he(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(le(s))},distance:function(s,d){return this.options.crs.distance(he(s),he(d))},containerPointToLayerPoint:function(s){return Ce(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Ce(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(Ce(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(s)))},mouseEventToContainerPoint:function(s){return us(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=Sn(s);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");on(d,"scroll",this._onScroll,this),this._containerId=g(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,Wt(s,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=jt(s,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(s.markerPane,"leaflet-zoom-hide"),Wt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,w){Tt(this._mapPane,new pe(0,0));var T=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var F=this._zoom!==d;this._moveStart(F,w)._move(s,d)._moveEnd(F),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,w,T){d===void 0&&(d=this._zoom);var F=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),T?w&&w.pinch&&this.fire("zoom",w):((F||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Tt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var d=s?Ct:on;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var w=[],T,F=d==="mouseout"||d==="mouseover",Q=s.target||s.srcElement,_e=!1;Q;){if(T=this._targets[g(Q)],T&&(d==="click"||d==="preclick")&&this._draggableMoved(T)){_e=!0;break}if(T&&T.listens(d,!0)&&(F&&!ro(Q,s)||(w.push(T),F))||Q===this._container)break;Q=Q.parentNode}return!w.length&&!_e&&!F&&this.listens(d,!0)&&(w=[this]),w},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(d))){var w=s.type;w==="mousedown"&&ls(d),this._fireDOMEvent(s,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,w){if(s.type==="click"){var T=a({},s);T.type="preclick",this._fireDOMEvent(T,T.type,w)}var F=this._findEventTargets(s,d);if(w){for(var Q=[],_e=0;_e<w.length;_e++)w[_e].listens(d,!0)&&Q.push(w[_e]);F=Q.concat(F)}if(F.length){d==="contextmenu"&&Mr(s);var Ue=F[0],Ye={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var gt=Ue.getLatLng&&(!Ue._radius||Ue._radius<=10);Ye.containerPoint=gt?this.latLngToContainerPoint(Ue.getLatLng()):this.mouseEventToContainerPoint(s),Ye.layerPoint=this.containerPointToLayerPoint(Ye.containerPoint),Ye.latlng=gt?Ue.getLatLng():this.layerPointToLatLng(Ye.layerPoint)}for(_e=0;_e<F.length;_e++)if(F[_e].fire(d,Ye,!0),Ye.originalEvent._stopped||F[_e].options.bubblingMouseEvents===!1&&$(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return lr(this._mapPane)||new pe(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){var w=s&&d!==void 0?this._getNewPixelOrigin(s,d):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var w=this.getSize()._divideBy(2);return this.project(s,d)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,w){var T=this._getNewPixelOrigin(w,d);return this.project(s,d)._subtract(T)},_latLngBoundsToNewLayerBounds:function(s,d,w){var T=this._getNewPixelOrigin(w,d);return W([this.project(s.getSouthWest(),d)._subtract(T),this.project(s.getNorthWest(),d)._subtract(T),this.project(s.getSouthEast(),d)._subtract(T),this.project(s.getNorthEast(),d)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,w){if(!w)return s;var T=this.project(s,d),F=this.getSize().divideBy(2),Q=new nt(T.subtract(F),T.add(F)),_e=this._getBoundsOffset(Q,w,d);return Math.abs(_e.x)<=1&&Math.abs(_e.y)<=1?s:this.unproject(T.add(_e),d)},_limitOffset:function(s,d){if(!d)return s;var w=this.getPixelBounds(),T=new nt(w.min.add(s),w.max.add(s));return s.add(this._getBoundsOffset(T,d))},_getBoundsOffset:function(s,d,w){var T=W(this.project(d.getNorthEast(),w),this.project(d.getSouthWest(),w)),F=T.min.subtract(s.min),Q=T.max.subtract(s.max),_e=this._rebound(F.x,-Q.x),Ue=this._rebound(F.y,-Q.y);return new pe(_e,Ue)},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),w=this.getMaxZoom(),T=Ke.any3d?this.options.zoomSnap:1;return T&&(s=Math.round(s/T)*T),Math.max(d,Math.min(w,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var w=this._getCenterOffset(s)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,d),!0)},_createAnimProxy:function(){var s=this._proxy=bn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var w=mn,T=this._proxy.style[w];oe(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),T===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();oe(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(d),F=this._getCenterOffset(s)._divideBy(1-1/T);return w.animate!==!0&&!this.getSize().contains(F)?!1:(J(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(s,d,!0)},this),!0)},_animateZoom:function(s,d,w,T){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function da(s,d){return new On(s,d)}var Hr=me.extend({options:{position:"topright"},initialize:function(s){R(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),w=this.getPosition(),T=s._controlCorners[w];return Wt(d,"leaflet-control"),w.indexOf("bottom")!==-1?T.insertBefore(d,T.firstChild):T.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Zi=function(s){return new Hr(s)};On.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",w=this._controlContainer=bn("div",d+"control-container",this._container);function T(F,Q){var _e=d+F+" "+d+Q;s[F+Q]=bn("div",_e,w)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)rn(this._controlCorners[s]);rn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pa=Hr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,w,T){return w<T?-1:T<w?1:0}},initialize:function(s,d,w){R(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in s)this._addLayer(s[T],T);for(T in d)this._addLayer(d[T],T,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Hr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(g(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=bn("div",s),w=this.options.collapsed;d.setAttribute("aria-haspopup",!0),qi(d),Ys(d);var T=this._section=bn("section",s+"-list");w&&(this._map.on("click",this.collapse,this),on(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var F=this._layersLink=bn("a",s+"-toggle",d);F.href="#",F.title="Layers",F.setAttribute("role","button"),on(F,{keydown:function(Q){Q.keyCode===13&&this._expandSafely()},click:function(Q){Mr(Q),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=bn("div",s+"-base",T),this._separator=bn("div",s+"-separator",T),this._overlaysList=bn("div",s+"-overlays",T),d.appendChild(T)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&g(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,w){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:w}),this.options.sortLayers&&this._layers.sort(h(function(T,F){return this.options.sortFunction(T.layer,F.layer,T.name,F.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xo(this._baseLayersList),xo(this._overlaysList),this._layerControlInputs=[];var s,d,w,T,F=0;for(w=0;w<this._layers.length;w++)T=this._layers[w],this._addItem(T),d=d||T.overlay,s=s||!T.overlay,F+=T.overlay?0:1;return this.options.hideSingleBase&&(s=s&&F>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(g(s.target)),w=d.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;w&&this._map.fire(w,d)},_createRadioElement:function(s,d){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=w,T.firstChild},_addItem:function(s){var d=document.createElement("label"),w=this._map.hasLayer(s.layer),T;s.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=w):T=this._createRadioElement("leaflet-base-layers_"+g(this),w),this._layerControlInputs.push(T),T.layerId=g(s.layer),on(T,"click",this._onInputClick,this);var F=document.createElement("span");F.innerHTML=" "+s.name;var Q=document.createElement("span");d.appendChild(Q),Q.appendChild(T),Q.appendChild(F);var _e=s.overlay?this._overlaysList:this._baseLayersList;return _e.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,d,w,T=[],F=[];this._handlingClick=!0;for(var Q=s.length-1;Q>=0;Q--)d=s[Q],w=this._getLayer(d.layerId).layer,d.checked?T.push(w):d.checked||F.push(w);for(Q=0;Q<F.length;Q++)this._map.hasLayer(F[Q])&&this._map.removeLayer(F[Q]);for(Q=0;Q<T.length;Q++)this._map.hasLayer(T[Q])||this._map.addLayer(T[Q]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,d,w,T=this._map.getZoom(),F=s.length-1;F>=0;F--)d=s[F],w=this._getLayer(d.layerId).layer,d.disabled=w.options.minZoom!==void 0&&T<w.options.minZoom||w.options.maxZoom!==void 0&&T>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,on(s,"click",Mr),this.expand();var d=this;setTimeout(function(){Ct(s,"click",Mr),d._preventClick=!1})}}),Un=function(s,d,w){return new Pa(s,d,w)},Mi=Hr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",w=bn("div",d+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,d+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,d+"-out",w,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,w,T,F){var Q=bn("a",w,T);return Q.innerHTML=s,Q.href="#",Q.title=d,Q.setAttribute("role","button"),Q.setAttribute("aria-label",d),qi(Q),on(Q,"click",fi),on(Q,"click",F,this),on(Q,"click",this._refocusOnMap,this),Q},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";Rn(this._zoomInButton,d),Rn(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Wt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Wt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});On.mergeOptions({zoomControl:!0}),On.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mi,this.addControl(this.zoomControl))});var hs=function(s){return new Mi(s)},Ii=Hr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",w=bn("div",d),T=this.options;return this._addScales(T,d+"-line",w),s.on(T.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),w},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,w){s.metric&&(this._mScale=bn("div",d,w)),s.imperial&&(this._iScale=bn("div",d,w))},_update:function(){var s=this._map,d=s.getSize().y/2,w=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(w)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s),w=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,w,d/s)},_updateImperial:function(s){var d=s*3.2808399,w,T,F;d>5280?(w=d/5280,T=this._getRoundNum(w),this._updateScale(this._iScale,T+" mi",T/w)):(F=this._getRoundNum(d),this._updateScale(this._iScale,F+" ft",F/d))},_updateScale:function(s,d,w){s.style.width=Math.round(this.options.maxWidth*w)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),w=s/d;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,d*w}}),ml=function(s){return new Ii(s)},Ze='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',An=Hr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?Ze+" ":"")+"Leaflet</a>"},initialize:function(s){R(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=bn("div","leaflet-control-attribution"),qi(this._container);for(var d in s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var w=[];this.options.prefix&&w.push(this.options.prefix),s.length&&w.push(s.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});On.mergeOptions({attributionControl:!0}),On.addInitHook(function(){this.options.attributionControl&&new An().addTo(this)});var Dr=function(s){return new An(s)};Hr.Layers=Pa,Hr.Zoom=Mi,Hr.Scale=Ii,Hr.Attribution=An,Zi.layers=Un,Zi.zoom=hs,Zi.scale=ml,Zi.attribution=Dr;var pi=me.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(s,d){return s.addHandler(d,this),this};var pa={Events:Me},Ns=Ke.touch?"touchstart mousedown":"mousedown",io=Ie.extend({options:{clickTolerance:3},initialize:function(s,d,w,T){R(this,T),this._element=s,this._dragStartTarget=d||s,this._preventOutline=w},enable:function(){this._enabled||(on(this._dragStartTarget,Ns,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(io._dragging===this&&this.finishDrag(!0),Ct(this._dragStartTarget,Ns,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Cs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){io._dragging===this&&this.finishDrag();return}if(!(io._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(io._dragging=this,this._preventOutline&&ls(this._element),Xt(),ni(),!this._moving)){this.fire("down");var d=s.touches?s.touches[0]:s,w=Zs(this._element);this._startPoint=new pe(d.clientX,d.clientY),this._startPos=lr(this._element),this._parentScale=Xs(w);var T=s.type==="mousedown";on(document,T?"mousemove":"touchmove",this._onMove,this),on(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var d=s.touches&&s.touches.length===1?s.touches[0]:s,w=new pe(d.clientX,d.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Mr(s),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Tt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Rn(document.body,"leaflet-dragging"),this._lastTarget&&(Rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ct(document,"mousemove touchmove",this._onMove,this),Ct(document,"mouseup touchend touchcancel",this._onUp,this),Vn(),Vo();var d=this._moved&&this._moving;this._moving=!1,io._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Qs(s,d,w){var T,F=[1,4,2,8],Q,_e,Ue,Ye,gt,Mt,tn,zn;for(Q=0,Mt=s.length;Q<Mt;Q++)s[Q]._code=$e(s[Q],d);for(Ue=0;Ue<4;Ue++){for(tn=F[Ue],T=[],Q=0,Mt=s.length,_e=Mt-1;Q<Mt;_e=Q++)Ye=s[Q],gt=s[_e],Ye._code&tn?gt._code&tn||(zn=De(gt,Ye,tn,d,w),zn._code=$e(zn,d),T.push(zn)):(gt._code&tn&&(zn=De(gt,Ye,tn,d,w),zn._code=$e(zn,d),T.push(zn)),T.push(Ye));s=T}return s}function Is(s,d){var w,T,F,Q,_e,Ue,Ye,gt,Mt;if(!s||s.length===0)throw new Error("latlngs not passed");Dt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var tn=he([0,0]),zn=le(s),Ki=zn.getNorthWest().distanceTo(zn.getSouthWest())*zn.getNorthEast().distanceTo(zn.getNorthWest());Ki<1700&&(tn=Cr(s));var mi=s.length,ko=[];for(w=0;w<mi;w++){var ao=he(s[w]);ko.push(d.project(he([ao.lat-tn.lat,ao.lng-tn.lng])))}for(Ue=Ye=gt=0,w=0,T=mi-1;w<mi;T=w++)F=ko[w],Q=ko[T],_e=F.y*Q.x-Q.y*F.x,Ye+=(F.x+Q.x)*_e,gt+=(F.y+Q.y)*_e,Ue+=_e*3;Ue===0?Mt=ko[0]:Mt=[Ye/Ue,gt/Ue];var Oa=d.unproject(Ce(Mt));return he([Oa.lat+tn.lat,Oa.lng+tn.lng])}function Cr(s){for(var d=0,w=0,T=0,F=0;F<s.length;F++){var Q=he(s[F]);d+=Q.lat,w+=Q.lng,T++}return he([d/T,w/T])}var fs={__proto__:null,clipPolygon:Qs,polygonCenter:Is,centroid:Cr};function $n(s,d){if(!d||!s.length)return s.slice();var w=d*d;return s=q(s,w),s=Xn(s,w),s}function qo(s,d,w){return Math.sqrt(Pt(s,d,w,!0))}function Di(s,d,w){return Pt(s,d,w)}function Xn(s,d){var w=s.length,T=typeof Uint8Array!=void 0+""?Uint8Array:Array,F=new T(w);F[0]=F[w-1]=1,S(s,F,d,0,w-1);var Q,_e=[];for(Q=0;Q<w;Q++)F[Q]&&_e.push(s[Q]);return _e}function S(s,d,w,T,F){var Q=0,_e,Ue,Ye;for(Ue=T+1;Ue<=F-1;Ue++)Ye=Pt(s[Ue],s[T],s[F],!0),Ye>Q&&(_e=Ue,Q=Ye);Q>w&&(d[_e]=1,S(s,d,w,T,_e),S(s,d,w,_e,F))}function q(s,d){for(var w=[s[0]],T=1,F=0,Q=s.length;T<Q;T++)ut(s[T],s[F])>d&&(w.push(s[T]),F=T);return F<Q-1&&w.push(s[Q-1]),w}var ue;function Ae(s,d,w,T,F){var Q=T?ue:$e(s,w),_e=$e(d,w),Ue,Ye,gt;for(ue=_e;;){if(!(Q|_e))return[s,d];if(Q&_e)return!1;Ue=Q||_e,Ye=De(s,d,Ue,w,F),gt=$e(Ye,w),Ue===Q?(s=Ye,Q=gt):(d=Ye,_e=gt)}}function De(s,d,w,T,F){var Q=d.x-s.x,_e=d.y-s.y,Ue=T.min,Ye=T.max,gt,Mt;return w&8?(gt=s.x+Q*(Ye.y-s.y)/_e,Mt=Ye.y):w&4?(gt=s.x+Q*(Ue.y-s.y)/_e,Mt=Ue.y):w&2?(gt=Ye.x,Mt=s.y+_e*(Ye.x-s.x)/Q):w&1&&(gt=Ue.x,Mt=s.y+_e*(Ue.x-s.x)/Q),new pe(gt,Mt,F)}function $e(s,d){var w=0;return s.x<d.min.x?w|=1:s.x>d.max.x&&(w|=2),s.y<d.min.y?w|=4:s.y>d.max.y&&(w|=8),w}function ut(s,d){var w=d.x-s.x,T=d.y-s.y;return w*w+T*T}function Pt(s,d,w,T){var F=d.x,Q=d.y,_e=w.x-F,Ue=w.y-Q,Ye=_e*_e+Ue*Ue,gt;return Ye>0&&(gt=((s.x-F)*_e+(s.y-Q)*Ue)/Ye,gt>1?(F=w.x,Q=w.y):gt>0&&(F+=_e*gt,Q+=Ue*gt)),_e=s.x-F,Ue=s.y-Q,T?_e*_e+Ue*Ue:new pe(F,Q)}function Dt(s){return!j(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function dn(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(s)}function pn(s,d){var w,T,F,Q,_e,Ue,Ye,gt;if(!s||s.length===0)throw new Error("latlngs not passed");Dt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Mt=he([0,0]),tn=le(s),zn=tn.getNorthWest().distanceTo(tn.getSouthWest())*tn.getNorthEast().distanceTo(tn.getNorthWest());zn<1700&&(Mt=Cr(s));var Ki=s.length,mi=[];for(w=0;w<Ki;w++){var ko=he(s[w]);mi.push(d.project(he([ko.lat-Mt.lat,ko.lng-Mt.lng])))}for(w=0,T=0;w<Ki-1;w++)T+=mi[w].distanceTo(mi[w+1])/2;if(T===0)gt=mi[0];else for(w=0,Q=0;w<Ki-1;w++)if(_e=mi[w],Ue=mi[w+1],F=_e.distanceTo(Ue),Q+=F,Q>T){Ye=(Q-T)/F,gt=[Ue.x-Ye*(Ue.x-_e.x),Ue.y-Ye*(Ue.y-_e.y)];break}var ao=d.unproject(Ce(gt));return he([ao.lat+Mt.lat,ao.lng+Mt.lng])}var Hn={__proto__:null,simplify:$n,pointToSegmentDistance:qo,closestPointOnSegment:Di,clipSegment:Ae,_getEdgeIntersection:De,_getBitCode:$e,_sqClosestPointOnSegment:Pt,isFlat:Dt,_flat:dn,polylineCenter:pn},fr={project:function(s){return new pe(s.lng,s.lat)},unproject:function(s){return new xe(s.y,s.x)},bounds:new nt([-180,-90],[180,90])},er={R:6378137,R_MINOR:6356752314245179e-9,bounds:new nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var d=Math.PI/180,w=this.R,T=s.lat*d,F=this.R_MINOR/w,Q=Math.sqrt(1-F*F),_e=Q*Math.sin(T),Ue=Math.tan(Math.PI/4-T/2)/Math.pow((1-_e)/(1+_e),Q/2);return T=-w*Math.log(Math.max(Ue,1e-10)),new pe(s.lng*d*w,T)},unproject:function(s){for(var d=180/Math.PI,w=this.R,T=this.R_MINOR/w,F=Math.sqrt(1-T*T),Q=Math.exp(-s.y/w),_e=Math.PI/2-2*Math.atan(Q),Ue=0,Ye=.1,gt;Ue<15&&Math.abs(Ye)>1e-7;Ue++)gt=F*Math.sin(_e),gt=Math.pow((1-gt)/(1+gt),F/2),Ye=Math.PI/2-2*Math.atan(Q*gt)-_e,_e+=Ye;return new xe(_e*d,s.x*d/w)}},kr={__proto__:null,LonLat:fr,Mercator:er,SphericalMercator:yt},Ai=a({},je,{code:"EPSG:3395",projection:er,transformation:function(){var s=.5/(Math.PI*er.R);return bt(s,.5,-s,.5)}()}),Er=a({},je,{code:"EPSG:4326",projection:fr,transformation:bt(1/180,1,-1/180,.5)}),_o=a({},Fe,{projection:fr,transformation:bt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var w=d.lng-s.lng,T=d.lat-s.lat;return Math.sqrt(w*w+T*T)},infinite:!0});Fe.Earth=je,Fe.EPSG3395=Ai,Fe.EPSG3857=lt,Fe.EPSG900913=Yt,Fe.EPSG4326=Er,Fe.Simple=_o;var Kn=Ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var w=this.getEvents();d.on(w,this),this.once("remove",function(){d.off(w,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});On.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=g(s);return this._layers[d]?this:(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var d=g(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,d){for(var w in this._layers)s.call(d,this._layers[w]);return this},_addLayers:function(s){s=s?j(s)?s:[s]:[];for(var d=0,w=s.length;d<w;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=g(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,w=this._getZoomSpan();for(var T in this._zoomBoundLayers){var F=this._zoomBoundLayers[T].options;s=F.minZoom===void 0?s:Math.min(s,F.minZoom),d=F.maxZoom===void 0?d:Math.max(d,F.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ii=Kn.extend({initialize:function(s,d){R(this,d),this._layers={};var w,T;if(s)for(w=0,T=s.length;w<T;w++)this.addLayer(s[w])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){var d=typeof s=="number"?s:this.getLayerId(s);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var d=Array.prototype.slice.call(arguments,1),w,T;for(w in this._layers)T=this._layers[w],T[s]&&T[s].apply(T,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var w in this._layers)s.call(d,this._layers[w]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Li=function(s,d){return new ii(s,d)},Bi=ii.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ii.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ii.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ae;for(var d in this._layers){var w=this._layers[d];s.extend(w.getBounds?w.getBounds():w.getLatLng())}return s}}),Fi=function(s,d){return new Bi(s,d)},bo=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){R(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var w=this._getIconUrl(s);if(!w){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(w,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(T,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(s,d){var w=this.options,T=w[d+"Size"];typeof T=="number"&&(T=[T,T]);var F=Ce(T),Q=Ce(d==="shadow"&&w.shadowAnchor||w.iconAnchor||F&&F.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(w.className||""),Q&&(s.style.marginLeft=-Q.x+"px",s.style.marginTop=-Q.y+"px"),F&&(s.style.width=F.x+"px",s.style.height=F.y+"px")},_createImg:function(s,d){return d=d||document.createElement("img"),d.src=s,d},_getIconUrl:function(s){return Ke.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ls(s){return new bo(s)}var Go=bo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Go.imagePath!="string"&&(Go.imagePath=this._detectIconPath()),(this.options.imagePath||Go.imagePath)+bo.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(w,T,F){var Q=T.exec(w);return Q&&Q[F]};return s=d(s,/^url\((['"])?(.+)\1\)$/,2),s&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=bn("div","leaflet-default-icon-path",document.body),d=jt(s,"background-image")||jt(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d),d)return d;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),ds=pi.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new io(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,w=d._map,T=this._marker.options.autoPanSpeed,F=this._marker.options.autoPanPadding,Q=lr(d._icon),_e=w.getPixelBounds(),Ue=w.getPixelOrigin(),Ye=W(_e.min._subtract(Ue).add(F),_e.max._subtract(Ue).subtract(F));if(!Ye.contains(Q)){var gt=Ce((Math.max(Ye.max.x,Q.x)-Ye.max.x)/(_e.max.x-Ye.max.x)-(Math.min(Ye.min.x,Q.x)-Ye.min.x)/(_e.min.x-Ye.min.x),(Math.max(Ye.max.y,Q.y)-Ye.max.y)/(_e.max.y-Ye.max.y)-(Math.min(Ye.min.y,Q.y)-Ye.min.y)/(_e.min.y-Ye.min.y)).multiplyBy(T);w.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),Tt(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=J(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,w=d._shadow,T=lr(d._icon),F=d._map.layerPointToLatLng(T);w&&Tt(w,T),d._latlng=F,s.latlng=F,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),tr=Kn.extend({options:{icon:new Go,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){R(this,d),this._latlng=he(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=he(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=s.icon.createIcon(this._icon),T=!1;w!==this._icon&&(this._icon&&this._removeIcon(),T=!0,s.title&&(w.title=s.title),w.tagName==="IMG"&&(w.alt=s.alt||"")),Wt(w,d),s.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&on(w,"focus",this._panOnFocus,this);var F=s.icon.createShadow(this._shadow),Q=!1;F!==this._shadow&&(this._removeShadow(),Q=!0),F&&(Wt(F,d),F.alt=""),this._shadow=F,s.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),F&&Q&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(this._icon,"focus",this._panOnFocus,this),rn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Tt(this._icon,s),this._shadow&&Tt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ds)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ds(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&En(this._icon,s),this._shadow&&En(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,w=d.iconSize?Ce(d.iconSize):Ce(0,0),T=d.iconAnchor?Ce(d.iconAnchor):Ce(0,0);s.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:w.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Js(s,d){return new tr(s,d)}var Ti=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return R(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xi=Ti.extend({options:{fill:!0,radius:10},initialize:function(s,d){R(this,d),this._latlng=he(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=he(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return Ti.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,w=this._clickTolerance(),T=[s+w,d+w];this._pxBounds=new nt(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fn(s,d){return new Xi(s,d)}var Kr=Xi.extend({initialize:function(s,d,w){if(typeof d=="number"&&(d=a({},w,{radius:d})),R(this,d),this._latlng=he(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ti.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,w=this._map,T=w.options.crs;if(T.distance===je.distance){var F=Math.PI/180,Q=this._mRadius/je.R/F,_e=w.project([d+Q,s]),Ue=w.project([d-Q,s]),Ye=_e.add(Ue).divideBy(2),gt=w.unproject(Ye).lat,Mt=Math.acos((Math.cos(Q*F)-Math.sin(d*F)*Math.sin(gt*F))/(Math.cos(d*F)*Math.cos(gt*F)))/F;(isNaN(Mt)||Mt===0)&&(Mt=Q/Math.cos(Math.PI/180*d)),this._point=Ye.subtract(w.getPixelOrigin()),this._radius=isNaN(Mt)?0:Ye.x-w.project([gt,s-Mt]).x,this._radiusY=Ye.y-_e.y}else{var tn=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(tn).x}this._updateBounds()}});function H(s,d,w){return new Kr(s,d,w)}var r=Ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){R(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var d=1/0,w=null,T=Pt,F,Q,_e=0,Ue=this._parts.length;_e<Ue;_e++)for(var Ye=this._parts[_e],gt=1,Mt=Ye.length;gt<Mt;gt++){F=Ye[gt-1],Q=Ye[gt];var tn=T(s,F,Q,!0);tn<d&&(d=tn,w=T(s,F,Q))}return w&&(w.distance=Math.sqrt(d)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=he(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ae,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],w=Dt(s),T=0,F=s.length;T<F;T++)w?(d[T]=he(s[T]),this._bounds.extend(d[T])):d[T]=this._convertLatLngs(s[T]);return d},_project:function(){var s=new nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new pe(s,s);this._rawPxBounds&&(this._pxBounds=new nt([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,w){var T=s[0]instanceof xe,F=s.length,Q,_e;if(T){for(_e=[],Q=0;Q<F;Q++)_e[Q]=this._map.latLngToLayerPoint(s[Q]),w.extend(_e[Q]);d.push(_e)}else for(Q=0;Q<F;Q++)this._projectLatlngs(s[Q],d,w)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,w,T,F,Q,_e,Ue,Ye;for(w=0,F=0,Q=this._rings.length;w<Q;w++)for(Ye=this._rings[w],T=0,_e=Ye.length;T<_e-1;T++)Ue=Ae(Ye[T],Ye[T+1],s,T,!0),Ue&&(d[F]=d[F]||[],d[F].push(Ue[0]),(Ue[1]!==Ye[T+1]||T===_e-2)&&(d[F].push(Ue[1]),F++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,w=0,T=s.length;w<T;w++)s[w]=$n(s[w],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var w,T,F,Q,_e,Ue,Ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(w=0,Q=this._parts.length;w<Q;w++)for(Ue=this._parts[w],T=0,_e=Ue.length,F=_e-1;T<_e;F=T++)if(!(!d&&T===0)&&qo(s,Ue[F],Ue[T])<=Ye)return!0;return!1}});function o(s,d){return new r(s,d)}r._flat=dn;var u=r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Is(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=r.prototype._convertLatLngs.call(this,s),w=d.length;return w>=2&&d[0]instanceof xe&&d[0].equals(d[w-1])&&d.pop(),d},_setLatLngs:function(s){r.prototype._setLatLngs.call(this,s),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,w=new pe(d,d);if(s=new nt(s.min.subtract(w),s.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,F=this._rings.length,Q;T<F;T++)Q=Qs(this._rings[T],s,!0),Q.length&&this._parts.push(Q)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var d=!1,w,T,F,Q,_e,Ue,Ye,gt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(Q=0,Ye=this._parts.length;Q<Ye;Q++)for(w=this._parts[Q],_e=0,gt=w.length,Ue=gt-1;_e<gt;Ue=_e++)T=w[_e],F=w[Ue],T.y>s.y!=F.y>s.y&&s.x<(F.x-T.x)*(s.y-T.y)/(F.y-T.y)+T.x&&(d=!d);return d||r.prototype._containsPoint.call(this,s,!0)}});function c(s,d){return new u(s,d)}var f=Bi.extend({initialize:function(s,d){R(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var d=j(s)?s:s.features,w,T,F;if(d){for(w=0,T=d.length;w<T;w++)F=d[w],(F.geometries||F.geometry||F.features||F.coordinates)&&this.addData(F);return this}var Q=this.options;if(Q.filter&&!Q.filter(s))return this;var _e=p(s,Q);return _e?(_e.feature=ce(s),_e.defaultOptions=_e.options,this.resetStyle(_e),Q.onEachFeature&&Q.onEachFeature(s,_e),this.addLayer(_e)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=a({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&(typeof d=="function"&&(d=d(s.feature)),s.setStyle(d))}});function p(s,d){var w=s.type==="Feature"?s.geometry:s,T=w?w.coordinates:null,F=[],Q=d&&d.pointToLayer,_e=d&&d.coordsToLatLng||C,Ue,Ye,gt,Mt;if(!T&&!w)return null;switch(w.type){case"Point":return Ue=_e(T),x(Q,s,Ue,d);case"MultiPoint":for(gt=0,Mt=T.length;gt<Mt;gt++)Ue=_e(T[gt]),F.push(x(Q,s,Ue,d));return new Bi(F);case"LineString":case"MultiLineString":return Ye=N(T,w.type==="LineString"?0:1,_e),new r(Ye,d);case"Polygon":case"MultiPolygon":return Ye=N(T,w.type==="Polygon"?1:2,_e),new u(Ye,d);case"GeometryCollection":for(gt=0,Mt=w.geometries.length;gt<Mt;gt++){var tn=p({geometry:w.geometries[gt],type:"Feature",properties:s.properties},d);tn&&F.push(tn)}return new Bi(F);case"FeatureCollection":for(gt=0,Mt=w.features.length;gt<Mt;gt++){var zn=p(w.features[gt],d);zn&&F.push(zn)}return new Bi(F);default:throw new Error("Invalid GeoJSON object.")}}function x(s,d,w,T){return s?s(d,w):new tr(w,T&&T.markersInheritOptions&&T)}function C(s){return new xe(s[1],s[0],s[2])}function N(s,d,w){for(var T=[],F=0,Q=s.length,_e;F<Q;F++)_e=d?N(s[F],d-1,w):(w||C)(s[F]),T.push(_e);return T}function D(s,d){return s=he(s),s.alt!==void 0?[I(s.lng,d),I(s.lat,d),I(s.alt,d)]:[I(s.lng,d),I(s.lat,d)]}function U(s,d,w,T){for(var F=[],Q=0,_e=s.length;Q<_e;Q++)F.push(d?U(s[Q],Dt(s[Q])?0:d-1,w,T):D(s[Q],T));return!d&&w&&F.length>0&&F.push(F[0].slice()),F}function Z(s,d){return s.feature?a({},s.feature,{geometry:d}):ce(d)}function ce(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var be={toGeoJSON:function(s){return Z(this,{type:"Point",coordinates:D(this.getLatLng(),s)})}};tr.include(be),Kr.include(be),Xi.include(be),r.include({toGeoJSON:function(s){var d=!Dt(this._latlngs),w=U(this._latlngs,d?1:0,!1,s);return Z(this,{type:(d?"Multi":"")+"LineString",coordinates:w})}}),u.include({toGeoJSON:function(s){var d=!Dt(this._latlngs),w=d&&!Dt(this._latlngs[0]),T=U(this._latlngs,w?2:d?1:0,!0,s);return d||(T=[T]),Z(this,{type:(w?"Multi":"")+"Polygon",coordinates:T})}}),ii.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(w){d.push(w.toGeoJSON(s).geometry.coordinates)}),Z(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(s);var w=d==="GeometryCollection",T=[];return this.eachLayer(function(F){if(F.toGeoJSON){var Q=F.toGeoJSON(s);if(w)T.push(Q.geometry);else{var _e=ce(Q);_e.type==="FeatureCollection"?T.push.apply(T,_e.features):T.push(_e)}}}),w?Z(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Ee(s,d){return new f(s,d)}var ke=Ee,Ge=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,w){this._url=s,this._bounds=le(d),R(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=le(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",d=this._image=s?this._url:bn("img");if(Wt(d,"leaflet-image-layer"),this._zoomAnimated&&Wt(d,"leaflet-zoom-animated"),this.options.className&&Wt(d,this.options.className),d.onselectstart=A,d.onmousemove=A,d.onload=h(this.fire,this,"load"),d.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;oe(this._image,w,d)},_reset:function(){var s=this._image,d=new nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=d.getSize();Tt(s,d.min),s.style.width=w.x+"px",s.style.height=w.y+"px"},_updateOpacity:function(){En(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),dt=function(s,d,w){return new Ge(s,d,w)},mt=Ge.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",d=this._image=s?this._url:bn("video");if(Wt(d,"leaflet-image-layer"),this._zoomAnimated&&Wt(d,"leaflet-zoom-animated"),this.options.className&&Wt(d,this.options.className),d.onselectstart=A,d.onmousemove=A,d.onloadeddata=h(this.fire,this,"load"),s){for(var w=d.getElementsByTagName("source"),T=[],F=0;F<w.length;F++)T.push(w[F].src);this._url=w.length>0?T:[d.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var Q=0;Q<this._url.length;Q++){var _e=bn("source");_e.src=this._url[Q],d.appendChild(_e)}}});function pt(s,d,w){return new mt(s,d,w)}var Nn=Ge.extend({_initImage:function(){var s=this._image=this._url;Wt(s,"leaflet-image-layer"),this._zoomAnimated&&Wt(s,"leaflet-zoom-animated"),this.options.className&&Wt(s,this.options.className),s.onselectstart=A,s.onmousemove=A}});function gn(s,d,w){return new Nn(s,d,w)}var nr=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof xe||j(s))?(this._latlng=he(s),R(this,d)):(R(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&En(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&En(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(En(this._container,0),this._removeTimeout=setTimeout(h(rn,void 0,this._container),200)):rn(this._container),this.options.interactive&&(Rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=he(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof Bi){d=null;var w=this._source._layers;for(var T in w)if(w[T]._map){d=w[T];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else if(d.getBounds)s=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=Ce(this.options.offset),w=this._getAnchor();this._zoomAnimated?Tt(this._container,s.add(w)):d=d.add(s).add(w);var T=this._containerBottom=-d.y,F=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=T+"px",this._container.style.left=F+"px"}},_getAnchor:function(){return[0,0]}});On.include({_initOverlay:function(s,d,w,T){var F=d;return F instanceof s||(F=new s(T).setContent(d)),w&&F.setLatLng(w),F}}),Kn.include({_initOverlay:function(s,d,w,T){var F=w;return F instanceof s?(R(F,T),F._source=this):(F=d&&!T?d:new s(T,this),F.setContent(w)),F}});var Wr=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,nr.prototype.openOn.call(this,s)},onAdd:function(s){nr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ti||this._source.on("preclick",wo))},onRemove:function(s){nr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ti||this._source.off("preclick",wo))},getEvents:function(){var s=nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=bn("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=bn("div",s+"-content-wrapper",d);if(this._contentNode=bn("div",s+"-content",w),qi(d),Ys(this._contentNode),on(d,"contextmenu",wo),this._tipContainer=bn("div",s+"-tip-container",d),this._tip=bn("div",s+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=bn("a",s+"-close-button",d);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',on(T,"click",function(F){Mr(F),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var w=s.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),d.width=w+1+"px",d.whiteSpace="",d.height="";var T=s.offsetHeight,F=this.options.maxHeight,Q="leaflet-popup-scrolled";F&&T>F?(d.height=F+"px",Wt(s,Q)):Rn(s,Q),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),w=this._getAnchor();Tt(this._container,d.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,d=parseInt(jt(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+d,T=this._containerWidth,F=new pe(this._containerLeft,-w-this._containerBottom);F._add(lr(this._container));var Q=s.layerPointToContainerPoint(F),_e=Ce(this.options.autoPanPadding),Ue=Ce(this.options.autoPanPaddingTopLeft||_e),Ye=Ce(this.options.autoPanPaddingBottomRight||_e),gt=s.getSize(),Mt=0,tn=0;Q.x+T+Ye.x>gt.x&&(Mt=Q.x+T-gt.x+Ye.x),Q.x-Mt-Ue.x<0&&(Mt=Q.x-Ue.x),Q.y+w+Ye.y>gt.y&&(tn=Q.y+w-gt.y+Ye.y),Q.y-tn-Ue.y<0&&(tn=Q.y-Ue.y),(Mt||tn)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Mt,tn]))}},_getAnchor:function(){return Ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Br=function(s,d){return new Wr(s,d)};On.mergeOptions({closePopupOnClick:!0}),On.include({openPopup:function(s,d,w){return this._initOverlay(Wr,s,d,w).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Kn.include({bindPopup:function(s,d){return this._popup=this._initOverlay(Wr,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){fi(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof Ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var jn=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){nr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){nr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=nr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",d=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bn("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,w,T=this._map,F=this._container,Q=T.latLngToContainerPoint(T.getCenter()),_e=T.layerPointToContainerPoint(s),Ue=this.options.direction,Ye=F.offsetWidth,gt=F.offsetHeight,Mt=Ce(this.options.offset),tn=this._getAnchor();Ue==="top"?(d=Ye/2,w=gt):Ue==="bottom"?(d=Ye/2,w=0):Ue==="center"?(d=Ye/2,w=gt/2):Ue==="right"?(d=0,w=gt/2):Ue==="left"?(d=Ye,w=gt/2):_e.x<Q.x?(Ue="right",d=0,w=gt/2):(Ue="left",d=Ye+(Mt.x+tn.x)*2,w=gt/2),s=s.subtract(Ce(d,w,!0)).add(Mt).add(tn),Rn(F,"leaflet-tooltip-right"),Rn(F,"leaflet-tooltip-left"),Rn(F,"leaflet-tooltip-top"),Rn(F,"leaflet-tooltip-bottom"),Wt(F,"leaflet-tooltip-"+Ue),Tt(F,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&En(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return Ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rr=function(s,d){return new jn(s,d)};On.include({openTooltip:function(s,d,w){return this._initOverlay(jn,s,d,w).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Kn.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jn,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var d=s?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[d](w),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d=typeof s.getElement=="function"&&s.getElement();d&&(on(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),on(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d=typeof s.getElement=="function"&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var d=s.latlng,w,T;this._tooltip.options.sticky&&s.originalEvent&&(w=this._map.mouseEventToContainerPoint(s.originalEvent),T=this._map.containerPointToLayerPoint(w),d=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(d)}});var Vr=bo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&s.tagName==="DIV"?s:document.createElement("div"),w=this.options;if(w.html instanceof Element?(xo(d),d.appendChild(w.html)):d.innerHTML=w.html!==!1?w.html:"",w.bgPos){var T=Ce(w.bgPos);d.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Yi(s){return new Vr(s)}bo.Default=Go;var ji=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){R(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),rn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pe?s:new pe(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var d=this.getPane().children,w=-s(-1/0,1/0),T=0,F=d.length,Q;T<F;T++)Q=d[T].style.zIndex,d[T]!==this._container&&Q&&(w=s(w,+Q));isFinite(w)&&(this.options.zIndex=w+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){En(this._container,this.options.opacity);var s=+new Date,d=!1,w=!1;for(var T in this._tiles){var F=this._tiles[T];if(!(!F.current||!F.loaded)){var Q=Math.min(1,(s-F.loaded)/200);En(F.el,Q),Q<1?d=!0:(F.active?w=!0:this._onOpaqueTile(F),F.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),d&&(Y(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=bn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(s!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===s?(this._levels[w].el.style.zIndex=d-Math.abs(s-w),this._onUpdateLevel(w)):(rn(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var T=this._levels[s],F=this._map;return T||(T=this._levels[s]={},T.el=bn("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=d,T.origin=F.project(F.unproject(F.getPixelOrigin()),s).round(),T.zoom=s,this._setZoomTransform(T,F.getCenter(),F.getZoom()),A(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var s,d,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)d=this._tiles[s],d.retain=d.current;for(s in this._tiles)if(d=this._tiles[s],d.current&&!d.active){var T=d.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)rn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,w,T){var F=Math.floor(s/2),Q=Math.floor(d/2),_e=w-1,Ue=new pe(+F,+Q);Ue.z=+_e;var Ye=this._tileCoordsToKey(Ue),gt=this._tiles[Ye];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),_e>T?this._retainParent(F,Q,_e,T):!1)},_retainChildren:function(s,d,w,T){for(var F=2*s;F<2*s+2;F++)for(var Q=2*d;Q<2*d+2;Q++){var _e=new pe(F,Q);_e.z=w+1;var Ue=this._tileCoordsToKey(_e),Ye=this._tiles[Ue];if(Ye&&Ye.active){Ye.retain=!0;continue}else Ye&&Ye.loaded&&(Ye.retain=!0);w+1<T&&this._retainChildren(F,Q,w+1,T)}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return d.minNativeZoom!==void 0&&s<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,w,T){var F=Math.round(d);this.options.maxZoom!==void 0&&F>this.options.maxZoom||this.options.minZoom!==void 0&&F<this.options.minZoom?F=void 0:F=this._clampZoom(F);var Q=this.options.updateWhenZooming&&F!==this._tileZoom;(!T||Q)&&(this._tileZoom=F,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),F!==void 0&&this._update(s),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var w in this._levels)this._setZoomTransform(this._levels[w],s,d)},_setZoomTransform:function(s,d,w){var T=this._map.getZoomScale(w,s.zoom),F=s.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(d,w)).round();Ke.any3d?oe(s.el,F,T):Tt(s.el,F)},_resetGrid:function(){var s=this._map,d=s.options.crs,w=this._tileSize=this.getTileSize(),T=this._tileZoom,F=this._map.getPixelWorldBounds(this._tileZoom);F&&(this._globalTileRange=this._pxBoundsToTileRange(F)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],T).x/w.x),Math.ceil(s.project([0,d.wrapLng[1]],T).x/w.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],T).y/w.x),Math.ceil(s.project([d.wrapLat[1],0],T).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,w=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),T=d.getZoomScale(w,this._tileZoom),F=d.project(s,this._tileZoom).floor(),Q=d.getSize().divideBy(T*2);return new nt(F.subtract(Q),F.add(Q))},_update:function(s){var d=this._map;if(d){var w=this._clampZoom(d.getZoom());if(s===void 0&&(s=d.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(s),F=this._pxBoundsToTileRange(T),Q=F.getCenter(),_e=[],Ue=this.options.keepBuffer,Ye=new nt(F.getBottomLeft().subtract([Ue,-Ue]),F.getTopRight().add([Ue,-Ue]));if(!(isFinite(F.min.x)&&isFinite(F.min.y)&&isFinite(F.max.x)&&isFinite(F.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var Mt=this._tiles[gt].coords;(Mt.z!==this._tileZoom||!Ye.contains(new pe(Mt.x,Mt.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(s,w);return}for(var tn=F.min.y;tn<=F.max.y;tn++)for(var zn=F.min.x;zn<=F.max.x;zn++){var Ki=new pe(zn,tn);if(Ki.z=this._tileZoom,!!this._isValidTile(Ki)){var mi=this._tiles[this._tileCoordsToKey(Ki)];mi?mi.current=!0:_e.push(Ki)}}if(_e.sort(function(ao,Oa){return ao.distanceTo(Q)-Oa.distanceTo(Q)}),_e.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ko=document.createDocumentFragment();for(zn=0;zn<_e.length;zn++)this._addTile(_e[zn],ko);this._level.el.appendChild(ko)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var w=this._globalTileRange;if(!d.wrapLng&&(s.x<w.min.x||s.x>w.max.x)||!d.wrapLat&&(s.y<w.min.y||s.y>w.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(s);return le(this.options.bounds).overlaps(T)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,w=this.getTileSize(),T=s.scaleBy(w),F=T.add(w),Q=d.unproject(T,s.z),_e=d.unproject(F,s.z);return[Q,_e]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),w=new ae(d[0],d[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),w=new pe(+d[0],+d[1]);return w.z=+d[2],w},_removeTile:function(s){var d=this._tiles[s];d&&(rn(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Wt(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=A,s.onmousemove=A,Ke.ielt9&&this.options.opacity<1&&En(s,this.options.opacity)},_addTile:function(s,d){var w=this._getTilePos(s),T=this._tileCoordsToKey(s),F=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(F),this.createTile.length<2&&J(h(this._tileReady,this,s,null,F)),Tt(F,w),this._tiles[T]={el:F,coords:s,current:!0},d.appendChild(F),this.fire("tileloadstart",{tile:F,coords:s})},_tileReady:function(s,d,w){d&&this.fire("tileerror",{error:d,tile:w,coords:s});var T=this._tileCoordsToKey(s);w=this._tiles[T],w&&(w.loaded=+new Date,this._map._fadeAnimated?(En(w.el,0),Y(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),d||(Wt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new pe(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new nt(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function oo(s){return new ji(s)}var gi=ji.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,d=R(this,d),d.detectRetina&&Ke.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&d===void 0&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var w=document.createElement("img");return on(w,"load",h(this._tileOnLoad,this,d,w)),on(w,"error",h(this._tileOnError,this,d,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(s),w},getTileUrl:function(s){var d={r:Ke.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=w),d["-y"]=w}return k(this._url,a(d,this.options))},_tileOnLoad:function(s,d){Ke.ielt9?setTimeout(h(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,w){var T=this.options.errorTileUrl;T&&d.getAttribute("src")!==T&&(d.src=T),s(w,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,d=this.options.maxZoom,w=this.options.zoomReverse,T=this.options.zoomOffset;return w&&(s=d-s),s+T},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(d=this._tiles[s].el,d.onload=A,d.onerror=A,!d.complete)){d.src=de;var w=this._tiles[s].coords;rn(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:w})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",de),ji.prototype._removeTile.call(this,s)},_tileReady:function(s,d,w){if(!(!this._map||w&&w.getAttribute("src")===de))return ji.prototype._tileReady.call(this,s,d,w)}});function dr(s,d){return new gi(s,d)}var pr=gi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var w=a({},this.defaultWmsParams);for(var T in d)T in this.options||(w[T]=d[T]);d=R(this,d);var F=d.detectRetina&&Ke.retina?2:1,Q=this.getTileSize();w.width=Q.x*F,w.height=Q.y*F,this.wmsParams=w},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,gi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),w=this._crs,T=W(w.project(d[0]),w.project(d[1])),F=T.min,Q=T.max,_e=(this._wmsVersion>=1.3&&this._crs===Er?[F.y,F.x,Q.y,Q.x]:[F.x,F.y,Q.x,Q.y]).join(","),Ue=gi.prototype.getTileUrl.call(this,s);return Ue+z(this.wmsParams,Ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_e},setParams:function(s,d){return a(this.wmsParams,s),d||this.redraw(),this}});function Qr(s,d){return new pr(s,d)}gi.WMS=pr,dr.wms=Qr;var gr=Kn.extend({options:{padding:.1},initialize:function(s){R(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var w=this._map.getZoomScale(d,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),F=this._map.project(this._center,d),Q=T.multiplyBy(-w).add(F).subtract(this._map._getNewPixelOrigin(s,d));Ke.any3d?oe(this._container,Q,w):Tt(this._container,Q)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),w=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new nt(w,w.add(d.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ps=gr.extend({options:{tolerance:0},getEvents:function(){var s=gr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");on(s,"mousemove",this._onMouseMove,this),on(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),on(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,rn(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var d in this._layers)s=this._layers[d],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gr.prototype._update.call(this);var s=this._bounds,d=this._container,w=s.getSize(),T=Ke.retina?2:1;Tt(d,s.min),d.width=T*w.x,d.height=T*w.y,d.style.width=w.x+"px",d.style.height=w.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,w=d.next,T=d.prev;w?w.prev=T:this._drawLast=T,T?T.next=w:this._drawFirst=w,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var d=s.options.dashArray.split(/[, ]+/),w=[],T,F;for(F=0;F<d.length;F++){if(T=Number(d[F]),isNaN(T))return;w.push(T)}s.options._dashArray=w}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new nt,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var w=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)s=T.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var w,T,F,Q,_e=s._parts,Ue=_e.length,Ye=this._ctx;if(Ue){for(Ye.beginPath(),w=0;w<Ue;w++){for(T=0,F=_e[w].length;T<F;T++)Q=_e[w][T],Ye[T?"lineTo":"moveTo"](Q.x,Q.y);d&&Ye.closePath()}this._fillStroke(Ye,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var d=s._point,w=this._ctx,T=Math.max(Math.round(s._radius),1),F=(Math.max(Math.round(s._radiusY),1)||T)/T;F!==1&&(w.save(),w.scale(1,F)),w.beginPath(),w.arc(d.x,d.y/F,T,0,Math.PI*2,!1),F!==1&&w.restore(),this._fillStroke(w,s)}},_fillStroke:function(s,d){var w=d.options;w.fill&&(s.globalAlpha=w.fillOpacity,s.fillStyle=w.fillColor||w.color,s.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=w.opacity,s.lineWidth=w.weight,s.strokeStyle=w.color,s.lineCap=w.lineCap,s.lineJoin=w.lineJoin,s.stroke())},_onClick:function(s){for(var d=this._map.mouseEventToLayerPoint(s),w,T,F=this._drawFirst;F;F=F.next)w=F.layer,w.options.interactive&&w._containsPoint(d)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(w))&&(T=w);this._fireEvent(T?[T]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(Rn(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var w,T,F=this._drawFirst;F;F=F.next)w=F.layer,w.options.interactive&&w._containsPoint(d)&&(T=w);T!==this._hoveredLayer&&(this._handleMouseOut(s),T&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([T],s,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,w){this._map._fireDOMEvent(d,w||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var w=d.next,T=d.prev;if(w)w.prev=T;else return;T?T.next=w:w&&(this._drawFirst=w),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var w=d.next,T=d.prev;if(T)T.next=w;else return;w?w.prev=T:T&&(this._drawLast=T),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function ka(s){return Ke.canvas?new ps(s):null}var gs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gl={_initContainer:function(){this._container=bn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=gs("shape");Wt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=gs("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;rn(d),s.removeInteractiveTarget(d),delete this._layers[g(s)]},_updateStyle:function(s){var d=s._stroke,w=s._fill,T=s.options,F=s._container;F.stroked=!!T.stroke,F.filled=!!T.fill,T.stroke?(d||(d=s._stroke=gs("stroke")),F.appendChild(d),d.weight=T.weight+"px",d.color=T.color,d.opacity=T.opacity,T.dashArray?d.dashStyle=j(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=T.lineCap.replace("butt","flat"),d.joinstyle=T.lineJoin):d&&(F.removeChild(d),s._stroke=null),T.fill?(w||(w=s._fill=gs("fill")),F.appendChild(w),w.color=T.fillColor||T.color,w.opacity=T.fillOpacity):w&&(F.removeChild(w),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),w=Math.round(s._radius),T=Math.round(s._radiusY||w);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+w+","+T+" 0,"+65535*360)},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){ar(s._container)},_bringToBack:function(s){bi(s._container)}},Ra=Ke.vml?gs:Xe,$s=gr.extend({_initContainer:function(){this._container=Ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rn(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gr.prototype._update.call(this);var s=this._bounds,d=s.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,w.setAttribute("width",d.x),w.setAttribute("height",d.y)),Tt(w,s.min),w.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=Ra("path");s.options.className&&Wt(d,s.options.className),s.options.interactive&&Wt(d,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){rn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,w=s.options;d&&(w.stroke?(d.setAttribute("stroke",w.color),d.setAttribute("stroke-opacity",w.opacity),d.setAttribute("stroke-width",w.weight),d.setAttribute("stroke-linecap",w.lineCap),d.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?d.setAttribute("stroke-dasharray",w.dashArray):d.removeAttribute("stroke-dasharray"),w.dashOffset?d.setAttribute("stroke-dashoffset",w.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),w.fill?(d.setAttribute("fill",w.fillColor||w.color),d.setAttribute("fill-opacity",w.fillOpacity),d.setAttribute("fill-rule",w.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,we(s._parts,d))},_updateCircle:function(s){var d=s._point,w=Math.max(Math.round(s._radius),1),T=Math.max(Math.round(s._radiusY),1)||w,F="a"+w+","+T+" 0 1,0 ",Q=s._empty()?"M0 0":"M"+(d.x-w)+","+d.y+F+w*2+",0 "+F+-w*2+",0 ";this._setPath(s,Q)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){ar(s._path)},_bringToBack:function(s){bi(s._path)}});Ke.vml&&$s.include(Gl);function so(s){return Ke.svg||Ke.vml?new $s(s):null}On.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var d=this._paneRenderers[s];return d===void 0&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&ka(s)||so(s)}});var Ao=u.extend({initialize:function(s,d){u.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=le(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Zl(s,d){return new Ao(s,d)}$s.create=Ra,$s.pointsToPath=we,f.geometryToLayer=p,f.coordsToLatLng=C,f.coordsToLatLngs=N,f.latLngToCoords=D,f.latLngsToCoords=U,f.getFeature=Z,f.asFeature=ce,On.mergeOptions({boxZoom:!0});var vl=pi.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ni(),Xt(),this._startPoint=this._map.mouseEventToContainerPoint(s),on(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=bn("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new nt(this._point,this._startPoint),w=d.getSize();Tt(this._box,d.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(rn(this._box),Rn(this._container,"leaflet-crosshair")),Vo(),Vn(),Ct(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var d=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});On.addInitHook("addHandler","boxZoom",vl),On.mergeOptions({doubleClickZoom:!0});var Yu=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,w=d.getZoom(),T=d.options.zoomDelta,F=s.originalEvent.shiftKey?w-T:w+T;d.options.doubleClickZoom==="center"?d.setZoom(F):d.setZoomAround(s.containerPoint,F)}});On.addInitHook("addHandler","doubleClickZoom",Yu),On.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yl=pi.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new io(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rn(this._map._container,"leaflet-grab"),Rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=le(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),w=this._initialWorldOffset,T=this._draggable._newPos.x,F=(T-d+w)%s+d-w,Q=(T+d+w)%s-d-w,_e=Math.abs(F+w)<Math.abs(Q+w)?F:Q;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_e},_onDragEnd:function(s){var d=this._map,w=d.options,T=!w.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),T)d.fire("moveend");else{this._prunePositions(+new Date);var F=this._lastPos.subtract(this._positions[0]),Q=(this._lastTime-this._times[0])/1e3,_e=w.easeLinearity,Ue=F.multiplyBy(_e/Q),Ye=Ue.distanceTo([0,0]),gt=Math.min(w.inertiaMaxSpeed,Ye),Mt=Ue.multiplyBy(gt/Ye),tn=gt/(w.inertiaDeceleration*_e),zn=Mt.multiplyBy(-tn/2).round();!zn.x&&!zn.y?d.fire("moveend"):(zn=d._limitOffset(zn,d.options.maxBounds),J(function(){d.panBy(zn,{duration:tn,easeLinearity:_e,noMoveStart:!0,animate:!0})}))}}});On.addInitHook("addHandler","dragging",yl),On.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xl=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),on(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,w=s.scrollTop||d.scrollTop,T=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(T,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var d=this._panKeys={},w=this.keyCodes,T,F;for(T=0,F=w.left.length;T<F;T++)d[w.left[T]]=[-1*s,0];for(T=0,F=w.right.length;T<F;T++)d[w.right[T]]=[s,0];for(T=0,F=w.down.length;T<F;T++)d[w.down[T]]=[0,s];for(T=0,F=w.up.length;T<F;T++)d[w.up[T]]=[0,-1*s]},_setZoomDelta:function(s){var d=this._zoomKeys={},w=this.keyCodes,T,F;for(T=0,F=w.zoomIn.length;T<F;T++)d[w.zoomIn[T]]=s;for(T=0,F=w.zoomOut.length;T<F;T++)d[w.zoomOut[T]]=-s},_addHooks:function(){on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var d=s.keyCode,w=this._map,T;if(d in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(T=this._panKeys[d],s.shiftKey&&(T=Ce(T).multiplyBy(3)),w.options.maxBounds&&(T=w._limitOffset(Ce(T),w.options.maxBounds)),w.options.worldCopyJump){var F=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(T)));w.panTo(F)}else w.panBy(T)}else if(d in this._zoomKeys)w.setZoom(w.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;fi(s)}}});On.addInitHook("addHandler","keyboard",xl),On.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xl=pi.extend({addHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=Po(s),w=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var T=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),T),fi(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),w=this._map.options.zoomSnap||0;s._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),F=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,Q=w?Math.ceil(F/w)*w:F,_e=s._limitZoom(d+(this._delta>0?Q:-Q))-d;this._delta=0,this._startTime=null,_e&&(s.options.scrollWheelZoom==="center"?s.setZoom(d+_e):s.setZoomAround(this._lastMousePos,d+_e))}});On.addInitHook("addHandler","scrollWheelZoom",Xl);var hh=600;On.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var Yl=pi.extend({addHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var d=s.touches[0];this._startPos=this._newPos=new pe(d.clientX,d.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(on(document,"touchend",Mr),on(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),hh),on(document,"touchend touchcancel contextmenu",this._cancel,this),on(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ct(document,"touchend",Mr),Ct(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new pe(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var w=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});w._simulated=!0,d.target.dispatchEvent(w)}});On.addInitHook("addHandler","tapHold",Yl),On.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var Kl=pi.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rn(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(!(!s.touches||s.touches.length!==2||d._animatingZoom||this._zooming)){var w=d.mouseEventToContainerPoint(s.touches[0]),T=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(w.add(T)._divideBy(2))),this._startDist=w.distanceTo(T),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend touchcancel",this._onTouchEnd,this),Mr(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var d=this._map,w=d.mouseEventToContainerPoint(s.touches[0]),T=d.mouseEventToContainerPoint(s.touches[1]),F=w.distanceTo(T)/this._startDist;if(this._zoom=d.getScaleZoom(F,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&F<1||this._zoom>d.getMaxZoom()&&F>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,F===1)return}else{var Q=w._add(T)._divideBy(2)._subtract(this._centerPoint);if(F===1&&Q.x===0&&Q.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(Q),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var _e=h(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(_e,this,!0),Mr(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});On.addInitHook("addHandler","touchZoom",Kl),On.BoxZoom=vl,On.DoubleClickZoom=Yu,On.Drag=yl,On.Keyboard=xl,On.ScrollWheelZoom=Xl,On.TapHold=Yl,On.TouchZoom=Kl,n.Bounds=nt,n.Browser=Ke,n.CRS=Fe,n.Canvas=ps,n.Circle=Kr,n.CircleMarker=Xi,n.Class=me,n.Control=Hr,n.DivIcon=Vr,n.DivOverlay=nr,n.DomEvent=di,n.DomUtil=Vt,n.Draggable=io,n.Evented=Ie,n.FeatureGroup=Bi,n.GeoJSON=f,n.GridLayer=ji,n.Handler=pi,n.Icon=bo,n.ImageOverlay=Ge,n.LatLng=xe,n.LatLngBounds=ae,n.Layer=Kn,n.LayerGroup=ii,n.LineUtil=Hn,n.Map=On,n.Marker=tr,n.Mixin=pa,n.Path=Ti,n.Point=pe,n.PolyUtil=fs,n.Polygon=u,n.Polyline=r,n.Popup=Wr,n.PosAnimation=Ks,n.Projection=kr,n.Rectangle=Ao,n.Renderer=gr,n.SVG=$s,n.SVGOverlay=Nn,n.TileLayer=gi,n.Tooltip=jn,n.Transformation=it,n.Util=ye,n.VideoOverlay=mt,n.bind=h,n.bounds=W,n.canvas=ka,n.circle=H,n.circleMarker=Fn,n.control=Zi,n.divIcon=Yi,n.extend=a,n.featureGroup=Fi,n.geoJSON=Ee,n.geoJson=ke,n.gridLayer=oo,n.icon=Ls,n.imageOverlay=dt,n.latLng=he,n.latLngBounds=le,n.layerGroup=Li,n.map=da,n.marker=Js,n.point=Ce,n.polygon=c,n.polyline=o,n.popup=Br,n.rectangle=Zl,n.setOptions=R,n.stamp=g,n.svg=so,n.svgOverlay=gn,n.tileLayer=dr,n.tooltip=Rr,n.transformation=bt,n.version=i,n.videoOverlay=pt;var Ql=window.L;n.noConflict=function(){return window.L=Ql,this},window.L=n})})(F0,F0.exports);var ch=F0.exports;const I6=od(ch);function sx(e,t){const n=Te.useRef(t);Te.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const L6=1;function T6(e){return Object.freeze({__version:L6,map:e})}function P6(e,t){return Object.freeze({...e,...t})}const ax=Te.createContext(null),lx=ax.Provider;function ux(){const e=Te.useContext(ax);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function k6(e){function t(n,i){const{instance:a,context:l}=e(n).current;return Te.useImperativeHandle(i,()=>a),n.children==null?null:Ir.createElement(lx,{value:l},n.children)}return Te.forwardRef(t)}function R6(e){function t(n,i){const[a,l]=Te.useState(!1),{instance:h}=e(n,l).current;Te.useImperativeHandle(i,()=>h),Te.useEffect(function(){a&&h.update()},[h,a,n.children]);const m=h._contentNode;return m?bd.createPortal(n.children,m):null}return Te.forwardRef(t)}function O6(e){function t(n,i){const{instance:a}=e(n).current;return Te.useImperativeHandle(i,()=>a),null}return Te.forwardRef(t)}function cx(e,t){const n=Te.useRef();Te.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function s2(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function M6(e,t){return function(i,a){const l=ux(),h=e(s2(i,l),l);return sx(l.map,i.attribution),cx(h.current,i.eventHandlers),t(h.current,l,i,a),h}}function a2(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function l2(e,t){return t==null?function(i,a){const l=Te.useRef();return l.current||(l.current=e(i,a)),l}:function(i,a){const l=Te.useRef();l.current||(l.current=e(i,a));const h=Te.useRef(i),{instance:m}=l.current;return Te.useEffect(function(){h.current!==i&&(t(m,i,h.current),h.current=i)},[m,i,a]),l}}function D6(e,t){Te.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function hx(e){return function(n){const i=ux(),a=e(s2(n,i),i);return sx(i.map,n.attribution),cx(a.current,n.eventHandlers),D6(a.current,i),a}}function B6(e,t){const n=l2(e,t),i=hx(n);return k6(i)}function F6(e,t){const n=l2(e),i=M6(n,t);return R6(i)}function j6(e,t){const n=l2(e,t),i=hx(n);return O6(i)}function z6(e,t,n){const{opacity:i,zIndex:a}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function j0(){return j0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},j0.apply(this,arguments)}function U6({bounds:e,boundsOptions:t,center:n,children:i,className:a,id:l,placeholder:h,style:m,whenReady:g,zoom:v,..._},A){const[I]=Te.useState({className:a,id:l,style:m}),[E,O]=Te.useState(null);Te.useImperativeHandle(A,()=>(E==null?void 0:E.map)??null,[E]);const R=Te.useCallback(M=>{if(M!==null&&E===null){const k=new ch.Map(M,_);n!=null&&v!=null?k.setView(n,v):e!=null&&k.fitBounds(e,t),g!=null&&k.whenReady(g),O(T6(k))}},[]);Te.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const z=E?Ir.createElement(lx,{value:E},i):h??null;return Ir.createElement("div",j0({},I,{ref:R}),z)}const H6=Te.forwardRef(U6),W6=B6(function({position:t,...n},i){const a=new ch.Marker(t,n);return a2(a,P6(i,{overlayContainer:a}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),V6=F6(function(t,n){const i=new ch.Popup(t,n.overlayContainer);return a2(i,n)},function(t,n,{position:i},a){Te.useEffect(function(){const{instance:h}=t;function m(v){v.popup===h&&(h.update(),a(!0))}function g(v){v.popup===h&&a(!1)}return n.map.on({popupopen:m,popupclose:g}),n.overlayContainer==null?(i!=null&&h.setLatLng(i),h.openOn(n.map)):n.overlayContainer.bindPopup(h),function(){var _;n.map.off({popupopen:m,popupclose:g}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(h)}},[t,n,a,i])}),q6=j6(function({url:t,...n},i){const a=new ch.TileLayer(t,s2(n,i));return a2(a,i)},function(t,n,i){z6(t,n,i);const{url:a}=n;a!=null&&a!==i.url&&t.setUrl(a)});function G6(){var R;const e=Vs(),[t,n]=Te.useState([]),[i,a]=Te.useState(!0),[l,h]=Te.useState([48.2715,16.403]),{token:m}=ui(),g=(R=e.state)==null?void 0:R.operationScene;Te.useEffect(()=>{fetch("/api/persons",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({operationScene:g})}).then(z=>z.json()).then(z=>{n(z),v(z),a(!1)}).catch(z=>{console.error("Error fetching persons:",z),a(!1)})},[]);const v=z=>{if(z.length===0)return;let M=0,k=0,j=0;for(let $ of z)$.latitude_patient!=null&&$.longitude_patient!=null&&(k+=parseFloat($.latitude_patient),j+=parseFloat($.longitude_patient),M++);h([k/M,j/M])},_=z=>{if(z!=null)switch(z.toLowerCase()){case"gelb":return"yellow";case"rot":return"red";case"grn":return"green";case"blau":return"blue";case"schwarz":return"black";default:return"white"}},A=z=>I6.divIcon({className:"custom-div-icon",html:`<div style='background-color:${z};' class='marker-pin'></div>`,iconSize:[30,42],iconAnchor:[15,42]}),I=document.querySelectorAll("table thead th"),E=document.querySelectorAll("table tbody tr:first-child td"),O=()=>t.map(z=>z.latitude_patient!=null&&z.longitude_patient!=null?V.jsx(W6,{position:[z.latitude_patient,z.longitude_patient],icon:A(_(z.triagefarbe)),children:V.jsxs(V6,{children:["Nummer: ",z.idpatient,V.jsx("br",{}),"Kontaminiert: ",z.kontaminiert?"Ja":"Nein",V.jsx("br",{})]})},z.idpatient):null);return i?V.jsx("p",{children:"Ldt..."}):t.length===0?V.jsx("p",{children:"Keine Personen gefunden."}):V.jsxs("div",{style:{position:"absolute",top:"20%",left:"0",width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",padding:"0",display:"flex",flexDirection:"column"},children:[V.jsxs("div",{children:[V.jsxs("table",{border:"1",style:{margin:15},children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Nummer"}),V.jsx("th",{children:"Atmung"}),V.jsx("th",{children:"Blutung"}),V.jsx("th",{children:"Triagefarbe"}),V.jsx("th",{children:"Transport"}),V.jsx("th",{children:"Dringend"}),V.jsx("th",{children:"Name"}),V.jsx("th",{children:"Position (Longitude)"}),V.jsx("th",{children:"Position (Latitude)"}),V.jsx("th",{children:"Erfasst"}),V.jsx("th",{children:"Letztes Update"})]})}),V.jsx("tbody",{children:t.map(z=>V.jsxs("tr",{children:[V.jsx("td",{children:z.idpatient}),V.jsx("td",{children:z.atmung?"Ja":"Nein"}),V.jsx("td",{children:z.blutung?"Ja":"Nein"}),V.jsx("td",{children:V.jsx("div",{style:{backgroundColor:_(z.triagefarbe)},children:z.triagefarbe})}),V.jsx("td",{children:z.transport?"Ja":"Nein"}),V.jsx("td",{children:z.dringend?"Ja":"Nein"}),V.jsx("td",{children:z.name||"N/A"}),V.jsx("td",{children:z.longitude_patient||"N/A"}),V.jsx("td",{children:z.latitude_patient||"N/A"}),V.jsx("td",{children:z.created_at}),V.jsx("td",{children:z.updated_at})]},z.idpatient))})]}),E.forEach((z,M)=>{z.style.width=window.getComputedStyle(I[M]).width})]}),V.jsx("div",{style:{height:"400px",width:"100%"},children:V.jsxs(H6,{center:l,zoom:13,style:{flex:1,height:"300px",width:"100%"},children:[V.jsx(q6,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),O()]})})]})}function fx(){const[e,t]=Te.useState({username:"",password:""}),[n,i]=Te.useState(""),a=Lo(),{setAdminToken:l}=ui(),h=({target:v})=>{const{name:_,value:A}=v;t(I=>({...I,[_]:A}))},m=document.getElementById("root").getAttribute("data-csrf"),g=async v=>{v.preventDefault();try{const A=await(await fetch("/api/adminLogin",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":m},body:JSON.stringify({username:e.username,password:e.password})})).json();A.status.toLowerCase()==="success"&&A.token?(l(A.token),localStorage.setItem("Username",e.username),a("/AdminSettingsPage")):i("Benutzername oder Passwort ist falsch. Bitte versuche es erneut.")}catch(_){console.error("Fetch error:",_),i("Fehler bei der Anmeldung. Bitte versuche es nochmal.")}};return V.jsxs("div",{className:"login-container",children:[V.jsx("h2",{className:"Anmeldung",children:"Admin-Anmeldung"}),V.jsx("p",{children:"Geben Sie Ihre Zugangsdaten ein, um sich als Admin anzumelden."}),n&&V.jsx("p",{style:{color:"red",fontWeight:"bold",textAlign:"center"},children:n}),V.jsxs("form",{onSubmit:g,className:"admin-login-form",children:[V.jsxs("div",{className:"input-container",children:[V.jsx("label",{htmlFor:"username",children:"Benutzername:"}),V.jsx("input",{type:"text",id:"username",name:"username",value:e.username,placeholder:"Geben Sie Ihren Benutzernamen ein",onChange:h,required:!0})]}),V.jsxs("div",{className:"input-container",children:[V.jsx("label",{htmlFor:"password",children:"Passwort:"}),V.jsx("input",{type:"password",id:"password",name:"password",value:e.password,placeholder:"Geben Sie Ihr Passwort ein",onChange:h,required:!0})]}),V.jsx("button",{type:"submit",className:"login-button",children:"Anmelden"})]})]})}var dx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mm=Ir.createContext&&Ir.createContext(dx),ll=globalThis&&globalThis.__assign||function(){return ll=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ll.apply(this,arguments)},Z6=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};function px(e){return e&&e.map(function(t,n){return Ir.createElement(t.tag,ll({key:n},t.attr),px(t.child))})}function gx(e){return function(t){return Ir.createElement(X6,ll({attr:ll({},e.attr)},t),px(e.child))}}function X6(e){var t=function(n){var i=e.attr,a=e.size,l=e.title,h=Z6(e,["attr","size","title"]),m=a||n.size||"1em",g;return n.className&&(g=n.className),e.className&&(g=(g?g+" ":"")+e.className),Ir.createElement("svg",ll({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,h,{className:g,style:ll(ll({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Ir.createElement("title",null,l),e.children)};return Mm!==void 0?Ir.createElement(Mm.Consumer,null,function(n){return t(n)}):t(dx)}function Y6(e){return gx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M312 372c-7.7 0-14 6.3-14 14 0 9.9-8.1 18-18 18H94c-9.9 0-18-8.1-18-18V126c0-9.9 8.1-18 18-18h186c9.9 0 18 8.1 18 18 0 7.7 6.3 14 14 14s14-6.3 14-14c0-25.4-20.6-46-46-46H94c-25.4 0-46 20.6-46 46v260c0 25.4 20.6 46 46 46h186c25.4 0 46-20.6 46-46 0-7.7-6.3-14-14-14z"}},{tag:"path",attr:{d:"M372.9 158.1c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H162c-7.7 0-14 6.3-14 14s6.3 14 14 14h256.6L355 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.5-84.2z"}}]})(e)}function K6(e){return gx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function Q6(){const e=Lo(),{adminToken:t,setAdminToken:n}=ui(),i=()=>{n(null),window.location.reload()},a=()=>{e("/ChangeAdminPasswordPage",{state:{username:localStorage.getItem("Username")}})};return V.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginBottom:"30px"},children:[V.jsxs("button",{onClick:i,className:"action-button",children:[V.jsx(Y6,{})," Logout"]}),V.jsxs("button",{onClick:a,className:"action-button",children:[V.jsx(K6,{})," Passwort ndern"]})]}),V.jsxs("fieldset",{className:"settings-group",children:[V.jsx("legend",{children:"Authorizierungs QR-Codes (Einsatzkrfte)"}),V.jsx("button",{onClick:()=>e("/CreateLoginQrCodesPage"),className:"wide-button",children:"QR-Codes fr Authorizierung erzeugen"}),V.jsx("button",{onClick:()=>e("/ShowUnusedLoginQrCodesPage"),className:"wide-button",children:"Nicht verwendete QR-Codes anzeigen"})]}),V.jsxs("fieldset",{className:"settings-group",children:[V.jsx("legend",{children:"Patienten QR-Codes"}),V.jsx("button",{onClick:()=>e("/CreatePatientQrCodePage"),className:"wide-button",children:"Patienten QR-Codes erzeugen"}),V.jsx("button",{onClick:()=>e("/ShowUnusedPatientQrCodesPage"),className:"wide-button",children:"Nicht verwendete QR-Codes anzeigen"})]}),V.jsxs("fieldset",{className:"settings-group",children:[V.jsx("legend",{children:"Einsatzort"}),V.jsx("button",{onClick:()=>e("/EditOperationScene"),className:"wide-button",children:"Einsatzort erstellen/bearbeiten"})]}),V.jsxs("fieldset",{className:"settings-group",children:[V.jsx("legend",{children:"Admin-Management"}),V.jsx("button",{onClick:()=>e("/CreateNewAdminUserPage"),className:"wide-button",children:"Admin-User erstellen"})]})]})}var J6=Object.defineProperty,Kf=Object.getOwnPropertySymbols,mx=Object.prototype.hasOwnProperty,vx=Object.prototype.propertyIsEnumerable,Dm=(e,t,n)=>t in e?J6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jc=(e,t)=>{for(var n in t||(t={}))mx.call(t,n)&&Dm(e,n,t[n]);if(Kf)for(var n of Kf(t))vx.call(t,n)&&Dm(e,n,t[n]);return e},u2=(e,t)=>{var n={};for(var i in e)mx.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Kf)for(var i of Kf(e))t.indexOf(i)<0&&vx.call(e,i)&&(n[i]=e[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ul;(e=>{const t=class{constructor(g,v,_,A){if(this.version=g,this.errorCorrectionLevel=v,this.modules=[],this.isFunction=[],g<t.MIN_VERSION||g>t.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=g*4+17;let I=[];for(let O=0;O<this.size;O++)I.push(!1);for(let O=0;O<this.size;O++)this.modules.push(I.slice()),this.isFunction.push(I.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(_);if(this.drawCodewords(E),A==-1){let O=1e9;for(let R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);const z=this.getPenaltyScore();z<O&&(A=R,O=z),this.applyMask(R)}}l(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(g,v){const _=e.QrSegment.makeSegments(g);return t.encodeSegments(_,v)}static encodeBinary(g,v){const _=e.QrSegment.makeBytes(g);return t.encodeSegments([_],v)}static encodeSegments(g,v,_=1,A=40,I=-1,E=!0){if(!(t.MIN_VERSION<=_&&_<=A&&A<=t.MAX_VERSION)||I<-1||I>7)throw new RangeError("Invalid value");let O,R;for(O=_;;O++){const j=t.getNumDataCodewords(O,v)*8,$=m.getTotalBits(g,O);if($<=j){R=$;break}if(O>=A)throw new RangeError("Data too long")}for(const j of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])E&&R<=t.getNumDataCodewords(O,j)*8&&(v=j);let z=[];for(const j of g){i(j.mode.modeBits,4,z),i(j.numChars,j.mode.numCharCountBits(O),z);for(const $ of j.getData())z.push($)}l(z.length==R);const M=t.getNumDataCodewords(O,v)*8;l(z.length<=M),i(0,Math.min(4,M-z.length),z),i(0,(8-z.length%8)%8,z),l(z.length%8==0);for(let j=236;z.length<M;j^=253)i(j,8,z);let k=[];for(;k.length*8<z.length;)k.push(0);return z.forEach((j,$)=>k[$>>>3]|=j<<7-($&7)),new t(O,v,k,I)}getModule(g,v){return 0<=g&&g<this.size&&0<=v&&v<this.size&&this.modules[v][g]}getModules(){return this.modules}drawFunctionPatterns(){for(let _=0;_<this.size;_++)this.setFunctionModule(6,_,_%2==0),this.setFunctionModule(_,6,_%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const g=this.getAlignmentPatternPositions(),v=g.length;for(let _=0;_<v;_++)for(let A=0;A<v;A++)_==0&&A==0||_==0&&A==v-1||_==v-1&&A==0||this.drawAlignmentPattern(g[_],g[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(g){const v=this.errorCorrectionLevel.formatBits<<3|g;let _=v;for(let I=0;I<10;I++)_=_<<1^(_>>>9)*1335;const A=(v<<10|_)^21522;l(A>>>15==0);for(let I=0;I<=5;I++)this.setFunctionModule(8,I,a(A,I));this.setFunctionModule(8,7,a(A,6)),this.setFunctionModule(8,8,a(A,7)),this.setFunctionModule(7,8,a(A,8));for(let I=9;I<15;I++)this.setFunctionModule(14-I,8,a(A,I));for(let I=0;I<8;I++)this.setFunctionModule(this.size-1-I,8,a(A,I));for(let I=8;I<15;I++)this.setFunctionModule(8,this.size-15+I,a(A,I));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let g=this.version;for(let _=0;_<12;_++)g=g<<1^(g>>>11)*7973;const v=this.version<<12|g;l(v>>>18==0);for(let _=0;_<18;_++){const A=a(v,_),I=this.size-11+_%3,E=Math.floor(_/3);this.setFunctionModule(I,E,A),this.setFunctionModule(E,I,A)}}drawFinderPattern(g,v){for(let _=-4;_<=4;_++)for(let A=-4;A<=4;A++){const I=Math.max(Math.abs(A),Math.abs(_)),E=g+A,O=v+_;0<=E&&E<this.size&&0<=O&&O<this.size&&this.setFunctionModule(E,O,I!=2&&I!=4)}}drawAlignmentPattern(g,v){for(let _=-2;_<=2;_++)for(let A=-2;A<=2;A++)this.setFunctionModule(g+A,v+_,Math.max(Math.abs(A),Math.abs(_))!=1)}setFunctionModule(g,v,_){this.modules[v][g]=_,this.isFunction[v][g]=!0}addEccAndInterleave(g){const v=this.version,_=this.errorCorrectionLevel;if(g.length!=t.getNumDataCodewords(v,_))throw new RangeError("Invalid argument");const A=t.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][v],I=t.ECC_CODEWORDS_PER_BLOCK[_.ordinal][v],E=Math.floor(t.getNumRawDataModules(v)/8),O=A-E%A,R=Math.floor(E/A);let z=[];const M=t.reedSolomonComputeDivisor(I);for(let j=0,$=0;j<A;j++){let de=g.slice($,$+R-I+(j<O?0:1));$+=de.length;const ne=t.reedSolomonComputeRemainder(de,M);j<O&&de.push(0),z.push(de.concat(ne))}let k=[];for(let j=0;j<z[0].length;j++)z.forEach(($,de)=>{(j!=R-I||de>=O)&&k.push($[j])});return l(k.length==E),k}drawCodewords(g){if(g.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let v=0;for(let _=this.size-1;_>=1;_-=2){_==6&&(_=5);for(let A=0;A<this.size;A++)for(let I=0;I<2;I++){const E=_-I,R=(_+1&2)==0?this.size-1-A:A;!this.isFunction[R][E]&&v<g.length*8&&(this.modules[R][E]=a(g[v>>>3],7-(v&7)),v++)}}l(v==g.length*8)}applyMask(g){if(g<0||g>7)throw new RangeError("Mask value out of range");for(let v=0;v<this.size;v++)for(let _=0;_<this.size;_++){let A;switch(g){case 0:A=(_+v)%2==0;break;case 1:A=v%2==0;break;case 2:A=_%3==0;break;case 3:A=(_+v)%3==0;break;case 4:A=(Math.floor(_/3)+Math.floor(v/2))%2==0;break;case 5:A=_*v%2+_*v%3==0;break;case 6:A=(_*v%2+_*v%3)%2==0;break;case 7:A=((_+v)%2+_*v%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[v][_]&&A&&(this.modules[v][_]=!this.modules[v][_])}}getPenaltyScore(){let g=0;for(let I=0;I<this.size;I++){let E=!1,O=0,R=[0,0,0,0,0,0,0];for(let z=0;z<this.size;z++)this.modules[I][z]==E?(O++,O==5?g+=t.PENALTY_N1:O>5&&g++):(this.finderPenaltyAddHistory(O,R),E||(g+=this.finderPenaltyCountPatterns(R)*t.PENALTY_N3),E=this.modules[I][z],O=1);g+=this.finderPenaltyTerminateAndCount(E,O,R)*t.PENALTY_N3}for(let I=0;I<this.size;I++){let E=!1,O=0,R=[0,0,0,0,0,0,0];for(let z=0;z<this.size;z++)this.modules[z][I]==E?(O++,O==5?g+=t.PENALTY_N1:O>5&&g++):(this.finderPenaltyAddHistory(O,R),E||(g+=this.finderPenaltyCountPatterns(R)*t.PENALTY_N3),E=this.modules[z][I],O=1);g+=this.finderPenaltyTerminateAndCount(E,O,R)*t.PENALTY_N3}for(let I=0;I<this.size-1;I++)for(let E=0;E<this.size-1;E++){const O=this.modules[I][E];O==this.modules[I][E+1]&&O==this.modules[I+1][E]&&O==this.modules[I+1][E+1]&&(g+=t.PENALTY_N2)}let v=0;for(const I of this.modules)v=I.reduce((E,O)=>E+(O?1:0),v);const _=this.size*this.size,A=Math.ceil(Math.abs(v*20-_*10)/_)-1;return l(0<=A&&A<=9),g+=A*t.PENALTY_N4,l(0<=g&&g<=2568888),g}getAlignmentPatternPositions(){if(this.version==1)return[];{const g=Math.floor(this.version/7)+2,v=this.version==32?26:Math.ceil((this.version*4+4)/(g*2-2))*2;let _=[6];for(let A=this.size-7;_.length<g;A-=v)_.splice(1,0,A);return _}}static getNumRawDataModules(g){if(g<t.MIN_VERSION||g>t.MAX_VERSION)throw new RangeError("Version number out of range");let v=(16*g+128)*g+64;if(g>=2){const _=Math.floor(g/7)+2;v-=(25*_-10)*_-55,g>=7&&(v-=36)}return l(208<=v&&v<=29648),v}static getNumDataCodewords(g,v){return Math.floor(t.getNumRawDataModules(g)/8)-t.ECC_CODEWORDS_PER_BLOCK[v.ordinal][g]*t.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][g]}static reedSolomonComputeDivisor(g){if(g<1||g>255)throw new RangeError("Degree out of range");let v=[];for(let A=0;A<g-1;A++)v.push(0);v.push(1);let _=1;for(let A=0;A<g;A++){for(let I=0;I<v.length;I++)v[I]=t.reedSolomonMultiply(v[I],_),I+1<v.length&&(v[I]^=v[I+1]);_=t.reedSolomonMultiply(_,2)}return v}static reedSolomonComputeRemainder(g,v){let _=v.map(A=>0);for(const A of g){const I=A^_.shift();_.push(0),v.forEach((E,O)=>_[O]^=t.reedSolomonMultiply(E,I))}return _}static reedSolomonMultiply(g,v){if(g>>>8||v>>>8)throw new RangeError("Byte out of range");let _=0;for(let A=7;A>=0;A--)_=_<<1^(_>>>7)*285,_^=(v>>>A&1)*g;return l(_>>>8==0),_}finderPenaltyCountPatterns(g){const v=g[1];l(v<=this.size*3);const _=v>0&&g[2]==v&&g[3]==v*3&&g[4]==v&&g[5]==v;return(_&&g[0]>=v*4&&g[6]>=v?1:0)+(_&&g[6]>=v*4&&g[0]>=v?1:0)}finderPenaltyTerminateAndCount(g,v,_){return g&&(this.finderPenaltyAddHistory(v,_),v=0),v+=this.size,this.finderPenaltyAddHistory(v,_),this.finderPenaltyCountPatterns(_)}finderPenaltyAddHistory(g,v){v[0]==0&&(g+=this.size),v.pop(),v.unshift(g)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function i(g,v,_){if(v<0||v>31||g>>>v)throw new RangeError("Value out of range");for(let A=v-1;A>=0;A--)_.push(g>>>A&1)}function a(g,v){return(g>>>v&1)!=0}function l(g){if(!g)throw new Error("Assertion error")}const h=class{constructor(g,v,_){if(this.mode=g,this.numChars=v,this.bitData=_,v<0)throw new RangeError("Invalid argument");this.bitData=_.slice()}static makeBytes(g){let v=[];for(const _ of g)i(_,8,v);return new h(h.Mode.BYTE,g.length,v)}static makeNumeric(g){if(!h.isNumeric(g))throw new RangeError("String contains non-numeric characters");let v=[];for(let _=0;_<g.length;){const A=Math.min(g.length-_,3);i(parseInt(g.substr(_,A),10),A*3+1,v),_+=A}return new h(h.Mode.NUMERIC,g.length,v)}static makeAlphanumeric(g){if(!h.isAlphanumeric(g))throw new RangeError("String contains unencodable characters in alphanumeric mode");let v=[],_;for(_=0;_+2<=g.length;_+=2){let A=h.ALPHANUMERIC_CHARSET.indexOf(g.charAt(_))*45;A+=h.ALPHANUMERIC_CHARSET.indexOf(g.charAt(_+1)),i(A,11,v)}return _<g.length&&i(h.ALPHANUMERIC_CHARSET.indexOf(g.charAt(_)),6,v),new h(h.Mode.ALPHANUMERIC,g.length,v)}static makeSegments(g){return g==""?[]:h.isNumeric(g)?[h.makeNumeric(g)]:h.isAlphanumeric(g)?[h.makeAlphanumeric(g)]:[h.makeBytes(h.toUtf8ByteArray(g))]}static makeEci(g){let v=[];if(g<0)throw new RangeError("ECI assignment value out of range");if(g<128)i(g,8,v);else if(g<16384)i(2,2,v),i(g,14,v);else if(g<1e6)i(6,3,v),i(g,21,v);else throw new RangeError("ECI assignment value out of range");return new h(h.Mode.ECI,0,v)}static isNumeric(g){return h.NUMERIC_REGEX.test(g)}static isAlphanumeric(g){return h.ALPHANUMERIC_REGEX.test(g)}getData(){return this.bitData.slice()}static getTotalBits(g,v){let _=0;for(const A of g){const I=A.mode.numCharCountBits(v);if(A.numChars>=1<<I)return 1/0;_+=4+I+A.bitData.length}return _}static toUtf8ByteArray(g){g=encodeURI(g);let v=[];for(let _=0;_<g.length;_++)g.charAt(_)!="%"?v.push(g.charCodeAt(_)):(v.push(parseInt(g.substr(_+1,2),16)),_+=2);return v}};let m=h;m.NUMERIC_REGEX=/^[0-9]*$/,m.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,m.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=m})(Ul||(Ul={}));(e=>{(t=>{const n=class{constructor(a,l){this.ordinal=a,this.formatBits=l}};let i=n;i.LOW=new n(0,1),i.MEDIUM=new n(1,0),i.QUARTILE=new n(2,3),i.HIGH=new n(3,2),t.Ecc=i})(e.QrCode||(e.QrCode={}))})(Ul||(Ul={}));(e=>{(t=>{const n=class{constructor(a,l){this.modeBits=a,this.numBitsCharCount=l}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let i=n;i.NUMERIC=new n(1,[10,12,14]),i.ALPHANUMERIC=new n(2,[9,11,13]),i.BYTE=new n(4,[8,16,16]),i.KANJI=new n(8,[8,10,12]),i.ECI=new n(7,[0,0,0]),t.Mode=i})(e.QrSegment||(e.QrSegment={}))})(Ul||(Ul={}));var Cu=Ul;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var yx={L:Cu.QrCode.Ecc.LOW,M:Cu.QrCode.Ecc.MEDIUM,Q:Cu.QrCode.Ecc.QUARTILE,H:Cu.QrCode.Ecc.HIGH},xx=128,wx="L",_x="#FFFFFF",bx="#000000",Ax=!1,c2=4,$6=.1;function Cx(e,t=0){const n=[];return e.forEach(function(i,a){let l=null;i.forEach(function(h,m){if(!h&&l!==null){n.push(`M${l+t} ${a+t}h${m-l}v1H${l+t}z`),l=null;return}if(m===i.length-1){if(!h)return;l===null?n.push(`M${m+t},${a+t} h1v1H${m+t}z`):n.push(`M${l+t},${a+t} h${m+1-l}v1H${l+t}z`);return}h&&l===null&&(l=m)})}),n.join("")}function Ex(e,t){return e.slice().map((n,i)=>i<t.y||i>=t.y+t.h?n:n.map((a,l)=>l<t.x||l>=t.x+t.w?a:!1))}function Sx(e,t,n,i){if(i==null)return null;const a=n?c2:0,l=e.length+a*2,h=Math.floor(t*$6),m=l/t,g=(i.width||h)*m,v=(i.height||h)*m,_=i.x==null?e.length/2-g/2:i.x*m,A=i.y==null?e.length/2-v/2:i.y*m;let I=null;if(i.excavate){let E=Math.floor(_),O=Math.floor(A),R=Math.ceil(g+_-E),z=Math.ceil(v+A-O);I={x:E,y:O,w:R,h:z}}return{x:_,y:A,h:v,w:g,excavation:I}}var eA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function tA(e){const t=e,{value:n,size:i=xx,level:a=wx,bgColor:l=_x,fgColor:h=bx,includeMargin:m=Ax,style:g,imageSettings:v}=t,_=u2(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),A=v==null?void 0:v.src,I=Ir.useRef(null),E=Ir.useRef(null),[O,R]=Ir.useState(!1);Ir.useEffect(()=>{if(I.current!=null){const k=I.current,j=k.getContext("2d");if(!j)return;let $=Cu.QrCode.encodeText(n,yx[a]).getModules();const de=m?c2:0,ne=$.length+de*2,re=Sx($,i,m,v),te=E.current,se=re!=null&&te!==null&&te.complete&&te.naturalHeight!==0&&te.naturalWidth!==0;se&&re.excavation!=null&&($=Ex($,re.excavation));const Le=window.devicePixelRatio||1;k.height=k.width=i*Le;const J=i/ne*Le;j.scale(J,J),j.fillStyle=l,j.fillRect(0,0,ne,ne),j.fillStyle=h,eA?j.fill(new Path2D(Cx($,de))):$.forEach(function(Y,ye){Y.forEach(function(me,ge){me&&j.fillRect(ge+de,ye+de,1,1)})}),se&&j.drawImage(te,re.x+de,re.y+de,re.w,re.h)}}),Ir.useEffect(()=>{R(!1)},[A]);const z=Jc({height:i,width:i},g);let M=null;return A!=null&&(M=Ir.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{R(!0)},ref:E})),Ir.createElement(Ir.Fragment,null,Ir.createElement("canvas",Jc({style:z,height:i,width:i,ref:I},_)),M)}function nA(e){const t=e,{value:n,size:i=xx,level:a=wx,bgColor:l=_x,fgColor:h=bx,includeMargin:m=Ax,imageSettings:g}=t,v=u2(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let _=Cu.QrCode.encodeText(n,yx[a]).getModules();const A=m?c2:0,I=_.length+A*2,E=Sx(_,i,m,g);let O=null;g!=null&&E!=null&&(E.excavation!=null&&(_=Ex(_,E.excavation)),O=Ir.createElement("image",{xlinkHref:g.src,height:E.h,width:E.w,x:E.x+A,y:E.y+A,preserveAspectRatio:"none"}));const R=Cx(_,A);return Ir.createElement("svg",Jc({height:i,width:i,viewBox:`0 0 ${I} ${I}`},v),Ir.createElement("path",{fill:l,d:`M0,0 h${I}v${I}H0z`,shapeRendering:"crispEdges"}),Ir.createElement("path",{fill:h,d:R,shapeRendering:"crispEdges"}),O)}var Sd=e=>{const t=e,{renderAs:n}=t,i=u2(t,["renderAs"]);return n==="svg"?Ir.createElement(nA,Jc({},i)):Ir.createElement(tA,Jc({},i))};const rA="modulepreload",iA=function(e){return"/build/"+e},Bm={},z0=function(t,n,i){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=iA(l),l in Bm)return;Bm[l]=!0;const h=l.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!i)for(let _=a.length-1;_>=0;_--){const A=a[_];if(A.href===l&&(!h||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${m}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":rA,h||(v.as="script",v.crossOrigin=""),v.href=l,document.head.appendChild(v),h)return new Promise((_,A)=>{v.addEventListener("load",_),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l})};function xr(e){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}var mo=Uint8Array,es=Uint16Array,h2=Int32Array,Nd=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Id=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U0=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nx=function(e,t){for(var n=new es(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var a=new h2(n[30]),i=1;i<30;++i)for(var l=n[i];l<n[i+1];++l)a[l]=l-n[i]<<5|i;return{b:n,r:a}},Ix=Nx(Nd,2),Lx=Ix.b,H0=Ix.r;Lx[28]=258,H0[258]=28;var Tx=Nx(Id,0),oA=Tx.b,Fm=Tx.r,W0=new es(32768);for(var zr=0;zr<32768;++zr){var Ha=(zr&43690)>>1|(zr&21845)<<1;Ha=(Ha&52428)>>2|(Ha&13107)<<2,Ha=(Ha&61680)>>4|(Ha&3855)<<4,W0[zr]=((Ha&65280)>>8|(Ha&255)<<8)>>1}var ca=function(e,t,n){for(var i=e.length,a=0,l=new es(t);a<i;++a)e[a]&&++l[e[a]-1];var h=new es(t);for(a=1;a<t;++a)h[a]=h[a-1]+l[a-1]<<1;var m;if(n){m=new es(1<<t);var g=15-t;for(a=0;a<i;++a)if(e[a])for(var v=a<<4|e[a],_=t-e[a],A=h[e[a]-1]++<<_,I=A|(1<<_)-1;A<=I;++A)m[W0[A]>>g]=v}else for(m=new es(i),a=0;a<i;++a)e[a]&&(m[a]=W0[h[e[a]-1]++]>>15-e[a]);return m},hl=new mo(288);for(var zr=0;zr<144;++zr)hl[zr]=8;for(var zr=144;zr<256;++zr)hl[zr]=9;for(var zr=256;zr<280;++zr)hl[zr]=7;for(var zr=280;zr<288;++zr)hl[zr]=8;var $c=new mo(32);for(var zr=0;zr<32;++zr)$c[zr]=5;var sA=ca(hl,9,0),aA=ca(hl,9,1),lA=ca($c,5,0),uA=ca($c,5,1),A1=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ks=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},C1=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},f2=function(e){return(e+7)/8|0},Px=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new mo(e.subarray(t,n))},cA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ms=function(e,t,n){var i=new Error(t||cA[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Ms),!n)throw i;return i},hA=function(e,t,n,i){var a=e.length,l=i?i.length:0;if(!a||t.f&&!t.l)return n||new mo(0);var h=!n,m=h||t.i!=2,g=t.i;h&&(n=new mo(a*3));var v=function(it){var bt=n.length;if(it>bt){var lt=new mo(Math.max(bt*2,it));lt.set(n),n=lt}},_=t.f||0,A=t.p||0,I=t.b||0,E=t.l,O=t.d,R=t.m,z=t.n,M=a*8;do{if(!E){_=ks(e,A,1);var k=ks(e,A+1,3);if(A+=3,k)if(k==1)E=aA,O=uA,R=9,z=5;else if(k==2){var ne=ks(e,A,31)+257,re=ks(e,A+10,15)+4,te=ne+ks(e,A+5,31)+1;A+=14;for(var se=new mo(te),Le=new mo(19),J=0;J<re;++J)Le[U0[J]]=ks(e,A+J*3,7);A+=re*3;for(var Y=A1(Le),ye=(1<<Y)-1,me=ca(Le,Y,1),J=0;J<te;){var ge=me[ks(e,A,ye)];A+=ge&15;var j=ge>>4;if(j<16)se[J++]=j;else{var Me=0,Ie=0;for(j==16?(Ie=3+ks(e,A,3),A+=2,Me=se[J-1]):j==17?(Ie=3+ks(e,A,7),A+=3):j==18&&(Ie=11+ks(e,A,127),A+=7);Ie--;)se[J++]=Me}}var pe=se.subarray(0,ne),Re=se.subarray(ne);R=A1(pe),z=A1(Re),E=ca(pe,R,1),O=ca(Re,z,1)}else Ms(1);else{var j=f2(A)+4,$=e[j-4]|e[j-3]<<8,de=j+$;if(de>a){g&&Ms(0);break}m&&v(I+$),n.set(e.subarray(j,de),I),t.b=I+=$,t.p=A=de*8,t.f=_;continue}if(A>M){g&&Ms(0);break}}m&&v(I+131072);for(var Ce=(1<<R)-1,nt=(1<<z)-1,W=A;;W=A){var Me=E[C1(e,A)&Ce],ae=Me>>4;if(A+=Me&15,A>M){g&&Ms(0);break}if(Me||Ms(2),ae<256)n[I++]=ae;else if(ae==256){W=A,E=null;break}else{var le=ae-254;if(ae>264){var J=ae-257,xe=Nd[J];le=ks(e,A,(1<<xe)-1)+Lx[J],A+=xe}var he=O[C1(e,A)&nt],Fe=he>>4;he||Ms(3),A+=he&15;var Re=oA[Fe];if(Fe>3){var xe=Id[Fe];Re+=C1(e,A)&(1<<xe)-1,A+=xe}if(A>M){g&&Ms(0);break}m&&v(I+131072);var je=I+le;if(I<Re){var qe=l-Re,yt=Math.min(Re,je);for(qe+I<0&&Ms(3);I<yt;++I)n[I]=i[qe+I]}for(;I<je;++I)n[I]=n[I-Re]}}t.l=E,t.p=W,t.b=I,t.f=_,E&&(_=1,t.m=R,t.d=O,t.n=z)}while(!_);return I!=n.length&&h?Px(n,0,I):n.subarray(0,I)},va=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},gc=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},E1=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var a=n.length,l=n.slice();if(!a)return{t:Rx,l:0};if(a==1){var h=new mo(n[0].s+1);return h[n[0].s]=1,{t:h,l:1}}n.sort(function(de,ne){return de.f-ne.f}),n.push({s:-1,f:25001});var m=n[0],g=n[1],v=0,_=1,A=2;for(n[0]={s:-1,f:m.f+g.f,l:m,r:g};_!=a-1;)m=n[n[v].f<n[A].f?v++:A++],g=n[v!=_&&n[v].f<n[A].f?v++:A++],n[_++]={s:-1,f:m.f+g.f,l:m,r:g};for(var I=l[0].s,i=1;i<a;++i)l[i].s>I&&(I=l[i].s);var E=new es(I+1),O=V0(n[_-1],E,0);if(O>t){var i=0,R=0,z=O-t,M=1<<z;for(l.sort(function(ne,re){return E[re.s]-E[ne.s]||ne.f-re.f});i<a;++i){var k=l[i].s;if(E[k]>t)R+=M-(1<<O-E[k]),E[k]=t;else break}for(R>>=z;R>0;){var j=l[i].s;E[j]<t?R-=1<<t-E[j]++-1:++i}for(;i>=0&&R;--i){var $=l[i].s;E[$]==t&&(--E[$],++R)}O=t}return{t:new mo(E),l:O}},V0=function(e,t,n){return e.s==-1?Math.max(V0(e.l,t,n+1),V0(e.r,t,n+1)):t[e.s]=n},jm=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new es(++t),i=0,a=e[0],l=1,h=function(g){n[i++]=g},m=1;m<=t;++m)if(e[m]==a&&m!=t)++l;else{if(!a&&l>2){for(;l>138;l-=138)h(32754);l>2&&(h(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(h(a),--l;l>6;l-=6)h(8304);l>2&&(h(l-3<<5|8208),l=0)}for(;l--;)h(a);l=1,a=e[m]}return{c:n.subarray(0,i),n:t}},mc=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},kx=function(e,t,n){var i=n.length,a=f2(t+2);e[a]=i&255,e[a+1]=i>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var l=0;l<i;++l)e[a+l+4]=n[l];return(a+4+i)*8},zm=function(e,t,n,i,a,l,h,m,g,v,_){va(t,_++,n),++a[256];for(var A=E1(a,15),I=A.t,E=A.l,O=E1(l,15),R=O.t,z=O.l,M=jm(I),k=M.c,j=M.n,$=jm(R),de=$.c,ne=$.n,re=new es(19),te=0;te<k.length;++te)++re[k[te]&31];for(var te=0;te<de.length;++te)++re[de[te]&31];for(var se=E1(re,7),Le=se.t,J=se.l,Y=19;Y>4&&!Le[U0[Y-1]];--Y);var ye=v+5<<3,me=mc(a,hl)+mc(l,$c)+h,ge=mc(a,I)+mc(l,R)+h+14+3*Y+mc(re,Le)+2*re[16]+3*re[17]+7*re[18];if(g>=0&&ye<=me&&ye<=ge)return kx(t,_,e.subarray(g,g+v));var Me,Ie,pe,Re;if(va(t,_,1+(ge<me)),_+=2,ge<me){Me=ca(I,E,0),Ie=I,pe=ca(R,z,0),Re=R;var Ce=ca(Le,J,0);va(t,_,j-257),va(t,_+5,ne-1),va(t,_+10,Y-4),_+=14;for(var te=0;te<Y;++te)va(t,_+3*te,Le[U0[te]]);_+=3*Y;for(var nt=[k,de],W=0;W<2;++W)for(var ae=nt[W],te=0;te<ae.length;++te){var le=ae[te]&31;va(t,_,Ce[le]),_+=Le[le],le>15&&(va(t,_,ae[te]>>5&127),_+=ae[te]>>12)}}else Me=sA,Ie=hl,pe=lA,Re=$c;for(var te=0;te<m;++te){var xe=i[te];if(xe>255){var le=xe>>18&31;gc(t,_,Me[le+257]),_+=Ie[le+257],le>7&&(va(t,_,xe>>23&31),_+=Nd[le]);var he=xe&31;gc(t,_,pe[he]),_+=Re[he],he>3&&(gc(t,_,xe>>5&8191),_+=Id[he])}else gc(t,_,Me[xe]),_+=Ie[xe]}return gc(t,_,Me[256]),_+Ie[256]},fA=new h2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rx=new mo(0),dA=function(e,t,n,i,a,l){var h=l.z||e.length,m=new mo(i+h+5*(1+Math.ceil(h/7e3))+a),g=m.subarray(i,m.length-a),v=l.l,_=(l.r||0)&7;if(t){_&&(g[0]=l.r>>3);for(var A=fA[t-1],I=A>>13,E=A&8191,O=(1<<n)-1,R=l.p||new es(32768),z=l.h||new es(O+1),M=Math.ceil(n/3),k=2*M,j=function(Yt){return(e[Yt]^e[Yt+1]<<M^e[Yt+2]<<k)&O},$=new h2(25e3),de=new es(288),ne=new es(32),re=0,te=0,se=l.i||0,Le=0,J=l.w||0,Y=0;se+2<h;++se){var ye=j(se),me=se&32767,ge=z[ye];if(R[me]=ge,z[ye]=me,J<=se){var Me=h-se;if((re>7e3||Le>24576)&&(Me>423||!v)){_=zm(e,g,0,$,de,ne,te,Le,Y,se-Y,_),Le=re=te=0,Y=se;for(var Ie=0;Ie<286;++Ie)de[Ie]=0;for(var Ie=0;Ie<30;++Ie)ne[Ie]=0}var pe=2,Re=0,Ce=E,nt=me-ge&32767;if(Me>2&&ye==j(se-nt))for(var W=Math.min(I,Me)-1,ae=Math.min(32767,se),le=Math.min(258,Me);nt<=ae&&--Ce&&me!=ge;){if(e[se+pe]==e[se+pe-nt]){for(var xe=0;xe<le&&e[se+xe]==e[se+xe-nt];++xe);if(xe>pe){if(pe=xe,Re=nt,xe>W)break;for(var he=Math.min(nt,xe-2),Fe=0,Ie=0;Ie<he;++Ie){var je=se-nt+Ie&32767,qe=R[je],yt=je-qe&32767;yt>Fe&&(Fe=yt,ge=je)}}}me=ge,ge=R[me],nt+=me-ge&32767}if(Re){$[Le++]=268435456|H0[pe]<<18|Fm[Re];var it=H0[pe]&31,bt=Fm[Re]&31;te+=Nd[it]+Id[bt],++de[257+it],++ne[bt],J=se+pe,++re}else $[Le++]=e[se],++de[e[se]]}}for(se=Math.max(se,J);se<h;++se)$[Le++]=e[se],++de[e[se]];_=zm(e,g,v,$,de,ne,te,Le,Y,se-Y,_),v||(l.r=_&7|g[_/8|0]<<3,_-=7,l.h=z,l.p=R,l.i=se,l.w=J)}else{for(var se=l.w||0;se<h+v;se+=65535){var lt=se+65535;lt>=h&&(g[_/8|0]=v,lt=h),_=kx(g,_+1,e.subarray(se,lt))}l.i=h}return Px(m,0,i+f2(_)+a)},Ox=function(){var e=1,t=0;return{p:function(n){for(var i=e,a=t,l=n.length|0,h=0;h!=l;){for(var m=Math.min(h+2655,l);h<m;++h)a+=i+=n[h];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}e=i,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pA=function(e,t,n,i,a){if(!a&&(a={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),h=new mo(l.length+e.length);h.set(l),h.set(e,l.length),e=h,a.w=l.length}return dA(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,a)},Mx=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},gA=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Ox();a.p(t.dictionary),Mx(e,2,a.d())}},mA=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ms(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ms(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function q0(e,t){t||(t={});var n=Ox();n.p(e);var i=pA(e,t,t.dictionary?6:2,4);return gA(i,t),Mx(i,i.length-4,n.d()),i}function vA(e,t){return hA(e.subarray(mA(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var yA=typeof TextDecoder<"u"&&new TextDecoder,xA=0;try{yA.decode(Rx,{stream:!0}),xA=1}catch{}var yn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function S1(){yn.console&&typeof yn.console.log=="function"&&yn.console.log.apply(yn.console,arguments)}var Nr={log:S1,warn:function(e){yn.console&&(typeof yn.console.warn=="function"?yn.console.warn.apply(yn.console,arguments):S1.call(null,arguments))},error:function(e){yn.console&&(typeof yn.console.error=="function"?yn.console.error.apply(yn.console,arguments):S1(e))}};function N1(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Al(i.response,t,n)},i.onerror=function(){Nr.error("could not download file")},i.send()}function Um(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Pc,G0,Al=yn.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==yn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=yn.URL||yn.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?Um(a.href)?N1(e,t,n):qh(a,a.target="_blank"):qh(a)):(a.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){qh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Um(e))N1(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){qh(i)})}else navigator.msSaveOrOpenBlob(function(a,l){return l===void 0?l={autoBom:!1}:xr(l)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return N1(e,t,n);var a=e.type==="application/octet-stream",l=/constructor/i.test(yn.HTMLElement)||yn.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&l)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var m=new FileReader;m.onloadend=function(){var _=m.result;_=h?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=_:location=_,i=null},m.readAsDataURL(e)}else{var g=yn.URL||yn.webkitURL,v=g.createObjectURL(e);i?i.location=v:location.href=v,i=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dx(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(m){return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(m){return[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(m){return[parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16)]}}],i=0;i<n.length;i++){var a=n[i].re,l=n[i].process,h=a.exec(e);h&&(t=l(h),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var m=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return m.length==1&&(m="0"+m),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+m+g+v}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function I1(e,t){var n=e[0],i=e[1],a=e[2],l=e[3];n=co(n,i,a,l,t[0],7,-680876936),l=co(l,n,i,a,t[1],12,-389564586),a=co(a,l,n,i,t[2],17,606105819),i=co(i,a,l,n,t[3],22,-1044525330),n=co(n,i,a,l,t[4],7,-176418897),l=co(l,n,i,a,t[5],12,1200080426),a=co(a,l,n,i,t[6],17,-1473231341),i=co(i,a,l,n,t[7],22,-45705983),n=co(n,i,a,l,t[8],7,1770035416),l=co(l,n,i,a,t[9],12,-1958414417),a=co(a,l,n,i,t[10],17,-42063),i=co(i,a,l,n,t[11],22,-1990404162),n=co(n,i,a,l,t[12],7,1804603682),l=co(l,n,i,a,t[13],12,-40341101),a=co(a,l,n,i,t[14],17,-1502002290),n=ho(n,i=co(i,a,l,n,t[15],22,1236535329),a,l,t[1],5,-165796510),l=ho(l,n,i,a,t[6],9,-1069501632),a=ho(a,l,n,i,t[11],14,643717713),i=ho(i,a,l,n,t[0],20,-373897302),n=ho(n,i,a,l,t[5],5,-701558691),l=ho(l,n,i,a,t[10],9,38016083),a=ho(a,l,n,i,t[15],14,-660478335),i=ho(i,a,l,n,t[4],20,-405537848),n=ho(n,i,a,l,t[9],5,568446438),l=ho(l,n,i,a,t[14],9,-1019803690),a=ho(a,l,n,i,t[3],14,-187363961),i=ho(i,a,l,n,t[8],20,1163531501),n=ho(n,i,a,l,t[13],5,-1444681467),l=ho(l,n,i,a,t[2],9,-51403784),a=ho(a,l,n,i,t[7],14,1735328473),n=fo(n,i=ho(i,a,l,n,t[12],20,-1926607734),a,l,t[5],4,-378558),l=fo(l,n,i,a,t[8],11,-2022574463),a=fo(a,l,n,i,t[11],16,1839030562),i=fo(i,a,l,n,t[14],23,-35309556),n=fo(n,i,a,l,t[1],4,-1530992060),l=fo(l,n,i,a,t[4],11,1272893353),a=fo(a,l,n,i,t[7],16,-155497632),i=fo(i,a,l,n,t[10],23,-1094730640),n=fo(n,i,a,l,t[13],4,681279174),l=fo(l,n,i,a,t[0],11,-358537222),a=fo(a,l,n,i,t[3],16,-722521979),i=fo(i,a,l,n,t[6],23,76029189),n=fo(n,i,a,l,t[9],4,-640364487),l=fo(l,n,i,a,t[12],11,-421815835),a=fo(a,l,n,i,t[15],16,530742520),n=po(n,i=fo(i,a,l,n,t[2],23,-995338651),a,l,t[0],6,-198630844),l=po(l,n,i,a,t[7],10,1126891415),a=po(a,l,n,i,t[14],15,-1416354905),i=po(i,a,l,n,t[5],21,-57434055),n=po(n,i,a,l,t[12],6,1700485571),l=po(l,n,i,a,t[3],10,-1894986606),a=po(a,l,n,i,t[10],15,-1051523),i=po(i,a,l,n,t[1],21,-2054922799),n=po(n,i,a,l,t[8],6,1873313359),l=po(l,n,i,a,t[15],10,-30611744),a=po(a,l,n,i,t[6],15,-1560198380),i=po(i,a,l,n,t[13],21,1309151649),n=po(n,i,a,l,t[4],6,-145523070),l=po(l,n,i,a,t[11],10,-1120210379),a=po(a,l,n,i,t[2],15,718787259),i=po(i,a,l,n,t[9],21,-343485551),e[0]=Ja(n,e[0]),e[1]=Ja(i,e[1]),e[2]=Ja(a,e[2]),e[3]=Ja(l,e[3])}function Ld(e,t,n,i,a,l){return t=Ja(Ja(t,e),Ja(i,l)),Ja(t<<a|t>>>32-a,n)}function co(e,t,n,i,a,l,h){return Ld(t&n|~t&i,e,t,a,l,h)}function ho(e,t,n,i,a,l,h){return Ld(t&i|n&~i,e,t,a,l,h)}function fo(e,t,n,i,a,l,h){return Ld(t^n^i,e,t,a,l,h)}function po(e,t,n,i,a,l,h){return Ld(n^(t|~i),e,t,a,l,h)}function Bx(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)I1(i,wA(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(I1(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,I1(i,a),i}function wA(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Pc=yn.atob.bind(yn),G0=yn.btoa.bind(yn);var Hm="0123456789abcdef".split("");function _A(e){for(var t="",n=0;n<4;n++)t+=Hm[e>>8*n+4&15]+Hm[e>>8*n&15];return t}function bA(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Z0(e){return Bx(e).map(bA).join("")}var AA=function(e){for(var t=0;t<e.length;t++)e[t]=_A(e[t]);return e.join("")}(Bx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ja(e,t){if(AA){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X0(e,t){var n,i,a,l;if(e!==n){for(var h=(a=e,l=1+(256/e.length>>0),new Array(l+1).join(a)),m=[],g=0;g<256;g++)m[g]=g;var v=0;for(g=0;g<256;g++){var _=m[g];v=(v+_+h.charCodeAt(g))%256,m[g]=m[v],m[v]=_}n=e,i=m}else m=i;var A=t.length,I=0,E=0,O="";for(g=0;g<A;g++)E=(E+(_=m[I=(I+1)%256]))%256,m[I]=m[E],m[E]=_,h=m[(m[I]+m[E])%256],O+=String.fromCharCode(t.charCodeAt(g)^h);return O}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Wm={print:4,modify:8,copy:16,"annot-forms":32};function uu(e,t,n,i){this.v=1,this.r=2;var a=192;e.forEach(function(m){if(Wm.perm!==void 0)throw new Error("Invalid permission: "+m);a+=Wm[m]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),h=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,h),this.P=-(1+(255^a)),this.encryptionKey=Z0(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=X0(this.encryptionKey,this.padding)}function cu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var a=e.charCodeAt(i);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[i]}return t}function Vm(e){if(xr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,a){if(a=a||!1,typeof n!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var l=Math.random().toString(35);return t[n][l]=[i,!!a],l},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var l in t[n]){var h=t[n][l];try{h[0].apply(e,i)}catch(m){yn.console&&Nr.error("jsPDF PubSub Error",m.message,m)}h[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Qf(e){if(!(this instanceof Qf))return new Qf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Fx(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Sl(e,t,n,i,a){if(!(this instanceof Sl))return new Sl(e,t,n,i,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Fx.call(this,i,a)}function Eu(e,t,n,i,a){if(!(this instanceof Eu))return new Eu(e,t,n,i,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Fx.call(this,i,a)}function an(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],l=arguments[3],h=[],m=1,g=16,v="S",_=null;xr(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,a=e.format||a,l=e.compress||e.compressPdf||l,(_=e.encryption||null)!==null&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),m=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(g=e.floatPrecision),v=e.defaultPathOperation||"S"),h=e.filters||(l===!0?["FlateEncode"]:h),i=i||"mm",n=(""+(n||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,I={},E={internal:{},__private__:{}};E.__private__.PubSub=Vm;var O="1.3",R=E.__private__.getPdfVersion=function(){return O};E.__private__.setPdfVersion=function(S){O=S};var z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};E.__private__.getPageFormats=function(){return z};var M=E.__private__.getPageFormat=function(S){return z[S]};a=a||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},j=k.COMPAT;function $(){this.saveGraphicsState(),we(new ve(It,0,0,-It,0,Di()*It).toString()+" cm"),this.setFontSize(this.getFontSize()/It),v="n",j=k.ADVANCED}function de(){this.restoreGraphicsState(),v="S",j=k.COMPAT}var ne=E.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};E.advancedAPI=function(S){var q=j===k.COMPAT;return q&&$.call(this),typeof S!="function"||(S(this),q&&de.call(this)),this},E.compatAPI=function(S){var q=j===k.ADVANCED;return q&&de.call(this),typeof S!="function"||(S(this),q&&$.call(this)),this},E.isAdvancedAPI=function(){return j===k.ADVANCED};var re,te=function(S){if(j!==k.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=E.roundToPrecision=E.__private__.roundToPrecision=function(S,q){var ue=t||q;if(isNaN(S)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ue).replace(/0+$/,"")};re=E.hpf=E.__private__.hpf=typeof g=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return se(S,g)}:g==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return se(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return se(S,16)};var Le=E.f2=E.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return se(S,2)},J=E.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return se(S,3)},Y=E.scale=E.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return j===k.COMPAT?S*It:j===k.ADVANCED?S:void 0},ye=function(S){return j===k.COMPAT?Di()-S:j===k.ADVANCED?S:void 0},me=function(S){return Y(ye(S))};E.__private__.setPrecision=E.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var ge,Me="00000000000000000000000000000000",Ie=E.__private__.getFileId=function(){return Me},pe=E.__private__.setFileId=function(S){return Me=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),_!==null&&(Pr=new uu(_.userPermissions,_.userPassword,_.ownerPassword,Me)),Me};E.setFileId=function(S){return pe(S),this},E.getFileId=function(){return Ie()};var Re=E.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),ue=q<0?"+":"-",Ae=Math.floor(Math.abs(q/60)),De=Math.abs(q%60),$e=[ue,le(Ae),"'",le(De),"'"].join("");return["D:",S.getFullYear(),le(S.getMonth()+1),le(S.getDate()),le(S.getHours()),le(S.getMinutes()),le(S.getSeconds()),$e].join("")},Ce=E.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),ue=parseInt(S.substr(6,2),10)-1,Ae=parseInt(S.substr(8,2),10),De=parseInt(S.substr(10,2),10),$e=parseInt(S.substr(12,2),10),ut=parseInt(S.substr(14,2),10);return new Date(q,ue,Ae,De,$e,ut,0)},nt=E.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=Re(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return ge=q},W=E.__private__.getCreationDate=function(S){var q=ge;return S==="jsDate"&&(q=Ce(ge)),q};E.setCreationDate=function(S){return nt(S),this},E.getCreationDate=function(S){return W(S)};var ae,le=E.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},xe=E.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},he=0,Fe=[],je=[],qe=0,yt=[],it=[],bt=!1,lt=je,Yt=function(){he=0,qe=0,je=[],Fe=[],yt=[],Lt=Ke(),Nt=Ke()};E.__private__.setCustomOutputDestination=function(S){bt=!0,lt=S};var Xe=function(S){bt||(lt=S)};E.__private__.resetCustomOutputDestination=function(){bt=!1,lt=je};var we=E.__private__.out=function(S){return S=S.toString(),qe+=S.length+1,lt.push(S),lt},Ut=E.__private__.write=function(S){return we(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},wt=E.__private__.getArrayBuffer=function(S){for(var q=S.length,ue=new ArrayBuffer(q),Ae=new Uint8Array(ue);q--;)Ae[q]=S.charCodeAt(q);return ue},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];E.__private__.getStandardFonts=function(){return rt};var At=e.fontSize||16;E.__private__.setFontSize=E.setFontSize=function(S){return At=j===k.ADVANCED?S/It:S,this};var Je,St=E.__private__.getFontSize=E.getFontSize=function(){return j===k.COMPAT?At:At*It},Ft=e.R2L||!1;E.__private__.setR2L=E.setR2L=function(S){return Ft=S,this},E.__private__.getR2L=E.getR2L=function(){return Ft};var Zt,un=E.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Je=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Je=S}else Je=parseInt(S,10)};E.__private__.getZoomMode=function(){return Je};var Qt,xn=E.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Zt=S};E.__private__.getPageMode=function(){return Zt};var cn=E.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Qt=S};E.__private__.getLayoutMode=function(){return Qt},E.__private__.setDisplayMode=E.setDisplayMode=function(S,q,ue){return un(S),cn(q),xn(ue),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};E.__private__.getDocumentProperty=function(S){if(Object.keys(zt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[S]},E.__private__.getDocumentProperties=function(){return zt},E.__private__.setDocumentProperties=E.setProperties=E.setDocumentProperties=function(S){for(var q in zt)zt.hasOwnProperty(q)&&S[q]&&(zt[q]=S[q]);return this},E.__private__.setDocumentProperty=function(S,q){if(Object.keys(zt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[S]=q};var wn,It,hr,Kt,xt,nn={},$t={},kn=[],Ln={},no={},or={},hn={},ti=null,cr=0,ln=[],_n=new Vm(E),Ri=e.hotfixes||[],Bn={},ci={},hi=[],ve=function S(q,ue,Ae,De,$e,ut){if(!(this instanceof S))return new S(q,ue,Ae,De,$e,ut);isNaN(q)&&(q=1),isNaN(ue)&&(ue=0),isNaN(Ae)&&(Ae=0),isNaN(De)&&(De=1),isNaN($e)&&($e=0),isNaN(ut)&&(ut=0),this._matrix=[q,ue,Ae,De,$e,ut]};Object.defineProperty(ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ve.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(re).join(S)},ve.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,ue=S.sx*this.shy+S.shy*this.sy,Ae=S.shx*this.sx+S.sy*this.shx,De=S.shx*this.shy+S.sy*this.sy,$e=S.tx*this.sx+S.ty*this.shx+this.tx,ut=S.tx*this.shy+S.ty*this.sy+this.ty;return new ve(q,ue,Ae,De,$e,ut)},ve.prototype.decompose=function(){var S=this.sx,q=this.shy,ue=this.shx,Ae=this.sy,De=this.tx,$e=this.ty,ut=Math.sqrt(S*S+q*q),Pt=(S/=ut)*ue+(q/=ut)*Ae;ue-=S*Pt,Ae-=q*Pt;var Dt=Math.sqrt(ue*ue+Ae*Ae);return Pt/=Dt,S*(Ae/=Dt)<q*(ue/=Dt)&&(S=-S,q=-q,Pt=-Pt,ut=-ut),{scale:new ve(ut,0,0,Dt,0,0),translate:new ve(1,0,0,1,De,$e),rotate:new ve(S,q,-q,S,0,0),skew:new ve(1,0,Pt,1,0,0)}},ve.prototype.toString=function(S){return this.join(" ")},ve.prototype.inversed=function(){var S=this.sx,q=this.shy,ue=this.shx,Ae=this.sy,De=this.tx,$e=this.ty,ut=1/(S*Ae-q*ue),Pt=Ae*ut,Dt=-q*ut,dn=-ue*ut,pn=S*ut;return new ve(Pt,Dt,dn,pn,-Pt*De-dn*$e,-Dt*De-pn*$e)},ve.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,ue=S.x*this.shy+S.y*this.sy+this.ty;return new Ns(q,ue)},ve.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),ue=this.applyToPoint(new Ns(S.x+S.w,S.y+S.h));return new io(q.x,q.y,ue.x-q.x,ue.y-q.y)},ve.prototype.clone=function(){var S=this.sx,q=this.shy,ue=this.shx,Ae=this.sy,De=this.tx,$e=this.ty;return new ve(S,q,ue,Ae,De,$e)},E.Matrix=ve;var Oe=E.matrixMult=function(S,q){return q.multiply(S)},He=new ve(1,0,0,1,0,0);E.unitMatrix=E.identityMatrix=He;var st=function(S,q){if(!no[S]){var ue=(q instanceof Sl?"Sh":"P")+(Object.keys(Ln).length+1).toString(10);q.id=ue,no[S]=ue,Ln[ue]=q,_n.publish("addPattern",q)}};E.ShadingPattern=Sl,E.TilingPattern=Eu,E.addShadingPattern=function(S,q){return te("addShadingPattern()"),st(S,q),this},E.beginTilingPattern=function(S){te("beginTilingPattern()"),Is(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},E.endTilingPattern=function(S,q){te("endTilingPattern()"),q.stream=it[ae].join(`
`),st(S,q),_n.publish("endTilingPattern",q),hi.pop().restore()};var ft=E.__private__.newObject=function(){var S=Ke();return Ot(S,!0),S},Ke=E.__private__.newObjectDeferred=function(){return he++,Fe[he]=function(){return qe},he},Ot=function(S,q){return q=typeof q=="boolean"&&q,Fe[S]=qe,q&&we(S+" 0 obj"),S},Qe=E.__private__.newAdditionalObject=function(){var S={objId:Ke(),content:""};return yt.push(S),S},Lt=Ke(),Nt=Ke(),Et=E.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ue=parseFloat(q[0]);q=[ue,ue,ue,"r"]}for(var Ae="#",De=0;De<3;De++)Ae+=("0"+Math.floor(255*parseFloat(q[De])).toString(16)).slice(-2);return Ae},Jt=E.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var ue=S.ch1,Ae=S.ch2,De=S.ch3,$e=S.ch4,ut=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var Pt=new Dx(ue);if(Pt.ok)ue=Pt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Dt=parseInt(ue.substr(1),16);ue=Dt>>16&255,Ae=Dt>>8&255,De=255&Dt}if(Ae===void 0||$e===void 0&&ue===Ae&&Ae===De)if(typeof ue=="string")q=ue+" "+ut[0];else switch(S.precision){case 2:q=Le(ue/255)+" "+ut[0];break;case 3:default:q=J(ue/255)+" "+ut[0]}else if($e===void 0||xr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return q=["1.","1.","1.",ut[1]].join(" ");if(typeof ue=="string")q=[ue,Ae,De,ut[1]].join(" ");else switch(S.precision){case 2:q=[Le(ue/255),Le(Ae/255),Le(De/255),ut[1]].join(" ");break;default:case 3:q=[J(ue/255),J(Ae/255),J(De/255),ut[1]].join(" ")}}else if(typeof ue=="string")q=[ue,Ae,De,$e,ut[2]].join(" ");else switch(S.precision){case 2:q=[Le(ue),Le(Ae),Le(De),Le($e),ut[2]].join(" ");break;case 3:default:q=[J(ue),J(Ae),J(De),J($e),ut[2]].join(" ")}return q},en=E.__private__.getFilters=function(){return h},Wn=E.__private__.putStream=function(S){var q=(S=S||{}).data||"",ue=S.filters||en(),Ae=S.alreadyAppliedFilters||[],De=S.addLength1||!1,$e=q.length,ut=S.objectId,Pt=function(Ai){return Ai};if(_!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");_!==null&&(Pt=Pr.encryptor(ut,0));var Dt={};ue===!0&&(ue=["FlateEncode"]);var dn=S.additionalKeyValues||[],pn=(Dt=an.API.processDataByFilters!==void 0?an.API.processDataByFilters(q,ue):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Dt.data.length!==0&&(dn.push({key:"Length",value:Dt.data.length}),De===!0&&dn.push({key:"Length1",value:$e})),pn.length!=0)if(pn.split("/").length-1==1)dn.push({key:"Filter",value:pn});else{dn.push({key:"Filter",value:"["+pn+"]"});for(var Hn=0;Hn<dn.length;Hn+=1)if(dn[Hn].key==="DecodeParms"){for(var fr=[],er=0;er<Dt.reverseChain.split("/").length-1;er+=1)fr.push("null");fr.push(dn[Hn].value),dn[Hn].value="["+fr.join(" ")+"]"}}we("<<");for(var kr=0;kr<dn.length;kr++)we("/"+dn[kr].key+" "+dn[kr].value);we(">>"),Dt.data.length!==0&&(we("stream"),we(Pt(Dt.data)),we("endstream"))},fn=E.__private__.putPage=function(S){var q=S.number,ue=S.data,Ae=S.objId,De=S.contentsObjId;Ot(Ae,!0),we("<</Type /Page"),we("/Parent "+S.rootDictionaryObjId+" 0 R"),we("/Resources "+S.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(re(S.mediaBox.bottomLeftX))+" "+parseFloat(re(S.mediaBox.bottomLeftY))+" "+re(S.mediaBox.topRightX)+" "+re(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&we("/CropBox ["+re(S.cropBox.bottomLeftX)+" "+re(S.cropBox.bottomLeftY)+" "+re(S.cropBox.topRightX)+" "+re(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&we("/BleedBox ["+re(S.bleedBox.bottomLeftX)+" "+re(S.bleedBox.bottomLeftY)+" "+re(S.bleedBox.topRightX)+" "+re(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&we("/TrimBox ["+re(S.trimBox.bottomLeftX)+" "+re(S.trimBox.bottomLeftY)+" "+re(S.trimBox.topRightX)+" "+re(S.trimBox.topRightY)+"]"),S.artBox!==null&&we("/ArtBox ["+re(S.artBox.bottomLeftX)+" "+re(S.artBox.bottomLeftY)+" "+re(S.artBox.topRightX)+" "+re(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&we("/UserUnit "+S.userUnit),_n.publish("putPage",{objId:Ae,pageContext:ln[q],pageNumber:q,page:ue}),we("/Contents "+De+" 0 R"),we(">>"),we("endobj");var $e=ue.join(`
`);return j===k.ADVANCED&&($e+=`
Q`),Ot(De,!0),Wn({data:$e,filters:en(),objectId:De}),we("endobj"),Ae},Tn=E.__private__.putPages=function(){var S,q,ue=[];for(S=1;S<=cr;S++)ln[S].objId=Ke(),ln[S].contentsObjId=Ke();for(S=1;S<=cr;S++)ue.push(fn({number:S,data:it[S],objId:ln[S].objId,contentsObjId:ln[S].contentsObjId,mediaBox:ln[S].mediaBox,cropBox:ln[S].cropBox,bleedBox:ln[S].bleedBox,trimBox:ln[S].trimBox,artBox:ln[S].artBox,userUnit:ln[S].userUnit,rootDictionaryObjId:Lt,resourceDictionaryObjId:Nt}));Ot(Lt,!0),we("<</Type /Pages");var Ae="/Kids [";for(q=0;q<cr;q++)Ae+=ue[q]+" 0 R ";we(Ae+"]"),we("/Count "+cr),we(">>"),we("endobj"),_n.publish("postPutPages")},Qn=function(S){_n.publish("putFont",{font:S,out:we,newObject:ft,putStream:Wn}),S.isAlreadyPutted!==!0&&(S.objectNumber=ft(),we("<<"),we("/Type /Font"),we("/BaseFont /"+cu(S.postScriptName)),we("/Subtype /Type1"),typeof S.encoding=="string"&&we("/Encoding /"+S.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},Lr=function(){for(var S in nn)nn.hasOwnProperty(S)&&(A===!1||A===!0&&I.hasOwnProperty(S))&&Qn(nn[S])},sr=function(S){S.objectNumber=ft();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[re(S.x),re(S.y),re(S.x+S.width),re(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ue=S.pages[1].join(`
`);Wn({data:ue,additionalKeyValues:q,objectId:S.objectNumber}),we("endobj")},Pn=function(){for(var S in Bn)Bn.hasOwnProperty(S)&&sr(Bn[S])},Zr=function(S,q){var ue,Ae=[],De=1/(q-1);for(ue=0;ue<1;ue+=De)Ae.push(ue);if(Ae.push(1),S[0].offset!=0){var $e={offset:0,color:S[0].color};S.unshift($e)}if(S[S.length-1].offset!=1){var ut={offset:1,color:S[S.length-1].color};S.push(ut)}for(var Pt="",Dt=0,dn=0;dn<Ae.length;dn++){for(ue=Ae[dn];ue>S[Dt+1].offset;)Dt++;var pn=S[Dt].offset,Hn=(ue-pn)/(S[Dt+1].offset-pn),fr=S[Dt].color,er=S[Dt+1].color;Pt+=xe(Math.round((1-Hn)*fr[0]+Hn*er[0]).toString(16))+xe(Math.round((1-Hn)*fr[1]+Hn*er[1]).toString(16))+xe(Math.round((1-Hn)*fr[2]+Hn*er[2]).toString(16))}return Pt.trim()},Oi=function(S,q){q||(q=21);var ue=ft(),Ae=Zr(S.colors,q),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+q+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wn({data:Ae,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),we("endobj"),S.objectNumber=ft(),we("<< /ShadingType "+S.type),we("/ColorSpace /DeviceRGB");var $e="/Coords ["+re(parseFloat(S.coords[0]))+" "+re(parseFloat(S.coords[1]))+" ";S.type===2?$e+=re(parseFloat(S.coords[2]))+" "+re(parseFloat(S.coords[3])):$e+=re(parseFloat(S.coords[2]))+" "+re(parseFloat(S.coords[3]))+" "+re(parseFloat(S.coords[4]))+" "+re(parseFloat(S.coords[5])),we($e+="]"),S.matrix&&we("/Matrix ["+S.matrix.toString()+"]"),we("/Function "+ue+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},yo=function(S,q){var ue=Ke(),Ae=ft();q.push({resourcesOid:ue,objectOid:Ae}),S.objectNumber=Ae;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+S.boundingBox.map(re).join(" ")+"]"}),De.push({key:"XStep",value:re(S.xStep)}),De.push({key:"YStep",value:re(S.yStep)}),De.push({key:"Resources",value:ue+" 0 R"}),S.matrix&&De.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Wn({data:S.stream,additionalKeyValues:De,objectId:S.objectNumber}),we("endobj")},ot=function(S){var q;for(q in Ln)Ln.hasOwnProperty(q)&&(Ln[q]instanceof Sl?Oi(Ln[q]):Ln[q]instanceof Eu&&yo(Ln[q],S))},Wo=function(S){for(var q in S.objectNumber=ft(),we("<<"),S)switch(q){case"opacity":we("/ca "+Le(S[q]));break;case"stroke-opacity":we("/CA "+Le(S[q]))}we(">>"),we("endobj")},Jn=function(){var S;for(S in or)or.hasOwnProperty(S)&&Wo(or[S])},mn=function(){for(var S in we("/XObject <<"),Bn)Bn.hasOwnProperty(S)&&Bn[S].objectNumber>=0&&we("/"+S+" "+Bn[S].objectNumber+" 0 R");_n.publish("putXobjectDict"),we(">>")},Yn=function(){Pr.oid=ft(),we("<<"),we("/Filter /Standard"),we("/V "+Pr.v),we("/R "+Pr.r),we("/U <"+Pr.toHexString(Pr.U)+">"),we("/O <"+Pr.toHexString(Pr.O)+">"),we("/P "+Pr.P),we(">>"),we("endobj")},Cn=function(){for(var S in we("/Font <<"),nn)nn.hasOwnProperty(S)&&(A===!1||A===!0&&I.hasOwnProperty(S))&&we("/"+S+" "+nn[S].objectNumber+" 0 R");we(">>")},Sn=function(){if(Object.keys(Ln).length>0){for(var S in we("/Shading <<"),Ln)Ln.hasOwnProperty(S)&&Ln[S]instanceof Sl&&Ln[S].objectNumber>=0&&we("/"+S+" "+Ln[S].objectNumber+" 0 R");_n.publish("putShadingPatternDict"),we(">>")}},jt=function(S){if(Object.keys(Ln).length>0){for(var q in we("/Pattern <<"),Ln)Ln.hasOwnProperty(q)&&Ln[q]instanceof E.TilingPattern&&Ln[q].objectNumber>=0&&Ln[q].objectNumber<S&&we("/"+q+" "+Ln[q].objectNumber+" 0 R");_n.publish("putTilingPatternDict"),we(">>")}},bn=function(){if(Object.keys(or).length>0){var S;for(S in we("/ExtGState <<"),or)or.hasOwnProperty(S)&&or[S].objectNumber>=0&&we("/"+S+" "+or[S].objectNumber+" 0 R");_n.publish("putGStateDict"),we(">>")}},rn=function(S){Ot(S.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cn(),Sn(),jt(S.objectOid),bn(),mn(),we(">>"),we("endobj")},xo=function(){var S=[];Lr(),Jn(),Pn(),ot(S),_n.publish("putResources"),S.forEach(rn),rn({resourcesOid:Nt,objectOid:Number.MAX_SAFE_INTEGER}),_n.publish("postPutResources")},ar=function(){_n.publish("putAdditionalObjects");for(var S=0;S<yt.length;S++){var q=yt[S];Ot(q.objId,!0),we(q.content),we("endobj")}_n.publish("postPutAdditionalObjects")},bi=function(S){$t[S.fontName]=$t[S.fontName]||{},$t[S.fontName][S.fontStyle]=S.id},Cs=function(S,q,ue,Ae,De){var $e={id:"F"+(Object.keys(nn).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:ue,encoding:Ae,isStandardFont:De||!1,metadata:{}};return _n.publish("addFont",{font:$e,instance:this}),nn[$e.id]=$e,bi($e),$e.id},Wt=function(S){for(var q=0,ue=rt.length;q<ue;q++){var Ae=Cs.call(this,S[q][0],S[q][1],S[q][2],rt[q][3],!0);A===!1&&(I[Ae]=!0);var De=S[q][0].split("-");bi({id:Ae,fontName:De[0],fontStyle:De[1]||""})}_n.publish("addFonts",{fonts:nn,dictionary:$t})},Rn=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(Ae){var q=Ae.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ue="Error in function "+q.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!yn.console)throw new Error(ue);yn.console.error(ue,Ae),yn.alert&&alert(ue)}},S.foo.bar=S,S.foo},ss=function(S,q){var ue,Ae,De,$e,ut,Pt,Dt,dn,pn;if(De=(q=q||{}).sourceEncoding||"Unicode",ut=q.outputEncoding,(q.autoencode||ut)&&nn[wn].metadata&&nn[wn].metadata[De]&&nn[wn].metadata[De].encoding&&($e=nn[wn].metadata[De].encoding,!ut&&nn[wn].encoding&&(ut=nn[wn].encoding),!ut&&$e.codePages&&(ut=$e.codePages[0]),typeof ut=="string"&&(ut=$e[ut]),ut)){for(Dt=!1,Pt=[],ue=0,Ae=S.length;ue<Ae;ue++)(dn=ut[S.charCodeAt(ue)])?Pt.push(String.fromCharCode(dn)):Pt.push(S[ue]),Pt[ue].charCodeAt(0)>>8&&(Dt=!0);S=Pt.join("")}for(ue=S.length;Dt===void 0&&ue!==0;)S.charCodeAt(ue-1)>>8&&(Dt=!0),ue--;if(!Dt)return S;for(Pt=q.noBOM?[]:[254,255],ue=0,Ae=S.length;ue<Ae;ue++){if((pn=(dn=S.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(pn),Pt.push(dn-(pn<<8))}return String.fromCharCode.apply(void 0,Pt)},Tr=E.__private__.pdfEscape=E.pdfEscape=function(S,q){return ss(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},En=E.__private__.beginPage=function(S){it[++cr]=[],ln[cr]={objId:0,contentsObjId:0,userUnit:Number(m),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},oe(cr),Xe(it[ae])},Xr=function(S,q){var ue,Ae,De;switch(n=q||n,typeof S=="string"&&(ue=M(S.toLowerCase()),Array.isArray(ue)&&(Ae=ue[0],De=ue[1])),Array.isArray(S)&&(Ae=S[0]*It,De=S[1]*It),isNaN(Ae)&&(Ae=a[0],De=a[1]),(Ae>14400||De>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),De=Math.min(14400,De)),a=[Ae,De],n.substr(0,1)){case"l":De>Ae&&(a=[De,Ae]);break;case"p":Ae>De&&(a=[De,Ae])}En(a),di(Po),we(Mi),Dr!==0&&we(Dr+" J"),pi!==0&&we(pi+" j"),_n.publish("addPage",{pageNumber:cr})},ze=function(S){S>0&&S<=cr&&(it.splice(S,1),ln.splice(S,1),cr--,ae>cr&&(ae=cr),this.setPage(ae))},oe=function(S){S>0&&S<=cr&&(ae=S)},Tt=E.__private__.getNumberOfPages=E.getNumberOfPages=function(){return it.length-1},lr=function(S,q,ue){var Ae,De=void 0;return ue=ue||{},S=S!==void 0?S:nn[wn].fontName,q=q!==void 0?q:nn[wn].fontStyle,Ae=S.toLowerCase(),$t[Ae]!==void 0&&$t[Ae][q]!==void 0?De=$t[Ae][q]:$t[S]!==void 0&&$t[S][q]!==void 0?De=$t[S][q]:ue.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),De||ue.noFallback||(De=$t.times[q])==null&&(De=$t.times.normal),De},ni=E.__private__.putInfo=function(){var S=ft(),q=function(Ae){return Ae};for(var ue in _!==null&&(q=Pr.encryptor(S,0)),we("<<"),we("/Producer ("+Tr(q("jsPDF "+an.version))+")"),zt)zt.hasOwnProperty(ue)&&zt[ue]&&we("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Tr(q(zt[ue]))+")");we("/CreationDate ("+Tr(q(ge))+")"),we(">>"),we("endobj")},Vo=E.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||Lt;switch(ft(),we("<<"),we("/Type /Catalog"),we("/Pages "+q+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Je;ue.substr(ue.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&we("/OpenAction [3 0 R /XYZ null null "+Le(Je)+"]")}switch(Qt||(Qt="continuous"),Qt){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}Zt&&we("/PageMode /"+Zt),_n.publish("putCatalog"),we(">>"),we("endobj")},Es=E.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(he+1)),we("/Root "+he+" 0 R"),we("/Info "+(he-1)+" 0 R"),_!==null&&we("/Encrypt "+Pr.oid+" 0 R"),we("/ID [ <"+Me+"> <"+Me+"> ]"),we(">>")},ri=E.__private__.putHeader=function(){we("%PDF-"+O),we("%")},Xt=E.__private__.putXRef=function(){var S="0000000000";we("xref"),we("0 "+(he+1)),we("0000000000 65535 f ");for(var q=1;q<=he;q++)typeof Fe[q]=="function"?we((S+Fe[q]()).slice(-10)+" 00000 n "):Fe[q]!==void 0?we((S+Fe[q]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Vn=E.__private__.buildDocument=function(){Yt(),Xe(je),_n.publish("buildDocument"),ri(),Tn(),ar(),xo(),_!==null&&Yn(),ni(),Vo();var S=qe;return Xt(),Es(),we("startxref"),we(""+S),we("%%EOF"),Xe(it[ae]),je.join(`
`)},To=E.__private__.getBlob=function(S){return new Blob([wt(S)],{type:"application/pdf"})},as=E.output=E.__private__.output=Rn(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return Vn();case"save":E.save(q.filename);break;case"arraybuffer":return wt(Vn());case"blob":return To(Vn());case"bloburi":case"bloburl":if(yn.URL!==void 0&&typeof yn.URL.createObjectURL=="function")return yn.URL&&yn.URL.createObjectURL(To(Vn()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",Ae=Vn();try{ue=G0(Ae)}catch{ue=G0(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+q.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(De=q.pdfObjectUrl,$e="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",Pt=yn.open();return Pt!==null&&Pt.document.write(ut),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',dn=yn.open();if(dn!==null){dn.document.write(Dt);var pn=this;dn.document.documentElement.querySelector("#pdfViewer").onload=function(){dn.document.title=q.filename,dn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return dn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',fr=yn.open();if(fr!==null&&(fr.document.write(Hn),fr.document.title=q.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return yn.document.location.href=this.output("datauristring",q);default:return null}}),ls=function(S){return Array.isArray(Ri)===!0&&Ri.indexOf(S)>-1};switch(i){case"pt":It=1;break;case"mm":It=72/25.4;break;case"cm":It=72/2.54;break;case"in":It=72;break;case"px":It=ls("px_scaling")==1?.75:96/72;break;case"pc":case"em":It=12;break;case"ex":It=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);It=i}var Pr=null;nt(),pe();var Zs=function(S){return _!==null?Pr.encryptor(S,0):function(q){return q}},Xs=E.__private__.getPageInfo=E.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ln[S].objId,pageNumber:S,pageContext:ln[S]}},Vt=E.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in ln)if(ln[q].objId===S)break;return Xs(q)},on=E.__private__.getCurrentPageInfo=E.getCurrentPageInfo=function(){return{objId:ln[ae].objId,pageNumber:ae,pageContext:ln[ae]}};E.addPage=function(){return Xr.apply(this,arguments),this},E.setPage=function(){return oe.apply(this,arguments),Xe.call(this,it[ae]),this},E.insertPage=function(S){return this.addPage(),this.movePage(ae,S),this},E.movePage=function(S,q){var ue,Ae;if(S>q){ue=it[S],Ae=ln[S];for(var De=S;De>q;De--)it[De]=it[De-1],ln[De]=ln[De-1];it[q]=ue,ln[q]=Ae,this.setPage(q)}else if(S<q){ue=it[S],Ae=ln[S];for(var $e=S;$e<q;$e++)it[$e]=it[$e+1],ln[$e]=ln[$e+1];it[q]=ue,ln[q]=Ae,this.setPage(q)}return this},E.deletePage=function(){return ze.apply(this,arguments),this},E.__private__.text=E.text=function(S,q,ue,Ae,De){var $e,ut,Pt,Dt,dn,pn,Hn,fr,er,kr=(Ae=Ae||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Ai=ue;ue=q,q=S,S=Ai}if(arguments[3]instanceof ve?(te("The transform parameter of text() with a Matrix value"),er=De):(Pt=arguments[4],Dt=arguments[5],xr(Hn=arguments[3])==="object"&&Hn!==null||(typeof Pt=="string"&&(Dt=Pt,Pt=null),typeof Hn=="string"&&(Dt=Hn,Hn=null),typeof Hn=="number"&&(Pt=Hn,Hn=null),Ae={flags:Hn,angle:Pt,align:Dt})),isNaN(q)||isNaN(ue)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return kr;var Er="",_o=!1,Kn=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:cs,ii=kr.internal.scaleFactor;function Li(dr){return dr=dr.split("	").join(Array(Ae.TabLen||9).join(" ")),Tr(dr,Hn)}function Bi(dr){for(var pr,Qr=dr.concat(),gr=[],ps=Qr.length;ps--;)typeof(pr=Qr.shift())=="string"?gr.push(pr):Array.isArray(dr)&&(pr.length===1||pr[1]===void 0&&pr[2]===void 0)?gr.push(pr[0]):gr.push([pr[0],pr[1],pr[2]]);return gr}function Fi(dr,pr){var Qr;if(typeof dr=="string")Qr=pr(dr)[0];else if(Array.isArray(dr)){for(var gr,ps,ka=dr.concat(),gs=[],Gl=ka.length;Gl--;)typeof(gr=ka.shift())=="string"?gs.push(pr(gr)[0]):Array.isArray(gr)&&typeof gr[0]=="string"&&(ps=pr(gr[0],gr[1],gr[2]),gs.push([ps[0],ps[1],ps[2]]));Qr=gs}return Qr}var bo=!1,Ls=!0;if(typeof S=="string")bo=!0;else if(Array.isArray(S)){var Go=S.concat();ut=[];for(var ds,tr=Go.length;tr--;)(typeof(ds=Go.shift())!="string"||Array.isArray(ds)&&typeof ds[0]!="string")&&(Ls=!1);bo=Ls}if(bo===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Js=At/kr.internal.scaleFactor,Ti=Js*(Kn-1);switch(Ae.baseline){case"bottom":ue-=Ti;break;case"top":ue+=Js-Ti;break;case"hanging":ue+=Js-2*Ti;break;case"middle":ue+=Js/2-Ti}if((pn=Ae.maxWidth||0)>0&&(typeof S=="string"?S=kr.splitTextToSize(S,pn):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(dr,pr){return dr.concat(kr.splitTextToSize(pr,pn))},[]))),$e={text:S,x:q,y:ue,options:Ae,mutex:{pdfEscape:Tr,activeFontKey:wn,fonts:nn,activeFontSize:At}},_n.publish("preProcessText",$e),S=$e.text,Pt=(Ae=$e.options).angle,!(er instanceof ve)&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,Ae.rotationDirection===0&&(Pt=-Pt),j===k.ADVANCED&&(Pt=-Pt);var Xi=Math.cos(Pt),Fn=Math.sin(Pt);er=new ve(Xi,Fn,-Fn,Xi,0,0)}else Pt&&Pt instanceof ve&&(er=Pt);j!==k.ADVANCED||er||(er=He),(dn=Ae.charSpace||Ze)!==void 0&&(Er+=re(Y(dn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=Ae.horizontalScale)!==void 0&&(Er+=re(100*fr)+` Tz
`),Ae.lang;var Kr=-1,H=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,r=kr.internal.getCurrentPageInfo().pageContext;switch(H){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var o=r.usedRenderingMode!==void 0?r.usedRenderingMode:-1;Kr!==-1?Er+=Kr+` Tr
`:o!==-1&&(Er+=`0 Tr
`),Kr!==-1&&(r.usedRenderingMode=Kr),Dt=Ae.align||"left";var u,c=At*Kn,f=kr.internal.pageSize.getWidth(),p=nn[wn];dn=Ae.charSpace||Ze,pn=Ae.maxWidth||0,Hn=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var x=[],C=function(dr){return kr.getStringUnitWidth(dr,{font:p,charSpace:dn,fontSize:At,doKerning:!1})*At/ii};if(Object.prototype.toString.call(S)==="[object Array]"){var N;ut=Bi(S),Dt!=="left"&&(u=ut.map(C));var D,U=0;if(Dt==="right"){q-=u[0],S=[],tr=ut.length;for(var Z=0;Z<tr;Z++)Z===0?(D=Hr(q),N=Zi(ue)):(D=Y(U-u[Z]),N=-c),S.push([ut[Z],D,N]),U=u[Z]}else if(Dt==="center"){q-=u[0]/2,S=[],tr=ut.length;for(var ce=0;ce<tr;ce++)ce===0?(D=Hr(q),N=Zi(ue)):(D=Y((U-u[ce])/2),N=-c),S.push([ut[ce],D,N]),U=u[ce]}else if(Dt==="left"){S=[],tr=ut.length;for(var be=0;be<tr;be++)S.push(ut[be])}else if(Dt==="justify"&&p.encoding==="Identity-H"){S=[],tr=ut.length,pn=pn!==0?pn:f;for(var Ee=0,ke=0;ke<tr;ke++)if(N=ke===0?Zi(ue):-c,D=ke===0?Hr(q):Ee,ke<tr-1){var Ge=Y((pn-u[ke])/(ut[ke].split(" ").length-1)),dt=ut[ke].split(" ");S.push([dt[0]+" ",D,N]),Ee=0;for(var mt=1;mt<dt.length;mt++){var pt=(C(dt[mt-1]+" "+dt[mt])-C(dt[mt]))*ii+Ge;mt==dt.length-1?S.push([dt[mt],pt,0]):S.push([dt[mt]+" ",pt,0]),Ee-=pt}}else S.push([ut[ke],D,N]);S.push(["",Ee,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],tr=ut.length,pn=pn!==0?pn:f,ke=0;ke<tr;ke++)N=ke===0?Zi(ue):-c,D=ke===0?Hr(q):0,ke<tr-1?x.push(re(Y((pn-u[ke])/(ut[ke].split(" ").length-1)))):x.push(0),S.push([ut[ke],D,N])}}var Nn=typeof Ae.R2L=="boolean"?Ae.R2L:Ft;Nn===!0&&(S=Fi(S,function(dr,pr,Qr){return[dr.split("").reverse().join(""),pr,Qr]})),$e={text:S,x:q,y:ue,options:Ae,mutex:{pdfEscape:Tr,activeFontKey:wn,fonts:nn,activeFontSize:At}},_n.publish("postProcessText",$e),S=$e.text,_o=$e.mutex.isHex||!1;var gn=nn[wn].encoding;gn!=="WinAnsiEncoding"&&gn!=="StandardEncoding"||(S=Fi(S,function(dr,pr,Qr){return[Li(dr),pr,Qr]})),ut=Bi(S),S=[];for(var nr,Wr,Br,jn=0,Rr=1,Vr=Array.isArray(ut[0])?Rr:jn,Yi="",ji=function(dr,pr,Qr){var gr="";return Qr instanceof ve?(Qr=typeof Ae.angle=="number"?Oe(Qr,new ve(1,0,0,1,dr,pr)):Oe(new ve(1,0,0,1,dr,pr),Qr),j===k.ADVANCED&&(Qr=Oe(new ve(1,0,0,-1,0,0),Qr)),gr=Qr.join(" ")+` Tm
`):gr=re(dr)+" "+re(pr)+` Td
`,gr},oo=0;oo<ut.length;oo++){switch(Yi="",Vr){case Rr:Br=(_o?"<":"(")+ut[oo][0]+(_o?">":")"),nr=parseFloat(ut[oo][1]),Wr=parseFloat(ut[oo][2]);break;case jn:Br=(_o?"<":"(")+ut[oo]+(_o?">":")"),nr=Hr(q),Wr=Zi(ue)}x!==void 0&&x[oo]!==void 0&&(Yi=x[oo]+` Tw
`),oo===0?S.push(Yi+ji(nr,Wr,er)+Br):Vr===jn?S.push(Yi+Br):Vr===Rr&&S.push(Yi+ji(nr,Wr,er)+Br)}S=Vr===jn?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var gi=`BT
/`;return gi+=wn+" "+At+` Tf
`,gi+=re(At*Kn)+` TL
`,gi+=Ii+`
`,gi+=Er,gi+=S,we(gi+="ET"),I[wn]=!0,kr};var Yr=E.__private__.clip=E.clip=function(S){return we(S==="evenodd"?"W*":"W"),this};E.clipEvenOdd=function(){return Yr("evenodd")},E.__private__.discardPath=E.discardPath=function(){return we("n"),this};var Ct=E.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};E.__private__.setDefaultPathOperation=E.setDefaultPathOperation=function(S){return Ct(S)&&(v=S),this};var fa=E.__private__.getStyle=E.getStyle=function(S){var q=v;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},vn=E.close=function(){return we("h"),this};E.stroke=function(){return we("S"),this},E.fill=function(S){return _r("f",S),this},E.fillEvenOdd=function(S){return _r("f*",S),this},E.fillStroke=function(S){return _r("B",S),this},E.fillStrokeEvenOdd=function(S){return _r("B*",S),this};var _r=function(S,q){xr(q)==="object"?Ys(q,S):we(S)},Ss=function(S){S===null||j===k.ADVANCED&&S===void 0||(S=fa(S),we(S))};function wo(S,q,ue,Ae,De){var $e=new Eu(q||this.boundingBox,ue||this.xStep,Ae||this.yStep,this.gState,De||this.matrix);$e.stream=this.stream;var ut=S+"$$"+this.cloneIndex+++"$$";return st(ut,$e),$e}var Ys=function(S,q){var ue=no[S.key],Ae=Ln[ue];if(Ae instanceof Sl)we("q"),we(qi(q)),Ae.gState&&E.setGState(Ae.gState),we(S.matrix.toString()+" cm"),we("/"+ue+" sh"),we("Q");else if(Ae instanceof Eu){var De=new ve(1,0,0,-1,0,Di());S.matrix&&(De=De.multiply(S.matrix||He),ue=wo.call(Ae,S.key,S.boundingBox,S.xStep,S.yStep,De).id),we("q"),we("/Pattern cs"),we("/"+ue+" scn"),Ae.gState&&E.setGState(Ae.gState),we(q),we("Q")}},qi=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Mr=E.moveTo=function(S,q){return we(re(Y(S))+" "+re(me(q))+" m"),this},fi=E.lineTo=function(S,q){return we(re(Y(S))+" "+re(me(q))+" l"),this},Gi=E.curveTo=function(S,q,ue,Ae,De,$e){return we([re(Y(S)),re(me(q)),re(Y(ue)),re(me(Ae)),re(Y(De)),re(me($e)),"c"].join(" ")),this};E.__private__.line=E.line=function(S,q,ue,Ae,De){if(isNaN(S)||isNaN(q)||isNaN(ue)||isNaN(Ae)||!Ct(De))throw new Error("Invalid arguments passed to jsPDF.line");return j===k.COMPAT?this.lines([[ue-S,Ae-q]],S,q,[1,1],De||"S"):this.lines([[ue-S,Ae-q]],S,q,[1,1]).stroke()},E.__private__.lines=E.lines=function(S,q,ue,Ae,De,$e){var ut,Pt,Dt,dn,pn,Hn,fr,er,kr,Ai,Er,_o;if(typeof S=="number"&&(_o=ue,ue=q,q=S,S=_o),Ae=Ae||[1,1],$e=$e||!1,isNaN(q)||isNaN(ue)||!Array.isArray(S)||!Array.isArray(Ae)||!Ct(De)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mr(q,ue),ut=Ae[0],Pt=Ae[1],dn=S.length,Ai=q,Er=ue,Dt=0;Dt<dn;Dt++)(pn=S[Dt]).length===2?(Ai=pn[0]*ut+Ai,Er=pn[1]*Pt+Er,fi(Ai,Er)):(Hn=pn[0]*ut+Ai,fr=pn[1]*Pt+Er,er=pn[2]*ut+Ai,kr=pn[3]*Pt+Er,Ai=pn[4]*ut+Ai,Er=pn[5]*Pt+Er,Gi(Hn,fr,er,kr,Ai,Er));return $e&&vn(),Ss(De),this},E.path=function(S){for(var q=0;q<S.length;q++){var ue=S[q],Ae=ue.c;switch(ue.op){case"m":Mr(Ae[0],Ae[1]);break;case"l":fi(Ae[0],Ae[1]);break;case"c":Gi.apply(this,Ae);break;case"h":vn()}}return this},E.__private__.rect=E.rect=function(S,q,ue,Ae,De){if(isNaN(S)||isNaN(q)||isNaN(ue)||isNaN(Ae)||!Ct(De))throw new Error("Invalid arguments passed to jsPDF.rect");return j===k.COMPAT&&(Ae=-Ae),we([re(Y(S)),re(me(q)),re(Y(ue)),re(Y(Ae)),"re"].join(" ")),Ss(De),this},E.__private__.triangle=E.triangle=function(S,q,ue,Ae,De,$e,ut){if(isNaN(S)||isNaN(q)||isNaN(ue)||isNaN(Ae)||isNaN(De)||isNaN($e)||!Ct(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-S,Ae-q],[De-ue,$e-Ae],[S-De,q-$e]],S,q,[1,1],ut,!0),this},E.__private__.roundedRect=E.roundedRect=function(S,q,ue,Ae,De,$e,ut){if(isNaN(S)||isNaN(q)||isNaN(ue)||isNaN(Ae)||isNaN(De)||isNaN($e)||!Ct(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*ue),$e=Math.min($e,.5*Ae),this.lines([[ue-2*De,0],[De*Pt,0,De,$e-$e*Pt,De,$e],[0,Ae-2*$e],[0,$e*Pt,-De*Pt,$e,-De,$e],[2*De-ue,0],[-De*Pt,0,-De,-$e*Pt,-De,-$e],[0,2*$e-Ae],[0,-$e*Pt,De*Pt,-$e,De,-$e]],S+De,q,[1,1],ut,!0),this},E.__private__.ellipse=E.ellipse=function(S,q,ue,Ae,De){if(isNaN(S)||isNaN(q)||isNaN(ue)||isNaN(Ae)||!Ct(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*ue,ut=4/3*(Math.SQRT2-1)*Ae;return Mr(S+ue,q),Gi(S+ue,q-ut,S+$e,q-Ae,S,q-Ae),Gi(S-$e,q-Ae,S-ue,q-ut,S-ue,q),Gi(S-ue,q+ut,S-$e,q+Ae,S,q+Ae),Gi(S+$e,q+Ae,S+ue,q+ut,S+ue,q),Ss(De),this},E.__private__.circle=E.circle=function(S,q,ue,Ae){if(isNaN(S)||isNaN(q)||isNaN(ue)||!Ct(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,ue,ue,Ae)},E.setFont=function(S,q,ue){return ue&&(q=ne(q,ue)),wn=lr(S,q,{disableWarning:!1}),this};var us=E.__private__.getFont=E.getFont=function(){return nn[lr.apply(E,arguments)]};E.__private__.getFontList=E.getFontList=function(){var S,q,ue={};for(S in $t)if($t.hasOwnProperty(S))for(q in ue[S]=[],$t[S])$t[S].hasOwnProperty(q)&&ue[S].push(q);return ue},E.addFont=function(S,q,ue,Ae,De){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(ue=ne(ue,Ae)),De=De||"Identity-H",Cs.call(this,S,q,ue,De)};var cs,Po=e.lineWidth||.200025,ro=E.__private__.getLineWidth=E.getLineWidth=function(){return Po},di=E.__private__.setLineWidth=E.setLineWidth=function(S){return Po=S,we(re(Y(S))+" w"),this};E.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ue){return re(Y(ue))}).join(" "),q=re(Y(q)),we("["+S+"] "+q+" d"),this};var Ks=E.__private__.getLineHeight=E.getLineHeight=function(){return At*cs};E.__private__.getLineHeight=E.getLineHeight=function(){return At*cs};var On=E.__private__.setLineHeightFactor=E.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(cs=S),this},da=E.__private__.getLineHeightFactor=E.getLineHeightFactor=function(){return cs};On(e.lineHeight);var Hr=E.__private__.getHorizontalCoordinate=function(S){return Y(S)},Zi=E.__private__.getVerticalCoordinate=function(S){return j===k.ADVANCED?S:ln[ae].mediaBox.topRightY-ln[ae].mediaBox.bottomLeftY-Y(S)},Pa=E.__private__.getHorizontalCoordinateString=E.getHorizontalCoordinateString=function(S){return re(Hr(S))},Un=E.__private__.getVerticalCoordinateString=E.getVerticalCoordinateString=function(S){return re(Zi(S))},Mi=e.strokeColor||"0 G";E.__private__.getStrokeColor=E.getDrawColor=function(){return Et(Mi)},E.__private__.setStrokeColor=E.setDrawColor=function(S,q,ue,Ae){return Mi=Jt({ch1:S,ch2:q,ch3:ue,ch4:Ae,pdfColorType:"draw",precision:2}),we(Mi),this};var hs=e.fillColor||"0 g";E.__private__.getFillColor=E.getFillColor=function(){return Et(hs)},E.__private__.setFillColor=E.setFillColor=function(S,q,ue,Ae){return hs=Jt({ch1:S,ch2:q,ch3:ue,ch4:Ae,pdfColorType:"fill",precision:2}),we(hs),this};var Ii=e.textColor||"0 g",ml=E.__private__.getTextColor=E.getTextColor=function(){return Et(Ii)};E.__private__.setTextColor=E.setTextColor=function(S,q,ue,Ae){return Ii=Jt({ch1:S,ch2:q,ch3:ue,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ze=e.charSpace,An=E.__private__.getCharSpace=E.getCharSpace=function(){return parseFloat(Ze||0)};E.__private__.setCharSpace=E.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ze=S,this};var Dr=0;E.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},E.__private__.setLineCap=E.setLineCap=function(S){var q=E.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dr=q,we(q+" J"),this};var pi=0;E.__private__.setLineJoin=E.setLineJoin=function(S){var q=E.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pi=q,we(q+" j"),this},E.__private__.setLineMiterLimit=E.__private__.setMiterLimit=E.setLineMiterLimit=E.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(re(Y(S))+" M"),this},E.GState=Qf,E.setGState=function(S){(S=typeof S=="string"?or[hn[S]]:pa(null,S)).equals(ti)||(we("/"+S.id+" gs"),ti=S)};var pa=function(S,q){if(!S||!hn[S]){var ue=!1;for(var Ae in or)if(or.hasOwnProperty(Ae)&&or[Ae].equals(q)){ue=!0;break}if(ue)q=or[Ae];else{var De="GS"+(Object.keys(or).length+1).toString(10);or[De]=q,q.id=De}return S&&(hn[S]=q.id),_n.publish("addGState",q),q}};E.addGState=function(S,q){return pa(S,q),this},E.saveGraphicsState=function(){return we("q"),kn.push({key:wn,size:At,color:Ii}),this},E.restoreGraphicsState=function(){we("Q");var S=kn.pop();return wn=S.key,At=S.size,Ii=S.color,ti=null,this},E.setCurrentTransformationMatrix=function(S){return we(S.toString()+" cm"),this},E.comment=function(S){return we("#"+S),this};var Ns=function(S,q){var ue=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function($e){isNaN($e)||(ue=parseFloat($e))}});var Ae=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function($e){isNaN($e)||(Ae=parseFloat($e))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function($e){De=$e.toString()}}),this},io=function(S,q,ue,Ae){Ns.call(this,S,q),this.type="rect";var De=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(ut){isNaN(ut)||(De=parseFloat(ut))}});var $e=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(ut){isNaN(ut)||($e=parseFloat(ut))}}),this},Qs=function(){this.page=cr,this.currentPage=ae,this.pages=it.slice(0),this.pagesContext=ln.slice(0),this.x=hr,this.y=Kt,this.matrix=xt,this.width=$n(ae),this.height=Di(ae),this.outputDestination=lt,this.id="",this.objectNumber=-1};Qs.prototype.restore=function(){cr=this.page,ae=this.currentPage,ln=this.pagesContext,it=this.pages,hr=this.x,Kt=this.y,xt=this.matrix,qo(ae,this.width),Xn(ae,this.height),lt=this.outputDestination};var Is=function(S,q,ue,Ae,De){hi.push(new Qs),cr=ae=0,it=[],hr=S,Kt=q,xt=De,En([ue,Ae])},Cr=function(S){if(ci[S])hi.pop().restore();else{var q=new Qs,ue="Xo"+(Object.keys(Bn).length+1).toString(10);q.id=ue,ci[S]=ue,Bn[ue]=q,_n.publish("addFormObject",q),hi.pop().restore()}};for(var fs in E.beginFormObject=function(S,q,ue,Ae,De){return Is(S,q,ue,Ae,De),this},E.endFormObject=function(S){return Cr(S),this},E.doFormObject=function(S,q){var ue=Bn[ci[S]];return we("q"),we(q.toString()+" cm"),we("/"+ue.id+" Do"),we("Q"),this},E.getFormObject=function(S){var q=Bn[ci[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},E.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Al(To(Vn()),S),typeof Al.unload=="function"&&yn.setTimeout&&setTimeout(Al.unload,911),this):new Promise(function(ue,Ae){try{var De=Al(To(Vn()),S);typeof Al.unload=="function"&&yn.setTimeout&&setTimeout(Al.unload,911),ue(De)}catch($e){Ae($e.message)}})},an.API)an.API.hasOwnProperty(fs)&&(fs==="events"&&an.API.events.length?function(S,q){var ue,Ae,De;for(De=q.length-1;De!==-1;De--)ue=q[De][0],Ae=q[De][1],S.subscribe.apply(S,[ue].concat(typeof Ae=="function"?[Ae]:Ae))}(_n,an.API.events):E[fs]=an.API[fs]);var $n=E.getPageWidth=function(S){return(ln[S=S||ae].mediaBox.topRightX-ln[S].mediaBox.bottomLeftX)/It},qo=E.setPageWidth=function(S,q){ln[S].mediaBox.topRightX=q*It+ln[S].mediaBox.bottomLeftX},Di=E.getPageHeight=function(S){return(ln[S=S||ae].mediaBox.topRightY-ln[S].mediaBox.bottomLeftY)/It},Xn=E.setPageHeight=function(S,q){ln[S].mediaBox.topRightY=q*It+ln[S].mediaBox.bottomLeftY};return E.internal={pdfEscape:Tr,getStyle:fa,getFont:us,getFontSize:St,getCharSpace:An,getTextColor:ml,getLineHeight:Ks,getLineHeightFactor:da,getLineWidth:ro,write:Ut,getHorizontalCoordinate:Hr,getVerticalCoordinate:Zi,getCoordinateString:Pa,getVerticalCoordinateString:Un,collections:{},newObject:ft,newAdditionalObject:Qe,newObjectDeferred:Ke,newObjectDeferredBegin:Ot,getFilters:en,putStream:Wn,events:_n,scaleFactor:It,pageSize:{getWidth:function(){return $n(ae)},setWidth:function(S){qo(ae,S)},getHeight:function(){return Di(ae)},setHeight:function(S){Xn(ae,S)}},encryptionOptions:_,encryption:Pr,getEncryptor:Zs,output:as,getNumberOfPages:Tt,pages:it,out:we,f2:Le,f3:J,getPageInfo:Xs,getPageInfoByObjId:Vt,getCurrentPageInfo:on,getPDFVersion:R,Point:Ns,Rectangle:io,Matrix:ve,hasHotfix:ls},Object.defineProperty(E.internal.pageSize,"width",{get:function(){return $n(ae)},set:function(S){qo(ae,S)},enumerable:!0,configurable:!0}),Object.defineProperty(E.internal.pageSize,"height",{get:function(){return Di(ae)},set:function(S){Xn(ae,S)},enumerable:!0,configurable:!0}),Wt.call(E,rt),wn="F1",Xr(a,n),_n.publish("initialized"),E}uu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},uu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},uu.prototype.processOwnerPassword=function(e,t){return X0(Z0(t).substr(0,5),e)},uu.prototype.encryptor=function(e,t){var n=Z0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return X0(n,i)}},Qf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||xr(e)!==xr(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},an.API={events:[]},an.version="2.5.2";var ai=an.API,d2=1,ql=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},su=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},In=function(e){return e.toFixed(2)},Wa=function(e){return e.toFixed(5)};ai.__acroform__={};var Ho=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},qm=function(e){return e*d2},ia=function(e){var t=new zx,n=Gt.internal.getHeight(e)||0,i=Gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(In(i)),Number(In(n))],t},CA=ai.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},EA=ai.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},SA=ai.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},xi=ai.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SA(e,t-1)},wi=ai.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return CA(e,t-1)},_i=ai.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EA(e,t-1)},NA=ai.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=e[0],l=e[1],h=e[2],m=e[3],g={};return g.lowerLeft_X=n(a)||0,g.lowerLeft_Y=i(l+m)||0,g.upperRight_X=n(a+h)||0,g.upperRight_Y=i(l)||0,[Number(In(g.lowerLeft_X)),Number(In(g.lowerLeft_Y)),Number(In(g.upperRight_X)),Number(In(g.upperRight_Y))]},IA=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=Y0(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+In(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=ia(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},Y0=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(J){return J.split(`
`)}):a.map(function(J){return[J]});var l=n,h=Gt.internal.getHeight(e)||0;h=h<0?-h:h;var m=Gt.internal.getWidth(e)||0;m=m<0?-m:m;var g=function(J,Y,ye){if(J+1<a.length){var me=Y+" "+a[J+1][0];return Gh(me,e,ye).width<=m-4}return!1};l++;e:for(;l>0;){t="",l--;var v,_,A=Gh("3",e,l).height,I=e.multiline?h-l:(h-A)/2,E=I+=2,O=0,R=0,z=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+Gh(t,e,l=12).width+", FieldWidth:"+m+`
`;break}for(var M="",k=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var $=!1;if(a[j].length!==1&&z!==a[j].length-1){if((A+2)*(k+2)+2>h)continue e;M+=a[j][z],$=!0,R=j,j--}else{M=(M+=a[j][z]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var de=parseInt(j),ne=g(de,M,l),re=j>=a.length-1;if(ne&&!re){M+=" ",z=0;continue}if(ne||re){if(re)R=de;else if(e.multiline&&(A+2)*(k+2)+2>h)continue e}else{if(!e.multiline||(A+2)*(k+2)+2>h)continue e;R=de}}for(var te="",se=O;se<=R;se++){var Le=a[se];if(e.multiline){if(se===R){te+=Le[z]+" ",z=(z+1)%Le.length;continue}if(se===O){te+=Le[Le.length-1]+" ";continue}}te+=Le[0]+" "}switch(te=te.substr(te.length-1)==" "?te.substr(0,te.length-1):te,_=Gh(te,e,l).width,e.textAlign){case"right":v=m-_-2;break;case"center":v=(m-_)/2;break;case"left":default:v=2}t+=In(v)+" "+In(E)+` Td
`,t+="("+ql(te)+`) Tj
`,t+=-In(v)+` 0 Td
`,E=-(l+2),_=0,O=$?R:R+1,k++,M=""}break}return i.text=t,i.fontSize=l,i},Gh=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},LA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TA=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},PA=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),xr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[i]}},kA=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(qs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(LA)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");d2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ux,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];l.objId=void 0,l.hasAnnotation&&TA(l,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,a){var l=!i;for(var h in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(h)){var m=i[h],g=[],v=m.Rect;if(m.Rect&&(m.Rect=NA(m.Rect,a)),a.internal.newObjectDeferredBegin(m.objId,!0),m.DA=Gt.createDefaultAppearanceStream(m),xr(m)==="object"&&typeof m.getKeyValueListForStream=="function"&&(g=m.getKeyValueListForStream()),m.Rect=v,m.hasAppearanceStream&&!m.appearanceStreamContent){var _=IA(m);g.push({key:"AP",value:"<</N "+_+">>"}),a.internal.acroformPlugin.xForms.push(_)}if(m.appearanceStreamContent){var A="";for(var I in m.appearanceStreamContent)if(m.appearanceStreamContent.hasOwnProperty(I)){var E=m.appearanceStreamContent[I];if(A+="/"+I+" ",A+="<<",Object.keys(E).length>=1||Array.isArray(E)){for(var h in E)if(E.hasOwnProperty(h)){var O=E[h];typeof O=="function"&&(O=O.call(a,m)),A+="/"+h+" "+O+" ",a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O)}}else typeof(O=E)=="function"&&(O=O.call(a,m)),A+="/"+h+" "+O,a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O);A+=">>"}g.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:g,objectId:m.objId}),a.internal.out("endobj")}l&&PA(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},jx=ai.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(h){return h};if(Array.isArray(e)){for(var a="[",l=0;l<e.length;l++)switch(l!==0&&(a+=" "),xr(e[l])){case"boolean":case"number":case"object":a+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),a+="("+ql(i(e[l].toString()))+")"):a+=e[l].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},L1=function(e,t,n){var i=function(a){return a};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ql(i(e))+")"},aa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};aa.prototype.toString=function(){return this.objId+" 0 R"},aa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},aa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],a=this[i];a&&(Array.isArray(a)?e.push({key:i,value:jx(a,this.objId,this.scope)}):a instanceof aa?(a.scope=this.scope,e.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:i,value:a}))}return e};var zx=function(){aa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ho(zx,aa);var Ux=function(){aa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ql(n(e))+")"}},set:function(n){e=n}})};Ho(Ux,aa);var qs=function e(){aa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');t=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xi(t,3)},set:function(M){M?this.F=wi(t,3):this.F=_i(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');n=M}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(M){i=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(M){i[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(M){i[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(M){i[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(M){i[3]=M}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Jf)return;l="FieldObject"+e.FieldNum++}var M=function(k){return k};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+ql(M(l))+")"},set:function(M){l=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(M){l=M}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(M){h=M}});var m="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return m},set:function(M){m=M}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(M){g=M}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/d2:v},set:function(M){v=M}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(M){_=M}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Jf||this instanceof Ol))return L1(A,this.objId,this.scope)},set:function(M){M=M.toString(),A=M}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof Wi?I:L1(I,this.objId,this.scope)},set:function(M){M=M.toString(),I=this instanceof Wi?M:M.substr(0,1)==="("?su(M.substr(1,M.length-2)):su(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi?su(I.substr(1,I.length-1)):I},set:function(M){M=M.toString(),I=this instanceof Wi?"/"+M:M}});var E=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(E)return E},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Wi?E:L1(E,this.objId,this.scope)},set:function(M){M=M.toString(),E=this instanceof Wi?M:M.substr(0,1)==="("?su(M.substr(1,M.length-2)):su(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi?su(E.substr(1,E.length-1)):E},set:function(M){M=M.toString(),E=this instanceof Wi?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(M){M=!!M,R=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(M){O=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,1)},set:function(M){M?this.Ff=wi(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,2)},set:function(M){M?this.Ff=wi(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,3)},set:function(M){M?this.Ff=wi(this.Ff,3):this.Ff=_i(this.Ff,3)}});var z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(z!==null)return z},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');z=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(z){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:z=2;break;case"center":case 1:z=1;break;case"left":case 0:default:z=0}}})};Ho(qs,aa);var ku=function(){qs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jx(t,this.objId,this.scope)},set:function(n){var i,a;a=[],typeof(i=n)=="string"&&(a=function(l,h,m){m||(m=1);for(var g,v=[];g=h.exec(l);)v.push(g[m]);return v}(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,18)},set:function(n){n?this.Ff=wi(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=wi(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,20)},set:function(n){n?(this.Ff=wi(this.Ff,20),t.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,22)},set:function(n){n?this.Ff=wi(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(n){n?this.Ff=wi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,27)},set:function(n){n?this.Ff=wi(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};Ho(ku,qs);var Ru=function(){ku.call(this),this.fontName="helvetica",this.combo=!1};Ho(Ru,ku);var Ou=function(){Ru.call(this),this.combo=!0};Ho(Ou,Ru);var ff=function(){Ou.call(this),this.edit=!0};Ho(ff,Ou);var Wi=function(){qs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,15)},set:function(n){n?this.Ff=wi(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,16)},set:function(n){n?this.Ff=wi(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,17)},set:function(n){n?this.Ff=wi(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(n){n?this.Ff=wi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+ql(n(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){xr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ho(Wi,qs);var df=function(){Wi.call(this),this.pushButton=!0};Ho(df,Wi);var Mu=function(){Wi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ho(Mu,Wi);var Jf=function(){var e,t;qs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(m){return m};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,h=[];for(l in h.push("<<"),i)h.push("/"+l+" ("+ql(a(i[l]))+")");return h.push(">>"),h.join(`
`)},set:function(a){xr(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ho(Jf,qs),Mu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Mu.prototype.createOption=function(e){var t=new Jf;return t.Parent=this,t.optionName=e,this.Kids.push(t),RA.call(this.scope,t),t};var pf=function(){Wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};Ho(pf,Wi);var Ol=function(){qs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,13)},set:function(t){t?this.Ff=wi(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,21)},set:function(t){t?this.Ff=wi(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(t){t?this.Ff=wi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,24)},set:function(t){t?this.Ff=wi(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,25)},set:function(t){t?this.Ff=wi(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(t){t?this.Ff=wi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ho(Ol,qs);var gf=function(){Ol.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,14)},set:function(e){e?this.Ff=wi(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};Ho(gf,Ol);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),l=Y0(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+In(Gt.internal.getWidth(e))+" "+In(Gt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+In(l.fontSize)+" Tf "+a),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=[],l=Gt.internal.getHeight(e),h=Gt.internal.getWidth(e),m=Y0(e,e.caption);return a.push("1 g"),a.push("0 0 "+In(h)+" "+In(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+In(h-1)+" "+In(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+In(m.fontSize)+" Tf "+i),a.push(m.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+In(Gt.internal.getWidth(e))+" "+In(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Circle.YesNormal,t.D[e]=Gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var n=[],i=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Gt.internal.Bezier_C,l=Number((i*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Wa(Gt.internal.getWidth(e)/2)+" "+Wa(Gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[],i=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),l=Number((a*Gt.internal.Bezier_C).toFixed(5)),h=Number((i*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wa(Gt.internal.getWidth(e)/2)+" "+Wa(Gt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Wa(Gt.internal.getWidth(e)/2)+" "+Wa(Gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+h+" "+h+" "+i+" 0 "+i+" c"),n.push("-"+h+" "+i+" -"+i+" "+h+" -"+i+" 0 c"),n.push("-"+i+" -"+h+" -"+h+" -"+i+" 0 -"+i+" c"),n.push(h+" -"+i+" "+i+" -"+h+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[],i=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),l=Number((a*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wa(Gt.internal.getWidth(e)/2)+" "+Wa(Gt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Cross.YesNormal,t.D[e]=Gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var n=[],i=Gt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+In(Gt.internal.getWidth(e)-2)+" "+In(Gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(In(i.x1.x)+" "+In(i.x1.y)+" m"),n.push(In(i.x2.x)+" "+In(i.x2.y)+" l"),n.push(In(i.x4.x)+" "+In(i.x4.y)+" m"),n.push(In(i.x3.x)+" "+In(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=Gt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+In(Gt.internal.getWidth(e))+" "+In(Gt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+In(Gt.internal.getWidth(e)-2)+" "+In(Gt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(In(n.x1.x)+" "+In(n.x1.y)+" m"),i.push(In(n.x2.x)+" "+In(n.x2.y)+" l"),i.push(In(n.x4.x)+" "+In(n.x4.y)+" m"),i.push(In(n.x3.x)+" "+In(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+In(Gt.internal.getWidth(e))+" "+In(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gt.internal.getWidth(e),n=Gt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Gt.internal.getWidth=function(e){var t=0;return xr(e)==="object"&&(t=qm(e.Rect[2])),t},Gt.internal.getHeight=function(e){var t=0;return xr(e)==="object"&&(t=qm(e.Rect[3])),t};var RA=ai.addField=function(e){if(kA(this,e),!(e instanceof qs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ai.AcroFormChoiceField=ku,ai.AcroFormListBox=Ru,ai.AcroFormComboBox=Ou,ai.AcroFormEditBox=ff,ai.AcroFormButton=Wi,ai.AcroFormPushButton=df,ai.AcroFormRadioButton=Mu,ai.AcroFormCheckBox=pf,ai.AcroFormTextField=Ol,ai.AcroFormPasswordField=gf,ai.AcroFormAppearance=Gt,ai.AcroForm={ChoiceField:ku,ListBox:Ru,ComboBox:Ou,EditBox:ff,Button:Wi,PushButton:df,RadioButton:Mu,CheckBox:pf,TextField:Ol,PasswordField:gf,Appearance:Gt},an.AcroForm={ChoiceField:ku,ListBox:Ru,ComboBox:Ou,EditBox:ff,Button:Wi,PushButton:df,RadioButton:Mu,CheckBox:pf,TextField:Ol,PasswordField:gf,Appearance:Gt};function Hx(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(J,Y){var ye,me,ge,Me,Ie,pe=t;if((Y=Y||t)==="RGBA"||J.data!==void 0&&J.data instanceof Uint8ClampedArray&&"height"in J&&"width"in J)return"RGBA";if(ne(J))for(Ie in n)for(ge=n[Ie],ye=0;ye<ge.length;ye+=1){for(Me=!0,me=0;me<ge[ye].length;me+=1)if(ge[ye][me]!==void 0&&ge[ye][me]!==J[me]){Me=!1;break}if(Me===!0){pe=Ie;break}}else for(Ie in n)for(ge=n[Ie],ye=0;ye<ge.length;ye+=1){for(Me=!0,me=0;me<ge[ye].length;me+=1)if(ge[ye][me]!==void 0&&ge[ye][me]!==J.charCodeAt(me)){Me=!1;break}if(Me===!0){pe=Ie;break}}return pe===t&&Y!==t&&(pe=Y),pe},a=function J(Y){for(var ye=this.internal.write,me=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);Y.objectId=this.internal.newObject();var Me=[];if(Me.push({key:"Type",value:"/XObject"}),Me.push({key:"Subtype",value:"/Image"}),Me.push({key:"Width",value:Y.width}),Me.push({key:"Height",value:Y.height}),Y.colorSpace===z.INDEXED?Me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Y.palette.length/3-1)+" "+("sMask"in Y&&Y.sMask!==void 0?Y.objectId+2:Y.objectId+1)+" 0 R]"}):(Me.push({key:"ColorSpace",value:"/"+Y.colorSpace}),Y.colorSpace===z.DEVICE_CMYK&&Me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Me.push({key:"BitsPerComponent",value:Y.bitsPerComponent}),"decodeParameters"in Y&&Y.decodeParameters!==void 0&&Me.push({key:"DecodeParms",value:"<<"+Y.decodeParameters+">>"}),"transparency"in Y&&Array.isArray(Y.transparency)){for(var Ie="",pe=0,Re=Y.transparency.length;pe<Re;pe++)Ie+=Y.transparency[pe]+" "+Y.transparency[pe]+" ";Me.push({key:"Mask",value:"["+Ie+"]"})}Y.sMask!==void 0&&Me.push({key:"SMask",value:Y.objectId+1+" 0 R"});var Ce=Y.filter!==void 0?["/"+Y.filter]:void 0;if(me({data:Y.data,additionalKeyValues:Me,alreadyAppliedFilters:Ce,objectId:Y.objectId}),ye("endobj"),"sMask"in Y&&Y.sMask!==void 0){var nt="/Predictor "+Y.predictor+" /Colors 1 /BitsPerComponent "+Y.bitsPerComponent+" /Columns "+Y.width,W={width:Y.width,height:Y.height,colorSpace:"DeviceGray",bitsPerComponent:Y.bitsPerComponent,decodeParameters:nt,data:Y.sMask};"filter"in Y&&(W.filter=Y.filter),J.call(this,W)}if(Y.colorSpace===z.INDEXED){var ae=this.internal.newObject();me({data:te(new Uint8Array(Y.palette)),objectId:ae}),ye("endobj")}},l=function(){var J=this.internal.collections.addImage_images;for(var Y in J)a.call(this,J[Y])},h=function(){var J,Y=this.internal.collections.addImage_images,ye=this.internal.write;for(var me in Y)ye("/I"+(J=Y[me]).index,J.objectId,"0","R")},m=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",h))},g=function(){var J=this.internal.collections.addImage_images;return m.call(this),J},v=function(){return Object.keys(this.internal.collections.addImage_images).length},_=function(J){return typeof e["process"+J.toUpperCase()]=="function"},A=function(J){return xr(J)==="object"&&J.nodeType===1},I=function(J,Y){if(J.nodeName==="IMG"&&J.hasAttribute("src")){var ye=""+J.getAttribute("src");if(ye.indexOf("data:image/")===0)return Pc(unescape(ye).split("base64,").pop());var me=e.loadFile(ye,!0);if(me!==void 0)return me}if(J.nodeName==="CANVAS"){if(J.width===0||J.height===0)throw new Error("Given canvas must have data. Canvas width: "+J.width+", height: "+J.height);var ge;switch(Y){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;case"JPEG":case"JPG":default:ge="image/jpeg"}return Pc(J.toDataURL(ge,1).split("base64,").pop())}},E=function(J){var Y=this.internal.collections.addImage_images;if(Y){for(var ye in Y)if(J===Y[ye].alias)return Y[ye]}},O=function(J,Y,ye){return J||Y||(J=-96,Y=-96),J<0&&(J=-1*ye.width*72/J/this.internal.scaleFactor),Y<0&&(Y=-1*ye.height*72/Y/this.internal.scaleFactor),J===0&&(J=Y*ye.width/ye.height),Y===0&&(Y=J*ye.height/ye.width),[J,Y]},R=function(J,Y,ye,me,ge,Me){var Ie=O.call(this,ye,me,ge),pe=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString,Ce=g.call(this);if(ye=Ie[0],me=Ie[1],Ce[ge.index]=ge,Me){Me*=Math.PI/180;var nt=Math.cos(Me),W=Math.sin(Me),ae=function(xe){return xe.toFixed(4)},le=[ae(nt),ae(W),ae(-1*W),ae(nt),0,0,"cm"]}this.internal.write("q"),Me?(this.internal.write([1,"0","0",1,pe(J),Re(Y+me),"cm"].join(" ")),this.internal.write(le.join(" ")),this.internal.write([pe(ye),"0","0",pe(me),"0","0","cm"].join(" "))):this.internal.write([pe(ye),"0","0",pe(me),pe(J),Re(Y+me),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},z=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(J){var Y,ye,me=0;if(typeof J=="string")for(ye=J.length,Y=0;Y<ye;Y++)me=(me<<5)-me+J.charCodeAt(Y),me|=0;else if(ne(J))for(ye=J.byteLength/2,Y=0;Y<ye;Y++)me=(me<<5)-me+J[Y],me|=0;return me},j=e.__addimage__.validateStringAsBase64=function(J){(J=J||"").toString().trim();var Y=!0;return J.length===0&&(Y=!1),J.length%4!=0&&(Y=!1),/^[A-Za-z0-9+/]+$/.test(J.substr(0,J.length-2))===!1&&(Y=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(J.substr(-2))===!1&&(Y=!1),Y},$=e.__addimage__.extractImageFromDataUrl=function(J){var Y=(J=J||"").split("base64,"),ye=null;if(Y.length===2){var me=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Y[0]);Array.isArray(me)&&(ye={mimeType:me[1],charset:me[2],data:Y[1]})}return ye},de=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(J){return de()&&J instanceof ArrayBuffer};var ne=e.__addimage__.isArrayBufferView=function(J){return de()&&typeof Uint32Array<"u"&&(J instanceof Int8Array||J instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&J instanceof Uint8ClampedArray||J instanceof Int16Array||J instanceof Uint16Array||J instanceof Int32Array||J instanceof Uint32Array||J instanceof Float32Array||J instanceof Float64Array)},re=e.__addimage__.binaryStringToUint8Array=function(J){for(var Y=J.length,ye=new Uint8Array(Y),me=0;me<Y;me++)ye[me]=J.charCodeAt(me);return ye},te=e.__addimage__.arrayBufferToBinaryString=function(J){for(var Y="",ye=ne(J)?J:new Uint8Array(J),me=0;me<ye.length;me+=8192)Y+=String.fromCharCode.apply(null,ye.subarray(me,me+8192));return Y};e.addImage=function(){var J,Y,ye,me,ge,Me,Ie,pe,Re;if(typeof arguments[1]=="number"?(Y=t,ye=arguments[1],me=arguments[2],ge=arguments[3],Me=arguments[4],Ie=arguments[5],pe=arguments[6],Re=arguments[7]):(Y=arguments[1],ye=arguments[2],me=arguments[3],ge=arguments[4],Me=arguments[5],Ie=arguments[6],pe=arguments[7],Re=arguments[8]),xr(J=arguments[0])==="object"&&!A(J)&&"imageData"in J){var Ce=J;J=Ce.imageData,Y=Ce.format||Y||t,ye=Ce.x||ye||0,me=Ce.y||me||0,ge=Ce.w||Ce.width||ge,Me=Ce.h||Ce.height||Me,Ie=Ce.alias||Ie,pe=Ce.compression||pe,Re=Ce.rotation||Ce.angle||Re}var nt=this.internal.getFilters();if(pe===void 0&&nt.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(ye)||isNaN(me))throw new Error("Invalid coordinates passed to jsPDF.addImage");m.call(this);var W=se.call(this,J,Y,Ie,pe);return R.call(this,ye,me,ge,Me,W,Re),this};var se=function(J,Y,ye,me){var ge,Me,Ie;if(typeof J=="string"&&i(J)===t){J=unescape(J);var pe=Le(J,!1);(pe!==""||(pe=e.loadFile(J,!0))!==void 0)&&(J=pe)}if(A(J)&&(J=I(J,Y)),Y=i(J,Y),!_(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(((Ie=ye)==null||Ie.length===0)&&(ye=function(Re){return typeof Re=="string"||ne(Re)?k(Re):ne(Re.data)?k(Re.data):null}(J)),(ge=E.call(this,ye))||(de()&&(J instanceof Uint8Array||Y==="RGBA"||(Me=J,J=re(J))),ge=this["process"+Y.toUpperCase()](J,v.call(this),ye,function(Re){return Re&&typeof Re=="string"&&(Re=Re.toUpperCase()),Re in e.image_compression?Re:M.NONE}(me),Me)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},Le=e.__addimage__.convertBase64ToBinaryString=function(J,Y){var ye;Y=typeof Y!="boolean"||Y;var me,ge="";if(typeof J=="string"){me=(ye=$(J))!==null?ye.data:J;try{ge=Pc(me)}catch(Me){if(Y)throw j(me)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ge};e.getImageProperties=function(J){var Y,ye,me="";if(A(J)&&(J=I(J)),typeof J=="string"&&i(J)===t&&((me=Le(J,!1))===""&&(me=e.loadFile(J)||""),J=me),ye=i(J),!_(ye))throw new Error("addImage does not support files of type '"+ye+"', please ensure that a plugin for '"+ye+"' support is added.");if(!de()||J instanceof Uint8Array||(J=re(J)),!(Y=this["process"+ye.toUpperCase()](J)))throw new Error("An unknown error occurred whilst processing the image");return Y.fileType=ye,Y}})(an.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};an.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,a,l,h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(n.objId),v=n.pageContext.annotations,_=!1,A=0;A<v.length&&!_;A++)switch((i=v[A]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(_!=0){this.internal.write("/Annots [");for(var I=0;I<v.length;I++){i=v[I];var E=this.internal.pdfEscape,O=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),z=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(R.objId),k=i.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(i.bounds.x)+" "+m(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w)+" "+m(i.bounds.y)+"] ")+"/Contents ("+E(M(i.contents))+")",l+=" /Popup "+z.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+E(M(k))+") >>",R.content=l;var j=R.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(i.bounds.x+30)+" "+m(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w+30)+" "+m(i.bounds.y)+"] ")+" /Parent "+j,i.open&&(l+=" /Open true"),l+=" >>",z.content=l,this.internal.write(R.objId,"0 R",z.objId,"0 R");break;case"freetext":a="/Rect ["+h(i.bounds.x)+" "+m(i.bounds.y)+" "+h(i.bounds.x+i.bounds.w)+" "+m(i.bounds.y+i.bounds.h)+"] ";var $=i.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+E(O(i.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(i.options.name){var de=this.annotations._nameMap[i.options.name];i.options.pageNumber=de.page,i.options.top=de.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",l="",i.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+E(O(i.options.url))+") >>";else if(i.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,l+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ne=m(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),l+=" /XYZ "+i.options.left+" "+ne+" "+i.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,a,l,h){var m=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;m.pageContext.annotations.push({finalBounds:{x:g(n),y:v(i),w:g(n+a),h:v(i+l)},options:h,type:"link"})},e.textWithLink=function(n,i,a,l){var h,m,g=this.getTextWidth(n),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){m=l.maxWidth;var _=this.splitTextToSize(n,m).length;h=Math.ceil(v*_)}else m=g,h=v;return this.text(n,i,a,l),a+=.2*v,l.align==="center"&&(i-=g/2),l.align==="right"&&(i-=g),this.link(i,a-v,m,h,l),g},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(an.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(R){return t[R.charCodeAt(0)]!==void 0},h=e.__arabicParser__.isArabicLetter=function(R){return typeof R=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},m=e.__arabicParser__.isArabicEndLetter=function(R){return h(R)&&l(R)&&t[R.charCodeAt(0)].length<=2},g=e.__arabicParser__.isArabicAlfLetter=function(R){return h(R)&&a.indexOf(R.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return h(R)&&l(R)&&t[R.charCodeAt(0)].length>=1};var v=e.__arabicParser__.arabicLetterHasFinalForm=function(R){return h(R)&&l(R)&&t[R.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(R){return h(R)&&l(R)&&t[R.charCodeAt(0)].length>=3};var _=e.__arabicParser__.arabicLetterHasMedialForm=function(R){return h(R)&&l(R)&&t[R.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(R){var z=0,M=n,k="",j=0;for(z=0;z<R.length;z+=1)M[R.charCodeAt(z)]!==void 0?(j++,typeof(M=M[R.charCodeAt(z)])=="number"&&(k+=String.fromCharCode(M),M=n,j=0),z===R.length-1&&(M=n,k+=R.charAt(z-(j-1)),z-=j-1,j=0)):(M=n,k+=R.charAt(z-j),z-=j,j=0);return k};e.__arabicParser__.isArabicDiacritic=function(R){return R!==void 0&&i[R.charCodeAt(0)]!==void 0};var I=e.__arabicParser__.getCorrectForm=function(R,z,M){return h(R)?l(R)===!1?-1:!v(R)||!h(z)&&!h(M)||!h(M)&&m(z)||m(R)&&!h(z)||m(R)&&g(z)||m(R)&&m(z)?0:_(R)&&h(z)&&!m(z)&&h(M)&&v(M)?3:m(R)||!h(M)?1:2:-1},E=function(R){var z=0,M=0,k=0,j="",$="",de="",ne=(R=R||"").split("\\s+"),re=[];for(z=0;z<ne.length;z+=1){for(re.push(""),M=0;M<ne[z].length;M+=1)j=ne[z][M],$=ne[z][M-1],de=ne[z][M+1],h(j)?(k=I(j,$,de),re[z]+=k!==-1?String.fromCharCode(t[j.charCodeAt(0)][k]):j):re[z]+=j;re[z]=A(re[z])}return re.join(" ")},O=e.__arabicParser__.processArabic=e.processArabic=function(){var R,z=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(z)){var k=0;for(M=[],k=0;k<z.length;k+=1)Array.isArray(z[k])?M.push([E(z[k][0]),z[k][1],z[k][2]]):M.push([E(z[k])]);R=M}else R=E(z);return typeof arguments[0]=="string"?R:(arguments[0].text=R,arguments[0])};e.events.push(["preProcessText",O])}(an.API),an.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(m){n=m}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(m){i=isNaN(m)||Number.isInteger(m)===!1||m<0?150:m,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(m){a=isNaN(m)||Number.isInteger(m)===!1||m<0?300:m,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(m){l=m}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(m){h=m}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var a;if((n=n||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(an.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(R){g=R}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(R){v=R}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(R){_=R}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(R){A=R}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(R){I=R}});var E=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return E},set:function(R){E=R}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(R){O=R}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(g){return i.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},e.getTextDimensions=function(g,v){i.call(this);var _=(v=v||{}).fontSize||this.getFontSize(),A=v.font||this.getFont(),I=v.scaleFactor||this.internal.scaleFactor,E=0,O=0,R=0,z=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var M=v.maxWidth;M>0?typeof g=="string"?g=this.splitTextToSize(g,M):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(j,$){return j.concat(z.splitTextToSize($,M))},[])):g=Array.isArray(g)?g:[g];for(var k=0;k<g.length;k++)E<(R=this.getStringUnitWidth(g[k],{font:A})*_)&&(E=R);return E!==0&&(O=g.length),{w:E/=I,h:Math.max((O*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/I,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var g=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=e.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var v=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,I=this.internal.__cell__.tableHeaderRow,E=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=A.top,E&&I&&(this.printHeaderRow(g.lineNumber,!0),g.y+=I[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,n===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-_,g.y+_,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+_,{align:"center",baseline:"top",maxWidth:g.width-_-_}):this.text(g.text,g.x+_,g.y+_,{align:"left",baseline:"top",maxWidth:g.width-_-_})),this.internal.__cell__.lastCell=g,this};e.table=function(g,v,_,A,I){if(i.call(this),!_)throw new Error("No data for PDF table.");var E,O,R,z,M=[],k=[],j=[],$={},de={},ne=[],re=[],te=(I=I||{}).autoSize||!1,se=I.printHeaders!==!1,Le=I.css&&I.css["font-size"]!==void 0?16*I.css["font-size"]:I.fontSize||12,J=I.margins||Object.assign({width:this.getPageWidth()},t),Y=typeof I.padding=="number"?I.padding:3,ye=I.headerBackgroundColor||"#c8c8c8",me=I.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=se,this.internal.__cell__.margins=J,this.internal.__cell__.table_font_size=Le,this.internal.__cell__.padding=Y,this.internal.__cell__.headerBackgroundColor=ye,this.internal.__cell__.headerTextColor=me,this.setFontSize(Le),A==null)k=M=Object.keys(_[0]),j=M.map(function(){return"left"});else if(Array.isArray(A)&&xr(A[0])==="object")for(M=A.map(function(Ce){return Ce.name}),k=A.map(function(Ce){return Ce.prompt||Ce.name||""}),j=A.map(function(Ce){return Ce.align||"left"}),E=0;E<A.length;E+=1)de[A[E].name]=A[E].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(k=M=A,j=M.map(function(){return"left"}));if(te||Array.isArray(A)&&typeof A[0]=="string")for(E=0;E<M.length;E+=1){for($[z=M[E]]=_.map(function(Ce){return Ce[z]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(k[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=$[z],this.setFont(void 0,"normal"),R=0;R<O.length;R+=1)ne.push(this.getTextDimensions(O[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);de[z]=Math.max.apply(null,ne)+Y+Y,ne=[]}if(se){var ge={};for(E=0;E<M.length;E+=1)ge[M[E]]={},ge[M[E]].text=k[E],ge[M[E]].align=j[E];var Me=m.call(this,ge,de);re=M.map(function(Ce){return new l(g,v,de[Ce],Me,ge[Ce].text,void 0,ge[Ce].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var Ie=A.reduce(function(Ce,nt){return Ce[nt.name]=nt.align,Ce},{});for(E=0;E<_.length;E+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:E,data:_[E]},this);var pe=m.call(this,_[E],de);for(R=0;R<M.length;R+=1){var Re=_[E][M[R]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:E,col:R,data:Re},this),h.call(this,new l(g,v,de[M[R]],pe,Re,E+2,Ie[M[R]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var m=function(g,v){var _=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(g).map(function(E){var O=g[E];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,v[E]-_-_)},this).map(function(E){return this.getLineHeightFactor()*E.length*A/I+_+_},this).reduce(function(E,O){return Math.max(E,O)},0)};e.setTableHeaderRow=function(g){i.call(this),this.internal.__cell__.tableHeaderRow=g},e.printHeaderRow=function(g,v){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],E=0;E<this.internal.__cell__.tableHeaderRow.length;E+=1){_=this.internal.__cell__.tableHeaderRow[E].clone(),v&&(_.y=this.internal.__cell__.margins.top||0,I.push(_)),_.lineNumber=g;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,_),this.setTextColor(O)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),n=!1}}(an.API);var Wx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K0=Hx(Vx),qx=[100,200,300,400,500,600,700,800,900],OA=Hx(qx);function Q0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(l){return Wx[l=l||"normal"]?l:"normal"}(e.style),i=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(l){return typeof K0[l=l||"normal"]=="number"?l:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,i].join(" ")}}}function Gm(e,t,n,i){var a;for(a=n;a>=0&&a<t.length;a+=i)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=i)if(e[t[a]])return e[t[a]]}var MA={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Xm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function DA(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},MA,n.genericFontFamilies||{}),l=null,h=null,m=0;m<t.length;++m)if(a[(l=Q0(t[m])).family]&&(l.family=a[l.family]),e.hasOwnProperty(l.family)){h=e[l.family];break}if(!(h=h||e[i]))throw new Error("Could not find a font-family for the rule '"+Xm(l)+"' and default family '"+i+"'.");if(h=function(g,v){if(v[g])return v[g];var _=K0[g],A=_<=K0.normal?-1:1,I=Gm(v,Vx,_,A);if(!I)throw new Error("Could not find a matching font-stretch value for "+g);return I}(l.stretch,h),h=function(g,v){if(v[g])return v[g];for(var _=Wx[g],A=0;A<_.length;++A)if(v[_[A]])return v[_[A]];throw new Error("Could not find a matching font-style for "+g)}(l.style,h),!(h=function(g,v){if(v[g])return v[g];if(g===400&&v[500])return v[500];if(g===500&&v[400])return v[400];var _=OA[g],A=Gm(v,qx,_,g<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+g);return A}(l.weight,h)))throw new Error("Failed to resolve a font for the rule '"+Xm(l)+"'.");return h}function Ym(e){return e.trimLeft()}function BA(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function FA(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Zh,Km,Qm,T1=["times"];(function(e){var t,n,i,a,l,h,m,g,v,_=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new g,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new h,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new h,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,h=this.internal.Point,m=this.internal.Rectangle,g=this.internal.Matrix,v=new _}]);var A=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ae=W;Object.defineProperty(this,"pdf",{get:function(){return ae}});var le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return le},set:function(Xe){le=!!Xe}});var xe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return xe},set:function(Xe){xe=!!Xe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Xe){isNaN(Xe)||(he=Xe)}});var Fe=0;Object.defineProperty(this,"posY",{get:function(){return Fe},set:function(Xe){isNaN(Xe)||(Fe=Xe)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(Xe){var we;typeof Xe=="number"?we=[Xe,Xe,Xe,Xe]:((we=new Array(4))[0]=Xe[0],we[1]=Xe.length>=2?Xe[1]:we[0],we[2]=Xe.length>=3?Xe[2]:we[0],we[3]=Xe.length>=4?Xe[3]:we[1]),v.margin=we}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(Xe){je=Xe}});var qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return qe},set:function(Xe){qe=Xe}});var yt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return yt},set:function(Xe){yt=Xe}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(Xe){Xe instanceof _&&(v=Xe)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(Xe){v.path=Xe}});var it=[];Object.defineProperty(this,"ctxStack",{get:function(){return it},set:function(Xe){it=Xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Xe){var we;we=I(Xe),this.ctx.fillStyle=we.style,this.ctx.isFillTransparent=we.a===0,this.ctx.fillOpacity=we.a,this.pdf.setFillColor(we.r,we.g,we.b,{a:we.a}),this.pdf.setTextColor(we.r,we.g,we.b,{a:we.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Xe){var we=I(Xe);this.ctx.strokeStyle=we.style,this.ctx.isStrokeTransparent=we.a===0,this.ctx.strokeOpacity=we.a,we.a===0?this.pdf.setDrawColor(255,255,255):(we.a,this.pdf.setDrawColor(we.r,we.g,we.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Xe){["butt","round","square"].indexOf(Xe)!==-1&&(this.ctx.lineCap=Xe,this.pdf.setLineCap(Xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Xe){isNaN(Xe)||(this.ctx.lineWidth=Xe,this.pdf.setLineWidth(Xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Xe){["bevel","round","miter"].indexOf(Xe)!==-1&&(this.ctx.lineJoin=Xe,this.pdf.setLineJoin(Xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Xe){isNaN(Xe)||(this.ctx.miterLimit=Xe,this.pdf.setMiterLimit(Xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Xe){this.ctx.textBaseline=Xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Xe){["right","end","center","left","start"].indexOf(Xe)!==-1&&(this.ctx.textAlign=Xe)}});var bt=null;function lt(Xe,we){if(bt===null){var Ut=function(wt){var rt=[];return Object.keys(wt).forEach(function(At){wt[At].forEach(function(Je){var St=null;switch(Je){case"bold":St={family:At,weight:"bold"};break;case"italic":St={family:At,style:"italic"};break;case"bolditalic":St={family:At,weight:"bold",style:"italic"};break;case"":case"normal":St={family:At}}St!==null&&(St.ref={name:At,style:Je},rt.push(St))})}),rt}(Xe.getFontList());bt=function(wt){for(var rt={},At=0;At<wt.length;++At){var Je=Q0(wt[At]),St=Je.family,Ft=Je.stretch,Zt=Je.style,un=Je.weight;rt[St]=rt[St]||{},rt[St][Ft]=rt[St][Ft]||{},rt[St][Ft][Zt]=rt[St][Ft][Zt]||{},rt[St][Ft][Zt][un]=Je}return rt}(Ut.concat(we))}return bt}var Yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yt},set:function(Xe){bt=null,Yt=Xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Xe){var we;if(this.ctx.font=Xe,(we=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Xe))!==null){var Ut=we[1],wt=(we[2],we[3]),rt=we[4],At=(we[5],we[6]),Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(Je==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var St=function(zt){var wn,It,hr=[],Kt=zt.trim();if(Kt==="")return T1;if(Kt in Zm)return[Zm[Kt]];for(;Kt!=="";){switch(It=null,wn=(Kt=Ym(Kt)).charAt(0)){case'"':case"'":It=BA(Kt.substring(1),wn);break;default:It=FA(Kt)}if(It===null||(hr.push(It[0]),(Kt=Ym(It[1]))!==""&&Kt.charAt(0)!==","))return T1;Kt=Kt.replace(/^,/,"")}return hr}(At);if(this.fontFaces){var Ft=DA(lt(this.pdf,this.fontFaces),St.map(function(zt){return{family:zt,stretch:"normal",weight:wt,style:Ut}}));this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var Zt="";(wt==="bold"||parseInt(wt,10)>=700||Ut==="bold")&&(Zt="bold"),Ut==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var un="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xn=0;xn<St.length;xn++){if(this.pdf.internal.getFont(St[xn],Zt,{noFallback:!0,disableWarning:!0})!==void 0){un=St[xn];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(St[xn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)un=St[xn],Zt="bold";else if(this.pdf.internal.getFont(St[xn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){un=St[xn],Zt="normal";break}}if(un===""){for(var cn=0;cn<St.length;cn++)if(Qt[St[cn]]){un=Qt[St[cn]];break}}un=un===""?"Times":un,this.pdf.setFont(un,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Xe){this.ctx.globalCompositeOperation=Xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Xe){this.ctx.globalAlpha=Xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Xe){this.ctx.lineDashOffset=Xe,nt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Xe){this.ctx.lineDash=Xe,nt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Xe){this.ctx.ignoreClearRect=!!Xe}})};A.prototype.setLineDash=function(W){this.lineDash=W},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){$.call(this,"fill",!1)},A.prototype.stroke=function(){$.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(W,ae){if(isNaN(W)||isNaN(ae))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var le=this.ctx.transform.applyToPoint(new h(W,ae));this.path.push({type:"mt",x:le.x,y:le.y}),this.ctx.lastPoint=new h(W,ae)},A.prototype.closePath=function(){var W=new h(0,0),ae=0;for(ae=this.path.length-1;ae!==-1;ae--)if(this.path[ae].type==="begin"&&xr(this.path[ae+1])==="object"&&typeof this.path[ae+1].x=="number"){W=new h(this.path[ae+1].x,this.path[ae+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(W.x,W.y)},A.prototype.lineTo=function(W,ae){if(isNaN(W)||isNaN(ae))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var le=this.ctx.transform.applyToPoint(new h(W,ae));this.path.push({type:"lt",x:le.x,y:le.y}),this.ctx.lastPoint=new h(le.x,le.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},A.prototype.quadraticCurveTo=function(W,ae,le,xe){if(isNaN(le)||isNaN(xe)||isNaN(W)||isNaN(ae))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new h(le,xe)),Fe=this.ctx.transform.applyToPoint(new h(W,ae));this.path.push({type:"qct",x1:Fe.x,y1:Fe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new h(he.x,he.y)},A.prototype.bezierCurveTo=function(W,ae,le,xe,he,Fe){if(isNaN(he)||isNaN(Fe)||isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new h(he,Fe)),qe=this.ctx.transform.applyToPoint(new h(W,ae)),yt=this.ctx.transform.applyToPoint(new h(le,xe));this.path.push({type:"bct",x1:qe.x,y1:qe.y,x2:yt.x,y2:yt.y,x:je.x,y:je.y}),this.ctx.lastPoint=new h(je.x,je.y)},A.prototype.arc=function(W,ae,le,xe,he,Fe){if(isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe)||isNaN(he))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Fe=!!Fe,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new h(W,ae));W=je.x,ae=je.y;var qe=this.ctx.transform.applyToPoint(new h(0,le)),yt=this.ctx.transform.applyToPoint(new h(0,0));le=Math.sqrt(Math.pow(qe.x-yt.x,2)+Math.pow(qe.y-yt.y,2))}Math.abs(he-xe)>=2*Math.PI&&(xe=0,he=2*Math.PI),this.path.push({type:"arc",x:W,y:ae,radius:le,startAngle:xe,endAngle:he,counterclockwise:Fe})},A.prototype.arcTo=function(W,ae,le,xe,he){throw new Error("arcTo not implemented.")},A.prototype.rect=function(W,ae,le,xe){if(isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,ae),this.lineTo(W+le,ae),this.lineTo(W+le,ae+xe),this.lineTo(W,ae+xe),this.lineTo(W,ae),this.lineTo(W+le,ae),this.lineTo(W,ae)},A.prototype.fillRect=function(W,ae,le,xe){if(isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!E.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,ae,le,xe),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},A.prototype.strokeRect=function(W,ae,le,xe){if(isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(W,ae,le,xe),this.stroke())},A.prototype.clearRect=function(W,ae,le,xe){if(isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,ae,le,xe))},A.prototype.save=function(W){W=typeof W!="boolean"||W;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("q");if(this.pdf.setPage(ae),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var xe=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=xe}},A.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("Q");this.pdf.setPage(ae),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(W){var ae,le,xe,he;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))ae=0,le=0,xe=0,he=0;else{var Fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(Fe!==null)ae=parseInt(Fe[1]),le=parseInt(Fe[2]),xe=parseInt(Fe[3]),he=1;else if((Fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)ae=parseInt(Fe[1]),le=parseInt(Fe[2]),xe=parseInt(Fe[3]),he=parseFloat(Fe[4]);else{if(he=1,typeof W=="string"&&W.charAt(0)!=="#"){var je=new Dx(W);W=je.ok?je.toHex():"#000000"}W.length===4?(ae=W.substring(1,2),ae+=ae,le=W.substring(2,3),le+=le,xe=W.substring(3,4),xe+=xe):(ae=W.substring(1,3),le=W.substring(3,5),xe=W.substring(5,7)),ae=parseInt(ae,16),le=parseInt(le,16),xe=parseInt(xe,16)}}return{r:ae,g:le,b:xe,a:he,style:W}},E=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(W,ae,le,xe){if(isNaN(ae)||isNaN(le)||typeof W!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(xe=isNaN(xe)?void 0:xe,!E.call(this)){var he=pe(this.ctx.transform.rotation),Fe=this.ctx.transform.scaleX;Y.call(this,{text:W,x:ae,y:le,scale:Fe,angle:he,align:this.textAlign,maxWidth:xe})}},A.prototype.strokeText=function(W,ae,le,xe){if(isNaN(ae)||isNaN(le)||typeof W!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){xe=isNaN(xe)?void 0:xe;var he=pe(this.ctx.transform.rotation),Fe=this.ctx.transform.scaleX;Y.call(this,{text:W,x:ae,y:le,scale:Fe,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:xe})}},A.prototype.measureText=function(W){if(typeof W!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ae=this.pdf,le=this.pdf.internal.scaleFactor,xe=ae.internal.getFontSize(),he=ae.getStringUnitWidth(W)*xe/ae.internal.scaleFactor,Fe=function(je){var qe=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return qe}}),this};return new Fe({width:he*=Math.round(96*le/72*1e4)/1e4})},A.prototype.scale=function(W,ae){if(isNaN(W)||isNaN(ae))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var le=new g(W,0,0,ae,0,0);this.ctx.transform=this.ctx.transform.multiply(le)},A.prototype.rotate=function(W){if(isNaN(W))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ae=new g(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},A.prototype.translate=function(W,ae){if(isNaN(W)||isNaN(ae))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var le=new g(1,0,0,1,W,ae);this.ctx.transform=this.ctx.transform.multiply(le)},A.prototype.transform=function(W,ae,le,xe,he,Fe){if(isNaN(W)||isNaN(ae)||isNaN(le)||isNaN(xe)||isNaN(he)||isNaN(Fe))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new g(W,ae,le,xe,he,Fe);this.ctx.transform=this.ctx.transform.multiply(je)},A.prototype.setTransform=function(W,ae,le,xe,he,Fe){W=isNaN(W)?1:W,ae=isNaN(ae)?0:ae,le=isNaN(le)?0:le,xe=isNaN(xe)?1:xe,he=isNaN(he)?0:he,Fe=isNaN(Fe)?0:Fe,this.ctx.transform=new g(W,ae,le,xe,he,Fe)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(W,ae,le,xe,he,Fe,je,qe,yt){var it=this.pdf.getImageProperties(W),bt=1,lt=1,Yt=1,Xe=1;xe!==void 0&&qe!==void 0&&(Yt=qe/xe,Xe=yt/he,bt=it.width/xe*qe/xe,lt=it.height/he*yt/he),Fe===void 0&&(Fe=ae,je=le,ae=0,le=0),xe!==void 0&&qe===void 0&&(qe=xe,yt=he),xe===void 0&&qe===void 0&&(qe=it.width,yt=it.height);for(var we,Ut=this.ctx.transform.decompose(),wt=pe(Ut.rotate.shx),rt=new g,At=(rt=(rt=(rt=rt.multiply(Ut.translate)).multiply(Ut.skew)).multiply(Ut.scale)).applyToRectangle(new m(Fe-ae*Yt,je-le*Xe,xe*bt,he*lt)),Je=z.call(this,At),St=[],Ft=0;Ft<Je.length;Ft+=1)St.indexOf(Je[Ft])===-1&&St.push(Je[Ft]);if(j(St),this.autoPaging)for(var Zt=St[0],un=St[St.length-1],Qt=Zt;Qt<un+1;Qt++){this.pdf.setPage(Qt);var xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cn=Qt===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=Qt===1?0:zt+(Qt-2)*wn;if(this.ctx.clip_path.length!==0){var hr=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(we,this.posX+this.margin[3],-It+cn+this.ctx.prevPageLastElemOffset),de.call(this,"fill",!0),this.path=hr}var Kt=JSON.parse(JSON.stringify(At));Kt=k([Kt],this.posX+this.margin[3],-It+cn+this.ctx.prevPageLastElemOffset)[0];var xt=(Qt>Zt||Qt<un)&&R.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xn,wn,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,wt),xt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",At.x,At.y,At.w,At.h,null,null,wt)};var z=function(W,ae,le){var xe=[];ae=ae||this.pdf.internal.pageSize.width,le=le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":xe.push(Math.floor((W.y+he)/le)+1);break;case"arc":xe.push(Math.floor((W.y+he-W.radius)/le)+1),xe.push(Math.floor((W.y+he+W.radius)/le)+1);break;case"qct":var Fe=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);xe.push(Math.floor((Fe.y+he)/le)+1),xe.push(Math.floor((Fe.y+Fe.h+he)/le)+1);break;case"bct":var je=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);xe.push(Math.floor((je.y+he)/le)+1),xe.push(Math.floor((je.y+je.h+he)/le)+1);break;case"rect":xe.push(Math.floor((W.y+he)/le)+1),xe.push(Math.floor((W.y+W.h+he)/le)+1)}for(var qe=0;qe<xe.length;qe+=1)for(;this.pdf.internal.getNumberOfPages()<xe[qe];)M.call(this);return xe},M=function(){var W=this.fillStyle,ae=this.strokeStyle,le=this.font,xe=this.lineCap,he=this.lineWidth,Fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=ae,this.font=le,this.lineCap=xe,this.lineWidth=he,this.lineJoin=Fe},k=function(W,ae,le){for(var xe=0;xe<W.length;xe++)switch(W[xe].type){case"bct":W[xe].x2+=ae,W[xe].y2+=le;case"qct":W[xe].x1+=ae,W[xe].y1+=le;case"mt":case"lt":case"arc":default:W[xe].x+=ae,W[xe].y+=le}return W},j=function(W){return W.sort(function(ae,le){return ae-le})},$=function(W,ae){for(var le,xe,he=this.fillStyle,Fe=this.strokeStyle,je=this.lineCap,qe=this.lineWidth,yt=Math.abs(qe*this.ctx.transform.scaleX),it=this.lineJoin,bt=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Yt=[],Xe=0;Xe<lt.length;Xe++)if(lt[Xe].x!==void 0)for(var we=z.call(this,lt[Xe]),Ut=0;Ut<we.length;Ut+=1)Yt.indexOf(we[Ut])===-1&&Yt.push(we[Ut]);for(var wt=0;wt<Yt.length;wt++)for(;this.pdf.internal.getNumberOfPages()<Yt[wt];)M.call(this);if(j(Yt),this.autoPaging)for(var rt=Yt[0],At=Yt[Yt.length-1],Je=rt;Je<At+1;Je++){this.pdf.setPage(Je),this.fillStyle=he,this.strokeStyle=Fe,this.lineCap=je,this.lineWidth=yt,this.lineJoin=it;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=Je===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],un=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qt=Je===1?0:Zt+(Je-2)*un;if(this.ctx.clip_path.length!==0){var xn=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(le,this.posX+this.margin[3],-Qt+Ft+this.ctx.prevPageLastElemOffset),de.call(this,W,!0),this.path=xn}if(xe=JSON.parse(JSON.stringify(bt)),this.path=k(xe,this.posX+this.margin[3],-Qt+Ft+this.ctx.prevPageLastElemOffset),ae===!1||Je===0){var cn=(Je>rt||Je<At)&&R.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,un,null).clip().discardPath()),de.call(this,W,ae),cn&&this.pdf.restoreGraphicsState()}this.lineWidth=qe}else this.lineWidth=yt,de.call(this,W,ae),this.lineWidth=qe;this.path=bt},de=function(W,ae){if((W!=="stroke"||ae||!O.call(this))&&(W==="stroke"||ae||!E.call(this))){for(var le,xe,he=[],Fe=this.path,je=0;je<Fe.length;je++){var qe=Fe[je];switch(qe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:qe,deltas:[],abs:[]});break;case"lt":var yt=he.length;if(Fe[je-1]&&!isNaN(Fe[je-1].x)&&(le=[qe.x-Fe[je-1].x,qe.y-Fe[je-1].y],yt>0)){for(;yt>=0;yt--)if(he[yt-1].close!==!0&&he[yt-1].begin!==!0){he[yt-1].deltas.push(le),he[yt-1].abs.push(qe);break}}break;case"bct":le=[qe.x1-Fe[je-1].x,qe.y1-Fe[je-1].y,qe.x2-Fe[je-1].x,qe.y2-Fe[je-1].y,qe.x-Fe[je-1].x,qe.y-Fe[je-1].y],he[he.length-1].deltas.push(le);break;case"qct":var it=Fe[je-1].x+2/3*(qe.x1-Fe[je-1].x),bt=Fe[je-1].y+2/3*(qe.y1-Fe[je-1].y),lt=qe.x+2/3*(qe.x1-qe.x),Yt=qe.y+2/3*(qe.y1-qe.y),Xe=qe.x,we=qe.y;le=[it-Fe[je-1].x,bt-Fe[je-1].y,lt-Fe[je-1].x,Yt-Fe[je-1].y,Xe-Fe[je-1].x,we-Fe[je-1].y],he[he.length-1].deltas.push(le);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(qe)}}xe=ae?null:W==="stroke"?"stroke":"fill";for(var Ut=!1,wt=0;wt<he.length;wt++)if(he[wt].arc)for(var rt=he[wt].abs,At=0;At<rt.length;At++){var Je=rt[At];Je.type==="arc"?te.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,ae,!Ut):ye.call(this,Je.x,Je.y),Ut=!0}else if(he[wt].close===!0)this.pdf.internal.out("h"),Ut=!1;else if(he[wt].begin!==!0){var St=he[wt].start.x,Ft=he[wt].start.y;me.call(this,he[wt].deltas,St,Ft),Ut=!0}xe&&se.call(this,xe),ae&&Le.call(this)}},ne=function(W){var ae=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,le=ae*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-le;case"top":return W+ae-le;case"hanging":return W+ae-2*le;case"middle":return W+ae/2-le;case"ideographic":return W;case"alphabetic":default:return W}},re=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(ae,le){this.colorStops.push([ae,le])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var te=function(W,ae,le,xe,he,Fe,je,qe,yt){for(var it=Me.call(this,le,xe,he,Fe),bt=0;bt<it.length;bt++){var lt=it[bt];bt===0&&(yt?J.call(this,lt.x1+W,lt.y1+ae):ye.call(this,lt.x1+W,lt.y1+ae)),ge.call(this,W,ae,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}qe?Le.call(this):se.call(this,je)},se=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Le=function(){this.pdf.clip(),this.pdf.discardPath()},J=function(W,ae){this.pdf.internal.out(n(W)+" "+i(ae)+" m")},Y=function(W){var ae;switch(W.align){case"right":case"end":ae="right";break;case"center":ae="center";break;case"left":case"start":default:ae="left"}var le=this.pdf.getTextDimensions(W.text),xe=ne.call(this,W.y),he=re.call(this,xe)-le.h,Fe=this.ctx.transform.applyToPoint(new h(W.x,xe)),je=this.ctx.transform.decompose(),qe=new g;qe=(qe=(qe=qe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var yt,it,bt,lt=this.ctx.transform.applyToRectangle(new m(W.x,xe,le.w,le.h)),Yt=qe.applyToRectangle(new m(W.x,he,le.w,le.h)),Xe=z.call(this,Yt),we=[],Ut=0;Ut<Xe.length;Ut+=1)we.indexOf(Xe[Ut])===-1&&we.push(Xe[Ut]);if(j(we),this.autoPaging)for(var wt=we[0],rt=we[we.length-1],At=wt;At<rt+1;At++){this.pdf.setPage(At);var Je=At===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[2],Zt=Ft-this.margin[0],un=this.pdf.internal.pageSize.width-this.margin[1],Qt=un-this.margin[3],xn=At===1?0:St+(At-2)*Zt;if(this.ctx.clip_path.length!==0){var cn=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(yt,this.posX+this.margin[3],-1*xn+Je),de.call(this,"fill",!0),this.path=cn}var zt=k([JSON.parse(JSON.stringify(Yt))],this.posX+this.margin[3],-xn+Je+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(it=this.pdf.internal.getFontSize(),this.pdf.setFontSize(it*W.scale),bt=this.lineWidth,this.lineWidth=bt*W.scale);var wn=this.autoPaging!=="text";if(wn||zt.y+zt.h<=Ft){if(wn||zt.y>=Je&&zt.x<=un){var It=wn?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||un-zt.x)[0],hr=k([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-xn+Je+this.ctx.prevPageLastElemOffset)[0],Kt=wn&&(At>wt||At<rt)&&R.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Zt,null).clip().discardPath()),this.pdf.text(It,hr.x,hr.y,{angle:W.angle,align:ae,renderingMode:W.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else zt.y<Ft&&(this.ctx.prevPageLastElemOffset+=Ft-zt.y);W.scale>=.01&&(this.pdf.setFontSize(it),this.lineWidth=bt)}else W.scale>=.01&&(it=this.pdf.internal.getFontSize(),this.pdf.setFontSize(it*W.scale),bt=this.lineWidth,this.lineWidth=bt*W.scale),this.pdf.text(W.text,Fe.x+this.posX,Fe.y+this.posY,{angle:W.angle,align:ae,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(it),this.lineWidth=bt)},ye=function(W,ae,le,xe){le=le||0,xe=xe||0,this.pdf.internal.out(n(W+le)+" "+i(ae+xe)+" l")},me=function(W,ae,le){return this.pdf.lines(W,ae,le,null,null)},ge=function(W,ae,le,xe,he,Fe,je,qe){this.pdf.internal.out([t(a(le+W)),t(l(xe+ae)),t(a(he+W)),t(l(Fe+ae)),t(a(je+W)),t(l(qe+ae)),"c"].join(" "))},Me=function(W,ae,le,xe){for(var he=2*Math.PI,Fe=Math.PI/2;ae>le;)ae-=he;var je=Math.abs(le-ae);je<he&&xe&&(je=he-je);for(var qe=[],yt=xe?-1:1,it=ae;je>1e-5;){var bt=it+yt*Math.min(je,Fe);qe.push(Ie.call(this,W,it,bt)),je-=Math.abs(bt-it),it=bt}return qe},Ie=function(W,ae,le){var xe=(le-ae)/2,he=W*Math.cos(xe),Fe=W*Math.sin(xe),je=he,qe=-Fe,yt=je*je+qe*qe,it=yt+je*he+qe*Fe,bt=4/3*(Math.sqrt(2*yt*it)-it)/(je*Fe-qe*he),lt=je-bt*qe,Yt=qe+bt*je,Xe=lt,we=-Yt,Ut=xe+ae,wt=Math.cos(Ut),rt=Math.sin(Ut);return{x1:W*Math.cos(ae),y1:W*Math.sin(ae),x2:lt*wt-Yt*rt,y2:lt*rt+Yt*wt,x3:Xe*wt-we*rt,y3:Xe*rt+we*wt,x4:W*Math.cos(le),y4:W*Math.sin(le)}},pe=function(W){return 180*W/Math.PI},Re=function(W,ae,le,xe,he,Fe){var je=W+.5*(le-W),qe=ae+.5*(xe-ae),yt=he+.5*(le-he),it=Fe+.5*(xe-Fe),bt=Math.min(W,he,je,yt),lt=Math.max(W,he,je,yt),Yt=Math.min(ae,Fe,qe,it),Xe=Math.max(ae,Fe,qe,it);return new m(bt,Yt,lt-bt,Xe-Yt)},Ce=function(W,ae,le,xe,he,Fe,je,qe){var yt,it,bt,lt,Yt,Xe,we,Ut,wt,rt,At,Je,St,Ft,Zt=le-W,un=xe-ae,Qt=he-le,xn=Fe-xe,cn=je-he,zt=qe-Fe;for(it=0;it<41;it++)wt=(we=(bt=W+(yt=it/40)*Zt)+yt*((Yt=le+yt*Qt)-bt))+yt*(Yt+yt*(he+yt*cn-Yt)-we),rt=(Ut=(lt=ae+yt*un)+yt*((Xe=xe+yt*xn)-lt))+yt*(Xe+yt*(Fe+yt*zt-Xe)-Ut),it==0?(At=wt,Je=rt,St=wt,Ft=rt):(At=Math.min(At,wt),Je=Math.min(Je,rt),St=Math.max(St,wt),Ft=Math.max(Ft,rt));return new m(Math.round(At),Math.round(Je),Math.round(St-At),Math.round(Ft-Je))},nt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,ae,le=(W=this.ctx.lineDash,ae=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:ae}));this.prevLineDash!==le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=le)}}})(an.API),function(e){var t=function(l){var h,m,g,v,_,A,I,E,O,R;for(m=[],g=0,v=(l+=h="\0\0\0\0".slice(l.length%4||4)).length;v>g;g+=4)(_=(l.charCodeAt(g)<<24)+(l.charCodeAt(g+1)<<16)+(l.charCodeAt(g+2)<<8)+l.charCodeAt(g+3))!==0?(A=(_=((_=((_=((_=(_-(R=_%85))/85)-(O=_%85))/85)-(E=_%85))/85)-(I=_%85))/85)%85,m.push(A+33,I+33,E+33,O+33,R+33)):m.push(122);return function(z,M){for(var k=M;k>0;k--)z.pop()}(m,h.length),String.fromCharCode.apply(String,m)+"~>"},n=function(l){var h,m,g,v,_,A=String,I="length",E=255,O="charCodeAt",R="slice",z="replace";for(l[R](-2),l=l[R](0,-2)[z](/\s/g,"")[z]("z","!!!!!"),g=[],v=0,_=(l+=h="uuuuu"[R](l[I]%5||5))[I];_>v;v+=5)m=52200625*(l[O](v)-33)+614125*(l[O](v+1)-33)+7225*(l[O](v+2)-33)+85*(l[O](v+3)-33)+(l[O](v+4)-33),g.push(E&m>>24,E&m>>16,E&m>>8,E&m);return function(M,k){for(var j=k;j>0;j--)M.pop()}(g,h[I]),A.fromCharCode.apply(A,g)},i=function(l){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),h.test(l)===!1)return"";for(var m="",g=0;g<l.length;g+=2)m+=String.fromCharCode("0x"+(l[g]+l[g+1]));return m},a=function(l){for(var h=new Uint8Array(l.length),m=l.length;m--;)h[m]=l.charCodeAt(m);return l=(h=q0(h)).reduce(function(g,v){return g+String.fromCharCode(v)},"")};e.processDataByFilters=function(l,h){var m=0,g=l||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),m=0;m<h.length;m+=1)switch(h[m]){case"ASCII85Decode":case"/ASCII85Decode":g=n(g),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=t(g),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=i(g),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=g.split("").map(function(_){return("0"+_.charCodeAt().toString(16)).slice(-2)}).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=a(g),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[m]+'" is not implemented')}return{data:g,reverseChain:v.reverse().join(" ")}}}(an.API),function(e){e.loadFile=function(t,n,i){return function(a,l,h){l=l!==!1,h=typeof h=="function"?h:function(){};var m=void 0;try{m=function(g,v,_){var A=new XMLHttpRequest,I=0,E=function(O){var R=O.length,z=[],M=String.fromCharCode;for(I=0;I<R;I+=1)z.push(M(255&O.charCodeAt(I)));return z.join("")};if(A.open("GET",g,!v),A.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(A.onload=function(){A.status===200?_(E(this.responseText)):_(void 0)}),A.send(null),v&&A.status===200)return E(A.responseText)}(a,l,h)}catch{}return m}(t,n,i)},e.loadImageFile=e.loadFile}(an.API),function(e){function t(){return(yn.html2canvas?Promise.resolve(yn.html2canvas):z0(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function n(){return(yn.DOMPurify?Promise.resolve(yn.DOMPurify):z0(()=>import("./purify.es-dceb4668.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var i=function(h){var m=xr(h);return m==="undefined"?"undefined":m==="string"||h instanceof String?"string":m==="number"||h instanceof Number?"number":m==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":m==="object"?"object":"unknown"},a=function(h,m){var g=document.createElement(h);for(var v in m.className&&(g.className=m.className),m.innerHTML&&m.dompurify&&(g.innerHTML=m.dompurify.sanitize(m.innerHTML)),m.style)g.style[v]=m.style[v];return g},l=function h(m){var g=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),g);return v=(v=v.setProgress(1,h,1,[h])).set(m)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(h,m){return h.__proto__=m||l.prototype,h},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(h,m){return this.then(function(){switch(m=m||function(g){switch(i(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(h)){case"string":return this.then(n).then(function(g){return this.set({src:a("div",{innerHTML:h,dompurify:g})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},l.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},m=function g(v,_){for(var A=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),I=v.firstChild;I;I=I.nextSibling)_!==!0&&I.nodeType===1&&I.nodeName==="SCRIPT"||A.appendChild(g(I,_));return v.nodeType===1&&(v.nodeName==="CANVAS"?(A.width=v.width,A.height=v.height,A.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(A.value=v.value),A.addEventListener("load",function(){A.scrollTop=v.scrollTop,A.scrollLeft=v.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);m.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(m),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(m){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,m(this.prop.container,g)}).then(function(m){(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(m){var g=this.opt.jsPDF,v=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=v,v)for(var I=0;I<v.length;++I){var E=v[I],O=E.src.find(function(R){return R.format==="truetype"});O&&g.addFont(O.url,E.ref.name,E.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,g.context2d.save(!0),m(this.prop.container,A)}).then(function(m){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(h,m,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(h,m):this.outputPdf(h,m)},l.prototype.outputPdf=function(h,m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,m)})},l.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},l.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(h){if(i(h)!=="object")return this;var m=Object.keys(h||{}).map(function(g){if(g in l.template.prop)return function(){this.prop[g]=h[g]};switch(g){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[g]=h[g]}}},this);return this.then(function(){return this.thenList(m)})},l.prototype.get=function(h,m){return this.then(function(){var g=h in l.template.prop?this.prop[h]:this.opt[h];return m?m(g):g})},l.prototype.setMargin=function(h){return this.then(function(){switch(i(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},l.prototype.setPageSize=function(h){function m(g,v){return Math.floor(g*v/72*96)}return this.then(function(){(h=h||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:m(h.inner.width,h.k),height:m(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},l.prototype.setProgress=function(h,m,g,v){return h!=null&&(this.progress.val=h),m!=null&&(this.progress.state=m),g!=null&&(this.progress.n=g),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(h,m,g,v){return this.setProgress(h?this.progress.val+h:null,m||null,g?this.progress.n+g:null,v?this.progress.stack.concat(v):null)},l.prototype.then=function(h,m){var g=this;return this.thenCore(h,m,function(v,_){return g.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(A){return g.updateProgress(null,v),A}).then(v,_).then(function(A){return g.updateProgress(1),A})})},l.prototype.thenCore=function(h,m,g){g=g||Promise.prototype.then,h&&(h=h.bind(this)),m&&(m=m.bind(this));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),_=g.call(v,h,m);return l.convert(_,this.__proto__)},l.prototype.thenExternal=function(h,m){return Promise.prototype.then.call(this,h,m)},l.prototype.thenList=function(h){var m=this;return h.forEach(function(g){m=m.thenCore(g)}),m},l.prototype.catch=function(h){h&&(h=h.bind(this));var m=Promise.prototype.catch.call(this,h);return l.convert(m,this)},l.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},l.prototype.error=function(h){return this.then(function(){throw new Error(h)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,an.getPageSize=function(h,m,g){if(xr(h)==="object"){var v=h;h=v.orientation,m=v.unit||m,g=v.format||g}m=m||"mm",g=g||"a4",h=(""+(h||"P")).toLowerCase();var _,A=(""+g).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+m}var E,O=0,R=0;if(I.hasOwnProperty(A))O=I[A][1]/_,R=I[A][0]/_;else try{O=g[1],R=g[0]}catch{throw new Error("Invalid format: "+g)}if(h==="p"||h==="portrait")h="p",R>O&&(E=R,R=O,O=E);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",O>R&&(E=R,R=O,O=E)}return{width:R,height:O,unit:m,k:_,orientation:h}},e.html=function(h,m){(m=m||{}).callback=m.callback||function(){},m.html2canvas=m.html2canvas||{},m.html2canvas.canvas=m.html2canvas.canvas||this.canvas,m.jsPDF=m.jsPDF||this,m.fontFaces=m.fontFaces?m.fontFaces.map(Q0):null;var g=new l(m);return m.worker?g:g.from(h).doCallback()}}(an.API),an.API.addJS=function(e){return Qm=e,this.internal.events.subscribe("postPutResources",function(){Zh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Km=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Qm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zh!==void 0&&Km!==void 0&&this.internal.out("/Names <</JavaScript "+Zh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),l=0;l<a.length;l++){var h=a[l],m=i.exec(h);if(m!=null){var g=m[1];n.internal.newObjectDeferredBegin(g,!1)}n.internal.write(h)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,_=[];for(l=0;l<v;l++){var A=n.internal.newObject();_.push(A);var I=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var E=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<_.length;l++)n.internal.write("(page_"+(l+1)+")"+_[l]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+E+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,a,l){var h={title:a,options:l,children:[]};return i==null&&(i=this.root),i.children.push(h),h},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<i.children.length;l++){var h=i.children[l];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(i)),l>0&&this.line("/Prev "+this.makeRef(i.children[l-1])),l<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[l+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var m=this.count=this.count_r({count:0},h);if(m>0&&this.line("/Count "+m),h.options&&h.options.pageNumber){var g=n.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var v=0;v<i.children.length;v++)this.renderItems(i.children[v])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,a){for(var l=0;l<a.children.length;l++)i.count++,this.count_r(i,a.children[l]);return i.count}}])}(an.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,a,l,h,m){var g,v=this.decode.DCT_DECODE,_=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=h||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(g=function(A){for(var I,E=256*A.charCodeAt(4)+A.charCodeAt(5),O=A.length,R={width:0,height:0,numcomponents:1},z=4;z<O;z+=2){if(z+=E,t.indexOf(A.charCodeAt(z+1))!==-1){I=256*A.charCodeAt(z+5)+A.charCodeAt(z+6),R={width:256*A.charCodeAt(z+7)+A.charCodeAt(z+8),height:I,numcomponents:A.charCodeAt(z+9)};break}E=256*A.charCodeAt(z+2)+A.charCodeAt(z+3)}return R}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:m=this.color_spaces.DEVICE_GRAY;break;case 4:m=this.color_spaces.DEVICE_CMYK;break;case 3:m=this.color_spaces.DEVICE_RGB}_={data:n,width:g.width,height:g.height,colorSpace:m,bitsPerComponent:8,filter:v,index:i,alias:a}}return _}}(an.API);var au,Xh,Jm,$m,e5,jA=function(){var e,t,n;function i(l){var h,m,g,v,_,A,I,E,O,R,z,M,k,j;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(h=this.readUInt32(),O=(function(){var $,de;for(de=[],$=0;$<4;++$)de.push(String.fromCharCode(this.data[this.pos++]));return de}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(h);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_=this.readUInt16(),v=this.readUInt16()||100,A.delay=1e3*_/v,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(O==="fdAT"&&(this.pos+=4,h-=4),l=(A!=null?A.data:void 0)||this.imgData,M=0;0<=h?M<h:M>h;0<=h?++M:--M)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(g=this.palette.length/3,this.transparency.indexed=this.read(h),this.transparency.indexed.length>g)throw new Error("More transparent colors than palette size");if((R=g-this.transparency.indexed.length)>0)for(k=0;0<=R?k<R:k>R;0<=R?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(h)[0];break;case 2:this.transparency.rgb=this.read(h)}break;case"tEXt":I=(z=this.read(h)).indexOf(0),E=String.fromCharCode.apply(String,z.slice(0,I)),this.text[E]=String.fromCharCode.apply(String,z.slice(I+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,m=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*m,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=h}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(l){var h,m;for(m=[],h=0;0<=l?h<l:h>l;0<=l?++h:--h)m.push(this.data[this.pos++]);return m},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(l){var h=this.pixelBitlength/8,m=new Uint8Array(this.width*this.height*h),g=0,v=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function _(A,I,E,O){var R,z,M,k,j,$,de,ne,re,te,se,Le,J,Y,ye,me,ge,Me,Ie,pe,Re,Ce=Math.ceil((v.width-A)/E),nt=Math.ceil((v.height-I)/O),W=v.width==Ce&&v.height==nt;for(Y=h*Ce,Le=W?m:new Uint8Array(Y*nt),$=l.length,J=0,z=0;J<nt&&g<$;){switch(l[g++]){case 0:for(k=ge=0;ge<Y;k=ge+=1)Le[z++]=l[g++];break;case 1:for(k=Me=0;Me<Y;k=Me+=1)R=l[g++],j=k<h?0:Le[z-h],Le[z++]=(R+j)%256;break;case 2:for(k=Ie=0;Ie<Y;k=Ie+=1)R=l[g++],M=(k-k%h)/h,ye=J&&Le[(J-1)*Y+M*h+k%h],Le[z++]=(ye+R)%256;break;case 3:for(k=pe=0;pe<Y;k=pe+=1)R=l[g++],M=(k-k%h)/h,j=k<h?0:Le[z-h],ye=J&&Le[(J-1)*Y+M*h+k%h],Le[z++]=(R+Math.floor((j+ye)/2))%256;break;case 4:for(k=Re=0;Re<Y;k=Re+=1)R=l[g++],M=(k-k%h)/h,j=k<h?0:Le[z-h],J===0?ye=me=0:(ye=Le[(J-1)*Y+M*h+k%h],me=M&&Le[(J-1)*Y+(M-1)*h+k%h]),de=j+ye-me,ne=Math.abs(de-j),te=Math.abs(de-ye),se=Math.abs(de-me),re=ne<=te&&ne<=se?j:te<=se?ye:me,Le[z++]=(R+re)%256;break;default:throw new Error("Invalid filter algorithm: "+l[g-1])}if(!W){var ae=((I+J*O)*v.width+A)*h,le=J*Y;for(k=0;k<Ce;k+=1){for(var xe=0;xe<h;xe+=1)m[ae++]=Le[le++];ae+=(E-1)*h}}J++}}return l=vA(l),v.interlaceMethod==1?(_(0,0,8,8),_(4,0,8,8),_(0,4,4,8),_(2,0,4,4),_(0,2,2,4),_(1,0,2,2),_(0,1,1,2)):_(0,0,1,1),m},i.prototype.decodePalette=function(){var l,h,m,g,v,_,A,I,E;for(m=this.palette,_=this.transparency.indexed||[],v=new Uint8Array((_.length||0)+m.length),g=0,l=0,h=A=0,I=m.length;A<I;h=A+=3)v[g++]=m[h],v[g++]=m[h+1],v[g++]=m[h+2],v[g++]=(E=_[l++])!=null?E:255;return v},i.prototype.copyToImageData=function(l,h){var m,g,v,_,A,I,E,O,R,z,M;if(g=this.colors,R=null,m=this.hasAlphaChannel,this.palette.length&&(R=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),g=4,m=!0),O=(v=l.data||l).length,A=R||h,_=I=0,g===1)for(;_<O;)E=R?4*h[_/4]:I,z=A[E++],v[_++]=z,v[_++]=z,v[_++]=z,v[_++]=m?A[E++]:255,I=E;else for(;_<O;)E=R?4*h[_/4]:I,v[_++]=A[E++],v[_++]=A[E++],v[_++]=A[E++],v[_++]=m?A[E++]:255,I=E},i.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var a=function(){if(Object.prototype.toString.call(yn)==="[object Window]"){try{t=yn.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(l){var h;if(a()===!0)return n.width=l.width,n.height=l.height,n.clearRect(0,0,l.width,l.height),n.putImageData(l,0,0),(h=new Image).src=t.toDataURL(),h;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(l){var h,m,g,v,_,A,I,E;if(this.animation){for(E=[],m=_=0,A=(I=this.animation.frames).length;_<A;m=++_)h=I[m],g=l.createImageData(h.width,h.height),v=this.decodePixels(new Uint8Array(h.data)),this.copyToImageData(g,v),h.imageData=g,E.push(h.image=e(g));return E}},i.prototype.renderFrame=function(l,h){var m,g,v;return m=(g=this.animation.frames)[h],v=g[h-1],h===0&&l.clearRect(0,0,this.width,this.height),(v!=null?v.disposeOp:void 0)===1?l.clearRect(v.xOffset,v.yOffset,v.width,v.height):(v!=null?v.disposeOp:void 0)===2&&l.putImageData(v.imageData,v.xOffset,v.yOffset),m.blendOp===0&&l.clearRect(m.xOffset,m.yOffset,m.width,m.height),l.drawImage(m.image,m.xOffset,m.yOffset)},i.prototype.animate=function(l){var h,m,g,v,_,A,I=this;return m=0,A=this.animation,v=A.numFrames,g=A.frames,_=A.numPlays,(h=function(){var E,O;if(E=m++%v,O=g[E],I.renderFrame(l,E),v>1&&m/v<_)return I.animation._timeout=setTimeout(h,O.delay)})()},i.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},i.prototype.render=function(l){var h,m;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,h=l.getContext("2d"),this.animation?(this.decodeFrames(h),this.animate(h)):(m=h.createImageData(this.width,this.height),this.copyToImageData(m,this.decodePixels()),h.putImageData(m,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function zA(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,a=e[t++],l=a>>7,h=1<<(7&a)+1;e[t++],e[t++];var m=null,g=null;l&&(m=t,g=h,t+=3*h);var v=!0,_=[],A=0,I=null,E=0,O=null;for(this.width=n,this.height=i;v&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,O=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((J=e[t++])>=0))throw Error("Invalid block size");if(J===0)break;t+=J}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var R=e[t++];A=e[t++]|e[t++]<<8,I=e[t++],!(1&R)&&(I=null),E=R>>2&7,t++;break;case 254:for(;;){if(!((J=e[t++])>=0))throw Error("Invalid block size");if(J===0)break;t+=J}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var z=e[t++]|e[t++]<<8,M=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,$=e[t++],de=$>>6&1,ne=1<<(7&$)+1,re=m,te=g,se=!1;$>>7&&(se=!0,re=t,te=ne,t+=3*ne);var Le=t;for(t++;;){var J;if(!((J=e[t++])>=0))throw Error("Invalid block size");if(J===0)break;t+=J}_.push({x:z,y:M,width:k,height:j,has_local_palette:se,palette_offset:re,palette_size:te,data_offset:Le,data_length:t-Le,transparent_index:I,interlaced:!!de,delay:A,disposal:E});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return O},this.frameInfo=function(Y){if(Y<0||Y>=_.length)throw new Error("Frame index out of range.");return _[Y]},this.decodeAndBlitFrameBGRA=function(Y,ye){var me=this.frameInfo(Y),ge=me.width*me.height,Me=new Uint8Array(ge);t5(e,me.data_offset,Me,ge);var Ie=me.palette_offset,pe=me.transparent_index;pe===null&&(pe=256);var Re=me.width,Ce=n-Re,nt=Re,W=4*(me.y*n+me.x),ae=4*((me.y+me.height)*n+me.x),le=W,xe=4*Ce;me.interlaced===!0&&(xe+=4*n*7);for(var he=8,Fe=0,je=Me.length;Fe<je;++Fe){var qe=Me[Fe];if(nt===0&&(nt=Re,(le+=xe)>=ae&&(xe=4*Ce+4*n*(he-1),le=W+(Re+Ce)*(he<<1),he>>=1)),qe===pe)le+=4;else{var yt=e[Ie+3*qe],it=e[Ie+3*qe+1],bt=e[Ie+3*qe+2];ye[le++]=bt,ye[le++]=it,ye[le++]=yt,ye[le++]=255}--nt}},this.decodeAndBlitFrameRGBA=function(Y,ye){var me=this.frameInfo(Y),ge=me.width*me.height,Me=new Uint8Array(ge);t5(e,me.data_offset,Me,ge);var Ie=me.palette_offset,pe=me.transparent_index;pe===null&&(pe=256);var Re=me.width,Ce=n-Re,nt=Re,W=4*(me.y*n+me.x),ae=4*((me.y+me.height)*n+me.x),le=W,xe=4*Ce;me.interlaced===!0&&(xe+=4*n*7);for(var he=8,Fe=0,je=Me.length;Fe<je;++Fe){var qe=Me[Fe];if(nt===0&&(nt=Re,(le+=xe)>=ae&&(xe=4*Ce+4*n*(he-1),le=W+(Re+Ce)*(he<<1),he>>=1)),qe===pe)le+=4;else{var yt=e[Ie+3*qe],it=e[Ie+3*qe+1],bt=e[Ie+3*qe+2];ye[le++]=yt,ye[le++]=it,ye[le++]=bt,ye[le++]=255}--nt}}}function t5(e,t,n,i){for(var a=e[t++],l=1<<a,h=l+1,m=h+1,g=a+1,v=(1<<g)-1,_=0,A=0,I=0,E=e[t++],O=new Int32Array(4096),R=null;;){for(;_<16&&E!==0;)A|=e[t++]<<_,_+=8,E===1?E=e[t++]:--E;if(_<g)break;var z=A&v;if(A>>=g,_-=g,z!==l){if(z===h)break;for(var M=z<m?z:R,k=0,j=M;j>l;)j=O[j]>>8,++k;var $=j;if(I+k+(M!==z?1:0)>i)return void Nr.log("Warning, gif stream longer than expected.");n[I++]=$;var de=I+=k;for(M!==z&&(n[I++]=$),j=M;k--;)j=O[j],n[--de]=255&j,j>>=8;R!==null&&m<4096&&(O[m++]=R<<8|$,m>=v+1&&g<12&&(++g,v=v<<1|1)),R=z}else m=h+1,v=(1<<(g=a+1))-1,R=null}return I!==i&&Nr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function P1(e){var t,n,i,a,l,h=Math.floor,m=new Array(64),g=new Array(64),v=new Array(64),_=new Array(64),A=new Array(65535),I=new Array(65535),E=new Array(64),O=new Array(64),R=[],z=0,M=7,k=new Array(64),j=new Array(64),$=new Array(64),de=new Array(256),ne=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],Le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],J=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ye=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Me(W,ae){for(var le=0,xe=0,he=new Array,Fe=1;Fe<=16;Fe++){for(var je=1;je<=W[Fe];je++)he[ae[xe]]=[],he[ae[xe]][0]=le,he[ae[xe]][1]=Fe,xe++,le++;le*=2}return he}function Ie(W){for(var ae=W[0],le=W[1]-1;le>=0;)ae&1<<le&&(z|=1<<M),le--,--M<0&&(z==255?(pe(255),pe(0)):pe(z),M=7,z=0)}function pe(W){R.push(W)}function Re(W){pe(W>>8&255),pe(255&W)}function Ce(W,ae,le,xe,he){for(var Fe,je=he[0],qe=he[240],yt=function(rt,At){var Je,St,Ft,Zt,un,Qt,xn,cn,zt,wn,It=0;for(zt=0;zt<8;++zt){Je=rt[It],St=rt[It+1],Ft=rt[It+2],Zt=rt[It+3],un=rt[It+4],Qt=rt[It+5],xn=rt[It+6];var hr=Je+(cn=rt[It+7]),Kt=Je-cn,xt=St+xn,nn=St-xn,$t=Ft+Qt,kn=Ft-Qt,Ln=Zt+un,no=Zt-un,or=hr+Ln,hn=hr-Ln,ti=xt+$t,cr=xt-$t;rt[It]=or+ti,rt[It+4]=or-ti;var ln=.707106781*(cr+hn);rt[It+2]=hn+ln,rt[It+6]=hn-ln;var _n=.382683433*((or=no+kn)-(cr=nn+Kt)),Ri=.5411961*or+_n,Bn=1.306562965*cr+_n,ci=.707106781*(ti=kn+nn),hi=Kt+ci,ve=Kt-ci;rt[It+5]=ve+Ri,rt[It+3]=ve-Ri,rt[It+1]=hi+Bn,rt[It+7]=hi-Bn,It+=8}for(It=0,zt=0;zt<8;++zt){Je=rt[It],St=rt[It+8],Ft=rt[It+16],Zt=rt[It+24],un=rt[It+32],Qt=rt[It+40],xn=rt[It+48];var Oe=Je+(cn=rt[It+56]),He=Je-cn,st=St+xn,ft=St-xn,Ke=Ft+Qt,Ot=Ft-Qt,Qe=Zt+un,Lt=Zt-un,Nt=Oe+Qe,Et=Oe-Qe,Jt=st+Ke,en=st-Ke;rt[It]=Nt+Jt,rt[It+32]=Nt-Jt;var Wn=.707106781*(en+Et);rt[It+16]=Et+Wn,rt[It+48]=Et-Wn;var fn=.382683433*((Nt=Lt+Ot)-(en=ft+He)),Tn=.5411961*Nt+fn,Qn=1.306562965*en+fn,Lr=.707106781*(Jt=Ot+ft),sr=He+Lr,Pn=He-Lr;rt[It+40]=Pn+Tn,rt[It+24]=Pn-Tn,rt[It+8]=sr+Qn,rt[It+56]=sr-Qn,It++}for(zt=0;zt<64;++zt)wn=rt[zt]*At[zt],E[zt]=wn>0?wn+.5|0:wn-.5|0;return E}(W,ae),it=0;it<64;++it)O[re[it]]=yt[it];var bt=O[0]-le;le=O[0],bt==0?Ie(xe[0]):(Ie(xe[I[Fe=32767+bt]]),Ie(A[Fe]));for(var lt=63;lt>0&&O[lt]==0;)lt--;if(lt==0)return Ie(je),le;for(var Yt,Xe=1;Xe<=lt;){for(var we=Xe;O[Xe]==0&&Xe<=lt;)++Xe;var Ut=Xe-we;if(Ut>=16){Yt=Ut>>4;for(var wt=1;wt<=Yt;++wt)Ie(qe);Ut&=15}Fe=32767+O[Xe],Ie(he[(Ut<<4)+I[Fe]]),Ie(A[Fe]),Xe++}return lt!=63&&Ie(je),le}function nt(W){W=Math.min(Math.max(W,1),100),l!=W&&(function(ae){for(var le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],xe=0;xe<64;xe++){var he=h((le[xe]*ae+50)/100);he=Math.min(Math.max(he,1),255),m[re[xe]]=he}for(var Fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var qe=h((Fe[je]*ae+50)/100);qe=Math.min(Math.max(qe,1),255),g[re[je]]=qe}for(var yt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],it=0,bt=0;bt<8;bt++)for(var lt=0;lt<8;lt++)v[it]=1/(m[re[it]]*yt[bt]*yt[lt]*8),_[it]=1/(g[re[it]]*yt[bt]*yt[lt]*8),it++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),l=W)}this.encode=function(W,ae){ae&&nt(ae),R=new Array,z=0,M=7,Re(65496),Re(65504),Re(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Re(1),Re(1),pe(0),pe(0),function(){Re(65499),Re(132),pe(0);for(var St=0;St<64;St++)pe(m[St]);pe(1);for(var Ft=0;Ft<64;Ft++)pe(g[Ft])}(),function(St,Ft){Re(65472),Re(17),pe(8),Re(Ft),Re(St),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)}(W.width,W.height),function(){Re(65476),Re(418),pe(0);for(var St=0;St<16;St++)pe(te[St+1]);for(var Ft=0;Ft<=11;Ft++)pe(se[Ft]);pe(16);for(var Zt=0;Zt<16;Zt++)pe(Le[Zt+1]);for(var un=0;un<=161;un++)pe(J[un]);pe(1);for(var Qt=0;Qt<16;Qt++)pe(Y[Qt+1]);for(var xn=0;xn<=11;xn++)pe(ye[xn]);pe(17);for(var cn=0;cn<16;cn++)pe(me[cn+1]);for(var zt=0;zt<=161;zt++)pe(ge[zt])}(),Re(65498),Re(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var le=0,xe=0,he=0;z=0,M=7,this.encode.displayName="_encode_";for(var Fe,je,qe,yt,it,bt,lt,Yt,Xe,we=W.data,Ut=W.width,wt=W.height,rt=4*Ut,At=0;At<wt;){for(Fe=0;Fe<rt;){for(it=rt*At+Fe,lt=-1,Yt=0,Xe=0;Xe<64;Xe++)bt=it+(Yt=Xe>>3)*rt+(lt=4*(7&Xe)),At+Yt>=wt&&(bt-=rt*(At+1+Yt-wt)),Fe+lt>=rt&&(bt-=Fe+lt-rt+4),je=we[bt++],qe=we[bt++],yt=we[bt++],k[Xe]=(ne[je]+ne[qe+256>>0]+ne[yt+512>>0]>>16)-128,j[Xe]=(ne[je+768>>0]+ne[qe+1024>>0]+ne[yt+1280>>0]>>16)-128,$[Xe]=(ne[je+1280>>0]+ne[qe+1536>>0]+ne[yt+1792>>0]>>16)-128;le=Ce(k,v,le,t,i),xe=Ce(j,_,xe,n,a),he=Ce($,_,he,n,a),Fe+=32}At+=8}if(M>=0){var Je=[];Je[1]=M+1,Je[0]=(1<<M+1)-1,Ie(Je)}return Re(65497),new Uint8Array(R)},e=e||50,function(){for(var W=String.fromCharCode,ae=0;ae<256;ae++)de[ae]=W(ae)}(),t=Me(te,se),n=Me(Y,ye),i=Me(Le,J),a=Me(me,ge),function(){for(var W=1,ae=2,le=1;le<=15;le++){for(var xe=W;xe<ae;xe++)I[32767+xe]=le,A[32767+xe]=[],A[32767+xe][1]=le,A[32767+xe][0]=xe;for(var he=-(ae-1);he<=-W;he++)I[32767+he]=le,A[32767+he]=[],A[32767+he][1]=le,A[32767+he][0]=ae-1+he;W<<=1,ae<<=1}}(),function(){for(var W=0;W<256;W++)ne[W]=19595*W,ne[W+256>>0]=38470*W,ne[W+512>>0]=7471*W+32768,ne[W+768>>0]=-11059*W,ne[W+1024>>0]=-21709*W,ne[W+1280>>0]=32768*W+8421375,ne[W+1536>>0]=-27439*W,ne[W+1792>>0]=-5329*W}(),nt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Rs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n5(e){function t(te){if(!te)throw Error("assert :P")}function n(te,se,Le){for(var J=0;4>J;J++)if(te[se+J]!=Le.charCodeAt(J))return!0;return!1}function i(te,se,Le,J,Y){for(var ye=0;ye<Y;ye++)te[se+ye]=Le[J+ye]}function a(te,se,Le,J){for(var Y=0;Y<J;Y++)te[se+Y]=Le}function l(te){return new Int32Array(te)}function h(te,se){for(var Le=[],J=0;J<te;J++)Le.push(new se);return Le}function m(te,se){var Le=[];return function J(Y,ye,me){for(var ge=me[ye],Me=0;Me<ge&&(Y.push(me.length>ye+1?[]:new se),!(me.length<ye+1));Me++)J(Y[Me],ye+1,me)}(Le,0,te),Le}var g=function(){var te=this;function se(y,b){for(var P=1<<b-1>>>0;y&P;)P>>>=1;return P?(y&P-1)+P:y}function Le(y,b,P,B,G){t(!(B%P));do y[b+(B-=P)]=G;while(0<B)}function J(y,b,P,B,G){if(t(2328>=G),512>=G)var X=l(512);else if((X=l(G))==null)return 0;return function(K,ee,ie,fe,Se,We){var Ve,Be,ht=ee,et=1<<ie,Ne=l(16),Pe=l(16);for(t(Se!=0),t(fe!=null),t(K!=null),t(0<ie),Be=0;Be<Se;++Be){if(15<fe[Be])return 0;++Ne[fe[Be]]}if(Ne[0]==Se)return 0;for(Pe[1]=0,Ve=1;15>Ve;++Ve){if(Ne[Ve]>1<<Ve)return 0;Pe[Ve+1]=Pe[Ve]+Ne[Ve]}for(Be=0;Be<Se;++Be)Ve=fe[Be],0<fe[Be]&&(We[Pe[Ve]++]=Be);if(Pe[15]==1)return(fe=new Y).g=0,fe.value=We[0],Le(K,ht,1,et,fe),et;var at,vt=-1,ct=et-1,Bt=0,kt=1,sn=1,Rt=1<<ie;for(Be=0,Ve=1,Se=2;Ve<=ie;++Ve,Se<<=1){if(kt+=sn<<=1,0>(sn-=Ne[Ve]))return 0;for(;0<Ne[Ve];--Ne[Ve])(fe=new Y).g=Ve,fe.value=We[Be++],Le(K,ht+Bt,Se,Rt,fe),Bt=se(Bt,Ve)}for(Ve=ie+1,Se=2;15>=Ve;++Ve,Se<<=1){if(kt+=sn<<=1,0>(sn-=Ne[Ve]))return 0;for(;0<Ne[Ve];--Ne[Ve]){if(fe=new Y,(Bt&ct)!=vt){for(ht+=Rt,at=1<<(vt=Ve)-ie;15>vt&&!(0>=(at-=Ne[vt]));)++vt,at<<=1;et+=Rt=1<<(at=vt-ie),K[ee+(vt=Bt&ct)].g=at+ie,K[ee+vt].value=ht-ee-vt}fe.g=Ve-ie,fe.value=We[Be++],Le(K,ht+(Bt>>ie),Se,Rt,fe),Bt=se(Bt,Ve)}}return kt!=2*Pe[15]-1?0:et}(y,b,P,B,G,X)}function Y(){this.value=this.g=0}function ye(){this.value=this.g=0}function me(){this.G=h(5,Y),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(tr,ye)}function ge(y,b,P,B){t(y!=null),t(b!=null),t(2147483648>B),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=b,y.pa=P,y.Jd=b,y.Yc=P+B,y.Zc=4<=B?P+B-4+1:P,Fe(y)}function Me(y,b){for(var P=0;0<b--;)P|=qe(y,128)<<b;return P}function Ie(y,b){var P=Me(y,b);return je(y)?-P:P}function pe(y,b,P,B){var G,X=0;for(t(y!=null),t(b!=null),t(4294967288>B),y.Sb=B,y.Ra=0,y.u=0,y.h=0,4<B&&(B=4),G=0;G<B;++G)X+=b[P+G]<<8*G;y.Ra=X,y.bb=B,y.oa=b,y.pa=P}function Re(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Xi-8>>>0,++y.bb,y.u-=8;le(y)&&(y.h=1,y.u=0)}function Ce(y,b){if(t(0<=b),!y.h&&b<=Ti){var P=ae(y)&Js[b];return y.u+=b,Re(y),P}return y.h=1,y.u=0}function nt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&Xi-1)>>>0}function le(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Xi}function xe(y,b){y.u=b,y.h=le(y)}function he(y){y.u>=Fn&&(t(y.u>=Fn),Re(y))}function Fe(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function je(y){return Me(y,1)}function qe(y,b){var P=y.Ca;0>y.b&&Fe(y);var B=y.b,G=P*b>>>8,X=(y.I>>>B>G)+0;for(X?(P-=G,y.I-=G+1<<B>>>0):P=G+1,B=P,G=0;256<=B;)G+=8,B>>=8;return B=7^G+Kr[B],y.b-=B,y.Ca=(P<<B)-1,X}function yt(y,b,P){y[b+0]=P>>24&255,y[b+1]=P>>16&255,y[b+2]=P>>8&255,y[b+3]=P>>0&255}function it(y,b){return y[b+0]<<0|y[b+1]<<8}function bt(y,b){return it(y,b)|y[b+2]<<16}function lt(y,b){return it(y,b)|it(y,b+2)<<16}function Yt(y,b){var P=1<<b;return t(y!=null),t(0<b),y.X=l(P),y.X==null?0:(y.Mb=32-b,y.Xa=b,1)}function Xe(y,b){t(y!=null),t(b!=null),t(y.Xa==b.Xa),i(b.X,0,y.X,0,1<<b.Xa)}function we(){this.X=[],this.Xa=this.Mb=0}function Ut(y,b,P,B){t(P!=null),t(B!=null);var G=P[0],X=B[0];return G==0&&(G=(y*X+b/2)/b),X==0&&(X=(b*G+y/2)/y),0>=G||0>=X?0:(P[0]=G,B[0]=X,1)}function wt(y,b){return y+(1<<b)-1>>>b}function rt(y,b){return((4278255360&y)+(4278255360&b)>>>0&4278255360)+((16711935&y)+(16711935&b)>>>0&16711935)>>>0}function At(y,b){te[b]=function(P,B,G,X,K,ee,ie){var fe;for(fe=0;fe<K;++fe){var Se=te[y](ee[ie+fe-1],G,X+fe);ee[ie+fe]=rt(P[B+fe],Se)}}}function Je(){this.ud=this.hd=this.jd=0}function St(y,b){return((4278124286&(y^b))>>>1)+(y&b)>>>0}function Ft(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Zt(y,b){return Ft(y+(y-b+.5>>1))}function un(y,b,P){return Math.abs(b-P)-Math.abs(y-P)}function Qt(y,b,P,B,G,X,K){for(B=X[K-1],P=0;P<G;++P)X[K+P]=B=rt(y[b+P],B)}function xn(y,b,P,B,G){var X;for(X=0;X<P;++X){var K=y[b+X],ee=K>>8&255,ie=16711935&(ie=(ie=16711935&K)+((ee<<16)+ee));B[G+X]=(4278255360&K)+ie>>>0}}function cn(y,b){b.jd=y>>0&255,b.hd=y>>8&255,b.ud=y>>16&255}function zt(y,b,P,B,G,X){var K;for(K=0;K<B;++K){var ee=b[P+K],ie=ee>>>8,fe=ee,Se=255&(Se=(Se=ee>>>16)+((y.jd<<24>>24)*(ie<<24>>24)>>>5));fe=255&(fe=(fe=fe+((y.hd<<24>>24)*(ie<<24>>24)>>>5))+((y.ud<<24>>24)*(Se<<24>>24)>>>5)),G[X+K]=(4278255360&ee)+(Se<<16)+fe}}function wn(y,b,P,B,G){te[b]=function(X,K,ee,ie,fe,Se,We,Ve,Be){for(ie=We;ie<Ve;++ie)for(We=0;We<Be;++We)fe[Se++]=G(ee[B(X[K++])])},te[y]=function(X,K,ee,ie,fe,Se,We){var Ve=8>>X.b,Be=X.Ea,ht=X.K[0],et=X.w;if(8>Ve)for(X=(1<<X.b)-1,et=(1<<Ve)-1;K<ee;++K){var Ne,Pe=0;for(Ne=0;Ne<Be;++Ne)Ne&X||(Pe=B(ie[fe++])),Se[We++]=G(ht[Pe&et]),Pe>>=Ve}else te["VP8LMapColor"+P](ie,fe,ht,et,Se,We,K,ee,Be)}}function It(y,b,P,B,G){for(P=b+P;b<P;){var X=y[b++];B[G++]=X>>16&255,B[G++]=X>>8&255,B[G++]=X>>0&255}}function hr(y,b,P,B,G){for(P=b+P;b<P;){var X=y[b++];B[G++]=X>>16&255,B[G++]=X>>8&255,B[G++]=X>>0&255,B[G++]=X>>24&255}}function Kt(y,b,P,B,G){for(P=b+P;b<P;){var X=(K=y[b++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;B[G++]=X,B[G++]=K}}function xt(y,b,P,B,G){for(P=b+P;b<P;){var X=(K=y[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;B[G++]=X,B[G++]=K}}function nn(y,b,P,B,G){for(P=b+P;b<P;){var X=y[b++];B[G++]=X>>0&255,B[G++]=X>>8&255,B[G++]=X>>16&255}}function $t(y,b,P,B,G,X){if(X==0)for(P=b+P;b<P;)yt(B,((X=y[b++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),G+=32;else i(B,G,y,b,P)}function kn(y,b){te[b][0]=te[y+"0"],te[b][1]=te[y+"1"],te[b][2]=te[y+"2"],te[b][3]=te[y+"3"],te[b][4]=te[y+"4"],te[b][5]=te[y+"5"],te[b][6]=te[y+"6"],te[b][7]=te[y+"7"],te[b][8]=te[y+"8"],te[b][9]=te[y+"9"],te[b][10]=te[y+"10"],te[b][11]=te[y+"11"],te[b][12]=te[y+"12"],te[b][13]=te[y+"13"],te[b][14]=te[y+"0"],te[b][15]=te[y+"0"]}function Ln(y){return y==Yl||y==Kl||y==Ql||y==s}function no(){this.eb=[],this.size=this.A=this.fb=0}function or(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new no,this.f.kb=new or,this.sd=null}function ti(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ln(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function _n(y,b){var P=y.T,B=b.ba.f.RGBA,G=B.eb,X=B.fb+y.ka*B.A,K=Qi[b.ba.S],ee=y.y,ie=y.O,fe=y.f,Se=y.N,We=y.ea,Ve=y.W,Be=b.cc,ht=b.dc,et=b.Mc,Ne=b.Nc,Pe=y.ka,at=y.ka+y.T,vt=y.U,ct=vt+1>>1;for(Pe==0?K(ee,ie,null,null,fe,Se,We,Ve,fe,Se,We,Ve,G,X,null,null,vt):(K(b.ec,b.fc,ee,ie,Be,ht,et,Ne,fe,Se,We,Ve,G,X-B.A,G,X,vt),++P);Pe+2<at;Pe+=2)Be=fe,ht=Se,et=We,Ne=Ve,Se+=y.Rc,Ve+=y.Rc,X+=2*B.A,K(ee,(ie+=2*y.fa)-y.fa,ee,ie,Be,ht,et,Ne,fe,Se,We,Ve,G,X-B.A,G,X,vt);return ie+=y.fa,y.j+at<y.o?(i(b.ec,b.fc,ee,ie,vt),i(b.cc,b.dc,fe,Se,ct),i(b.Mc,b.Nc,We,Ve,ct),P--):1&at||K(ee,ie,null,null,fe,Se,We,Ve,fe,Se,We,Ve,G,X+B.A,null,null,vt),P}function Ri(y,b,P){var B=y.F,G=[y.J];if(B!=null){var X=y.U,K=b.ba.S,ee=K==xl||K==Ql;b=b.ba.f.RGBA;var ie=[0],fe=y.ka;ie[0]=y.T,y.Kb&&(fe==0?--ie[0]:(--fe,G[0]-=y.width),y.j+y.ka+y.T==y.o&&(ie[0]=y.o-y.j-fe));var Se=b.eb;fe=b.fb+fe*b.A,y=pr(B,G[0],y.width,X,ie,Se,fe+(ee?0:3),b.A),t(P==ie),y&&Ln(K)&&gi(Se,fe,ee,X,ie,b.A)}return 0}function Bn(y){var b=y.ma,P=b.ba.S,B=11>P,G=P==vl||P==yl||P==xl||P==Xl||P==12||Ln(P);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Ls(b.Oa,y,G?11:12))return 0;if(G&&Ln(P)&&ut(),y.da)alert("todo:use_scaling");else{if(B){if(b.Ib=ln,y.Kb){if(P=y.U+1>>1,b.memory=l(y.U+2*P),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+y.U,b.Mc=b.cc,b.Nc=b.dc+P,b.Ib=_n,ut()}}else alert("todo:EmitYUV");G&&(b.Jb=Ri,B&&De())}if(B&&!g2){for(y=0;256>y;++y)Kx[y]=89858*(y-128)+gh>>ph,$x[y]=-22014*(y-128)+gh,Jx[y]=-45773*(y-128),Qx[y]=113618*(y-128)+gh>>ph;for(y=Ju;y<Od;++y)b=76283*(y-16)+gh>>ph,ew[y-Ju]=Kn(b,255),tw[y-Ju]=Kn(b+8>>4,15);g2=1}return 1}function ci(y){var b=y.ma,P=y.U,B=y.T;return t(!(1&y.ka)),0>=P||0>=B?0:(P=b.Ib(y,b),b.Jb!=null&&b.Jb(y,b,P),b.Dc+=P,1)}function hi(y){y.ma.memory=null}function ve(y,b,P,B){return Ce(y,8)!=47?0:(b[0]=Ce(y,14)+1,P[0]=Ce(y,14)+1,B[0]=Ce(y,1),Ce(y,3)!=0?0:!y.h)}function Oe(y,b){if(4>y)return y+1;var P=y-2>>1;return(2+(1&y)<<P)+Ce(b,P)+1}function He(y,b){return 120<b?b-120:1<=(P=((P=_e[b-1])>>4)*y+(8-(15&P)))?P:1;var P}function st(y,b,P){var B=ae(P),G=y[b+=255&B].g-8;return 0<G&&(xe(P,P.u+8),B=ae(P),b+=y[b].value,b+=B&(1<<G)-1),xe(P,P.u+y[b].g),y[b].value}function ft(y,b,P){return P.g+=y.g,P.value+=y.value<<b>>>0,t(8>=P.g),y.g}function Ke(y,b,P){var B=y.xc;return t((b=B==0?0:y.vc[y.md*(P>>B)+(b>>B)])<y.Wb),y.Ya[b]}function Ot(y,b,P,B){var G=y.ab,X=y.c*b,K=y.C;b=K+b;var ee=P,ie=B;for(B=y.Ta,P=y.Ua;0<G--;){var fe=y.gc[G],Se=K,We=b,Ve=ee,Be=ie,ht=(ie=B,ee=P,fe.Ea);switch(t(Se<We),t(We<=fe.nc),fe.hc){case 2:o(Ve,Be,(We-Se)*ht,ie,ee);break;case 0:var et=Se,Ne=We,Pe=ie,at=ee,vt=(Rt=fe).Ea;et==0&&(H(Ve,Be,null,null,1,Pe,at),Qt(Ve,Be+1,0,0,vt-1,Pe,at+1),Be+=vt,at+=vt,++et);for(var ct=1<<Rt.b,Bt=ct-1,kt=wt(vt,Rt.b),sn=Rt.K,Rt=Rt.w+(et>>Rt.b)*kt;et<Ne;){var ur=sn,vr=Rt,rr=1;for(r(Ve,Be,Pe,at-vt,1,Pe,at);rr<vt;){var Zn=(rr&~Bt)+ct;Zn>vt&&(Zn=vt),(0,x[ur[vr++]>>8&15])(Ve,Be+ +rr,Pe,at+rr-vt,Zn-rr,Pe,at+rr),rr=Zn}Be+=vt,at+=vt,++et&Bt||(Rt+=kt)}We!=fe.nc&&i(ie,ee-ht,ie,ee+(We-Se-1)*ht,ht);break;case 1:for(ht=Ve,Ne=Be,vt=(Ve=fe.Ea)-(at=Ve&~(Pe=(Be=1<<fe.b)-1)),et=wt(Ve,fe.b),ct=fe.K,fe=fe.w+(Se>>fe.b)*et;Se<We;){for(Bt=ct,kt=fe,sn=new Je,Rt=Ne+at,ur=Ne+Ve;Ne<Rt;)cn(Bt[kt++],sn),C(sn,ht,Ne,Be,ie,ee),Ne+=Be,ee+=Be;Ne<ur&&(cn(Bt[kt++],sn),C(sn,ht,Ne,vt,ie,ee),Ne+=vt,ee+=vt),++Se&Pe||(fe+=et)}break;case 3:if(Ve==ie&&Be==ee&&0<fe.b){for(Ne=ie,Ve=ht=ee+(We-Se)*ht-(at=(We-Se)*wt(fe.Ea,fe.b)),Be=ie,Pe=ee,et=[],at=(vt=at)-1;0<=at;--at)et[at]=Be[Pe+at];for(at=vt-1;0<=at;--at)Ne[Ve+at]=et[at];u(fe,Se,We,ie,ht,ie,ee)}else u(fe,Se,We,Ve,Be,ie,ee)}ee=B,ie=P}ie!=P&&i(B,P,ee,ie,X)}function Qe(y,b){var P=y.V,B=y.Ba+y.c*y.C,G=b-y.C;if(t(b<=y.l.o),t(16>=G),0<G){var X=y.l,K=y.Ta,ee=y.Ua,ie=X.width;if(Ot(y,G,P,B),G=ee=[ee],t((P=y.C)<(B=b)),t(X.v<X.va),B>X.o&&(B=X.o),P<X.j){var fe=X.j-P;P=X.j,G[0]+=fe*ie}if(P>=B?P=0:(G[0]+=4*X.v,X.ka=P-X.j,X.U=X.va-X.v,X.T=B-P,P=1),P){if(ee=ee[0],11>(P=y.ca).S){var Se=P.f.RGBA,We=(B=P.S,G=X.U,X=X.T,fe=Se.eb,Se.A),Ve=X;for(Se=Se.fb+y.Ma*Se.A;0<Ve--;){var Be=K,ht=ee,et=G,Ne=fe,Pe=Se;switch(B){case Zl:N(Be,ht,et,Ne,Pe);break;case vl:D(Be,ht,et,Ne,Pe);break;case Yl:D(Be,ht,et,Ne,Pe),gi(Ne,Pe,0,et,1,0);break;case Yu:ce(Be,ht,et,Ne,Pe);break;case yl:$t(Be,ht,et,Ne,Pe,1);break;case Kl:$t(Be,ht,et,Ne,Pe,1),gi(Ne,Pe,0,et,1,0);break;case xl:$t(Be,ht,et,Ne,Pe,0);break;case Ql:$t(Be,ht,et,Ne,Pe,0),gi(Ne,Pe,1,et,1,0);break;case Xl:U(Be,ht,et,Ne,Pe);break;case s:U(Be,ht,et,Ne,Pe),dr(Ne,Pe,et,1,0);break;case hh:Z(Be,ht,et,Ne,Pe);break;default:t(0)}ee+=ie,Se+=We}y.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=P.height)}}y.C=b,t(y.C<=y.i)}function Lt(y){var b;if(0<y.ua)return 0;for(b=0;b<y.Wb;++b){var P=y.Ya[b].G,B=y.Ya[b].H;if(0<P[1][B[1]+0].g||0<P[2][B[2]+0].g||0<P[3][B[3]+0].g)return 0}return 1}function Nt(y,b,P,B,G,X){if(y.Z!=0){var K=y.qd,ee=y.rd;for(t(mr[y.Z]!=null);b<P;++b)mr[y.Z](K,ee,B,G,B,G,X),K=B,ee=G,G+=X;y.qd=K,y.rd=ee}}function Et(y,b){var P=y.l.ma,B=P.Z==0||P.Z==1?y.l.j:y.C;if(B=y.C<B?B:y.C,t(b<=y.l.o),b>B){var G=y.l.width,X=P.ca,K=P.tb+G*B,ee=y.V,ie=y.Ba+y.c*B,fe=y.gc;t(y.ab==1),t(fe[0].hc==3),f(fe[0],B,b,ee,ie,X,K),Nt(P,B,b,X,K,G)}y.C=y.Ma=b}function Jt(y,b,P,B,G,X,K){var ee=y.$/B,ie=y.$%B,fe=y.m,Se=y.s,We=P+y.$,Ve=We;G=P+B*G;var Be=P+B*X,ht=280+Se.ua,et=y.Pb?ee:16777216,Ne=0<Se.ua?Se.Wa:null,Pe=Se.wc,at=We<Be?Ke(Se,ie,ee):null;t(y.C<X),t(Be<=G);var vt=!1;e:for(;;){for(;vt||We<Be;){var ct=0;if(ee>=et){var Bt=We-P;t((et=y).Pb),et.wd=et.m,et.xd=Bt,0<et.s.ua&&Xe(et.s.Wa,et.s.vb),et=ee+Ye}if(ie&Pe||(at=Ke(Se,ie,ee)),t(at!=null),at.Qb&&(b[We]=at.qb,vt=!0),!vt)if(he(fe),at.jc){ct=fe,Bt=b;var kt=We,sn=at.pd[ae(ct)&tr-1];t(at.jc),256>sn.g?(xe(ct,ct.u+sn.g),Bt[kt]=sn.value,ct=0):(xe(ct,ct.u+sn.g-256),t(256<=sn.value),ct=sn.value),ct==0&&(vt=!0)}else ct=st(at.G[0],at.H[0],fe);if(fe.h)break;if(vt||256>ct){if(!vt)if(at.nd)b[We]=(at.qb|ct<<8)>>>0;else{if(he(fe),vt=st(at.G[1],at.H[1],fe),he(fe),Bt=st(at.G[2],at.H[2],fe),kt=st(at.G[3],at.H[3],fe),fe.h)break;b[We]=(kt<<24|vt<<16|ct<<8|Bt)>>>0}if(vt=!1,++We,++ie>=B&&(ie=0,++ee,K!=null&&ee<=X&&!(ee%16)&&K(y,ee),Ne!=null))for(;Ve<We;)ct=b[Ve++],Ne.X[(506832829*ct&4294967295)>>>Ne.Mb]=ct}else if(280>ct){if(ct=Oe(ct-256,fe),Bt=st(at.G[4],at.H[4],fe),he(fe),Bt=He(B,Bt=Oe(Bt,fe)),fe.h)break;if(We-P<Bt||G-We<ct)break e;for(kt=0;kt<ct;++kt)b[We+kt]=b[We+kt-Bt];for(We+=ct,ie+=ct;ie>=B;)ie-=B,++ee,K!=null&&ee<=X&&!(ee%16)&&K(y,ee);if(t(We<=G),ie&Pe&&(at=Ke(Se,ie,ee)),Ne!=null)for(;Ve<We;)ct=b[Ve++],Ne.X[(506832829*ct&4294967295)>>>Ne.Mb]=ct}else{if(!(ct<ht))break e;for(vt=ct-280,t(Ne!=null);Ve<We;)ct=b[Ve++],Ne.X[(506832829*ct&4294967295)>>>Ne.Mb]=ct;ct=We,t(!(vt>>>(Bt=Ne).Xa)),b[ct]=Bt.X[vt],vt=!0}vt||t(fe.h==le(fe))}if(y.Pb&&fe.h&&We<G)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Xe(y.s.vb,y.s.Wa);else{if(fe.h)break e;K!=null&&K(y,ee>X?X:ee),y.a=0,y.$=We-P}return 1}return y.a=3,0}function en(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var b=y.Wa;b!=null&&(b.X=null),y.vb=null,t(y!=null)}function Wn(){var y=new Cr;return y==null?null:(y.a=0,y.xb=Ku,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),o=xn,C=zt,N=It,D=hr,U=Kt,Z=xt,ce=nn,te.VP8LMapColor32b=c,te.VP8LMapColor8b=p,y)}function fn(y,b,P,B,G){var X=1,K=[y],ee=[b],ie=B.m,fe=B.s,Se=null,We=0;e:for(;;){if(P)for(;X&&Ce(ie,1);){var Ve=K,Be=ee,ht=B,et=1,Ne=ht.m,Pe=ht.gc[ht.ab],at=Ce(Ne,2);if(ht.Oc&1<<at)X=0;else{switch(ht.Oc|=1<<at,Pe.hc=at,Pe.Ea=Ve[0],Pe.nc=Be[0],Pe.K=[null],++ht.ab,t(4>=ht.ab),at){case 0:case 1:Pe.b=Ce(Ne,3)+2,et=fn(wt(Pe.Ea,Pe.b),wt(Pe.nc,Pe.b),0,ht,Pe.K),Pe.K=Pe.K[0];break;case 3:var vt,ct=Ce(Ne,8)+1,Bt=16<ct?0:4<ct?1:2<ct?2:3;if(Ve[0]=wt(Pe.Ea,Bt),Pe.b=Bt,vt=et=fn(ct,1,0,ht,Pe.K)){var kt,sn=ct,Rt=Pe,ur=1<<(8>>Rt.b),vr=l(ur);if(vr==null)vt=0;else{var rr=Rt.K[0],Zn=Rt.w;for(vr[0]=Rt.K[0][0],kt=1;kt<1*sn;++kt)vr[kt]=rt(rr[Zn+kt],vr[kt-1]);for(;kt<4*ur;++kt)vr[kt]=0;Rt.K[0]=null,Rt.K[0]=vr,vt=1}}et=vt;break;case 2:break;default:t(0)}X=et}}if(K=K[0],ee=ee[0],X&&Ce(ie,1)&&!(X=1<=(We=Ce(ie,4))&&11>=We)){B.a=3;break e}var Sr;if(Sr=X)t:{var br,Mn,Ci,Ro=B,Ei=K,Oo=ee,yr=We,Xo=P,Yo=Ro.m,zi=Ro.s,Ji=[null],Co=1,vs=0,ta=Ue[yr];n:for(;;){if(Xo&&Ce(Yo,1)){var Ui=Ce(Yo,3)+2,ga=wt(Ei,Ui),wl=wt(Oo,Ui),$l=ga*wl;if(!fn(ga,wl,0,Ro,Ji))break n;for(Ji=Ji[0],zi.xc=Ui,br=0;br<$l;++br){var Ma=Ji[br]>>8&65535;Ji[br]=Ma,Ma>=Co&&(Co=Ma+1)}}if(Yo.h)break n;for(Mn=0;5>Mn;++Mn){var oi=T[Mn];!Mn&&0<yr&&(oi+=1<<yr),vs<oi&&(vs=oi)}var Md=h(Co*ta,Y),y2=Co,x2=h(y2,me);if(x2==null)var vh=null;else t(65536>=y2),vh=x2;var $u=l(vs);if(vh==null||$u==null||Md==null){Ro.a=1;break n}var yh=Md;for(br=Ci=0;br<Co;++br){var Ts=vh[br],eu=Ts.G,tu=Ts.H,w2=0,xh=1,_2=0;for(Mn=0;5>Mn;++Mn){oi=T[Mn],eu[Mn]=yh,tu[Mn]=Ci,!Mn&&0<yr&&(oi+=1<<yr);i:{var wh,Dd=oi,_h=Ro,ec=$u,iw=yh,ow=Ci,Bd=0,Da=_h.m,sw=Ce(Da,1);if(a(ec,0,0,Dd),sw){var aw=Ce(Da,1)+1,lw=Ce(Da,1),b2=Ce(Da,lw==0?1:8);ec[b2]=1,aw==2&&(ec[b2=Ce(Da,8)]=1);var bh=1}else{var A2=l(19),C2=Ce(Da,4)+4;if(19<C2){_h.a=3;var Ah=0;break i}for(wh=0;wh<C2;++wh)A2[Q[wh]]=Ce(Da,3);var Fd=void 0,tc=void 0,E2=_h,uw=A2,Ch=Dd,S2=ec,jd=0,Ba=E2.m,N2=8,I2=h(128,Y);r:for(;J(I2,0,7,uw,19);){if(Ce(Ba,1)){var cw=2+2*Ce(Ba,3);if((Fd=2+Ce(Ba,cw))>Ch)break r}else Fd=Ch;for(tc=0;tc<Ch&&Fd--;){he(Ba);var L2=I2[0+(127&ae(Ba))];xe(Ba,Ba.u+L2.g);var nu=L2.value;if(16>nu)S2[tc++]=nu,nu!=0&&(N2=nu);else{var hw=nu==16,T2=nu-16,fw=w[T2],P2=Ce(Ba,d[T2])+fw;if(tc+P2>Ch)break r;for(var dw=hw?N2:0;0<P2--;)S2[tc++]=dw}}jd=1;break r}jd||(E2.a=3),bh=jd}(bh=bh&&!Da.h)&&(Bd=J(iw,ow,8,ec,Dd)),bh&&Bd!=0?Ah=Bd:(_h.a=3,Ah=0)}if(Ah==0)break n;if(xh&&F[Mn]==1&&(xh=yh[Ci].g==0),w2+=yh[Ci].g,Ci+=Ah,3>=Mn){var nc,zd=$u[0];for(nc=1;nc<oi;++nc)$u[nc]>zd&&(zd=$u[nc]);_2+=zd}}if(Ts.nd=xh,Ts.Qb=0,xh&&(Ts.qb=(eu[3][tu[3]+0].value<<24|eu[1][tu[1]+0].value<<16|eu[2][tu[2]+0].value)>>>0,w2==0&&256>eu[0][tu[0]+0].value&&(Ts.Qb=1,Ts.qb+=eu[0][tu[0]+0].value<<8)),Ts.jc=!Ts.Qb&&6>_2,Ts.jc){var Eh,ma=Ts;for(Eh=0;Eh<tr;++Eh){var Fa=Eh,ja=ma.pd[Fa],Sh=ma.G[0][ma.H[0]+Fa];256<=Sh.value?(ja.g=Sh.g+256,ja.value=Sh.value):(ja.g=0,ja.value=0,Fa>>=ft(Sh,8,ja),Fa>>=ft(ma.G[1][ma.H[1]+Fa],16,ja),Fa>>=ft(ma.G[2][ma.H[2]+Fa],0,ja),ft(ma.G[3][ma.H[3]+Fa],24,ja))}}}zi.vc=Ji,zi.Wb=Co,zi.Ya=vh,zi.yc=Md,Sr=1;break t}Sr=0}if(!(X=Sr)){B.a=3;break e}if(0<We){if(fe.ua=1<<We,!Yt(fe.Wa,We)){B.a=1,X=0;break e}}else fe.ua=0;var Ud=B,k2=K,pw=ee,Hd=Ud.s,Wd=Hd.xc;if(Ud.c=k2,Ud.i=pw,Hd.md=wt(k2,Wd),Hd.wc=Wd==0?-1:(1<<Wd)-1,P){B.xb=Pd;break e}if((Se=l(K*ee))==null){B.a=1,X=0;break e}X=(X=Jt(B,Se,0,K,ee,ee,null))&&!ie.h;break e}return X?(G!=null?G[0]=Se:(t(Se==null),t(P)),B.$=0,P||en(fe)):en(fe),X}function Tn(y,b){var P=y.c*y.i,B=P+b+16*b;return t(y.c<=b),y.V=l(B),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+P+b,1)}function Qn(y,b){var P=y.C,B=b-P,G=y.V,X=y.Ba+y.c*P;for(t(b<=y.l.o);0<B;){var K=16<B?16:B,ee=y.l.ma,ie=y.l.width,fe=ie*K,Se=ee.ca,We=ee.tb+ie*P,Ve=y.Ta,Be=y.Ua;Ot(y,K,G,X),Qr(Ve,Be,Se,We,fe),Nt(ee,P,P+K,Se,We,ie),B-=K,G+=K*y.c,P+=K}t(P==b),y.C=y.Ma=b}function Lr(){this.ub=this.yd=this.td=this.Rb=0}function sr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pn(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Zr(){this.Yb=function(){var y=[];return function b(P,B,G){for(var X=G[B],K=0;K<X&&(P.push(G.length>B+1?[]:0),!(G.length<B+1));K++)b(P[K],B+1,G)}(y,0,[3,11]),y}()}function Oi(){this.jb=l(3),this.Wc=m([4,8],Zr),this.Xc=m([4,17],Zr)}function yo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function ot(){this.ld=this.La=this.dd=this.tc=0}function Wo(){this.Na=this.la=0}function Jn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mn(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yn(){this.uc=this.M=this.Nb=0,this.wa=Array(new ot),this.Y=0,this.ya=Array(new mn),this.aa=0,this.l=new jt}function Cn(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Sn(){this.cb=this.a=0,this.sc="",this.m=new nt,this.Od=new Lr,this.Kc=new sr,this.ed=new yo,this.Qa=new Pn,this.Ic=this.$c=this.Aa=0,this.D=new Yn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,nt),this.ia=0,this.pb=h(4,Jn),this.Pa=new Oi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cn),this.Hd=0,this.rb=Array(new Wo),this.sb=0,this.wa=Array(new ot),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mn),this.L=this.aa=0,this.gd=m([4,2],ot),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bn(){var y=new Sn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,tn||(tn=bi)),y}function rn(y,b,P){return y.a==0&&(y.a=b,y.sc=P,y.cb=0),0}function xo(y,b,P){return 3<=P&&y[b+0]==157&&y[b+1]==1&&y[b+2]==42}function ar(y,b){if(y==null)return 0;if(y.a=0,y.sc="OK",b==null)return rn(y,2,"null VP8Io passed to VP8GetHeaders()");var P=b.data,B=b.w,G=b.ha;if(4>G)return rn(y,7,"Truncated header.");var X=P[B+0]|P[B+1]<<8|P[B+2]<<16,K=y.Od;if(K.Rb=!(1&X),K.td=X>>1&7,K.yd=X>>4&1,K.ub=X>>5,3<K.td)return rn(y,3,"Incorrect keyframe parameters.");if(!K.yd)return rn(y,4,"Frame not displayable.");B+=3,G-=3;var ee=y.Kc;if(K.Rb){if(7>G)return rn(y,7,"cannot parse picture header");if(!xo(P,B,G))return rn(y,3,"Bad code word");ee.c=16383&(P[B+4]<<8|P[B+3]),ee.Td=P[B+4]>>6,ee.i=16383&(P[B+6]<<8|P[B+5]),ee.Ud=P[B+6]>>6,B+=7,G-=7,y.za=ee.c+15>>4,y.Ub=ee.i+15>>4,b.width=ee.c,b.height=ee.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((X=y.Pa).jb,0,255,X.jb.length),t((X=y.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,a(X.Zb,0,0,X.Zb.length),a(X.Lb,0,0,X.Lb)}if(K.ub>G)return rn(y,7,"bad partition length");ge(X=y.m,P,B,K.ub),B+=K.ub,G-=K.ub,K.Rb&&(ee.Ld=je(X),ee.Kd=je(X)),ee=y.Qa;var ie,fe=y.Pa;if(t(X!=null),t(ee!=null),ee.Cb=je(X),ee.Cb){if(ee.Bb=je(X),je(X)){for(ee.Fb=je(X),ie=0;4>ie;++ie)ee.Zb[ie]=je(X)?Ie(X,7):0;for(ie=0;4>ie;++ie)ee.Lb[ie]=je(X)?Ie(X,6):0}if(ee.Bb)for(ie=0;3>ie;++ie)fe.jb[ie]=je(X)?Me(X,8):255}else ee.Bb=0;if(X.Ka)return rn(y,3,"cannot parse segment header");if((ee=y.ed).zd=je(X),ee.Tb=Me(X,6),ee.wb=Me(X,3),ee.Pc=je(X),ee.Pc&&je(X)){for(fe=0;4>fe;++fe)je(X)&&(ee.vd[fe]=Ie(X,6));for(fe=0;4>fe;++fe)je(X)&&(ee.od[fe]=Ie(X,6))}if(y.L=ee.Tb==0?0:ee.zd?1:2,X.Ka)return rn(y,3,"cannot parse filter header");var Se=G;if(G=ie=B,B=ie+Se,ee=Se,y.Xb=(1<<Me(y.m,2))-1,Se<3*(fe=y.Xb))P=7;else{for(ie+=3*fe,ee-=3*fe,Se=0;Se<fe;++Se){var We=P[G+0]|P[G+1]<<8|P[G+2]<<16;We>ee&&(We=ee),ge(y.Jc[+Se],P,ie,We),ie+=We,ee-=We,G+=3}ge(y.Jc[+fe],P,ie,ee),P=ie<B?0:5}if(P!=0)return rn(y,P,"cannot parse partitions");for(P=Me(ie=y.m,7),G=je(ie)?Ie(ie,4):0,B=je(ie)?Ie(ie,4):0,ee=je(ie)?Ie(ie,4):0,fe=je(ie)?Ie(ie,4):0,ie=je(ie)?Ie(ie,4):0,Se=y.Qa,We=0;4>We;++We){if(Se.Cb){var Ve=Se.Zb[We];Se.Fb||(Ve+=P)}else{if(0<We){y.pb[We]=y.pb[0];continue}Ve=P}var Be=y.pb[We];Be.Sc[0]=gt[Kn(Ve+G,127)],Be.Sc[1]=Mt[Kn(Ve+0,127)],Be.Eb[0]=2*gt[Kn(Ve+B,127)],Be.Eb[1]=101581*Mt[Kn(Ve+ee,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=gt[Kn(Ve+fe,117)],Be.Qc[1]=Mt[Kn(Ve+ie,127)],Be.lc=Ve+ie}if(!K.Rb)return rn(y,4,"Not a key frame.");for(je(X),K=y.Pa,P=0;4>P;++P){for(G=0;8>G;++G)for(B=0;3>B;++B)for(ee=0;11>ee;++ee)fe=qe(X,Oa[P][G][B][ee])?Me(X,8):ko[P][G][B][ee],K.Wc[P][G].Yb[B][ee]=fe;for(G=0;17>G;++G)K.Xc[P][G]=K.Wc[P][Td[G]]}return y.kc=je(X),y.kc&&(y.Bd=Me(X,8)),y.cb=1}function bi(y,b,P,B,G,X,K){var ee=b[G].Yb[P];for(P=0;16>G;++G){if(!qe(y,ee[P+0]))return G;for(;!qe(y,ee[P+1]);)if(ee=b[++G].Yb[0],P=0,G==16)return 16;var ie=b[G+1].Yb;if(qe(y,ee[P+2])){var fe=y,Se=0;if(qe(fe,(Ve=ee)[(We=P)+3]))if(qe(fe,Ve[We+6])){for(ee=0,We=2*(Se=qe(fe,Ve[We+8]))+(Ve=qe(fe,Ve[We+9+Se])),Se=0,Ve=zn[We];Ve[ee];++ee)Se+=Se+qe(fe,Ve[ee]);Se+=3+(8<<We)}else qe(fe,Ve[We+7])?(Se=7+2*qe(fe,165),Se+=qe(fe,145)):Se=5+qe(fe,159);else Se=qe(fe,Ve[We+4])?3+qe(fe,Ve[We+5]):2;ee=ie[2]}else Se=1,ee=ie[1];ie=K+Ki[G],0>(fe=y).b&&Fe(fe);var We,Ve=fe.b,Be=(We=fe.Ca>>1)-(fe.I>>Ve)>>31;--fe.b,fe.Ca+=Be,fe.Ca|=1,fe.I-=(We+1&Be)<<Ve,X[ie]=((Se^Be)-Be)*B[(0<G)+0]}return 16}function Cs(y){var b=y.rb[y.sb-1];b.la=0,b.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function Wt(y,b){if(y==null)return 0;if(b==null)return rn(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!ar(y,b))return 0;if(t(y.cb),b.ac==null||b.ac(b)){b.ob&&(y.L=0);var P=mh[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=b.v-P>>4,y.zb=b.j-P>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=b.o+15+P>>4,y.Hb=b.va+15+P>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var B=y.ed;for(P=0;4>P;++P){var G;if(y.Qa.Cb){var X=y.Qa.Lb[P];y.Qa.Fb||(X+=B.Tb)}else X=B.Tb;for(G=0;1>=G;++G){var K=y.gd[P][G],ee=X;if(B.Pc&&(ee+=B.vd[0],G&&(ee+=B.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ie=ee;0<B.wb&&(ie=4<B.wb?ie>>2:ie>>1)>9-B.wb&&(ie=9-B.wb),1>ie&&(ie=1),K.dd=ie,K.tc=2*ee+ie,K.ld=40<=ee?2:15<=ee?1:0}else K.tc=0;K.La=G}}}P=0}else rn(y,6,"Frame setup failed"),P=y.a;if(P=P==0){if(P){y.$c=0,0<y.Aa||(y.Ic=rw);e:{P=y.Ic,B=4*(ie=y.za);var fe=32*ie,Se=ie+1,We=0<y.L?ie*(0<y.Aa?2:1):0,Ve=(y.Aa==2?2:1)*ie;if((K=B+832+(G=3*(16*P+mh[y.L])/2*fe)+(X=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=K)P=0;else{if(K>y.Vb){if(y.Vb=0,y.Ec=l(K),y.Fc=0,y.Ec==null){P=rn(y,1,"no memory during frame initialization.");break e}y.Vb=K}K=y.Ec,ee=y.Fc,y.Ac=K,y.Bc=ee,ee+=B,y.Gd=h(fe,Cn),y.Hd=0,y.rb=h(Se+1,Wo),y.sb=1,y.wa=We?h(We,ot):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ie),t(!0),y.oc=K,y.pc=ee,ee+=832,y.ya=h(Ve,mn),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ie),y.R=16*ie,y.B=8*ie,ie=(fe=mh[y.L])*y.R,fe=fe/2*y.B,y.sa=K,y.ta=ee+ie,y.qa=y.sa,y.ra=y.ta+16*P*y.R+fe,y.Ha=y.qa,y.Ia=y.ra+8*P*y.B+fe,y.$c=0,ee+=G,y.mb=X?K:null,y.nb=X?ee:null,t(ee+X<=y.Fc+y.Vb),Cs(y),a(y.Ac,y.Bc,0,B),P=1}}if(P){if(b.ka=0,b.y=y.sa,b.O=y.ta,b.f=y.qa,b.N=y.ra,b.ea=y.Ha,b.Vd=y.Ia,b.fa=y.R,b.Rc=y.B,b.F=null,b.J=0,!Gl){for(P=-255;255>=P;++P)gr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)ps[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)ka[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)gs[255+P]=0>P?0:255<P?255:P;Gl=1}be=ni,Ee=ze,Ge=oe,dt=Tt,mt=lr,ke=Xr,pt=hs,Nn=Ii,gn=An,nr=Dr,Wr=ml,Br=Ze,jn=pi,Rr=pa,Vr=da,Yi=Hr,ji=Zi,oo=Pa,Zo[0]=Ct,Zo[1]=Es,Zo[2]=on,Zo[3]=Yr,Zo[4]=fa,Zo[5]=_r,Zo[6]=vn,Zo[7]=Ss,Zo[8]=Ys,Zo[9]=wo,ea[0]=ls,ea[1]=Xt,ea[2]=Vn,ea[3]=To,ea[4]=Pr,ea[5]=Zs,ea[6]=Xs,ms[0]=Gi,ms[1]=ri,ms[2]=qi,ms[3]=Mr,ms[4]=cs,ms[5]=us,ms[6]=Po,P=1}else P=0}P&&(P=function(Be,ht){for(Be.M=0;Be.M<Be.Va;++Be.M){var et,Ne=Be.Jc[Be.M&Be.Xb],Pe=Be.m,at=Be;for(et=0;et<at.za;++et){var vt=Pe,ct=at,Bt=ct.Ac,kt=ct.Bc+4*et,sn=ct.zc,Rt=ct.ya[ct.aa+et];if(ct.Qa.Bb?Rt.$b=qe(vt,ct.Pa.jb[0])?2+qe(vt,ct.Pa.jb[2]):qe(vt,ct.Pa.jb[1]):Rt.$b=0,ct.kc&&(Rt.Ad=qe(vt,ct.Bd)),Rt.Za=!qe(vt,145)+0,Rt.Za){var ur=Rt.Ob,vr=0;for(ct=0;4>ct;++ct){var rr,Zn=sn[0+ct];for(rr=0;4>rr;++rr){Zn=ao[Bt[kt+rr]][Zn];for(var Sr=mi[qe(vt,Zn[0])];0<Sr;)Sr=mi[2*Sr+qe(vt,Zn[Sr])];Zn=-Sr,Bt[kt+rr]=Zn}i(ur,vr,Bt,kt,4),vr+=4,sn[0+ct]=Zn}}else Zn=qe(vt,156)?qe(vt,128)?1:3:qe(vt,163)?2:0,Rt.Ob[0]=Zn,a(Bt,kt,Zn,4),a(sn,0,Zn,4);Rt.Dd=qe(vt,142)?qe(vt,114)?qe(vt,183)?1:3:2:0}if(at.m.Ka)return rn(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(at=Ne,vt=(Pe=Be).rb[Pe.sb-1],Bt=Pe.rb[Pe.sb+Pe.ja],et=Pe.ya[Pe.aa+Pe.ja],kt=Pe.kc?et.Ad:0)vt.la=Bt.la=0,et.Za||(vt.Na=Bt.Na=0),et.Hc=0,et.Gc=0,et.ia=0;else{var br,Mn;if(vt=Bt,Bt=at,kt=Pe.Pa.Xc,sn=Pe.ya[Pe.aa+Pe.ja],Rt=Pe.pb[sn.$b],ct=sn.ad,ur=0,vr=Pe.rb[Pe.sb-1],Zn=rr=0,a(ct,ur,0,384),sn.Za)var Ci=0,Ro=kt[3];else{Sr=l(16);var Ei=vt.Na+vr.Na;if(Ei=tn(Bt,kt[1],Ei,Rt.Eb,0,Sr,0),vt.Na=vr.Na=(0<Ei)+0,1<Ei)be(Sr,0,ct,ur);else{var Oo=Sr[0]+3>>3;for(Sr=0;256>Sr;Sr+=16)ct[ur+Sr]=Oo}Ci=1,Ro=kt[0]}var yr=15&vt.la,Xo=15&vr.la;for(Sr=0;4>Sr;++Sr){var Yo=1&Xo;for(Oo=Mn=0;4>Oo;++Oo)yr=yr>>1|(Yo=(Ei=tn(Bt,Ro,Ei=Yo+(1&yr),Rt.Sc,Ci,ct,ur))>Ci)<<7,Mn=Mn<<2|(3<Ei?3:1<Ei?2:ct[ur+0]!=0),ur+=16;yr>>=4,Xo=Xo>>1|Yo<<7,rr=(rr<<8|Mn)>>>0}for(Ro=yr,Ci=Xo>>4,br=0;4>br;br+=2){for(Mn=0,yr=vt.la>>4+br,Xo=vr.la>>4+br,Sr=0;2>Sr;++Sr){for(Yo=1&Xo,Oo=0;2>Oo;++Oo)Ei=Yo+(1&yr),yr=yr>>1|(Yo=0<(Ei=tn(Bt,kt[2],Ei,Rt.Qc,0,ct,ur)))<<3,Mn=Mn<<2|(3<Ei?3:1<Ei?2:ct[ur+0]!=0),ur+=16;yr>>=2,Xo=Xo>>1|Yo<<5}Zn|=Mn<<4*br,Ro|=yr<<4<<br,Ci|=(240&Xo)<<br}vt.la=Ro,vr.la=Ci,sn.Hc=rr,sn.Gc=Zn,sn.ia=43690&Zn?0:Rt.ia,kt=!(rr|Zn)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[et.$b][et.Za],Pe.wa[Pe.Y+Pe.ja].La|=!kt),at.Ka)return rn(Be,7,"Premature end-of-file encountered.")}if(Cs(Be),Pe=ht,at=1,et=(Ne=Be).D,vt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(et.M=Ne.M,et.uc=vt,Fi(Ne,et),at=1,et=(Mn=Ne.D).Nb,vt=(Zn=mh[Ne.L])*Ne.R,Bt=Zn/2*Ne.B,Sr=16*et*Ne.R,Oo=8*et*Ne.B,kt=Ne.sa,sn=Ne.ta-vt+Sr,Rt=Ne.qa,ct=Ne.ra-Bt+Oo,ur=Ne.Ha,vr=Ne.Ia-Bt+Oo,Xo=(yr=Mn.M)==0,rr=yr>=Ne.Va-1,Ne.Aa==2&&Fi(Ne,Mn),Mn.uc)for(Yo=(Ei=Ne).D.M,t(Ei.D.uc),Mn=Ei.yb;Mn<Ei.Hb;++Mn){Ci=Mn,Ro=Yo;var zi=(Ji=(oi=Ei).D).Nb;br=oi.R;var Ji=Ji.wa[Ji.Y+Ci],Co=oi.sa,vs=oi.ta+16*zi*br+16*Ci,ta=Ji.dd,Ui=Ji.tc;if(Ui!=0)if(t(3<=Ui),oi.L==1)0<Ci&&Yi(Co,vs,br,Ui+4),Ji.La&&oo(Co,vs,br,Ui),0<Ro&&Vr(Co,vs,br,Ui+4),Ji.La&&ji(Co,vs,br,Ui);else{var ga=oi.B,wl=oi.qa,$l=oi.ra+8*zi*ga+8*Ci,Ma=oi.Ha,oi=oi.Ia+8*zi*ga+8*Ci;zi=Ji.ld,0<Ci&&(Nn(Co,vs,br,Ui+4,ta,zi),nr(wl,$l,Ma,oi,ga,Ui+4,ta,zi)),Ji.La&&(Br(Co,vs,br,Ui,ta,zi),Rr(wl,$l,Ma,oi,ga,Ui,ta,zi)),0<Ro&&(pt(Co,vs,br,Ui+4,ta,zi),gn(wl,$l,Ma,oi,ga,Ui+4,ta,zi)),Ji.La&&(Wr(Co,vs,br,Ui,ta,zi),jn(wl,$l,Ma,oi,ga,Ui,ta,zi))}}if(Ne.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Mn=16*yr,yr=16*(yr+1),Xo?(Pe.y=Ne.sa,Pe.O=Ne.ta+Sr,Pe.f=Ne.qa,Pe.N=Ne.ra+Oo,Pe.ea=Ne.Ha,Pe.W=Ne.Ia+Oo):(Mn-=Zn,Pe.y=kt,Pe.O=sn,Pe.f=Rt,Pe.N=ct,Pe.ea=ur,Pe.W=vr),rr||(yr-=Zn),yr>Pe.o&&(yr=Pe.o),Pe.F=null,Pe.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Mn<yr&&(Pe.J=Xn(Ne,Pe,Mn,yr-Mn),Pe.F=Ne.mb,Pe.F==null&&Pe.F.length==0)){at=rn(Ne,3,"Could not decode alpha data.");break e}Mn<Pe.j&&(Zn=Pe.j-Mn,Mn=Pe.j,t(!(1&Zn)),Pe.O+=Ne.R*Zn,Pe.N+=Ne.B*(Zn>>1),Pe.W+=Ne.B*(Zn>>1),Pe.F!=null&&(Pe.J+=Pe.width*Zn)),Mn<yr&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Mn-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=yr-Mn,at=Pe.put(Pe))}et+1!=Ne.Ic||rr||(i(Ne.sa,Ne.ta-vt,kt,sn+16*Ne.R,vt),i(Ne.qa,Ne.ra-Bt,Rt,ct+8*Ne.B,Bt),i(Ne.Ha,Ne.Ia-Bt,ur,vr+8*Ne.B,Bt))}if(!at)return rn(Be,6,"Output aborted.")}return 1}(y,b)),b.bc!=null&&b.bc(b),P&=1}return P?(y.cb=0,P):0}function Rn(y,b,P,B,G){G=y[b+P+32*B]+(G>>3),y[b+P+32*B]=-256&G?0>G?0:255:G}function ss(y,b,P,B,G,X){Rn(y,b,0,P,B+G),Rn(y,b,1,P,B+X),Rn(y,b,2,P,B-X),Rn(y,b,3,P,B-G)}function Tr(y){return(20091*y>>16)+y}function En(y,b,P,B){var G,X=0,K=l(16);for(G=0;4>G;++G){var ee=y[b+0]+y[b+8],ie=y[b+0]-y[b+8],fe=(35468*y[b+4]>>16)-Tr(y[b+12]),Se=Tr(y[b+4])+(35468*y[b+12]>>16);K[X+0]=ee+Se,K[X+1]=ie+fe,K[X+2]=ie-fe,K[X+3]=ee-Se,X+=4,b++}for(G=X=0;4>G;++G)ee=(y=K[X+0]+4)+K[X+8],ie=y-K[X+8],fe=(35468*K[X+4]>>16)-Tr(K[X+12]),Rn(P,B,0,0,ee+(Se=Tr(K[X+4])+(35468*K[X+12]>>16))),Rn(P,B,1,0,ie+fe),Rn(P,B,2,0,ie-fe),Rn(P,B,3,0,ee-Se),X++,B+=32}function Xr(y,b,P,B){var G=y[b+0]+4,X=35468*y[b+4]>>16,K=Tr(y[b+4]),ee=35468*y[b+1]>>16;ss(P,B,0,G+K,y=Tr(y[b+1]),ee),ss(P,B,1,G+X,y,ee),ss(P,B,2,G-X,y,ee),ss(P,B,3,G-K,y,ee)}function ze(y,b,P,B,G){En(y,b,P,B),G&&En(y,b+16,P,B+4)}function oe(y,b,P,B){Ee(y,b+0,P,B,1),Ee(y,b+32,P,B+128,1)}function Tt(y,b,P,B){var G;for(y=y[b+0]+4,G=0;4>G;++G)for(b=0;4>b;++b)Rn(P,B,b,G,y)}function lr(y,b,P,B){y[b+0]&&dt(y,b+0,P,B),y[b+16]&&dt(y,b+16,P,B+4),y[b+32]&&dt(y,b+32,P,B+128),y[b+48]&&dt(y,b+48,P,B+128+4)}function ni(y,b,P,B){var G,X=l(16);for(G=0;4>G;++G){var K=y[b+0+G]+y[b+12+G],ee=y[b+4+G]+y[b+8+G],ie=y[b+4+G]-y[b+8+G],fe=y[b+0+G]-y[b+12+G];X[0+G]=K+ee,X[8+G]=K-ee,X[4+G]=fe+ie,X[12+G]=fe-ie}for(G=0;4>G;++G)K=(y=X[0+4*G]+3)+X[3+4*G],ee=X[1+4*G]+X[2+4*G],ie=X[1+4*G]-X[2+4*G],fe=y-X[3+4*G],P[B+0]=K+ee>>3,P[B+16]=fe+ie>>3,P[B+32]=K-ee>>3,P[B+48]=fe-ie>>3,B+=64}function Vo(y,b,P){var B,G=b-32,X=so,K=255-y[G-1];for(B=0;B<P;++B){var ee,ie=X,fe=K+y[b-1];for(ee=0;ee<P;++ee)y[b+ee]=ie[fe+y[G+ee]];b+=32}}function Es(y,b){Vo(y,b,4)}function ri(y,b){Vo(y,b,8)}function Xt(y,b){Vo(y,b,16)}function Vn(y,b){var P;for(P=0;16>P;++P)i(y,b+32*P,y,b-32,16)}function To(y,b){var P;for(P=16;0<P;--P)a(y,b,y[b-1],16),b+=32}function as(y,b,P){var B;for(B=0;16>B;++B)a(b,P+32*B,y,16)}function ls(y,b){var P,B=16;for(P=0;16>P;++P)B+=y[b-1+32*P]+y[b+P-32];as(B>>5,y,b)}function Pr(y,b){var P,B=8;for(P=0;16>P;++P)B+=y[b-1+32*P];as(B>>4,y,b)}function Zs(y,b){var P,B=8;for(P=0;16>P;++P)B+=y[b+P-32];as(B>>4,y,b)}function Xs(y,b){as(128,y,b)}function Vt(y,b,P){return y+2*b+P+2>>2}function on(y,b){var P,B=b-32;for(B=new Uint8Array([Vt(y[B-1],y[B+0],y[B+1]),Vt(y[B+0],y[B+1],y[B+2]),Vt(y[B+1],y[B+2],y[B+3]),Vt(y[B+2],y[B+3],y[B+4])]),P=0;4>P;++P)i(y,b+32*P,B,0,B.length)}function Yr(y,b){var P=y[b-1],B=y[b-1+32],G=y[b-1+64],X=y[b-1+96];yt(y,b+0,16843009*Vt(y[b-1-32],P,B)),yt(y,b+32,16843009*Vt(P,B,G)),yt(y,b+64,16843009*Vt(B,G,X)),yt(y,b+96,16843009*Vt(G,X,X))}function Ct(y,b){var P,B=4;for(P=0;4>P;++P)B+=y[b+P-32]+y[b-1+32*P];for(B>>=3,P=0;4>P;++P)a(y,b+32*P,B,4)}function fa(y,b){var P=y[b-1+0],B=y[b-1+32],G=y[b-1+64],X=y[b-1-32],K=y[b+0-32],ee=y[b+1-32],ie=y[b+2-32],fe=y[b+3-32];y[b+0+96]=Vt(B,G,y[b-1+96]),y[b+1+96]=y[b+0+64]=Vt(P,B,G),y[b+2+96]=y[b+1+64]=y[b+0+32]=Vt(X,P,B),y[b+3+96]=y[b+2+64]=y[b+1+32]=y[b+0+0]=Vt(K,X,P),y[b+3+64]=y[b+2+32]=y[b+1+0]=Vt(ee,K,X),y[b+3+32]=y[b+2+0]=Vt(ie,ee,K),y[b+3+0]=Vt(fe,ie,ee)}function vn(y,b){var P=y[b+1-32],B=y[b+2-32],G=y[b+3-32],X=y[b+4-32],K=y[b+5-32],ee=y[b+6-32],ie=y[b+7-32];y[b+0+0]=Vt(y[b+0-32],P,B),y[b+1+0]=y[b+0+32]=Vt(P,B,G),y[b+2+0]=y[b+1+32]=y[b+0+64]=Vt(B,G,X),y[b+3+0]=y[b+2+32]=y[b+1+64]=y[b+0+96]=Vt(G,X,K),y[b+3+32]=y[b+2+64]=y[b+1+96]=Vt(X,K,ee),y[b+3+64]=y[b+2+96]=Vt(K,ee,ie),y[b+3+96]=Vt(ee,ie,ie)}function _r(y,b){var P=y[b-1+0],B=y[b-1+32],G=y[b-1+64],X=y[b-1-32],K=y[b+0-32],ee=y[b+1-32],ie=y[b+2-32],fe=y[b+3-32];y[b+0+0]=y[b+1+64]=X+K+1>>1,y[b+1+0]=y[b+2+64]=K+ee+1>>1,y[b+2+0]=y[b+3+64]=ee+ie+1>>1,y[b+3+0]=ie+fe+1>>1,y[b+0+96]=Vt(G,B,P),y[b+0+64]=Vt(B,P,X),y[b+0+32]=y[b+1+96]=Vt(P,X,K),y[b+1+32]=y[b+2+96]=Vt(X,K,ee),y[b+2+32]=y[b+3+96]=Vt(K,ee,ie),y[b+3+32]=Vt(ee,ie,fe)}function Ss(y,b){var P=y[b+0-32],B=y[b+1-32],G=y[b+2-32],X=y[b+3-32],K=y[b+4-32],ee=y[b+5-32],ie=y[b+6-32],fe=y[b+7-32];y[b+0+0]=P+B+1>>1,y[b+1+0]=y[b+0+64]=B+G+1>>1,y[b+2+0]=y[b+1+64]=G+X+1>>1,y[b+3+0]=y[b+2+64]=X+K+1>>1,y[b+0+32]=Vt(P,B,G),y[b+1+32]=y[b+0+96]=Vt(B,G,X),y[b+2+32]=y[b+1+96]=Vt(G,X,K),y[b+3+32]=y[b+2+96]=Vt(X,K,ee),y[b+3+64]=Vt(K,ee,ie),y[b+3+96]=Vt(ee,ie,fe)}function wo(y,b){var P=y[b-1+0],B=y[b-1+32],G=y[b-1+64],X=y[b-1+96];y[b+0+0]=P+B+1>>1,y[b+2+0]=y[b+0+32]=B+G+1>>1,y[b+2+32]=y[b+0+64]=G+X+1>>1,y[b+1+0]=Vt(P,B,G),y[b+3+0]=y[b+1+32]=Vt(B,G,X),y[b+3+32]=y[b+1+64]=Vt(G,X,X),y[b+3+64]=y[b+2+64]=y[b+0+96]=y[b+1+96]=y[b+2+96]=y[b+3+96]=X}function Ys(y,b){var P=y[b-1+0],B=y[b-1+32],G=y[b-1+64],X=y[b-1+96],K=y[b-1-32],ee=y[b+0-32],ie=y[b+1-32],fe=y[b+2-32];y[b+0+0]=y[b+2+32]=P+K+1>>1,y[b+0+32]=y[b+2+64]=B+P+1>>1,y[b+0+64]=y[b+2+96]=G+B+1>>1,y[b+0+96]=X+G+1>>1,y[b+3+0]=Vt(ee,ie,fe),y[b+2+0]=Vt(K,ee,ie),y[b+1+0]=y[b+3+32]=Vt(P,K,ee),y[b+1+32]=y[b+3+64]=Vt(B,P,K),y[b+1+64]=y[b+3+96]=Vt(G,B,P),y[b+1+96]=Vt(X,G,B)}function qi(y,b){var P;for(P=0;8>P;++P)i(y,b+32*P,y,b-32,8)}function Mr(y,b){var P;for(P=0;8>P;++P)a(y,b,y[b-1],8),b+=32}function fi(y,b,P){var B;for(B=0;8>B;++B)a(b,P+32*B,y,8)}function Gi(y,b){var P,B=8;for(P=0;8>P;++P)B+=y[b+P-32]+y[b-1+32*P];fi(B>>4,y,b)}function us(y,b){var P,B=4;for(P=0;8>P;++P)B+=y[b+P-32];fi(B>>3,y,b)}function cs(y,b){var P,B=4;for(P=0;8>P;++P)B+=y[b-1+32*P];fi(B>>3,y,b)}function Po(y,b){fi(128,y,b)}function ro(y,b,P){var B=y[b-P],G=y[b+0],X=3*(G-B)+Ra[1020+y[b-2*P]-y[b+P]],K=$s[112+(X+4>>3)];y[b-P]=so[255+B+$s[112+(X+3>>3)]],y[b+0]=so[255+G-K]}function di(y,b,P,B){var G=y[b+0],X=y[b+P];return Ao[255+y[b-2*P]-y[b-P]]>B||Ao[255+X-G]>B}function Ks(y,b,P,B){return 4*Ao[255+y[b-P]-y[b+0]]+Ao[255+y[b-2*P]-y[b+P]]<=B}function On(y,b,P,B,G){var X=y[b-3*P],K=y[b-2*P],ee=y[b-P],ie=y[b+0],fe=y[b+P],Se=y[b+2*P],We=y[b+3*P];return 4*Ao[255+ee-ie]+Ao[255+K-fe]>B?0:Ao[255+y[b-4*P]-X]<=G&&Ao[255+X-K]<=G&&Ao[255+K-ee]<=G&&Ao[255+We-Se]<=G&&Ao[255+Se-fe]<=G&&Ao[255+fe-ie]<=G}function da(y,b,P,B){var G=2*B+1;for(B=0;16>B;++B)Ks(y,b+B,P,G)&&ro(y,b+B,P)}function Hr(y,b,P,B){var G=2*B+1;for(B=0;16>B;++B)Ks(y,b+B*P,1,G)&&ro(y,b+B*P,1)}function Zi(y,b,P,B){var G;for(G=3;0<G;--G)da(y,b+=4*P,P,B)}function Pa(y,b,P,B){var G;for(G=3;0<G;--G)Hr(y,b+=4,P,B)}function Un(y,b,P,B,G,X,K,ee){for(X=2*X+1;0<G--;){if(On(y,b,P,X,K))if(di(y,b,P,ee))ro(y,b,P);else{var ie=y,fe=b,Se=P,We=ie[fe-2*Se],Ve=ie[fe-Se],Be=ie[fe+0],ht=ie[fe+Se],et=ie[fe+2*Se],Ne=27*(at=Ra[1020+3*(Be-Ve)+Ra[1020+We-ht]])+63>>7,Pe=18*at+63>>7,at=9*at+63>>7;ie[fe-3*Se]=so[255+ie[fe-3*Se]+at],ie[fe-2*Se]=so[255+We+Pe],ie[fe-Se]=so[255+Ve+Ne],ie[fe+0]=so[255+Be-Ne],ie[fe+Se]=so[255+ht-Pe],ie[fe+2*Se]=so[255+et-at]}b+=B}}function Mi(y,b,P,B,G,X,K,ee){for(X=2*X+1;0<G--;){if(On(y,b,P,X,K))if(di(y,b,P,ee))ro(y,b,P);else{var ie=y,fe=b,Se=P,We=ie[fe-Se],Ve=ie[fe+0],Be=ie[fe+Se],ht=$s[112+((et=3*(Ve-We))+4>>3)],et=$s[112+(et+3>>3)],Ne=ht+1>>1;ie[fe-2*Se]=so[255+ie[fe-2*Se]+Ne],ie[fe-Se]=so[255+We+et],ie[fe+0]=so[255+Ve-ht],ie[fe+Se]=so[255+Be-Ne]}b+=B}}function hs(y,b,P,B,G,X){Un(y,b,P,1,16,B,G,X)}function Ii(y,b,P,B,G,X){Un(y,b,1,P,16,B,G,X)}function ml(y,b,P,B,G,X){var K;for(K=3;0<K;--K)Mi(y,b+=4*P,P,1,16,B,G,X)}function Ze(y,b,P,B,G,X){var K;for(K=3;0<K;--K)Mi(y,b+=4,1,P,16,B,G,X)}function An(y,b,P,B,G,X,K,ee){Un(y,b,G,1,8,X,K,ee),Un(P,B,G,1,8,X,K,ee)}function Dr(y,b,P,B,G,X,K,ee){Un(y,b,1,G,8,X,K,ee),Un(P,B,1,G,8,X,K,ee)}function pi(y,b,P,B,G,X,K,ee){Mi(y,b+4*G,G,1,8,X,K,ee),Mi(P,B+4*G,G,1,8,X,K,ee)}function pa(y,b,P,B,G,X,K,ee){Mi(y,b+4,1,G,8,X,K,ee),Mi(P,B+4,1,G,8,X,K,ee)}function Ns(){this.ba=new hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function io(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Is(){this.ua=0,this.Wa=new we,this.vb=new we,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new Y}function Cr(){this.xb=this.a=0,this.l=new jt,this.ca=new hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Is,this.ab=0,this.gc=h(4,Qs),this.Oc=0}function fs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $n(y,b,P,B,G,X,K){for(y=y==null?0:y[b+0],b=0;b<K;++b)G[X+b]=y+P[B+b]&255,y=G[X+b]}function qo(y,b,P,B,G,X,K){var ee;if(y==null)$n(null,null,P,B,G,X,K);else for(ee=0;ee<K;++ee)G[X+ee]=y[b+ee]+P[B+ee]&255}function Di(y,b,P,B,G,X,K){if(y==null)$n(null,null,P,B,G,X,K);else{var ee,ie=y[b+0],fe=ie,Se=ie;for(ee=0;ee<K;++ee)fe=Se+(ie=y[b+ee])-fe,Se=P[B+ee]+(-256&fe?0>fe?0:255:fe)&255,fe=ie,G[X+ee]=Se}}function Xn(y,b,P,B){var G=b.width,X=b.o;if(t(y!=null&&b!=null),0>P||0>=B||P+B>X)return null;if(!y.Cc){if(y.ga==null){var K;if(y.ga=new fs,(K=y.ga==null)||(K=b.width*b.o,t(y.Gb.length==0),y.Gb=l(K),y.Uc=0,y.Gb==null?K=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,K=1),K=!K),!K){K=y.ga;var ee=y.Fa,ie=y.P,fe=y.qc,Se=y.mb,We=y.nb,Ve=ie+1,Be=fe-1,ht=K.l;if(t(ee!=null&&Se!=null&&b!=null),mr[0]=null,mr[1]=$n,mr[2]=qo,mr[3]=Di,K.ca=Se,K.tb=We,K.c=b.width,K.i=b.height,t(0<K.c&&0<K.i),1>=fe)b=0;else if(K.$a=ee[ie+0]>>0&3,K.Z=ee[ie+0]>>2&3,K.Lc=ee[ie+0]>>4&3,ie=ee[ie+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ie)b=0;else if(ht.put=ci,ht.ac=Bn,ht.bc=hi,ht.ma=K,ht.width=b.width,ht.height=b.height,ht.Da=b.Da,ht.v=b.v,ht.va=b.va,ht.j=b.j,ht.o=b.o,K.$a)e:{t(K.$a==1),b=Wn();t:for(;;){if(b==null){b=0;break e}if(t(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,pe(b.m,ee,Ve,Be),!fn(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Lt(b.s)?(K.ic=1,ee=b.c*b.i,b.Ta=null,b.Ua=0,b.V=l(ee),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=Tn(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=Be>=K.c*K.i;K=!b}if(K)return null;y.ga.Lc!=1?y.Ga=0:B=X-P}t(y.ga!=null),t(P+B<=X);e:{if(b=(ee=y.ga).c,X=ee.l.o,ee.$a==0){if(Ve=y.rc,Be=y.Vc,ht=y.Fa,ie=y.P+1+P*b,fe=y.mb,Se=y.nb+P*b,t(ie<=y.P+y.qc),ee.Z!=0)for(t(mr[ee.Z]!=null),K=0;K<B;++K)mr[ee.Z](Ve,Be,ht,ie,fe,Se,b),Ve=fe,Be=Se,Se+=b,ie+=b;else for(K=0;K<B;++K)i(fe,Se,ht,ie,b),Ve=fe,Be=Se,Se+=b,ie+=b;y.rc=Ve,y.Vc=Be}else{if(t(ee.mc!=null),b=P+B,t((K=ee.mc)!=null),t(b<=K.i),K.C>=b)b=1;else if(ee.ic||De(),ee.ic){ee=K.V,Ve=K.Ba,Be=K.c;var et=K.i,Ne=(ht=1,ie=K.$/Be,fe=K.$%Be,Se=K.m,We=K.s,K.$),Pe=Be*et,at=Be*b,vt=We.wc,ct=Ne<at?Ke(We,fe,ie):null;t(Ne<=Pe),t(b<=et),t(Lt(We));t:for(;;){for(;!Se.h&&Ne<at;){if(fe&vt||(ct=Ke(We,fe,ie)),t(ct!=null),he(Se),256>(et=st(ct.G[0],ct.H[0],Se)))ee[Ve+Ne]=et,++Ne,++fe>=Be&&(fe=0,++ie<=b&&!(ie%16)&&Et(K,ie));else{if(!(280>et)){ht=0;break t}et=Oe(et-256,Se);var Bt,kt=st(ct.G[4],ct.H[4],Se);if(he(Se),!(Ne>=(kt=He(Be,kt=Oe(kt,Se)))&&Pe-Ne>=et)){ht=0;break t}for(Bt=0;Bt<et;++Bt)ee[Ve+Ne+Bt]=ee[Ve+Ne+Bt-kt];for(Ne+=et,fe+=et;fe>=Be;)fe-=Be,++ie<=b&&!(ie%16)&&Et(K,ie);Ne<at&&fe&vt&&(ct=Ke(We,fe,ie))}t(Se.h==le(Se))}Et(K,ie>b?b:ie);break t}!ht||Se.h&&Ne<Pe?(ht=0,K.a=Se.h?5:3):K.$=Ne,b=ht}else b=Jt(K,K.V,K.Ba,K.c,K.i,b,Qn);if(!b){B=0;break e}}P+B>=X&&(y.Cc=1),B=1}if(!B)return null;if(y.Cc&&((B=y.ga)!=null&&(B.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+P*G}function S(y,b,P,B,G,X){for(;0<G--;){var K,ee=y,ie=b+(P?1:0),fe=y,Se=b+(P?0:3);for(K=0;K<B;++K){var We=fe[Se+4*K];We!=255&&(We*=32897,ee[ie+4*K+0]=ee[ie+4*K+0]*We>>23,ee[ie+4*K+1]=ee[ie+4*K+1]*We>>23,ee[ie+4*K+2]=ee[ie+4*K+2]*We>>23)}b+=X}}function q(y,b,P,B,G){for(;0<B--;){var X;for(X=0;X<P;++X){var K=y[b+2*X+0],ee=15&(fe=y[b+2*X+1]),ie=4369*ee,fe=(240&fe|fe>>4)*ie>>16;y[b+2*X+0]=(240&K|K>>4)*ie>>16&240|(15&K|K<<4)*ie>>16>>4&15,y[b+2*X+1]=240&fe|ee}b+=G}}function ue(y,b,P,B,G,X,K,ee){var ie,fe,Se=255;for(fe=0;fe<G;++fe){for(ie=0;ie<B;++ie){var We=y[b+ie];X[K+4*ie]=We,Se&=We}b+=P,K+=ee}return Se!=255}function Ae(y,b,P,B,G){var X;for(X=0;X<G;++X)P[B+X]=y[b+X]>>8}function De(){gi=S,dr=q,pr=ue,Qr=Ae}function $e(y,b,P){te[y]=function(B,G,X,K,ee,ie,fe,Se,We,Ve,Be,ht,et,Ne,Pe,at,vt){var ct,Bt=vt-1>>1,kt=ee[ie+0]|fe[Se+0]<<16,sn=We[Ve+0]|Be[ht+0]<<16;t(B!=null);var Rt=3*kt+sn+131074>>2;for(b(B[G+0],255&Rt,Rt>>16,et,Ne),X!=null&&(Rt=3*sn+kt+131074>>2,b(X[K+0],255&Rt,Rt>>16,Pe,at)),ct=1;ct<=Bt;++ct){var ur=ee[ie+ct]|fe[Se+ct]<<16,vr=We[Ve+ct]|Be[ht+ct]<<16,rr=kt+ur+sn+vr+524296,Zn=rr+2*(ur+sn)>>3;Rt=Zn+kt>>1,kt=(rr=rr+2*(kt+vr)>>3)+ur>>1,b(B[G+2*ct-1],255&Rt,Rt>>16,et,Ne+(2*ct-1)*P),b(B[G+2*ct-0],255&kt,kt>>16,et,Ne+(2*ct-0)*P),X!=null&&(Rt=rr+sn>>1,kt=Zn+vr>>1,b(X[K+2*ct-1],255&Rt,Rt>>16,Pe,at+(2*ct-1)*P),b(X[K+2*ct+0],255&kt,kt>>16,Pe,at+(2*ct+0)*P)),kt=ur,sn=vr}1&vt||(Rt=3*kt+sn+131074>>2,b(B[G+vt-1],255&Rt,Rt>>16,et,Ne+(vt-1)*P),X!=null&&(Rt=3*sn+kt+131074>>2,b(X[K+vt-1],255&Rt,Rt>>16,Pe,at+(vt-1)*P)))}}function ut(){Qi[Zl]=kd,Qi[vl]=fh,Qi[Yu]=Rd,Qi[yl]=Jl,Qi[xl]=Qu,Qi[Xl]=dh,Qi[hh]=Xx,Qi[Yl]=fh,Qi[Kl]=Jl,Qi[Ql]=Qu,Qi[s]=dh}function Pt(y){return y&~Yx?0>y?0:255:y>>p2}function Dt(y,b){return Pt((19077*y>>8)+(26149*b>>8)-14234)}function dn(y,b,P){return Pt((19077*y>>8)-(6419*b>>8)-(13320*P>>8)+8708)}function pn(y,b){return Pt((19077*y>>8)+(33050*b>>8)-17685)}function Hn(y,b,P,B,G){B[G+0]=Dt(y,P),B[G+1]=dn(y,b,P),B[G+2]=pn(y,b)}function fr(y,b,P,B,G){B[G+0]=pn(y,b),B[G+1]=dn(y,b,P),B[G+2]=Dt(y,P)}function er(y,b,P,B,G){var X=dn(y,b,P);b=X<<3&224|pn(y,b)>>3,B[G+0]=248&Dt(y,P)|X>>5,B[G+1]=b}function kr(y,b,P,B,G){var X=240&pn(y,b)|15;B[G+0]=240&Dt(y,P)|dn(y,b,P)>>4,B[G+1]=X}function Ai(y,b,P,B,G){B[G+0]=255,Hn(y,b,P,B,G+1)}function Er(y,b,P,B,G){fr(y,b,P,B,G),B[G+3]=255}function _o(y,b,P,B,G){Hn(y,b,P,B,G),B[G+3]=255}function Kn(y,b){return 0>y?0:y>b?b:y}function ii(y,b,P){te[y]=function(B,G,X,K,ee,ie,fe,Se,We){for(var Ve=Se+(-2&We)*P;Se!=Ve;)b(B[G+0],X[K+0],ee[ie+0],fe,Se),b(B[G+1],X[K+0],ee[ie+0],fe,Se+P),G+=2,++K,++ie,Se+=2*P;1&We&&b(B[G+0],X[K+0],ee[ie+0],fe,Se)}}function Li(y,b,P){return P==0?y==0?b==0?6:5:b==0?4:0:P}function Bi(y,b,P,B,G){switch(y>>>30){case 3:Ee(b,P,B,G,0);break;case 2:ke(b,P,B,G);break;case 1:dt(b,P,B,G)}}function Fi(y,b){var P,B,G=b.M,X=b.Nb,K=y.oc,ee=y.pc+40,ie=y.oc,fe=y.pc+584,Se=y.oc,We=y.pc+600;for(P=0;16>P;++P)K[ee+32*P-1]=129;for(P=0;8>P;++P)ie[fe+32*P-1]=129,Se[We+32*P-1]=129;for(0<G?K[ee-1-32]=ie[fe-1-32]=Se[We-1-32]=129:(a(K,ee-32-1,127,21),a(ie,fe-32-1,127,9),a(Se,We-32-1,127,9)),B=0;B<y.za;++B){var Ve=b.ya[b.aa+B];if(0<B){for(P=-1;16>P;++P)i(K,ee+32*P-4,K,ee+32*P+12,4);for(P=-1;8>P;++P)i(ie,fe+32*P-4,ie,fe+32*P+4,4),i(Se,We+32*P-4,Se,We+32*P+4,4)}var Be=y.Gd,ht=y.Hd+B,et=Ve.ad,Ne=Ve.Hc;if(0<G&&(i(K,ee-32,Be[ht].y,0,16),i(ie,fe-32,Be[ht].f,0,8),i(Se,We-32,Be[ht].ea,0,8)),Ve.Za){var Pe=K,at=ee-32+16;for(0<G&&(B>=y.za-1?a(Pe,at,Be[ht].y[15],4):i(Pe,at,Be[ht+1].y,0,4)),P=0;4>P;P++)Pe[at+128+P]=Pe[at+256+P]=Pe[at+384+P]=Pe[at+0+P];for(P=0;16>P;++P,Ne<<=2)Pe=K,at=ee+m2[P],Zo[Ve.Ob[P]](Pe,at),Bi(Ne,et,16*+P,Pe,at)}else if(Pe=Li(B,G,Ve.Ob[0]),ea[Pe](K,ee),Ne!=0)for(P=0;16>P;++P,Ne<<=2)Bi(Ne,et,16*+P,K,ee+m2[P]);for(P=Ve.Gc,Pe=Li(B,G,Ve.Dd),ms[Pe](ie,fe),ms[Pe](Se,We),Ne=et,Pe=ie,at=fe,255&(Ve=P>>0)&&(170&Ve?Ge(Ne,256,Pe,at):mt(Ne,256,Pe,at)),Ve=Se,Ne=We,255&(P>>=8)&&(170&P?Ge(et,320,Ve,Ne):mt(et,320,Ve,Ne)),G<y.Ub-1&&(i(Be[ht].y,0,K,ee+480,16),i(Be[ht].f,0,ie,fe+224,8),i(Be[ht].ea,0,Se,We+224,8)),P=8*X*y.B,Be=y.sa,ht=y.ta+16*B+16*X*y.R,et=y.qa,Ve=y.ra+8*B+P,Ne=y.Ha,Pe=y.Ia+8*B+P,P=0;16>P;++P)i(Be,ht+P*y.R,K,ee+32*P,16);for(P=0;8>P;++P)i(et,Ve+P*y.B,ie,fe+32*P,8),i(Ne,Pe+P*y.B,Se,We+32*P,8)}}function bo(y,b,P,B,G,X,K,ee,ie){var fe=[0],Se=[0],We=0,Ve=ie!=null?ie.kd:0,Be=ie??new io;if(y==null||12>P)return 7;Be.data=y,Be.w=b,Be.ha=P,b=[b],P=[P],Be.gb=[Be.gb];e:{var ht=b,et=P,Ne=Be.gb;if(t(y!=null),t(et!=null),t(Ne!=null),Ne[0]=0,12<=et[0]&&!n(y,ht[0],"RIFF")){if(n(y,ht[0]+8,"WEBP")){Ne=3;break e}var Pe=lt(y,ht[0]+4);if(12>Pe||4294967286<Pe){Ne=3;break e}if(Ve&&Pe>et[0]-8){Ne=7;break e}Ne[0]=Pe,ht[0]+=12,et[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Pe=0<Be.gb[0],P=P[0];;){e:{var at=y;et=b,Ne=P;var vt=fe,ct=Se,Bt=ht=[0];if((Rt=We=[We])[0]=0,8>Ne[0])Ne=7;else{if(!n(at,et[0],"VP8X")){if(lt(at,et[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var kt=lt(at,et[0]+8),sn=1+bt(at,et[0]+12);if(2147483648<=sn*(at=1+bt(at,et[0]+15))){Ne=3;break e}Bt!=null&&(Bt[0]=kt),vt!=null&&(vt[0]=sn),ct!=null&&(ct[0]=at),et[0]+=18,Ne[0]-=18,Rt[0]=1}Ne=0}}if(We=We[0],ht=ht[0],Ne!=0)return Ne;if(et=!!(2&ht),!Pe&&We)return 3;if(X!=null&&(X[0]=!!(16&ht)),K!=null&&(K[0]=et),ee!=null&&(ee[0]=0),K=fe[0],ht=Se[0],We&&et&&ie==null){Ne=0;break}if(4>P){Ne=7;break}if(Pe&&We||!Pe&&!We&&!n(y,b[0],"ALPH")){P=[P],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{kt=y,Ne=b,Pe=P;var Rt=Be.gb;vt=Be.na,ct=Be.P,Bt=Be.Sa,sn=22,t(kt!=null),t(Pe!=null),at=Ne[0];var ur=Pe[0];for(t(vt!=null),t(Bt!=null),vt[0]=null,ct[0]=null,Bt[0]=0;;){if(Ne[0]=at,Pe[0]=ur,8>ur){Ne=7;break e}var vr=lt(kt,at+4);if(4294967286<vr){Ne=3;break e}var rr=8+vr+1&-2;if(sn+=rr,0<Rt&&sn>Rt){Ne=3;break e}if(!n(kt,at,"VP8 ")||!n(kt,at,"VP8L")){Ne=0;break e}if(ur[0]<rr){Ne=7;break e}n(kt,at,"ALPH")||(vt[0]=kt,ct[0]=at+8,Bt[0]=vr),at+=rr,ur-=rr}}if(P=P[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Ne!=0)break}P=[P],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Rt=y,Ne=b,Pe=P,vt=Be.gb[0],ct=Be.Ja,Bt=Be.xa,kt=Ne[0],at=!n(Rt,kt,"VP8 "),sn=!n(Rt,kt,"VP8L"),t(Rt!=null),t(Pe!=null),t(ct!=null),t(Bt!=null),8>Pe[0])Ne=7;else{if(at||sn){if(Rt=lt(Rt,kt+4),12<=vt&&Rt>vt-12){Ne=3;break e}if(Ve&&Rt>Pe[0]-8){Ne=7;break e}ct[0]=Rt,Ne[0]+=8,Pe[0]-=8,Bt[0]=sn}else Bt[0]=5<=Pe[0]&&Rt[kt+0]==47&&!(Rt[kt+4]>>5),ct[0]=Pe[0];Ne=0}if(P=P[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],b=b[0],Ne!=0)break;if(4294967286<Be.Ja)return 3;if(ee==null||et||(ee[0]=Be.xa?2:1),K=[K],ht=[ht],Be.xa){if(5>P){Ne=7;break}ee=K,Ve=ht,et=X,y==null||5>P?y=0:5<=P&&y[b+0]==47&&!(y[b+4]>>5)?(Pe=[0],Rt=[0],vt=[0],pe(ct=new W,y,b,P),ve(ct,Pe,Rt,vt)?(ee!=null&&(ee[0]=Pe[0]),Ve!=null&&(Ve[0]=Rt[0]),et!=null&&(et[0]=vt[0]),y=1):y=0):y=0}else{if(10>P){Ne=7;break}ee=ht,y==null||10>P||!xo(y,b+3,P-3)?y=0:(Ve=y[b+0]|y[b+1]<<8|y[b+2]<<16,et=16383&(y[b+7]<<8|y[b+6]),y=16383&(y[b+9]<<8|y[b+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=Be.Ja||!et||!y?y=0:(K&&(K[0]=et),ee&&(ee[0]=y),y=1))}if(!y||(K=K[0],ht=ht[0],We&&(fe[0]!=K||Se[0]!=ht)))return 3;ie!=null&&(ie[0]=Be,ie.offset=b-ie.w,t(4294967286>b-ie.w),t(ie.offset==ie.ha-P));break}return Ne==0||Ne==7&&We&&ie==null?(X!=null&&(X[0]|=Be.na!=null&&0<Be.na.length),B!=null&&(B[0]=K),G!=null&&(G[0]=ht),0):Ne}function Ls(y,b,P){var B=b.width,G=b.height,X=0,K=0,ee=B,ie=G;if(b.Da=y!=null&&0<y.Da,b.Da&&(ee=y.cd,ie=y.bd,X=y.v,K=y.j,11>P||(X&=-2,K&=-2),0>X||0>K||0>=ee||0>=ie||X+ee>B||K+ie>G))return 0;if(b.v=X,b.j=K,b.va=X+ee,b.o=K+ie,b.U=ee,b.T=ie,b.da=y!=null&&0<y.da,b.da){if(!Ut(ee,ie,P=[y.ib],X=[y.hb]))return 0;b.ib=P[0],b.hb=X[0]}return b.ob=y!=null&&y.ob,b.Kb=y==null||!y.Sd,b.da&&(b.ob=b.ib<3*B/4&&b.hb<3*G/4,b.Kb=0),1}function Go(y){if(y==null)return 2;if(11>y.S){var b=y.f.RGBA;b.fb+=(y.height-1)*b.A,b.A=-b.A}else b=y.f.kb,y=y.height,b.O+=(y-1)*b.fa,b.fa=-b.fa,b.N+=(y-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(y-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(y-1)*b.lb,b.lb=-b.lb);return 0}function ds(y,b,P,B){if(B==null||0>=y||0>=b)return 2;if(P!=null){if(P.Da){var G=P.cd,X=P.bd,K=-2&P.v,ee=-2&P.j;if(0>K||0>ee||0>=G||0>=X||K+G>y||ee+X>b)return 2;y=G,b=X}if(P.da){if(!Ut(y,b,G=[P.ib],X=[P.hb]))return 2;y=G[0],b=X[0]}}B.width=y,B.height=b;e:{var ie=B.width,fe=B.height;if(y=B.S,0>=ie||0>=fe||!(y>=Zl&&13>y))y=2;else{if(0>=B.Rd&&B.sd==null){K=X=G=b=0;var Se=(ee=ie*v2[y])*fe;if(11>y||(X=(fe+1)/2*(b=(ie+1)/2),y==12&&(K=(G=ie)*fe)),(fe=l(Se+2*X+K))==null){y=1;break e}B.sd=fe,11>y?((ie=B.f.RGBA).eb=fe,ie.fb=0,ie.A=ee,ie.size=Se):((ie=B.f.kb).y=fe,ie.O=0,ie.fa=ee,ie.Fd=Se,ie.f=fe,ie.N=0+Se,ie.Ab=b,ie.Cd=X,ie.ea=fe,ie.W=0+Se+X,ie.Db=b,ie.Ed=X,y==12&&(ie.F=fe,ie.J=0+Se+2*X),ie.Tc=K,ie.lb=G)}if(b=1,G=B.S,X=B.width,K=B.height,G>=Zl&&13>G)if(11>G)y=B.f.RGBA,b&=(ee=Math.abs(y.A))*(K-1)+X<=y.size,b&=ee>=X*v2[G],b&=y.eb!=null;else{y=B.f.kb,ee=(X+1)/2,Se=(K+1)/2,ie=Math.abs(y.fa),fe=Math.abs(y.Ab);var We=Math.abs(y.Db),Ve=Math.abs(y.lb),Be=Ve*(K-1)+X;b&=ie*(K-1)+X<=y.Fd,b&=fe*(Se-1)+ee<=y.Cd,b=(b&=We*(Se-1)+ee<=y.Ed)&ie>=X&fe>=ee&We>=ee,b&=y.y!=null,b&=y.f!=null,b&=y.ea!=null,G==12&&(b&=Ve>=X,b&=Be<=y.Tc,b&=y.F!=null)}else b=0;y=b?0:2}}return y!=0||P!=null&&P.fd&&(y=Go(B)),y}var tr=64,Js=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ti=24,Xi=32,Fn=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),te.Predictor0=function(){return 4278190080},te.Predictor1=function(y){return y},te.Predictor2=function(y,b,P){return b[P+0]},te.Predictor3=function(y,b,P){return b[P+1]},te.Predictor4=function(y,b,P){return b[P-1]},te.Predictor5=function(y,b,P){return St(St(y,b[P+1]),b[P+0])},te.Predictor6=function(y,b,P){return St(y,b[P-1])},te.Predictor7=function(y,b,P){return St(y,b[P+0])},te.Predictor8=function(y,b,P){return St(b[P-1],b[P+0])},te.Predictor9=function(y,b,P){return St(b[P+0],b[P+1])},te.Predictor10=function(y,b,P){return St(St(y,b[P-1]),St(b[P+0],b[P+1]))},te.Predictor11=function(y,b,P){var B=b[P+0];return 0>=un(B>>24&255,y>>24&255,(b=b[P-1])>>24&255)+un(B>>16&255,y>>16&255,b>>16&255)+un(B>>8&255,y>>8&255,b>>8&255)+un(255&B,255&y,255&b)?B:y},te.Predictor12=function(y,b,P){var B=b[P+0];return(Ft((y>>24&255)+(B>>24&255)-((b=b[P-1])>>24&255))<<24|Ft((y>>16&255)+(B>>16&255)-(b>>16&255))<<16|Ft((y>>8&255)+(B>>8&255)-(b>>8&255))<<8|Ft((255&y)+(255&B)-(255&b)))>>>0},te.Predictor13=function(y,b,P){var B=b[P-1];return(Zt((y=St(y,b[P+0]))>>24&255,B>>24&255)<<24|Zt(y>>16&255,B>>16&255)<<16|Zt(y>>8&255,B>>8&255)<<8|Zt(y>>0&255,B>>0&255))>>>0};var H=te.PredictorAdd0;te.PredictorAdd1=Qt,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var r=te.PredictorAdd2;wn("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),wn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var o,u=te.ColorIndexInverseTransform,c=te.MapARGB,f=te.VP8LColorIndexInverseTransformAlpha,p=te.MapAlpha,x=te.VP8LPredictorsAdd=[];x.length=16,(te.VP8LPredictors=[]).length=16,(te.VP8LPredictorsAdd_C=[]).length=16,(te.VP8LPredictors_C=[]).length=16;var C,N,D,U,Z,ce,be,Ee,ke,Ge,dt,mt,pt,Nn,gn,nr,Wr,Br,jn,Rr,Vr,Yi,ji,oo,gi,dr,pr,Qr,gr=l(511),ps=l(2041),ka=l(225),gs=l(767),Gl=0,Ra=ps,$s=ka,so=gs,Ao=gr,Zl=0,vl=1,Yu=2,yl=3,xl=4,Xl=5,hh=6,Yl=7,Kl=8,Ql=9,s=10,d=[2,3,7],w=[3,3,11],T=[280,256,256,256,40],F=[0,1,1,1,0],Q=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ue=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ye=8,gt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tn=null,zn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ki=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ko=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ao=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Oa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Td=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],Zo=[],ms=[],Pd=1,Ku=2,mr=[],Qi=[];$e("UpsampleRgbLinePair",Hn,3),$e("UpsampleBgrLinePair",fr,3),$e("UpsampleRgbaLinePair",_o,4),$e("UpsampleBgraLinePair",Er,4),$e("UpsampleArgbLinePair",Ai,4),$e("UpsampleRgba4444LinePair",kr,2),$e("UpsampleRgb565LinePair",er,2);var kd=te.UpsampleRgbLinePair,Rd=te.UpsampleBgrLinePair,fh=te.UpsampleRgbaLinePair,Jl=te.UpsampleBgraLinePair,Qu=te.UpsampleArgbLinePair,dh=te.UpsampleRgba4444LinePair,Xx=te.UpsampleRgb565LinePair,ph=16,gh=1<<ph-1,Ju=-227,Od=482,p2=6,Yx=(256<<p2)-1,g2=0,Kx=l(256),Qx=l(256),Jx=l(256),$x=l(256),ew=l(Od-Ju),tw=l(Od-Ju);ii("YuvToRgbRow",Hn,3),ii("YuvToBgrRow",fr,3),ii("YuvToRgbaRow",_o,4),ii("YuvToBgraRow",Er,4),ii("YuvToArgbRow",Ai,4),ii("YuvToRgba4444Row",kr,2),ii("YuvToRgb565Row",er,2);var m2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mh=[0,2,8],nw=[8,7,6,4,4,2,2,2,1,1,1,1],rw=1;this.WebPDecodeRGBA=function(y,b,P,B,G){var X=vl,K=new Ns,ee=new hn;K.ba=ee,ee.S=X,ee.width=[ee.width],ee.height=[ee.height];var ie=ee.width,fe=ee.height,Se=new ti;if(Se==null||y==null)var We=2;else t(Se!=null),We=bo(y,b,P,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(We!=0?ie=0:(ie!=null&&(ie[0]=Se.width[0]),fe!=null&&(fe[0]=Se.height[0]),ie=1),ie){ee.width=ee.width[0],ee.height=ee.height[0],B!=null&&(B[0]=ee.width),G!=null&&(G[0]=ee.height);e:{if(B=new jt,(G=new io).data=y,G.w=b,G.ha=P,G.kd=1,b=[0],t(G!=null),((y=bo(G.data,G.w,G.ha,null,null,null,b,null,G))==0||y==7)&&b[0]&&(y=4),(b=y)==0){if(t(K!=null),B.data=G.data,B.w=G.w+G.offset,B.ha=G.ha-G.offset,B.put=ci,B.ac=Bn,B.bc=hi,B.ma=K,G.xa){if((y=Wn())==null){K=1;break e}if(function(Ve,Be){var ht=[0],et=[0],Ne=[0];t:for(;;){if(Ve==null)return 0;if(Be==null)return Ve.a=2,0;if(Ve.l=Be,Ve.a=0,pe(Ve.m,Be.data,Be.w,Be.ha),!ve(Ve.m,ht,et,Ne)){Ve.a=3;break t}if(Ve.xb=Ku,Be.width=ht[0],Be.height=et[0],!fn(ht[0],et[0],1,Ve,null))break t;return 1}return t(Ve.a!=0),0}(y,B)){if(B=(b=ds(B.width,B.height,K.Oa,K.ba))==0){t:{B=y;n:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((P=B.l)!=null),t((G=P.ma)!=null),B.xb!=0){if(B.ca=G.ba,B.tb=G.tb,t(B.ca!=null),!Ls(G.Oa,P,yl)){B.a=2;break n}if(!Tn(B,P.width)||P.da)break n;if((P.da||Ln(B.ca.S))&&De(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&De()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!Yt(B.s.vb,B.s.Wa.Xa)){B.a=1;break n}B.xb=0}if(!Jt(B,B.V,B.Ba,B.c,B.i,P.o,Qe))break n;G.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(b=y.a)}else b=y.a}else{if((y=new bn)==null){K=1;break e}if(y.Fa=G.na,y.P=G.P,y.qc=G.Sa,ar(y,B)){if((b=ds(B.width,B.height,K.Oa,K.ba))==0){if(y.Aa=0,P=K.Oa,t((G=y)!=null),P!=null){if(0<(ie=0>(ie=P.Md)?0:100<ie?255:255*ie/100)){for(fe=Se=0;4>fe;++fe)12>(We=G.pb[fe]).lc&&(We.ia=ie*nw[0>We.lc?0:We.lc]>>3),Se|=We.ia;Se&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=P.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Wt(y,B)||(b=y.a)}}else b=y.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=Go(K.ba))}K=b}X=K!=0?null:11>X?ee.f.RGBA.eb:ee.f.kb.y}else X=null;return X};var v2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(te,se){for(var Le="",J=0;J<4;J++)Le+=String.fromCharCode(te[se++]);return Le}function _(te,se){return(te[se+0]<<0|te[se+1]<<8|te[se+2]<<16)>>>0}function A(te,se){return(te[se+0]<<0|te[se+1]<<8|te[se+2]<<16|te[se+3]<<24)>>>0}new g;var I=[0],E=[0],O=[],R=new g,z=e,M=function(te,se){var Le={},J=0,Y=!1,ye=0,me=0;if(Le.frames=[],!function(ae,le,xe,he){for(var Fe=0;Fe<he;Fe++)if(ae[le+Fe]!=xe.charCodeAt(Fe))return!0;return!1}(te,se,"RIFF",4)){var ge,Me;for(A(te,se+=4),se+=8;se<te.length;){var Ie=v(te,se),pe=A(te,se+=4);se+=4;var Re=pe+(1&pe);switch(Ie){case"VP8 ":case"VP8L":Le.frames[J]===void 0&&(Le.frames[J]={}),(W=Le.frames[J]).src_off=Y?me:se-8,W.src_size=ye+pe+8,J++,Y&&(Y=!1,ye=0,me=0);break;case"VP8X":(W=Le.header={}).feature_flags=te[se];var Ce=se+4;W.canvas_width=1+_(te,Ce),Ce+=3,W.canvas_height=1+_(te,Ce),Ce+=3;break;case"ALPH":Y=!0,ye=Re+8,me=se-8;break;case"ANIM":(W=Le.header).bgcolor=A(te,se),Ce=se+4,W.loop_count=(ge=te)[(Me=Ce)+0]<<0|ge[Me+1]<<8,Ce+=2;break;case"ANMF":var nt,W;(W=Le.frames[J]={}).offset_x=2*_(te,se),se+=3,W.offset_y=2*_(te,se),se+=3,W.width=1+_(te,se),se+=3,W.height=1+_(te,se),se+=3,W.duration=_(te,se),se+=3,nt=te[se++],W.dispose=1&nt,W.blend=nt>>1&1}Ie!="ANMF"&&(se+=Re)}return Le}}(z,0);M.response=z,M.rgbaoutput=!0,M.dataurl=!1;var k=M.header?M.header:null,j=M.frames?M.frames:null;if(k){k.loop_counter=k.loop_count,I=[k.canvas_height],E=[k.canvas_width];for(var $=0;$<j.length&&j[$].blend!=0;$++);}var de=j[0],ne=R.WebPDecodeRGBA(z,de.src_off,de.src_size,E,I);de.rgba=ne,de.imgwidth=E[0],de.imgheight=I[0];for(var re=0;re<E[0]*I[0]*4;re++)O[re]=ne[re];return this.width=E,this.height=I,this.data=O,this}(function(e){var t=function(){return typeof q0=="function"},n=function(I,E,O,R){var z=4,M=h;switch(R){case e.image_compression.FAST:z=1,M=l;break;case e.image_compression.MEDIUM:z=6,M=m;break;case e.image_compression.SLOW:z=9,M=g}I=i(I,E,O,M);var k=q0(I,{level:z});return e.__addimage__.arrayBufferToBinaryString(k)},i=function(I,E,O,R){for(var z,M,k,j=I.length/E,$=new Uint8Array(I.length+j),de=_(),ne=0;ne<j;ne+=1){if(k=ne*E,z=I.subarray(k,k+E),R)$.set(R(z,O,M),k+ne);else{for(var re,te=de.length,se=[];re<te;re+=1)se[re]=de[re](z,O,M);var Le=A(se.concat());$.set(se[Le],k+ne)}M=z}return $},a=function(I){var E=Array.apply([],I);return E.unshift(0),E},l=function(I,E){var O,R=[],z=I.length;R[0]=1;for(var M=0;M<z;M+=1)O=I[M-E]||0,R[M+1]=I[M]-O+256&255;return R},h=function(I,E,O){var R,z=[],M=I.length;z[0]=2;for(var k=0;k<M;k+=1)R=O&&O[k]||0,z[k+1]=I[k]-R+256&255;return z},m=function(I,E,O){var R,z,M=[],k=I.length;M[0]=3;for(var j=0;j<k;j+=1)R=I[j-E]||0,z=O&&O[j]||0,M[j+1]=I[j]+256-(R+z>>>1)&255;return M},g=function(I,E,O){var R,z,M,k,j=[],$=I.length;j[0]=4;for(var de=0;de<$;de+=1)R=I[de-E]||0,z=O&&O[de]||0,M=O&&O[de-E]||0,k=v(R,z,M),j[de+1]=I[de]-k+256&255;return j},v=function(I,E,O){if(I===E&&E===O)return I;var R=Math.abs(E-O),z=Math.abs(I-O),M=Math.abs(I+E-O-O);return R<=z&&R<=M?I:z<=M?E:O},_=function(){return[a,l,h,m,g]},A=function(I){var E=I.map(function(O){return O.reduce(function(R,z){return R+Math.abs(z)},0)});return E.indexOf(Math.min.apply(null,E))};e.processPNG=function(I,E,O,R){var z,M,k,j,$,de,ne,re,te,se,Le,J,Y,ye,me,ge=this.decode.FLATE_DECODE,Me="";if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){if(I=(k=new jA(I)).imgData,M=k.bits,z=k.colorSpace,$=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){te=(re=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,Le=new Uint8Array(te*k.colors),se=new Uint8Array(te);var Ie,pe=k.pixelBitlength-k.bits;for(ye=0,me=0;ye<te;ye++){for(Y=re[ye],Ie=0;Ie<pe;)Le[me++]=Y>>>Ie&255,Ie+=k.bits;se[ye]=Y>>>Ie&255}}if(k.bits===16){te=(re=new Uint32Array(k.decodePixels().buffer)).length,Le=new Uint8Array(te*(32/k.pixelBitlength)*k.colors),se=new Uint8Array(te*(32/k.pixelBitlength)),J=k.colors>1,ye=0,me=0;for(var Re=0;ye<te;)Y=re[ye++],Le[me++]=Y>>>0&255,J&&(Le[me++]=Y>>>16&255,Y=re[ye++],Le[me++]=Y>>>0&255),se[Re++]=Y>>>16&255;M=8}R!==e.image_compression.NONE&&t()?(I=n(Le,k.width*k.colors,k.colors,R),ne=n(se,k.width,1,R)):(I=Le,ne=se,ge=void 0)}if(k.colorType===3&&(z=this.color_spaces.INDEXED,de=k.palette,k.transparency.indexed)){var Ce=k.transparency.indexed,nt=0;for(ye=0,te=Ce.length;ye<te;++ye)nt+=Ce[ye];if((nt/=255)===te-1&&Ce.indexOf(0)!==-1)j=[Ce.indexOf(0)];else if(nt!==te){for(re=k.decodePixels(),se=new Uint8Array(re.length),ye=0,te=re.length;ye<te;ye++)se[ye]=Ce[re[ye]];ne=n(se,k.width,1)}}var W=function(ae){var le;switch(ae){case e.image_compression.FAST:le=11;break;case e.image_compression.MEDIUM:le=13;break;case e.image_compression.SLOW:le=14;break;default:le=12}return le}(R);return ge===this.decode.FLATE_DECODE&&(Me="/Predictor "+W+" "),Me+="/Colors "+$+" /BitsPerComponent "+M+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(ne&&this.__addimage__.isArrayBuffer(ne)||this.__addimage__.isArrayBufferView(ne))&&(ne=this.__addimage__.arrayBufferToBinaryString(ne)),{alias:O,data:I,index:E,filter:ge,decodeParameters:Me,transparency:j,palette:de,sMask:ne,predictor:W,width:k.width,height:k.height,bitsPerComponent:M,colorSpace:z}}}})(an.API),function(e){e.processGIF89A=function(t,n,i,a){var l=new zA(t),h=l.width,m=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:h,height:m},_=new P1(100).encode(v,100);return e.processJPEG.call(this,_,n,i,a)},e.processGIF87A=e.processGIF89A}(an.API),Rs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Nr.log("bit decode error:"+n)}},Rs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var l=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+8*a*4,m=0;m<8&&8*a+m<this.width;m++){var g=this.palette[l>>7-m&1];this.data[h+4*m]=g.blue,this.data[h+4*m+1]=g.green,this.data[h+4*m+2]=g.red,this.data[h+4*m+3]=255}n!==0&&(this.pos+=4-n)}},Rs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var l=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+2*a*4,m=l>>4,g=15&l,v=this.palette[m];if(this.data[h]=v.blue,this.data[h+1]=v.green,this.data[h+2]=v.red,this.data[h+3]=255,2*a+1>=this.width)break;v=this.palette[g],this.data[h+4]=v.blue,this.data[h+4+1]=v.green,this.data[h+4+2]=v.red,this.data[h+4+3]=255}t!==0&&(this.pos+=4-t)}},Rs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*i;if(a<this.palette.length){var h=this.palette[a];this.data[l]=h.red,this.data[l+1]=h.green,this.data[l+2]=h.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},Rs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(l&t)/t*255|0,m=(l>>5&t)/t*255|0,g=(l>>10&t)/t*255|0,v=l>>15?255:0,_=i*this.width*4+4*a;this.data[_]=g,this.data[_+1]=m,this.data[_+2]=h,this.data[_+3]=v}this.pos+=e}},Rs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,l=0;l<this.width;l++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(h&t)/t*255|0,g=(h>>5&n)/n*255|0,v=(h>>11)/t*255|0,_=a*this.width*4+4*l;this.data[_]=v,this.data[_+1]=g,this.data[_+2]=m,this.data[_+3]=255}this.pos+=e}},Rs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*n;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=255}this.pos+=this.width%4}},Rs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),m=t*this.width*4+4*n;this.data[m]=l,this.data[m+1]=a,this.data[m+2]=i,this.data[m+3]=h}},Rs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,a){var l=new Rs(t,!1),h=l.width,m=l.height,g={data:l.getData(),width:h,height:m},v=new P1(100).encode(g,100);return e.processJPEG.call(this,v,n,i,a)}}(an.API),n5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,a){var l=new n5(t),h=l.width,m=l.height,g={data:l.getData(),width:h,height:m},v=new P1(100).encode(g,100);return e.processJPEG.call(this,v,n,i,a)}}(an.API),an.API.processRGBA=function(e,t,n){for(var i=e.data,a=i.length,l=new Uint8Array(a/4*3),h=new Uint8Array(a/4),m=0,g=0,v=0;v<a;v+=4){var _=i[v],A=i[v+1],I=i[v+2],E=i[v+3];l[m++]=_,l[m++]=A,l[m++]=I,h[g++]=E}var O=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:O,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},an.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},au=an.API,Xh=au.getCharWidthsArray=function(e,t){var n,i,a=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),h=t.charSpace||this.internal.getCharSpace(),m=t.widths?t.widths:a.metadata.Unicode.widths,g=m.fof?m.fof:1,v=t.kerning?t.kerning:a.metadata.Unicode.kerning,_=v.fof?v.fof:1,A=t.doKerning!==!1,I=0,E=e.length,O=0,R=m[0]||g,z=[];for(n=0;n<E;n++)i=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?z.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+h*(1e3/l)||0)/1e3):(I=A&&xr(v[i])==="object"&&!isNaN(parseInt(v[i][O],10))?v[i][O]/_:0,z.push((m[i]||R)/g+I)),O=i;return z},Jm=au.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return au.processArabic&&(e=au.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,a)/n:Xh.apply(this,arguments).reduce(function(l,h){return l+h},0)},$m=function(e,t,n,i){for(var a=[],l=0,h=e.length,m=0;l!==h&&m+t[l]<n;)m+=t[l],l++;a.push(e.slice(0,l));var g=l;for(m=0;l!==h;)m+t[l]>i&&(a.push(e.slice(g,l)),m=0,g=l),m+=t[l],l++;return g!==l&&a.push(e.slice(g,l)),a},e5=function(e,t,n){n||(n={});var i,a,l,h,m,g,v,_=[],A=[_],I=n.textIndent||0,E=0,O=0,R=e.split(" "),z=Xh.apply(this,[" ",n])[0];if(g=n.lineIndent===-1?R[0].length+2:n.lineIndent||0){var M=Array(g).join(" "),k=[];R.map(function($){($=$.split(/\s*\n/)).length>1?k=k.concat($.map(function(de,ne){return(ne&&de.length?`
`:"")+de})):k.push($[0])}),R=k,g=Jm.apply(this,[M,n])}for(l=0,h=R.length;l<h;l++){var j=0;if(i=R[l],g&&i[0]==`
`&&(i=i.substr(1),j=1),I+E+(O=(a=Xh.apply(this,[i,n])).reduce(function($,de){return $+de},0))>t||j){if(O>t){for(m=$m.apply(this,[i,a,t-(I+E),t]),_.push(m.shift()),_=[m.pop()];m.length;)A.push([m.shift()]);O=a.slice(i.length-(_[0]?_[0].length:0)).reduce(function($,de){return $+de},0)}else _=[i];A.push(_),I=O+g,E=z}else _.push(i),I+=E+O,E=z}return v=g?function($,de){return(de?M:"")+$.join(" ")}:function($){return $.join(" ")},A.map(v)},au.splitTextToSize=function(e,t,n){var i,a=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var A=this.internal.getFont(_.fontName,_.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var h=1*this.internal.scaleFactor*t/a;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=n.lineIndent;var m,g,v=[];for(m=0,g=i.length;m<g;m++)v=v.concat(e5.apply(this,[i[m],h,l]));return v},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var l=function(A){return"0x"+parseInt(A,10).toString(16)},h=e.__fontmetrics__.compress=function(A){var I,E,O,R,z=["{"];for(var M in A){if(I=A[M],isNaN(parseInt(M,10))?E="'"+M+"'":(M=parseInt(M,10),E=(E=l(M).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof I=="number")I<0?(O=l(I).slice(3),R="-"):(O=l(I).slice(2),R=""),O=R+O.slice(0,-1)+i[O.slice(-1)];else{if(xr(I)!=="object")throw new Error("Don't know what to do with value type "+xr(I)+".");O=h(I)}z.push(E+O)}return z.push("}"),z.join("")},m=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var I,E,O,R,z={},M=1,k=z,j=[],$="",de="",ne=A.length-1,re=1;re<ne;re+=1)(R=A[re])=="'"?I?(O=I.join(""),I=void 0):I=[]:I?I.push(R):R=="{"?(j.push([k,O]),k={},O=void 0):R=="}"?((E=j.pop())[0][E[1]]=k,O=void 0,k=E[0]):R=="-"?M=-1:O===void 0?n.hasOwnProperty(R)?($+=n[R],O=parseInt($,16)*M,M=1,$=""):$+=R:n.hasOwnProperty(R)?(de+=n[R],k[O]=parseInt(de,16)*M,M=1,O=void 0,de=""):de+=R;return z},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:m("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},_={Unicode:{"Courier-Oblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":m("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":m("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:m("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:m("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":m("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":m("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var I=A.font,E=_.Unicode[I.postScriptName];E&&(I.metadata.Unicode={},I.metadata.Unicode.widths=E.widths,I.metadata.Unicode.kerning=E.kerning);var O=v.Unicode[I.postScriptName];O&&(I.metadata.Unicode.encoding=O,I.encoding=O.codePages[0])}])}(an.API),function(e){var t=function(n){for(var i=n.length,a=new Uint8Array(i),l=0;l<i;l++)a[l]=n.charCodeAt(l);return a};e.API.events.push(["addFont",function(n){var i=void 0,a=n.font,l=n.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,m){m=/^\x00\x01\x00\x00/.test(m)?t(m):t(Pc(m)),h.metadata=e.API.TTFFont.open(m),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,i)}}])}(an),function(e){function t(){return(yn.canvg?Promise.resolve(yn.canvg):z0(()=>import("./index.es-061f0efe.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}an.API.addSvgAsImage=function(n,i,a,l,h,m,g,v){if(isNaN(i)||isNaN(a))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(h))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var _=document.createElement("canvas");_.width=l,_.height=h;var A=_.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,_.width,_.height);var I={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},E=this;return t().then(function(O){return O.fromString(A,n,I)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(O){return O.render(I)}).then(function(){E.addImage(_.toDataURL("image/jpeg",1),i,a,l,h,g,v)})}}(),an.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,n);return this},an.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,a,l,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},m=Object.keys(h),g=[],v=0,_=0,A=0;function I(O,R){var z,M=!1;for(z=0;z<O.length;z+=1)O[z]===R&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var E=m.length;for(A=0;A<E;A+=1)n[m[A]].value=n[m[A]].defaultValue,n[m[A]].explicitSet=!1}if(xr(e)==="object"){for(a in e)if(l=e[a],I(m,a)&&l!==void 0){if(n[a].type==="boolean"&&typeof l=="boolean")n[a].value=l;else if(n[a].type==="name"&&I(n[a].valueSet,l))n[a].value=l;else if(n[a].type==="integer"&&Number.isInteger(l))n[a].value=l;else if(n[a].type==="array"){for(v=0;v<l.length;v+=1)if(i=!0,l[v].length===1&&typeof l[v][0]=="number")g.push(String(l[v]-1));else if(l[v].length>1){for(_=0;_<l[v].length;_+=1)typeof l[v][_]!="number"&&(i=!1);i===!0&&g.push([l[v][0]-1,l[v][1]-1].join(" "))}n[a].value="["+g.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,R=[];for(O in n)n[O].explicitSet===!0&&(n[O].type==="name"?R.push("/"+O+" /"+n[O].value):R.push("/"+O+" "+n[O].value));R.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+R.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(i)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),m=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=l.length+h.length+m.length+a.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(a+l+h+m+g),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(an.API),function(e){var t=e.API,n=t.pdfEscape16=function(l,h){for(var m,g=h.metadata.Unicode.widths,v=["","0","00","000","0000"],_=[""],A=0,I=l.length;A<I;++A){if(m=h.metadata.characterToGlyph(l.charCodeAt(A)),h.metadata.glyIdsUsed.push(m),h.metadata.toUnicode[m]=l.charCodeAt(A),g.indexOf(m)==-1&&(g.push(m),g.push([parseInt(h.metadata.widthOfGlyph(m),10)])),m=="0")return _.join("");m=m.toString(16),_.push(v[4-m.length],m)}return _.join("")},i=function(l){var h,m,g,v,_,A,I;for(_=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],A=0,I=(m=Object.keys(l).sort(function(E,O){return E-O})).length;A<I;A++)h=m[A],g.length>=100&&(_+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[h]!==void 0&&l[h]!==null&&typeof l[h].toString=="function"&&(v=("0000"+l[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),g.push("<"+h+"><"+v+">"));return g.length&&(_+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),_+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(h){var m=h.font,g=h.out,v=h.newObject,_=h.putStream;if(m.metadata instanceof e.API.TTFFont&&m.encoding==="Identity-H"){for(var A=m.metadata.Unicode.widths,I=m.metadata.subset.encode(m.metadata.glyIdsUsed,1),E="",O=0;O<I.length;O++)E+=String.fromCharCode(I[O]);var R=v();_({data:E,addLength1:!0,objectId:R}),g("endobj");var z=v();_({data:i(m.metadata.toUnicode),addLength1:!0,objectId:z}),g("endobj");var M=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+cu(m.fontName)),g("/FontFile2 "+R+" 0 R"),g("/FontBBox "+e.API.PDFObject.convert(m.metadata.bbox)),g("/Flags "+m.metadata.flags),g("/StemV "+m.metadata.stemV),g("/ItalicAngle "+m.metadata.italicAngle),g("/Ascent "+m.metadata.ascender),g("/Descent "+m.metadata.decender),g("/CapHeight "+m.metadata.capHeight),g(">>"),g("endobj");var k=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+cu(m.fontName)),g("/FontDescriptor "+M+" 0 R"),g("/W "+e.API.PDFObject.convert(A)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+m.encoding+")"),g(">>"),g(">>"),g("endobj"),m.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+z+" 0 R"),g("/BaseFont /"+cu(m.fontName)),g("/Encoding /"+m.encoding),g("/DescendantFonts ["+k+" 0 R]"),g(">>"),g("endobj"),m.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(h){var m=h.font,g=h.out,v=h.newObject,_=h.putStream;if(m.metadata instanceof e.API.TTFFont&&m.encoding==="WinAnsiEncoding"){for(var A=m.metadata.rawData,I="",E=0;E<A.length;E++)I+=String.fromCharCode(A[E]);var O=v();_({data:I,addLength1:!0,objectId:O}),g("endobj");var R=v();_({data:i(m.metadata.toUnicode),addLength1:!0,objectId:R}),g("endobj");var z=v();g("<<"),g("/Descent "+m.metadata.decender),g("/CapHeight "+m.metadata.capHeight),g("/StemV "+m.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+O+" 0 R"),g("/Flags 96"),g("/FontBBox "+e.API.PDFObject.convert(m.metadata.bbox)),g("/FontName /"+cu(m.fontName)),g("/ItalicAngle "+m.metadata.italicAngle),g("/Ascent "+m.metadata.ascender),g(">>"),g("endobj"),m.objectNumber=v();for(var M=0;M<m.metadata.hmtx.widths.length;M++)m.metadata.hmtx.widths[M]=parseInt(m.metadata.hmtx.widths[M]*(1e3/m.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+cu(m.fontName)+"/FontDescriptor "+z+" 0 R/Encoding/"+m.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(m.metadata.hmtx.widths)+">>"),g("endobj"),m.isAlreadyPutted=!0}})(l)}]);var a=function(l){var h,m=l.text||"",g=l.x,v=l.y,_=l.options||{},A=l.mutex||{},I=A.pdfEscape,E=A.activeFontKey,O=A.fonts,R=E,z="",M=0,k="",j=O[R].encoding;if(O[R].encoding!=="Identity-H")return{text:m,x:g,y:v,options:_,mutex:A};for(k=m,R=E,Array.isArray(m)&&(k=m[0]),M=0;M<k.length;M+=1)O[R].metadata.hasOwnProperty("cmap")&&(h=O[R].metadata.cmap.unicode.codeMap[k[M].charCodeAt(0)]),h||k[M].charCodeAt(0)<256&&O[R].metadata.hasOwnProperty("Unicode")?z+=k[M]:z+="";var $="";return parseInt(R.slice(1))<14||j==="WinAnsiEncoding"?$=I(z,R).split("").map(function(de){return de.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&($=n(z,O[R])),A.isHex=!0,{text:$,x:g,y:v,options:_,mutex:A}};t.events.push(["postProcessText",function(l){var h=l.text||"",m=[],g={text:h,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(h)){var v=0;for(v=0;v<h.length;v+=1)Array.isArray(h[v])&&h[v].length===3?m.push([a(Object.assign({},g,{text:h[v][0]})).text,h[v][1],h[v][2]]):m.push(a(Object.assign({},g,{text:h[v]})).text);l.text=m}else l.text=a(Object.assign({},g,{text:h})).text}])}(an),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(an.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var a,l,h,m,g,v,_,A=t,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],E=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},z=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,j=0;this.__bidiEngine__={};var $=function(J){var Y=J.charCodeAt(),ye=Y>>8,me=R[ye];return me!==void 0?A[256*me+(255&Y)]:ye===252||ye===253?"AL":M.test(ye)?"L":ye===8?"R":"N"},de=function(J){for(var Y,ye=0;ye<J.length;ye++){if((Y=$(J.charAt(ye)))==="L")return!1;if(Y==="R")return!0}return!1},ne=function(J,Y,ye,me){var ge,Me,Ie,pe,Re=Y[me];switch(Re){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(Re="AN");break;case"AL":k=!0,Re="R";break;case"WS":Re="N";break;case"CS":me<1||me+1>=Y.length||(ge=ye[me-1])!=="EN"&&ge!=="AN"||(Me=Y[me+1])!=="EN"&&Me!=="AN"?Re="N":k&&(Me="AN"),Re=Me===ge?Me:"N";break;case"ES":Re=(ge=me>0?ye[me-1]:"B")==="EN"&&me+1<Y.length&&Y[me+1]==="EN"?"EN":"N";break;case"ET":if(me>0&&ye[me-1]==="EN"){Re="EN";break}if(k){Re="N";break}for(Ie=me+1,pe=Y.length;Ie<pe&&Y[Ie]==="ET";)Ie++;Re=Ie<pe&&Y[Ie]==="EN"?"EN":"N";break;case"NSM":if(h&&!m){for(pe=Y.length,Ie=me+1;Ie<pe&&Y[Ie]==="NSM";)Ie++;if(Ie<pe){var Ce=J[me],nt=Ce>=1425&&Ce<=2303||Ce===64286;if(ge=Y[Ie],nt&&(ge==="R"||ge==="AL")){Re="R";break}}}Re=me<1||(ge=Y[me-1])==="B"?"N":ye[me-1];break;case"B":k=!1,a=!0,Re=j;break;case"S":l=!0,Re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":Re="N"}return Re},re=function(J,Y,ye){var me=J.split("");return ye&&te(me,ye,{hiLevel:j}),me.reverse(),Y&&Y.reverse(),me.join("")},te=function(J,Y,ye){var me,ge,Me,Ie,pe,Re=-1,Ce=J.length,nt=0,W=[],ae=j?E:I,le=[];for(k=!1,a=!1,l=!1,ge=0;ge<Ce;ge++)le[ge]=$(J[ge]);for(Me=0;Me<Ce;Me++){if(pe=nt,W[Me]=ne(J,le,W,Me),me=240&(nt=ae[pe][O[W[Me]]]),nt&=15,Y[Me]=Ie=ae[nt][5],me>0)if(me===16){for(ge=Re;ge<Me;ge++)Y[ge]=1;Re=-1}else Re=-1;if(ae[nt][6])Re===-1&&(Re=Me);else if(Re>-1){for(ge=Re;ge<Me;ge++)Y[ge]=Ie;Re=-1}le[Me]==="B"&&(Y[Me]=0),ye.hiLevel|=Ie}l&&function(xe,he,Fe){for(var je=0;je<Fe;je++)if(xe[je]==="S"){he[je]=j;for(var qe=je-1;qe>=0&&xe[qe]==="WS";qe--)he[qe]=j}}(le,Y,Ce)},se=function(J,Y,ye,me,ge){if(!(ge.hiLevel<J)){if(J===1&&j===1&&!a)return Y.reverse(),void(ye&&ye.reverse());for(var Me,Ie,pe,Re,Ce=Y.length,nt=0;nt<Ce;){if(me[nt]>=J){for(pe=nt+1;pe<Ce&&me[pe]>=J;)pe++;for(Re=nt,Ie=pe-1;Re<Ie;Re++,Ie--)Me=Y[Re],Y[Re]=Y[Ie],Y[Ie]=Me,ye&&(Me=ye[Re],ye[Re]=ye[Ie],ye[Ie]=Me);nt=pe}nt++}}},Le=function(J,Y,ye){var me=J.split(""),ge={hiLevel:j};return ye||(ye=[]),te(me,ye,ge),function(Me,Ie,pe){if(pe.hiLevel!==0&&_)for(var Re,Ce=0;Ce<Me.length;Ce++)Ie[Ce]===1&&(Re=z.indexOf(Me[Ce]))>=0&&(Me[Ce]=z[Re+1])}(me,ye,ge),se(2,me,Y,ye,ge),se(1,me,Y,ye,ge),me.join("")};return this.__bidiEngine__.doBidiReorder=function(J,Y,ye){if(function(ge,Me){if(Me)for(var Ie=0;Ie<ge.length;Ie++)Me[Ie]=Ie;m===void 0&&(m=de(ge)),v===void 0&&(v=de(ge))}(J,Y),h||!g||v)if(h&&g&&m^v)j=m?1:0,J=re(J,Y,ye);else if(!h&&g&&v)j=m?1:0,J=Le(J,Y,ye),J=re(J,Y);else if(!h||m||g||v){if(h&&!g&&m^v)J=re(J,Y),m?(j=0,J=Le(J,Y,ye)):(j=1,J=Le(J,Y,ye),J=re(J,Y));else if(h&&m&&!g&&v)j=1,J=Le(J,Y,ye),J=re(J,Y);else if(!h&&!g&&m^v){var me=_;m?(j=1,J=Le(J,Y,ye),j=0,_=!1,J=Le(J,Y,ye),_=me):(j=0,J=Le(J,Y,ye),J=re(J,Y),j=1,_=!1,J=Le(J,Y,ye),_=me,J=re(J,Y))}}else j=0,J=Le(J,Y,ye);else j=m?1:0,J=Le(J,Y,ye);return J},this.__bidiEngine__.setOptions=function(J){J&&(h=J.isInputVisual,g=J.isOutputVisual,m=J.isInputRtl,v=J.isOutputRtl,_=J.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var a=i.text,l=(i.x,i.y,i.options||{}),h=(i.mutex,l.lang,[]);if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var m=0;for(h=[],m=0;m<a.length;m+=1)Object.prototype.toString.call(a[m])==="[object Array]"?h.push([n.doBidiReorder(a[m][0]),a[m][1],a[m][2]]):h.push([n.doBidiReorder(a[m])]);i.text=h}else i.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new fl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new tC(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new UA(this.contents),this.head=new WA(this),this.name=new XA(this),this.cmap=new Gx(this),this.toUnicode={},this.hhea=new VA(this),this.maxp=new YA(this),this.hmtx=new KA(this),this.post=new GA(this),this.os2=new qA(this),this.loca=new eC(this),this.glyf=new QA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,m,g,v;for(v=[],h=0,m=(g=this.bbox).length;h<m;h++)t=g[h],v.push(Math.round(t*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var a,l,h,m;for(h=0,l=0,m=(t=""+t).length;0<=m?l<m:l>m;l=0<=m?++l:--l)a=t.charCodeAt(l),h+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/n)||0;return h*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var Gs,fl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,a;for(a=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,a,l,h,m,g;return t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),h=this.readByte(),m=this.readByte(),g=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^l)+65536*(255^h)+256*(255^m)+(255^g)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*a+16777216*l+65536*h+256*m+g},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,a,l;for(l=[],i=0,a=t.length;i<a;i++)n=t[i],l.push(this.writeByte(n));return l},e}(),UA=function(){var e;function t(n){var i,a,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,a,l,h,m,g,v,_,A,I,E,O,R;for(R in E=Object.keys(n).length,g=Math.log(2),A=16*Math.floor(Math.log(E)/g),h=Math.floor(A/g),_=16*E-A,(a=new fl).writeInt(this.scalarType),a.writeShort(E),a.writeShort(A),a.writeShort(h),a.writeShort(_),l=16*E,v=a.pos+l,m=null,O=[],n)for(I=n[R],a.writeString(R),a.writeInt(e(I)),a.writeInt(v),a.writeInt(I.length),O=O.concat(I),R==="head"&&(m=v),v+=I.length;v%4;)O.push(0),v++;return a.write(O),i=2981146554-e(a.data),a.pos=m+8,a.writeUInt32(i),a.data},e=function(n){var i,a,l,h;for(n=Zx.call(n);n.length%4;)n.push(0);for(l=new fl(n),a=0,i=0,h=n.length;i<h;i=i+=4)a+=l.readUInt32();return 4294967295&a},t}(),HA={}.hasOwnProperty,ha=function(e,t){for(var n in t)HA.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Gs=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var WA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var i;return(i=new fl).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},t}(),r5=function(){function e(t,n){var i,a,l,h,m,g,v,_,A,I,E,O,R,z,M,k,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=t.readByte();break;case 4:for(E=t.readUInt16(),I=E/2,t.pos+=6,l=function(){var $,de;for(de=[],g=$=0;0<=I?$<I:$>I;g=0<=I?++$:--$)de.push(t.readUInt16());return de}(),t.pos+=2,R=function(){var $,de;for(de=[],g=$=0;0<=I?$<I:$>I;g=0<=I?++$:--$)de.push(t.readUInt16());return de}(),v=function(){var $,de;for(de=[],g=$=0;0<=I?$<I:$>I;g=0<=I?++$:--$)de.push(t.readUInt16());return de}(),_=function(){var $,de;for(de=[],g=$=0;0<=I?$<I:$>I;g=0<=I?++$:--$)de.push(t.readUInt16());return de}(),a=(this.length-t.pos+this.offset)/2,m=function(){var $,de;for(de=[],g=$=0;0<=a?$<a:$>a;g=0<=a?++$:--$)de.push(t.readUInt16());return de}(),g=M=0,j=l.length;M<j;g=++M)for(z=l[g],i=k=O=R[g];O<=z?k<=z:k>=z;i=O<=z?++k:--k)_[g]===0?h=i+v[g]:(h=m[_[g]/2+(i-O)-(I-g)]||0)!==0&&(h+=v[g]),this.codeMap[i]=65535&h}t.pos=A}return e.encode=function(t,n){var i,a,l,h,m,g,v,_,A,I,E,O,R,z,M,k,j,$,de,ne,re,te,se,Le,J,Y,ye,me,ge,Me,Ie,pe,Re,Ce,nt,W,ae,le,xe,he,Fe,je,qe,yt,it,bt;switch(me=new fl,h=Object.keys(t).sort(function(lt,Yt){return lt-Yt}),n){case"macroman":for(R=0,z=function(){var lt=[];for(O=0;O<256;++O)lt.push(0);return lt}(),k={0:0},l={},ge=0,Re=h.length;ge<Re;ge++)k[qe=t[a=h[ge]]]==null&&(k[qe]=++R),l[a]={old:t[a],new:k[t[a]]},z[a]=k[t[a]];return me.writeUInt16(1),me.writeUInt16(0),me.writeUInt32(12),me.writeUInt16(0),me.writeUInt16(262),me.writeUInt16(0),me.write(z),{charMap:l,subtable:me.data,maxGlyphID:R+1};case"unicode":for(Y=[],A=[],j=0,k={},i={},M=v=null,Me=0,Ce=h.length;Me<Ce;Me++)k[de=t[a=h[Me]]]==null&&(k[de]=++j),i[a]={old:de,new:k[de]},m=k[de]-a,M!=null&&m===v||(M&&A.push(M),Y.push(a),v=m),M=a;for(M&&A.push(M),A.push(65535),Y.push(65535),Le=2*(se=Y.length),te=2*Math.pow(Math.log(se)/Math.LN2,2),I=Math.log(te/2)/Math.LN2,re=2*se-te,g=[],ne=[],E=[],O=Ie=0,nt=Y.length;Ie<nt;O=++Ie){if(J=Y[O],_=A[O],J===65535){g.push(0),ne.push(0);break}if(J-(ye=i[J].new)>=32768)for(g.push(0),ne.push(2*(E.length+se-O)),a=pe=J;J<=_?pe<=_:pe>=_;a=J<=_?++pe:--pe)E.push(i[a].new);else g.push(ye-J),ne.push(0)}for(me.writeUInt16(3),me.writeUInt16(1),me.writeUInt32(12),me.writeUInt16(4),me.writeUInt16(16+8*se+2*E.length),me.writeUInt16(0),me.writeUInt16(Le),me.writeUInt16(te),me.writeUInt16(I),me.writeUInt16(re),Fe=0,W=A.length;Fe<W;Fe++)a=A[Fe],me.writeUInt16(a);for(me.writeUInt16(0),je=0,ae=Y.length;je<ae;je++)a=Y[je],me.writeUInt16(a);for(yt=0,le=g.length;yt<le;yt++)m=g[yt],me.writeUInt16(m);for(it=0,xe=ne.length;it<xe;it++)$=ne[it],me.writeUInt16($);for(bt=0,he=E.length;bt<he;bt++)R=E[bt],me.writeUInt16(R);return{charMap:i,subtable:me.data,maxGlyphID:j+1}}},e}(),Gx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,a,l;for(n.pos=this.offset,this.version=n.readUInt16(),l=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)i=new r5(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(n,i){var a,l;return i==null&&(i="macroman"),a=r5.encode(n,i),(l=new fl).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},t}(),VA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),qA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,a;for(a=[],i=0;i<10;++i)a.push(n.readByte());return a}(),this.charRange=function(){var i,a;for(a=[],i=0;i<4;++i)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,a;for(a=[],i=0;i<2;i=++i)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),GA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="post",t.prototype.parse=function(n){var i,a,l;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var h;for(a=n.readUInt16(),this.glyphNameIndex=[],h=0;0<=a?h<a:h>a;h=0<=a?++h:--h)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],l=[];n.pos<this.offset+this.length;)i=n.readByte(),l.push(this.names.push(n.readString(i)));return l;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var m,g,v;for(v=[],h=m=0,g=this.file.maxp.numGlyphs;0<=g?m<g:m>g;h=0<=g?++m:--m)v.push(n.readUInt32());return v}).call(this)}},t}(),ZA=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},XA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="name",t.prototype.parse=function(n){var i,a,l,h,m,g,v,_,A,I,E;for(n.pos=this.offset,n.readShort(),i=n.readShort(),g=n.readShort(),a=[],h=0;0<=i?h<i:h>i;h=0<=i?++h:--h)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+g+n.readShort()});for(v={},h=A=0,I=a.length;A<I;h=++A)l=a[h],n.pos=l.offset,_=n.readString(l.length),m=new ZA(_,l),v[E=l.nameID]==null&&(v[E]=[]),v[l.nameID].push(m);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},t}(),YA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),KA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,a,l,h,m,g,v;for(n.pos=this.offset,this.metrics=[],i=0,g=this.file.hhea.numberOfMetrics;0<=g?i<g:i>g;i=0<=g?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _,A;for(A=[],i=_=0;0<=l?_<l:_>l;i=0<=l?++_:--_)A.push(n.readInt16());return A}(),this.widths=(function(){var _,A,I,E;for(E=[],_=0,A=(I=this.metrics).length;_<A;_++)h=I[_],E.push(h.advance);return E}).call(this),a=this.widths[this.widths.length-1],v=[],i=m=0;0<=l?m<l:m>l;i=0<=l?++m:--m)v.push(this.widths.push(a));return v},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Zx=[].slice,QA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var i,a,l,h,m,g,v,_,A,I;return n in this.cache?this.cache[n]:(h=this.file.loca,i=this.file.contents,a=h.indexOf(n),(l=h.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+a,m=(g=new fl(i.read(l))).readShort(),_=g.readShort(),I=g.readShort(),v=g.readShort(),A=g.readShort(),this.cache[n]=m===-1?new $A(g,_,I,v,A):new JA(g,m,_,I,v,A),this.cache[n]))},t.prototype.encode=function(n,i,a){var l,h,m,g,v;for(m=[],h=[],g=0,v=i.length;g<v;g++)l=n[i[g]],h.push(m.length),l&&(m=m.concat(l.encode(a)));return h.push(m.length),{table:m,offsets:h}},t}(),JA=function(){function e(t,n,i,a,l,h){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=a,this.xMax=l,this.yMax=h,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),$A=function(){function e(t,n,i,a,l){var h,m;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;m=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&m;)h.pos+=1&m?4:2,128&m?h.pos+=8:64&m?h.pos+=4:8&m&&(h.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new fl(Zx.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),eC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ha(t,Gs),t.prototype.tag="loca",t.prototype.parse=function(n){var i,a;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var l,h;for(h=[],a=0,l=this.length;a<l;a+=2)h.push(2*n.readUInt16());return h}).call(this):(function(){var l,h;for(h=[],a=0,l=this.length;a<l;a+=4)h.push(n.readUInt32());return h}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,i){for(var a=new Uint32Array(this.offsets.length),l=0,h=0,m=0;m<a.length;++m)if(a[m]=l,h<i.length&&i[h]==m){++h,a[m]=l;var g=this.offsets[m],v=this.offsets[m+1]-g;v>0&&(l+=v)}for(var _=new Array(4*a.length),A=0;A<a.length;++A)_[4*A+3]=255&a[A],_[4*A+2]=(65280&a[A])>>8,_[4*A+1]=(16711680&a[A])>>16,_[4*A]=(4278190080&a[A])>>24;return _},t}(),tC=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,a,l;for(n in a=this.font.cmap.tables[0].codeMap,t={},l=this.subset)i=l[n],t[n]=a[i];return t},e.prototype.glyphsFor=function(t){var n,i,a,l,h,m,g;for(a={},h=0,m=t.length;h<m;h++)a[l=t[h]]=this.font.glyf.glyphFor(l);for(l in n=[],a)(i=a[l])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(l in g=this.glyphsFor(n))i=g[l],a[l]=i;return a},e.prototype.encode=function(t,n){var i,a,l,h,m,g,v,_,A,I,E,O,R,z,M;for(a in i=Gx.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(t),E={0:0},M=i.charMap)E[(g=M[a]).old]=g.new;for(O in I=i.maxGlyphID,h)O in E||(E[O]=I++);return _=function(k){var j,$;for(j in $={},k)$[k[j]]=j;return $}(E),A=Object.keys(_).sort(function(k,j){return k-j}),R=function(){var k,j,$;for($=[],k=0,j=A.length;k<j;k++)m=A[k],$.push(_[m]);return $}(),l=this.font.glyf.encode(h,R,E),v=this.font.loca.encode(l.offsets,R),z={cmap:this.font.cmap.raw(),glyf:l.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(z)},e}();an.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,a,l,h;if(Array.isArray(n))return"["+function(){var m,g,v;for(v=[],m=0,g=n.length;m<g;m++)i=n[m],v.push(t.convert(i));return v}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in l=["<<"],n)h=n[a],l.push("/"+a+" "+t.convert(h));return l.push(">>"),l.join(`
`)}return""+n},t}();function nC(){const{adminToken:e}=ui(),[t,n]=Te.useState(0),[i,a]=Te.useState([]),[l,h]=Te.useState(!1),[m,g]=Te.useState(""),v=I=>{const E=I.target.value;!isNaN(E)&&E>=0?(n(E),g("")):g("Bitte geben Sie eine gltige Anzahl ein.")};Te.useEffect(()=>{t>0&&l&&(async()=>{try{const E=await fetch("/api/generatePatientQRCodes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({number:t})});if(!E.ok)throw new Error("Fehler beim Abrufen der Daten.");const O=await E.json();O.qrcodes&&Array.isArray(O.qrcodes)&&a(O.qrcodes)}catch{g("Es gab einen Fehler bei der Erstellung der QR-Codes. Bitte versuchen Sie es erneut.")}finally{h(!1)}})()},[l,e,t]);const _=()=>{const I=new an;i.forEach((E,O)=>{O!==0&&I.addPage();const R=document.getElementById(`qrcode-${O}`).toDataURL("image/png");I.text(`Patient QR Code #${O+1}`,20,20),I.addImage(R,"PNG",50,30,100,100)}),I.save("patient_qrcodes.pdf")},A=()=>{t>0?(h(!0),a([])):g("Bitte geben Sie eine gltige Anzahl ein.")};return V.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[V.jsx("h2",{children:"Patienten QR-Codes generieren"}),V.jsx("p",{children:"Bitte auswhlen, wie viele Patienten QR-Codes generiert werden sollen"}),V.jsx("input",{style:{width:"300px",padding:"10px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"5px"},type:"number",id:"requestedQrCountInput",value:t,onChange:v,placeholder:"Anzahl eingeben"}),V.jsx("br",{}),V.jsx("button",{onClick:A,style:{padding:"10px 20px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",marginRight:"10px",cursor:"pointer"},children:"QR-Codes generieren"}),V.jsx("button",{onClick:_,style:{padding:"10px 20px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},disabled:i.length===0,children:"Als PDF drucken"}),l&&V.jsx("p",{style:{color:"#0047ab"},children:"QR-Codes werden generiert..."}),m&&V.jsx("p",{style:{color:"red"},children:m}),V.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"20px"},children:i.map((I,E)=>V.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"10px",border:"1px solid #ddd",borderRadius:"8px",textAlign:"center"},children:[V.jsx(Sd,{id:`qrcode-${E}`,value:I,size:150}),V.jsxs("p",{style:{marginTop:"10px"},children:["QR Code #",E+1]})]},E))})]})}const ra=({element:e})=>{const{token:t,validateToken:n}=ui(),[i,a]=Te.useState(!1);return Te.useEffect(()=>{(async()=>{if(t)try{const h=await n(t);a(h)}catch(h){console.error("Error validating token:",h),a(!1)}})()},[t,n]),i?V.jsx(V.Fragment,{children:e}):V.jsx(ox,{})},rC=({id:e,onClick:t,initialClickedState:n})=>{const[i,a]=Te.useState(n);Te.useEffect(()=>{a(n)},[n]);const l=()=>{a(!i),t(e,!i)},h=()=>{switch(e){case"kopf_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"kopf_vorne",cx:"52.273449",cy:"20.800844",rx:"21.162607",ry:"18.630329"});case"hals_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"hals_vorne",width:"14.108405",height:"11.214372",x:"44.495739",y:"38.345917"});case"brust_links":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"brust_links",width:"19.004412",height:"34.00441",x:"51.497795",y:"49.497795"});case"brust_rechts":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"brust_rechts",width:"19.004412",height:"34.00441",x:"32.497795",y:"49.497795"});case"leiste_links_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"leiste_links_vorne",width:"19.17296",height:"23.152252",x:"51.5",y:"82.5"});case"leiste_rechts_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"leiste_rechts_vorne",width:"19.004314",height:"23.156567",x:"32.497841",y:"82.497841"});case"schulter_links_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_links_vorne",cx:"73.978683",cy:"50.102921",rx:"6.3306942",ry:"5.6071858"});case"schulter_rechts_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_rechts_vorne",cx:"28.035931",cy:"49.017662",rx:"6.3306942",ry:"5.6071858"});case"huefte_links_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_links_vorne",cx:"72.53167",cy:"106.53654",rx:"6.3306942",ry:"5.6071858"});case"huefte_rechts_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_rechts_vorne",cx:"30.568203",cy:"107.98357",rx:"6.3306942",ry:"5.6071858"});case"oberschenkel_rechts_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_rechts_vorne",width:"7.5968332",height:"37.260658",x:"45.877144",y:"104.16055",transform:"rotate(11.084325)"});case"unterschenkel_links_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_links_vorne",width:"7.5968332",height:"31.472595",x:"74.883072",y:"154.83069"});case"oberschenkel_links_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_links_vorne",width:"7.5968332",height:"37.260658",x:"47.448467",y:"122.23477",transform:"rotate(-10.379456)"});case"unterschenkel_rechts_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_rechts_vorne",width:"7.5968332",height:"31.472595",x:"16.278927",y:"155.19244"});case"knie_links_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_links_vorne",cx:"79.404991",cy:"150.67052",rx:"6.3306942",ry:"5.6071858"});case"knie_rechts_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_rechts_vorne",cx:"20.077335",cy:"151.03227",rx:"6.3306942",ry:"5.6071858"});case"oberarm_links_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_links_vorne",width:"5.608892",height:"25.70512",x:"31.055252",y:"85.254852",transform:"matrix(0.84710696,-0.53142243,0.57047303,0.82131633,0,0)"});case"oberarm_rechts_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_rechts_vorne",width:"5.3013601",height:"29.510719",x:"43.3629",y:"30.410044",transform:"matrix(0.85927699,0.51151056,-0.44289859,0.89657171,0,0)"});case"ellbogen_rechts_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_rechts_vorne",cx:"11.937879",cy:"79.766754",rx:"5.0645556",ry:"4.521924"});case"ellbogen_links_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_links_vorne",cx:"94.056038",cy:"75.425705",rx:"5.7880635",ry:"4.883678"});case"fuss_rechts_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_rechts_vorne",cx:"18.087696",cy:"191.72961",rx:"7.9585872",ry:"6.5115709"});case"fuss_links_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_links_vorne",cx:"79.947617",cy:"191.0061",rx:"7.9585872",ry:"6.5115709"});case"auge_rechts":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"auge_rechts",cx:"42.68697",cy:"15.736297",rx:"5.0645552",ry:"4.521924"});case"auge_links":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"auge_links",cx:"60.051159",cy:"16.098051",rx:"5.0645552",ry:"4.521924"});case"mund":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"mund",width:"19.17296",height:"6.5115709",x:"41.963459",y:"25.322775"});case"unterarm_links_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_links_vorne",width:"5.7880635",height:"31.472595",x:"91.885506",y:"78.138855"});case"unterarm_rechts_vorne":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_rechts_vorne",width:"5.7880635",height:"31.472595",x:"8.3203363",y:"81.39463"});case"hand_links_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_links_vorne",cx:"94.056023",cy:"112.50549",rx:"7.9585872",ry:"6.5115709"});case"hand_rechts_vorne":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_rechts_vorne",cx:"10.852616",cy:"116.48479",rx:"7.9585872",ry:"6.5115709"});case"genital_vorne":return V.jsx("path",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"genital_vorne",d:"m 36.785142,106.2725 h 29.999996 l -15.23523,12.96018 z","sodipodi:nodetypes":"cccc"});default:return null}};return V.jsx("g",{onClick:l,style:{cursor:"pointer"},children:h()})},iC=()=>{var A;const[e,t]=Te.useState({}),n=Lo(),{token:i}=ui(),l=(A=Vs().state)==null?void 0:A.patientId,[h,m]=Te.useState(!0),g=async(I,E)=>{t({...e,[I]:E});try{(await fetch("/api/save-body-part",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({idpatient:l,bodyPartId:I,isClicked:E})})).ok?console.log(`Body part ${I} saved successfully for patient ${l}!`):console.error(`Failed to save body part ${I} for patient ${l}`)}catch(O){console.error(`Error while saving body part ${I} for patient ${l}`,O)}},v=async()=>{try{const I=await fetch(`/api/get-body-parts?idpatient=${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}});if(I.ok){const E=await I.json();console.log("Initial Body Parts:",E),t(E||{})}else console.error(`Failed to fetch initial body parts for patient ${l}`)}catch(I){console.error(`Error while fetching initial body parts for patient ${l}`,I)}finally{m(!1)}};Te.useEffect(()=>{v()},[]);const _=()=>{n("/ShowBodyBack",{state:{patientId:l}})};return V.jsx("div",{className:"bodyparts-container",style:{paddingTop:"40px"},children:h?V.jsx("p",{children:"Loading..."}):V.jsxs(V.Fragment,{children:[V.jsx("h1",{children:"Front"}),V.jsx("svg",{className:"body-svg",viewBox:"0 0 105 201",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsx("g",{className:"first-layer",children:Object.entries(e).map(([I,E])=>V.jsx(rC,{id:I,onClick:g,initialClickedState:E||!1},I))})}),V.jsx("button",{onClick:_,children:"Go to Back"})]})})},oC=({id:e,onClick:t,initialClickedState:n})=>{const[i,a]=Te.useState(n);Te.useEffect(()=>{a(n)},[n]);const l=()=>{a(!i),t(e,!i)},h=()=>{switch(e){case"hals_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"hals_hinten",width:"14.108405",height:"11.214372",x:"43.410477",y:"38.345917"});case"ruecken_links":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"ruecken_links",width:"11.937881",height:"43.410473",x:"30.387331",y:"49.560295"});case"oberschenkel_links_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_links_hinten",width:"7.5968332",height:"37.260658",x:"44.81213",y:"104.36919",transform:"rotate(11.084325)"});case"unterschenkel_rechts_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_rechts_hinten",width:"7.5968332",height:"31.472595",x:"73.797806",y:"154.83069"});case"oberschenkel_rechts_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_rechts_hinten",width:"7.5968332",height:"37.260658",x:"46.380962",y:"122.03924",transform:"rotate(-10.379456)"});case"unterschenkel_links_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_links_hinten",width:"7.5968332",height:"31.472595",x:"15.193666",y:"155.19244"});case"oberarm_rechts_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_rechts_hinten",width:"5.608892",height:"25.70512",x:"30.162931",y:"84.677483",transform:"matrix(0.84710696,-0.53142243,0.57047303,0.82131633,0,0)"});case"oberarm_links_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_links_hinten",width:"5.3013601",height:"29.510719",x:"42.386909",y:"30.966864",transform:"matrix(0.85927699,0.51151056,-0.44289859,0.89657171,0,0)"});case"unterarm_rechts_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_rechts_hinten",width:"5.7880635",height:"31.472595",x:"90.80024",y:"78.138855"});case"unterarm_links_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_links_hinten",width:"5.7880635",height:"31.472595",x:"7.235074",y:"81.39463"});case"becken_rechts_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"becken_rechts_hinten",width:"12.113685",height:"18.625257",x:"58.154491",y:"93.244614"});case"ruecken_rechts":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"ruecken_rechts",width:"11.937881",height:"43.410473",x:"58.242386",y:"49.560295"});case"becken_links_hinten":return V.jsx("rect",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"becken_links_hinten",width:"11.763668",height:"18.636993",x:"29.93181",y:"93.238747"});case"genital_hinten":return V.jsx("path",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"genital_hinten",d:"m 34.092779,113.31881 h 30 l -15.235231,12.96018 z","sodipodi:nodetypes":"cccc"});case"huefte_links_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_links_hinten",cx:"28.035913",cy:"113.40987",rx:"6.3306942",ry:"5.6071858"});case"huefte_rechts_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_rechts_hinten",cx:"69.999382",cy:"113.77161",rx:"6.3306942",ry:"5.6071858"});case"knie_rechts_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_rechts_hinten",cx:"77.234451",cy:"150.67052",rx:"6.3306942",ry:"5.6071858"});case"hand_links_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_links_hinten",cx:"9.767354",cy:"116.48479",rx:"7.9585872",ry:"6.5115709"});case"hand_rechts_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_rechts_hinten",cx:"92.970757",cy:"112.50549",rx:"7.9585872",ry:"6.5115709"});case"fuss_links_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_links_hinten",cx:"17.002436",cy:"191.72961",rx:"7.9585872",ry:"6.5115709"});case"ellbogen_rechts_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_rechts_hinten",cx:"92.970772",cy:"75.425705",rx:"5.7880635",ry:"4.883678"});case"ellbogen_links_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_links_hinten",cx:"10.852616",cy:"79.766754",rx:"5.0645556",ry:"4.521924"});case"knie_links_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_links_hinten",cx:"18.992075",cy:"151.03227",rx:"6.3306942",ry:"5.6071858"});case"schulter_links_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_links_hinten",cx:"26.95067",cy:"49.017662",rx:"6.3306942",ry:"5.6071858"});case"kopf_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"kopf_hinten",cx:"51.188187",cy:"20.800844",rx:"21.162607",ry:"18.630329"});case"schulter_rechts_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_rechts_hinten",cx:"72.893417",cy:"50.102921",rx:"6.3306942",ry:"5.6071858"});case"fuss_rechts_hinten":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_rechts_hinten",cx:"78.86235",cy:"191.0061",rx:"7.9585872",ry:"6.5115709"});case"brustwirbel":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"brustwirbel",cx:"50.392338",cy:"70.472542",rx:"6.5475974",ry:"20.232826"});case"lendenwirbel":return V.jsx("ellipse",{style:{fill:i?"red":"#808080",stroke:"black",strokeWidth:1},id:"lendenwirbel",cx:"50.00864",cy:"101.80787",rx:"7.0820742",ry:"9.7679596"});default:return null}};return V.jsx("g",{onClick:l,style:{cursor:"pointer"},children:h()})},sC=()=>{var A;const[e,t]=Te.useState({}),n=Lo(),a=(A=Vs().state)==null?void 0:A.patientId,{token:l}=ui(),[h,m]=Te.useState(!0),g=async(I,E)=>{t({...e,[I]:E});try{(await fetch("/api/save-body-part",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({idpatient:a,bodyPartId:I,isClicked:E})})).ok?console.log(`Body part ${I} saved successfully for patient ${a}!`):console.error(`Failed to save body part ${I} for patient ${a}`)}catch(O){console.error(`Error while saving body part ${I} for patient ${a}`,O)}},v=async()=>{try{const I=await fetch(`/api/get-body-parts?idpatient=${a}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(I.ok){const E=await I.json();console.log("Initial Body Parts:",E),t(E||{})}else console.error(`Failed to fetch initial body parts for patient ${a}`)}catch(I){console.error(`Error while fetching initial body parts for patient ${a}`,I)}finally{m(!1)}};Te.useEffect(()=>{v()},[]);const _=()=>{n("/ShowBodyFront")};return V.jsxs("div",{className:"bodyparts-container",style:{paddingTop:"40px"},children:[V.jsx("h1",{children:"Back"}),V.jsx("svg",{className:"body-svg",viewBox:"0 0 103 202",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsx("g",{className:"first-layer",children:Object.entries(e).map(([I,E])=>V.jsx(oC,{id:I,onClick:g,initialClickedState:E||!1},I))})}),V.jsx("div",{}),V.jsx("button",{onClick:_,children:"Go to Front"})]})},ya=({element:e})=>{const{adminToken:t,validateToken:n}=ui(),[i,a]=Te.useState(!1);return Te.useEffect(()=>{(async()=>{if(t)try{const h=await n(t);a(h)}catch(h){console.error("Error validating token:",h),a(!1)}})()},[t,n]),i?V.jsx(V.Fragment,{children:e}):V.jsx(fx,{})};function aC(){const{adminToken:e}=ui(),[t,n]=Te.useState([]),[i,a]=Te.useState(!1);Te.useEffect(()=>{(async()=>{a(!0);try{const m=await fetch("/api/getUnusedPatientQrCodes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Network response was not ok");const g=await m.json();n(g)}catch(m){console.error("Error fetching QR codes:",m)}finally{a(!1)}})()},[e]);const l=()=>{const h=new an;t.forEach((m,g)=>{g!==0&&h.addPage();const v=document.getElementById(`qrcode-${g}`).toDataURL("image/png");h.text(`Patient QR Code #${g+1}`,20,20),h.addImage(v,"PNG",50,30,100,100)}),h.save("patient_qrcodes.pdf")};return V.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[V.jsx("h2",{children:"Folgende QR-Codes wurden bis jetzt noch bei keinem Patienten verwendet"}),i?V.jsx("p",{children:"QR Codes werden geladen..."}):V.jsxs(V.Fragment,{children:[V.jsx("button",{onClick:l,style:{marginBottom:"20px",padding:"10px 20px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Als PDF drucken"}),V.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"20px"},children:t.map((h,m)=>V.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"10px",border:"1px solid #ddd",borderRadius:"8px",textAlign:"center"},children:[V.jsx(Sd,{id:`qrcode-${m}`,value:h,size:150}),V.jsxs("p",{style:{marginTop:"10px"},children:["QR Code #",m+1]})]},m))})]})]})}const lC=()=>{const[e,t]=Te.useState({username:"",password:"",confirmPassword:""}),[n,i]=Te.useState(""),[a,l]=Te.useState(""),{adminToken:h}=ui(),m=Lo(),g=_=>{const{name:A,value:I}=_.target;t({...e,[A]:I})},v=async _=>{if(_.preventDefault(),e.password!==e.confirmPassword){l("Die Passwrter stimmen nicht berein");return}try{const A=await fetch("/api/createAdminUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({username:e.username,password:e.password})});if(!A.ok)throw new Error("Network response was not ok");const I=await A.json();if(I.error&&I.error.toUpperCase()==="UNAUTHORIZED"){m("/AdminLandingPage");return}I.user&&(i("Benutzer wurde erfolgreich angelegt"),t({username:"",password:"",confirmPassword:""}),l(""))}catch(A){console.error("Benutzer konnte nicht angelegt werden:",A)}};return V.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto",padding:"20px"},children:[V.jsx("h2",{children:"Neuen Admin-Benutzer erstellen"}),n&&V.jsx("p",{style:{color:"green",fontWeight:"bold"},children:n}),a&&V.jsx("p",{style:{color:"red",fontWeight:"bold"},children:a}),V.jsxs("form",{onSubmit:v,children:[V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Benutzername:"}),V.jsx("input",{type:"text",name:"username",value:e.username,onChange:g,required:!0,style:{width:"100%",padding:"8px"}})]}),V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Passwort:"}),V.jsx("input",{type:"password",name:"password",value:e.password,onChange:g,required:!0,style:{width:"100%",padding:"8px"}})]}),V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Passwort besttigen:"}),V.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:g,required:!0,style:{width:"100%",padding:"8px"}})]}),V.jsx("button",{type:"submit",style:{width:"100%",padding:"10px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Benutzer erstellen"})]})]})},uC=()=>{var I;const t=(I=Vs().state)==null?void 0:I.username,[n,i]=Te.useState({username:t,password:"",newpassword:"",checknewpassword:""}),[a,l]=Te.useState(""),[h,m]=Te.useState(""),{adminToken:g}=ui(),v=Lo(),_=E=>{const{name:O,value:R}=E.target;i({...n,[O]:R})},A=async E=>{if(E.preventDefault(),n.newpassword!==n.checknewpassword){m("Die neuen Passwrter stimmen nicht berein");return}else try{const O=await fetch("/api/changeAdminPassword",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({username:n.username,password:n.password,newpassword:n.newpassword})}),R=await O.json();if(R.error&&R.error.toUpperCase()==="UNAUTHORIZED"){v("/AdminLandingPage");return}if(R.user&&(l("Passwort wurde erfolgreich gendert"),i({password:"",newpassword:"",checknewpassword:""})),!O.ok)throw new Error("Fehler im Netz")}catch(O){console.error("Fehler beim ndern des Passworts:",O)}};return V.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto",padding:"20px"},children:[V.jsxs("h2",{children:["Passwort fr den Benutzer ",t," ndern"]}),a&&V.jsx("p",{style:{color:"green",fontWeight:"bold"},children:a}),h&&V.jsx("p",{style:{color:"red",fontWeight:"bold"},children:h}),V.jsxs("form",{onSubmit:A,children:[V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Benutzername:"}),V.jsx("input",{type:"text",name:"username",value:n.username,onChange:_,readOnly:!0,style:{width:"100%",padding:"8px"}})]}),V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Passwort:"}),V.jsx("input",{type:"password",name:"password",value:n.password,onChange:_,required:!0,style:{width:"100%",padding:"8px"}})]}),V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Neues Passwort:"}),V.jsx("input",{type:"password",name:"newpassword",value:n.newpassword,onChange:_,required:!0,style:{width:"100%",padding:"8px"}})]}),V.jsxs("div",{style:{marginBottom:"15px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Neues Passwort wiederholen:"}),V.jsx("input",{type:"password",name:"checknewpassword",value:n.checknewpassword,onChange:_,required:!0,style:{width:"100%",padding:"8px"}})]}),V.jsx("button",{type:"submit",style:{width:"100%",padding:"10px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Passwort ndern"})]})]})};function cC(){const{adminToken:e}=ui(),[t,n]=Te.useState(0),[i,a]=Te.useState([]),[l,h]=Te.useState(!1),[m,g]=Te.useState(""),v=Lo(),_=E=>{const O=E.target.value;!isNaN(O)&&O>=0?n(O):g("Bitte geben Sie eine gltige Anzahl ein.")};Te.useEffect(()=>{t>0&&l&&(async()=>{try{g("");const O=await fetch("/api/generateLoginQRCodes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({number:t})});if(!O.ok)throw new Error("Fehler beim Abrufen der Daten.");const R=await O.json();if(R.error&&R.error.toUpperCase()==="UNAUTHORIZED"){v("/AdminLandingPage");return}R.qrcodes&&Array.isArray(R.qrcodes)&&a(R.qrcodes)}catch{g("Es gab einen Fehler bei der Erstellung der QR-Codes. Bitte versuchen Sie es erneut.")}finally{h(!1)}})()},[l,e,v,t]);const A=()=>{const E=new an;i.forEach((O,R)=>{R!==0&&E.addPage();const z=document.getElementById(`qrcode-${R}`).toDataURL("image/png");E.text(`Login QR Code #${R+1}`,20,20),E.addImage(z,"PNG",50,30,100,100)}),E.save("login_qrcodes.pdf")},I=()=>{t>0?(h(!0),a([])):g("Bitte geben Sie eine gltige Anzahl ein.")};return V.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[V.jsx("h2",{children:"QR-Codes fr die Authentifizierung generieren"}),V.jsx("p",{children:"Whlen Sie die Anzahl der zu generierenden QR-Codes aus."}),V.jsx("input",{style:{width:"300px",padding:"10px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"5px"},type:"number",id:"requestedQrCountInput",value:t,onChange:_,placeholder:"Anzahl eingeben"}),V.jsx("br",{}),V.jsx("button",{onClick:I,style:{padding:"10px 20px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",marginRight:"10px",cursor:"pointer"},children:"QR-Codes generieren"}),V.jsx("button",{onClick:A,style:{padding:"10px 20px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},disabled:i.length===0,children:"Als PDF drucken"}),l&&V.jsx("p",{style:{color:"#0047ab"},children:"QR-Codes werden generiert..."}),m&&V.jsx("p",{style:{color:"red"},children:m}),V.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"20px"},children:i.map((E,O)=>V.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"10px",border:"1px solid #ddd",borderRadius:"8px",textAlign:"center"},children:[V.jsx(Sd,{id:`qrcode-${O}`,value:E,size:150}),V.jsxs("p",{children:["QR Code #",O+1]})]},O))})]})}function hC(){const{adminToken:e}=ui(),[t,n]=Te.useState([]),[i,a]=Te.useState(!1);Te.useEffect(()=>{(async()=>{a(!0);try{const g=await(await fetch("/api/getLoginQrCodes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json();n(g)}catch(m){console.error("Error fetching QR codes:",m)}finally{a(!1)}})()},[e]);const l=()=>{const h=new an;t.forEach((m,g)=>{g!==0&&h.addPage();const v=document.getElementById(`qrcode-${g}`).toDataURL();h.text(`Login QR Code #${g+1}`,20,20),h.addImage(v,"PNG",50,30,100,100)}),h.save("qrcodes.pdf")};return V.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[V.jsx("h2",{children:"Folgende QR-Codes knnen zum Authorisieren verwendet werden"}),i?V.jsx("p",{children:"QR Codes werden geladen..."}):V.jsxs(V.Fragment,{children:[V.jsx("button",{onClick:l,children:"Als PDF drucken"}),V.jsx("div",{style:{display:"grid",gap:"20px",marginTop:"20px"},children:t.map((h,m)=>V.jsxs("div",{style:{textAlign:"center"},children:[V.jsx(Sd,{id:`qrcode-${m}`,value:h,size:150}),V.jsxs("p",{children:["QR Code #",m+1]})]},m))})]})]})}function fC(){const[e,t]=Te.useState({name:"",description:""}),{adminToken:n}=ui(),[i,a]=Te.useState(""),[l,h]=Te.useState(""),m=v=>{const{name:_,value:A}=v.target;t({...e,[_]:A})},g=async v=>{v.preventDefault();try{const _=await fetch("/api/createOperationScene",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(e)});if(!_.ok)throw new Error("Fehler beim Senden der Anfrage.");const A=await _.json();if(A.error&&A.error.toUpperCase()==="UNAUTHORIZED"){h("Nicht autorisiert. Bitte melden Sie sich erneut an.");return}A.operactionScene&&(a("Einsatzort wurde erfolgreich erstellt."),t({name:"",description:""}))}catch{h("Einsatzort konnte nicht angelegt werden. Bitte versuchen Sie es erneut.")}};return V.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px",textAlign:"center"},children:[V.jsx("h1",{children:"Neuen Einsatzort erstellen"}),i&&V.jsx("p",{style:{color:"green"},children:i}),l&&V.jsx("p",{style:{color:"red"},children:l}),V.jsx("p",{style:{marginBottom:"20px"},children:"Der Einsatzort steht nach Erstellung 20 Tage in der Liste der Einsatzorte zur Auswahl."}),V.jsxs("form",{onSubmit:g,style:{textAlign:"left"},children:[V.jsxs("label",{style:{display:"block",marginBottom:"10px"},children:[V.jsx("strong",{children:"Name des Einsatzorts:"}),V.jsx("input",{type:"text",name:"name",value:e.name,onChange:m,placeholder:"Name des Einsatzorts eingeben",style:{width:"100%",padding:"10px",marginTop:"5px",border:"1px solid #ccc",borderRadius:"5px"},required:!0})]}),V.jsxs("label",{style:{display:"block",marginBottom:"20px"},children:[V.jsx("strong",{children:"Beschreibung:"}),V.jsx("textarea",{name:"description",value:e.description,onChange:m,rows:4,placeholder:"Beschreibung des Einsatzorts eingeben",style:{width:"100%",padding:"10px",marginTop:"5px",border:"1px solid #ccc",borderRadius:"5px"},required:!0})]}),V.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"},children:"Einsatzort erstellen"})]})]})}function dC(){const e=Lo(),{adminToken:t}=ui(),[n,i]=Te.useState({name:"",description:""}),[a,l]=Te.useState(""),[h,m]=Te.useState([]),[g,v]=Te.useState(""),[_,A]=Te.useState(""),[I,E]=Te.useState(!0);Te.useEffect(()=>{(async()=>{E(!0);try{const j=await fetch("/api/getAllCurrentOperationScenes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!j.ok)throw new Error("Network response was not ok");const $=await j.json();m($)}catch(j){A("Einsatzorte konnten nicht geladen werden."),console.error("Error fetching operation scenes:",j)}finally{E(!1)}})()},[t]);const O=k=>{const j=k.target.value;l(j);const $=h.find(de=>de.idoperationScene===parseInt(j));i($?{name:$.name,description:$.description||""}:{name:"",description:""})},R=(k,j)=>{i($=>({...$,[k]:j}))},z=async()=>{try{const k=await fetch("/api/createOperationScene",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({id:a,name:n.name,description:n.description})});if(!k.ok)throw new Error("Network response was not ok");const j=await k.json();v("Einsatzort wurde erfolgreich aktualisiert."),A("");const de=await(await fetch("/api/getAllCurrentOperationScenes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).json();m(de),l(""),i({name:"",description:""})}catch(k){A("Einsatzort konnte nicht aktualisiert werden."),console.error("Error updating operation scene:",k)}},M=()=>{e("/CreateOperationScene")};return V.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[V.jsx("h1",{children:"Einsatzort bearbeiten"}),I&&V.jsx("p",{children:"Lade bestehende Einsatzorte..."}),_&&V.jsx("p",{style:{color:"red"},children:_}),g&&V.jsx("p",{style:{color:"green"},children:g}),!I&&V.jsxs(V.Fragment,{children:[V.jsx("label",{style:{display:"block",marginBottom:"10px"},children:V.jsx("strong",{children:"Einsatzort auswhlen:"})}),V.jsxs("select",{value:a,onChange:O,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",marginBottom:"20px"},children:[V.jsx("option",{value:"",children:"Whle einen Einsatzort aus"}),h.map(k=>V.jsx("option",{value:k.idoperationScene,children:k.name},k.idoperationScene))]}),a&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{style:{marginBottom:"20px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"10px"},children:V.jsx("strong",{children:"Name des Einsatzorts:"})}),V.jsx("input",{type:"text",value:n.name,onChange:k=>R("name",k.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},required:!0})]}),V.jsxs("div",{style:{marginBottom:"20px"},children:[V.jsx("label",{style:{display:"block",marginBottom:"10px"},children:V.jsx("strong",{children:"Beschreibung:"})}),V.jsx("textarea",{value:n.description,onChange:k=>R("description",k.target.value),rows:4,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),V.jsx("button",{onClick:z,style:{width:"100%",padding:"10px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginBottom:"20px"},children:"Einsatzort aktualisieren"})]}),V.jsx("button",{onClick:M,style:{width:"100%",padding:"10px",backgroundColor:"#0047ab",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Neuen Einsatzort erstellen"})]})]})}const pC=Bb([{path:"/",element:V.jsx(ra,{element:V.jsx(b6,{})})},{path:"/qrAuthenticator",element:V.jsx(ra,{element:V.jsx(ox,{})})},{path:"/TriagePage1",element:V.jsx(ra,{element:V.jsx(E6,{})})},{path:"/TriagePage2",element:V.jsx(ra,{element:V.jsx(S6,{})})},{path:"/TriagePage3",element:V.jsx(ra,{element:V.jsx(N6,{})})},{path:"/RoleSelection",element:V.jsx(ra,{element:V.jsx(A6,{})})},{path:"/ScanPatient",element:V.jsx(ra,{element:V.jsx(C6,{})})},{path:"/SituationRoomTable",element:V.jsx(ra,{element:V.jsx(G6,{})})},{path:"/AdminSettingsPage",element:V.jsx(ya,{element:V.jsx(Q6,{})})},{path:"/CreatePatientQrCodePage",element:V.jsx(ya,{element:V.jsx(nC,{})})},{path:"/ShowBodyFront",element:V.jsx(ra,{element:V.jsx(iC,{})})},{path:"/ShowBodyBack",element:V.jsx(ra,{element:V.jsx(sC,{})})},{path:"/AdminLandingPage",element:V.jsx(fx,{})},{path:"/ShowUnusedPatientQrCodesPage",element:V.jsx(ya,{element:V.jsx(aC,{})})},{path:"/CreateLoginQrCodesPage",element:V.jsx(ya,{element:V.jsx(cC,{})})},{path:"/CreateNewAdminUserPage",element:V.jsx(ya,{element:V.jsx(lC,{})})},{path:"/ChangeAdminPasswordPage",element:V.jsx(ya,{element:V.jsx(uC,{})})},{path:"/ShowUnusedLoginQrCodesPage",element:V.jsx(ya,{element:V.jsx(hC,{})})},{path:"/CreateOperationScene",element:V.jsx(ya,{element:V.jsx(fC,{})})},{path:"/EditOperationScene",element:V.jsx(ya,{element:V.jsx(dC,{})})},{path:"*",element:V.jsx(_6,{})}]);function gC(){return V.jsxs("div",{className:"header",children:[V.jsx("div",{className:"logo",children:V.jsx("img",{src:"logo.png",alt:"Logo"})}),V.jsxs("div",{className:"links",children:[V.jsx("a",{href:"/AdminSettingsPage",className:"admin-text",children:"Admin"}),V.jsx("a",{href:"/",className:"admin-text",children:"Home"})]})]})}j1.createRoot(document.getElementById("root")).render(V.jsx(Ir.StrictMode,{children:V.jsxs(w6,{children:[V.jsx(gC,{}),V.jsx("div",{className:"content",children:V.jsx(Gb,{router:pC})})]})}));export{xr as _,lu as c,od as g};
