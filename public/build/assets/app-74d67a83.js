function U0(e,t){for(var i=0;i<t.length;i++){const s=t[i];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(s,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function z0(e,t){return function(){return e.apply(t,arguments)}}const{toString:g2}=Object.prototype,{getPrototypeOf:Tc}=Object,tl=(e=>t=>{const i=g2.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),pr=e=>(e=e.toLowerCase(),t=>tl(t)===e),nl=e=>t=>typeof t===e,{isArray:vo}=Array,cs=nl("undefined");function p2(e){return e!==null&&!cs(e)&&e.constructor!==null&&!cs(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const V0=pr("ArrayBuffer");function x2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&V0(e.buffer),t}const m2=nl("string"),Wn=nl("function"),H0=nl("number"),rl=e=>e!==null&&typeof e=="object",w2=e=>e===!0||e===!1,ua=e=>{if(tl(e)!=="object")return!1;const t=Tc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y2=pr("Date"),E2=pr("File"),C2=pr("Blob"),A2=pr("FileList"),v2=e=>rl(e)&&Wn(e.pipe),S2=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((t=tl(e))==="formdata"||t==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},I2=pr("URLSearchParams"),T2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _s(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let s,c;if(typeof e!="object"&&(e=[e]),vo(e))for(s=0,c=e.length;s<c;s++)t.call(null,e[s],s,e);else{const f=i?Object.getOwnPropertyNames(e):Object.keys(e),g=f.length;let m;for(s=0;s<g;s++)m=f[s],t.call(null,e[m],m,e)}}function j0(e,t){t=t.toLowerCase();const i=Object.keys(e);let s=i.length,c;for(;s-- >0;)if(c=i[s],t===c.toLowerCase())return c;return null}const W0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),G0=e=>!cs(e)&&e!==W0;function Au(){const{caseless:e}=G0(this)&&this||{},t={},i=(s,c)=>{const f=e&&j0(t,c)||c;ua(t[f])&&ua(s)?t[f]=Au(t[f],s):ua(s)?t[f]=Au({},s):vo(s)?t[f]=s.slice():t[f]=s};for(let s=0,c=arguments.length;s<c;s++)arguments[s]&&_s(arguments[s],i);return t}const R2=(e,t,i,{allOwnKeys:s}={})=>(_s(t,(c,f)=>{i&&Wn(c)?e[f]=z0(c,i):e[f]=c},{allOwnKeys:s}),e),N2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_2=(e,t,i,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},O2=(e,t,i,s)=>{let c,f,g;const m={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),f=c.length;f-- >0;)g=c[f],(!s||s(g,e,t))&&!m[g]&&(t[g]=e[g],m[g]=!0);e=i!==!1&&Tc(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},b2=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const s=e.indexOf(t,i);return s!==-1&&s===i},D2=e=>{if(!e)return null;if(vo(e))return e;let t=e.length;if(!H0(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},M2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Tc(Uint8Array)),P2=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=s.next())&&!c.done;){const f=c.value;t.call(e,f[0],f[1])}},k2=(e,t)=>{let i;const s=[];for(;(i=e.exec(t))!==null;)s.push(i);return s},B2=pr("HTMLFormElement"),L2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,c){return s.toUpperCase()+c}),G1=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),F2=pr("RegExp"),X0=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),s={};_s(i,(c,f)=>{let g;(g=t(c,f,e))!==!1&&(s[f]=g||c)}),Object.defineProperties(e,s)},U2=e=>{X0(e,(t,i)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=e[i];if(Wn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},z2=(e,t)=>{const i={},s=c=>{c.forEach(f=>{i[f]=!0})};return vo(e)?s(e):s(String(e).split(t)),i},V2=()=>{},H2=(e,t)=>(e=+e,Number.isFinite(e)?e:t),jl="abcdefghijklmnopqrstuvwxyz",X1="0123456789",Y0={DIGIT:X1,ALPHA:jl,ALPHA_DIGIT:jl+jl.toUpperCase()+X1},j2=(e=16,t=Y0.ALPHA_DIGIT)=>{let i="";const{length:s}=t;for(;e--;)i+=t[Math.random()*s|0];return i};function W2(e){return!!(e&&Wn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const G2=e=>{const t=new Array(10),i=(s,c)=>{if(rl(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[c]=s;const f=vo(s)?[]:{};return _s(s,(g,m)=>{const w=i(g,c+1);!cs(w)&&(f[m]=w)}),t[c]=void 0,f}}return s};return i(e,0)},X2=pr("AsyncFunction"),Y2=e=>e&&(rl(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),Y={isArray:vo,isArrayBuffer:V0,isBuffer:p2,isFormData:S2,isArrayBufferView:x2,isString:m2,isNumber:H0,isBoolean:w2,isObject:rl,isPlainObject:ua,isUndefined:cs,isDate:y2,isFile:E2,isBlob:C2,isRegExp:F2,isFunction:Wn,isStream:v2,isURLSearchParams:I2,isTypedArray:M2,isFileList:A2,forEach:_s,merge:Au,extend:R2,trim:T2,stripBOM:N2,inherits:_2,toFlatObject:O2,kindOf:tl,kindOfTest:pr,endsWith:b2,toArray:D2,forEachEntry:P2,matchAll:k2,isHTMLForm:B2,hasOwnProperty:G1,hasOwnProp:G1,reduceDescriptors:X0,freezeMethods:U2,toObjectSet:z2,toCamelCase:L2,noop:V2,toFiniteNumber:H2,findKey:j0,global:W0,isContextDefined:G0,ALPHABET:Y0,generateString:j2,isSpecCompliantForm:W2,toJSONObject:G2,isAsyncFn:X2,isThenable:Y2};function ze(e,t,i,s,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),c&&(this.response=c)}Y.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Z0=ze.prototype,K0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K0[e]={value:e}});Object.defineProperties(ze,K0);Object.defineProperty(Z0,"isAxiosError",{value:!0});ze.from=(e,t,i,s,c,f)=>{const g=Object.create(Z0);return Y.toFlatObject(e,g,function(w){return w!==Error.prototype},m=>m!=="isAxiosError"),ze.call(g,e.message,t,i,s,c),g.cause=e,g.name=e.name,f&&Object.assign(g,f),g};const Z2=null;function vu(e){return Y.isPlainObject(e)||Y.isArray(e)}function Q0(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function Y1(e,t,i){return e?e.concat(t).map(function(c,f){return c=Q0(c),!i&&f?"["+c+"]":c}).join(i?".":""):t}function K2(e){return Y.isArray(e)&&!e.some(vu)}const Q2=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function il(e,t,i){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=Y.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,J){return!Y.isUndefined(J[k])});const s=i.metaTokens,c=i.visitor||A,f=i.dots,g=i.indexes,w=(i.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(c))throw new TypeError("visitor must be a function");function x(M){if(M===null)return"";if(Y.isDate(M))return M.toISOString();if(!w&&Y.isBlob(M))throw new ze("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(M)||Y.isTypedArray(M)?w&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function A(M,k,J){let O=M;if(M&&!J&&typeof M=="object"){if(Y.endsWith(k,"{}"))k=s?k:k.slice(0,-2),M=JSON.stringify(M);else if(Y.isArray(M)&&K2(M)||(Y.isFileList(M)||Y.endsWith(k,"[]"))&&(O=Y.toArray(M)))return k=Q0(k),O.forEach(function(_,R){!(Y.isUndefined(_)||_===null)&&t.append(g===!0?Y1([k],R,f):g===null?k:k+"[]",x(_))}),!1}return vu(M)?!0:(t.append(Y1(J,k,f),x(M)),!1)}const S=[],b=Object.assign(Q2,{defaultVisitor:A,convertValue:x,isVisitable:vu});function U(M,k){if(!Y.isUndefined(M)){if(S.indexOf(M)!==-1)throw Error("Circular reference detected in "+k.join("."));S.push(M),Y.forEach(M,function(O,N){(!(Y.isUndefined(O)||O===null)&&c.call(t,O,Y.isString(N)?N.trim():N,k,b))===!0&&U(O,k?k.concat(N):[N])}),S.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return U(e),t}function Z1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Rc(e,t){this._pairs=[],e&&il(e,this,t)}const q0=Rc.prototype;q0.append=function(t,i){this._pairs.push([t,i])};q0.toString=function(t){const i=t?function(s){return t.call(this,s,Z1)}:Z1;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function q2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J0(e,t,i){if(!t)return e;const s=i&&i.encode||q2,c=i&&i.serialize;let f;if(c?f=c(t,i):f=Y.isURLSearchParams(t)?t.toString():new Rc(t,i).toString(s),f){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class J2{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(s){s!==null&&t(s)})}}const K1=J2,$0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$2=typeof URLSearchParams<"u"?URLSearchParams:Rc,ep=typeof FormData<"u"?FormData:null,tp=typeof Blob<"u"?Blob:null,np=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),rp=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dr={isBrowser:!0,classes:{URLSearchParams:$2,FormData:ep,Blob:tp},isStandardBrowserEnv:np,isStandardBrowserWebWorkerEnv:rp,protocols:["http","https","file","blob","url","data"]};function ip(e,t){return il(e,new dr.classes.URLSearchParams,Object.assign({visitor:function(i,s,c,f){return dr.isNode&&Y.isBuffer(i)?(this.append(s,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},t))}function op(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sp(e){const t={},i=Object.keys(e);let s;const c=i.length;let f;for(s=0;s<c;s++)f=i[s],t[f]=e[f];return t}function ed(e){function t(i,s,c,f){let g=i[f++];const m=Number.isFinite(+g),w=f>=i.length;return g=!g&&Y.isArray(c)?c.length:g,w?(Y.hasOwnProp(c,g)?c[g]=[c[g],s]:c[g]=s,!m):((!c[g]||!Y.isObject(c[g]))&&(c[g]=[]),t(i,s,c[g],f)&&Y.isArray(c[g])&&(c[g]=sp(c[g])),!m)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const i={};return Y.forEachEntry(e,(s,c)=>{t(op(s),c,i,0)}),i}return null}function ap(e,t,i){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(e)}const Nc={transitional:$0,adapter:["xhr","http"],transformRequest:[function(t,i){const s=i.getContentType()||"",c=s.indexOf("application/json")>-1,f=Y.isObject(t);if(f&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return c&&c?JSON.stringify(ed(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(f){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ip(t,this.formSerializer).toString();if((m=Y.isFileList(t))||s.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return il(m?{"files[]":t}:t,w&&new w,this.formSerializer)}}return f||c?(i.setContentType("application/json",!1),ap(t)):t}],transformResponse:[function(t){const i=this.transitional||Nc.transitional,s=i&&i.forcedJSONParsing,c=this.responseType==="json";if(t&&Y.isString(t)&&(s&&!this.responseType||c)){const g=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(m){if(g)throw m.name==="SyntaxError"?ze.from(m,ze.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Nc.headers[e]={}});const _c=Nc,lp=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),up=e=>{const t={};let i,s,c;return e&&e.split(`
`).forEach(function(g){c=g.indexOf(":"),i=g.substring(0,c).trim().toLowerCase(),s=g.substring(c+1).trim(),!(!i||t[i]&&lp[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},Q1=Symbol("internals");function Bo(e){return e&&String(e).trim().toLowerCase()}function ca(e){return e===!1||e==null?e:Y.isArray(e)?e.map(ca):String(e)}function cp(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(e);)t[s[1]]=s[2];return t}const fp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wl(e,t,i,s,c){if(Y.isFunction(s))return s.call(this,t,i);if(c&&(t=i),!!Y.isString(t)){if(Y.isString(s))return t.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(t)}}function dp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function hp(e,t){const i=Y.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+i,{value:function(c,f,g){return this[s].call(this,t,c,f,g)},configurable:!0})})}class ol{constructor(t){t&&this.set(t)}set(t,i,s){const c=this;function f(m,w,x){const A=Bo(w);if(!A)throw new Error("header name must be a non-empty string");const S=Y.findKey(c,A);(!S||c[S]===void 0||x===!0||x===void 0&&c[S]!==!1)&&(c[S||w]=ca(m))}const g=(m,w)=>Y.forEach(m,(x,A)=>f(x,A,w));return Y.isPlainObject(t)||t instanceof this.constructor?g(t,i):Y.isString(t)&&(t=t.trim())&&!fp(t)?g(up(t),i):t!=null&&f(i,t,s),this}get(t,i){if(t=Bo(t),t){const s=Y.findKey(this,t);if(s){const c=this[s];if(!i)return c;if(i===!0)return cp(c);if(Y.isFunction(i))return i.call(this,c,s);if(Y.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Bo(t),t){const s=Y.findKey(this,t);return!!(s&&this[s]!==void 0&&(!i||Wl(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let c=!1;function f(g){if(g=Bo(g),g){const m=Y.findKey(s,g);m&&(!i||Wl(s,s[m],m,i))&&(delete s[m],c=!0)}}return Y.isArray(t)?t.forEach(f):f(t),c}clear(t){const i=Object.keys(this);let s=i.length,c=!1;for(;s--;){const f=i[s];(!t||Wl(this,this[f],f,t,!0))&&(delete this[f],c=!0)}return c}normalize(t){const i=this,s={};return Y.forEach(this,(c,f)=>{const g=Y.findKey(s,f);if(g){i[g]=ca(c),delete i[f];return}const m=t?dp(f):String(f).trim();m!==f&&delete i[f],i[m]=ca(c),s[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Y.forEach(this,(s,c)=>{s!=null&&s!==!1&&(i[c]=t&&Y.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(c=>s.set(c)),s}static accessor(t){const s=(this[Q1]=this[Q1]={accessors:{}}).accessors,c=this.prototype;function f(g){const m=Bo(g);s[m]||(hp(c,g),s[m]=!0)}return Y.isArray(t)?t.forEach(f):f(t),this}}ol.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(ol.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[i]=s}}});Y.freezeMethods(ol);const Ir=ol;function Gl(e,t){const i=this||_c,s=t||i,c=Ir.from(s.headers);let f=s.data;return Y.forEach(e,function(m){f=m.call(i,f,c.normalize(),t?t.status:void 0)}),c.normalize(),f}function td(e){return!!(e&&e.__CANCEL__)}function Os(e,t,i){ze.call(this,e??"canceled",ze.ERR_CANCELED,t,i),this.name="CanceledError"}Y.inherits(Os,ze,{__CANCEL__:!0});function gp(e,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new ze("Request failed with status code "+i.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const pp=dr.isStandardBrowserEnv?function(){return{write:function(i,s,c,f,g,m){const w=[];w.push(i+"="+encodeURIComponent(s)),Y.isNumber(c)&&w.push("expires="+new Date(c).toGMTString()),Y.isString(f)&&w.push("path="+f),Y.isString(g)&&w.push("domain="+g),m===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function xp(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mp(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function nd(e,t){return e&&!xp(t)?mp(e,t):t}const wp=dr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let s;function c(f){let g=f;return t&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=c(window.location.href),function(g){const m=Y.isString(g)?c(g):g;return m.protocol===s.protocol&&m.host===s.host}}():function(){return function(){return!0}}();function yp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ep(e,t){e=e||10;const i=new Array(e),s=new Array(e);let c=0,f=0,g;return t=t!==void 0?t:1e3,function(w){const x=Date.now(),A=s[f];g||(g=x),i[c]=w,s[c]=x;let S=f,b=0;for(;S!==c;)b+=i[S++],S=S%e;if(c=(c+1)%e,c===f&&(f=(f+1)%e),x-g<t)return;const U=A&&x-A;return U?Math.round(b*1e3/U):void 0}}function q1(e,t){let i=0;const s=Ep(50,250);return c=>{const f=c.loaded,g=c.lengthComputable?c.total:void 0,m=f-i,w=s(m),x=f<=g;i=f;const A={loaded:f,total:g,progress:g?f/g:void 0,bytes:m,rate:w||void 0,estimated:w&&g&&x?(g-f)/w:void 0,event:c};A[t?"download":"upload"]=!0,e(A)}}const Cp=typeof XMLHttpRequest<"u",Ap=Cp&&function(e){return new Promise(function(i,s){let c=e.data;const f=Ir.from(e.headers).normalize(),g=e.responseType;let m;function w(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}let x;Y.isFormData(c)&&(dr.isStandardBrowserEnv||dr.isStandardBrowserWebWorkerEnv?f.setContentType(!1):f.getContentType(/^\s*multipart\/form-data/)?Y.isString(x=f.getContentType())&&f.setContentType(x.replace(/^\s*(multipart\/form-data);+/,"$1")):f.setContentType("multipart/form-data"));let A=new XMLHttpRequest;if(e.auth){const M=e.auth.username||"",k=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.set("Authorization","Basic "+btoa(M+":"+k))}const S=nd(e.baseURL,e.url);A.open(e.method.toUpperCase(),J0(S,e.params,e.paramsSerializer),!0),A.timeout=e.timeout;function b(){if(!A)return;const M=Ir.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),J={data:!g||g==="text"||g==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:M,config:e,request:A};gp(function(N){i(N),w()},function(N){s(N),w()},J),A=null}if("onloadend"in A?A.onloadend=b:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(b)},A.onabort=function(){A&&(s(new ze("Request aborted",ze.ECONNABORTED,e,A)),A=null)},A.onerror=function(){s(new ze("Network Error",ze.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let k=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const J=e.transitional||$0;e.timeoutErrorMessage&&(k=e.timeoutErrorMessage),s(new ze(k,J.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,e,A)),A=null},dr.isStandardBrowserEnv){const M=wp(S)&&e.xsrfCookieName&&pp.read(e.xsrfCookieName);M&&f.set(e.xsrfHeaderName,M)}c===void 0&&f.setContentType(null),"setRequestHeader"in A&&Y.forEach(f.toJSON(),function(k,J){A.setRequestHeader(J,k)}),Y.isUndefined(e.withCredentials)||(A.withCredentials=!!e.withCredentials),g&&g!=="json"&&(A.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&A.addEventListener("progress",q1(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",q1(e.onUploadProgress)),(e.cancelToken||e.signal)&&(m=M=>{A&&(s(!M||M.type?new Os(null,e,A):M),A.abort(),A=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m)));const U=yp(S);if(U&&dr.protocols.indexOf(U)===-1){s(new ze("Unsupported protocol "+U+":",ze.ERR_BAD_REQUEST,e));return}A.send(c||null)})},Su={http:Z2,xhr:Ap};Y.forEach(Su,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const J1=e=>`- ${e}`,vp=e=>Y.isFunction(e)||e===null||e===!1,rd={getAdapter:e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let i,s;const c={};for(let f=0;f<t;f++){i=e[f];let g;if(s=i,!vp(i)&&(s=Su[(g=String(i)).toLowerCase()],s===void 0))throw new ze(`Unknown adapter '${g}'`);if(s)break;c[g||"#"+f]=s}if(!s){const f=Object.entries(c).map(([m,w])=>`adapter ${m} `+(w===!1?"is not supported by the environment":"is not available in the build"));let g=t?f.length>1?`since :
`+f.map(J1).join(`
`):" "+J1(f[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return s},adapters:Su};function Xl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Os(null,e)}function $1(e){return Xl(e),e.headers=Ir.from(e.headers),e.data=Gl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rd.getAdapter(e.adapter||_c.adapter)(e).then(function(s){return Xl(e),s.data=Gl.call(e,e.transformResponse,s),s.headers=Ir.from(s.headers),s},function(s){return td(s)||(Xl(e),s&&s.response&&(s.response.data=Gl.call(e,e.transformResponse,s.response),s.response.headers=Ir.from(s.response.headers))),Promise.reject(s)})}const ef=e=>e instanceof Ir?e.toJSON():e;function go(e,t){t=t||{};const i={};function s(x,A,S){return Y.isPlainObject(x)&&Y.isPlainObject(A)?Y.merge.call({caseless:S},x,A):Y.isPlainObject(A)?Y.merge({},A):Y.isArray(A)?A.slice():A}function c(x,A,S){if(Y.isUndefined(A)){if(!Y.isUndefined(x))return s(void 0,x,S)}else return s(x,A,S)}function f(x,A){if(!Y.isUndefined(A))return s(void 0,A)}function g(x,A){if(Y.isUndefined(A)){if(!Y.isUndefined(x))return s(void 0,x)}else return s(void 0,A)}function m(x,A,S){if(S in t)return s(x,A);if(S in e)return s(void 0,x)}const w={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:m,headers:(x,A)=>c(ef(x),ef(A),!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),function(A){const S=w[A]||c,b=S(e[A],t[A],A);Y.isUndefined(b)&&S!==m||(i[A]=b)}),i}const id="1.6.0",Oc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Oc[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const tf={};Oc.transitional=function(t,i,s){function c(f,g){return"[Axios v"+id+"] Transitional option '"+f+"'"+g+(s?". "+s:"")}return(f,g,m)=>{if(t===!1)throw new ze(c(g," has been removed"+(i?" in "+i:"")),ze.ERR_DEPRECATED);return i&&!tf[g]&&(tf[g]=!0,console.warn(c(g," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(f,g,m):!0}};function Sp(e,t,i){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let c=s.length;for(;c-- >0;){const f=s[c],g=t[f];if(g){const m=e[f],w=m===void 0||g(m,f,e);if(w!==!0)throw new ze("option "+f+" must be "+w,ze.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ze("Unknown option "+f,ze.ERR_BAD_OPTION)}}const Iu={assertOptions:Sp,validators:Oc},jr=Iu.validators;class Sa{constructor(t){this.defaults=t,this.interceptors={request:new K1,response:new K1}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=go(this.defaults,i);const{transitional:s,paramsSerializer:c,headers:f}=i;s!==void 0&&Iu.assertOptions(s,{silentJSONParsing:jr.transitional(jr.boolean),forcedJSONParsing:jr.transitional(jr.boolean),clarifyTimeoutError:jr.transitional(jr.boolean)},!1),c!=null&&(Y.isFunction(c)?i.paramsSerializer={serialize:c}:Iu.assertOptions(c,{encode:jr.function,serialize:jr.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=f&&Y.merge(f.common,f[i.method]);f&&Y.forEach(["delete","get","head","post","put","patch","common"],M=>{delete f[M]}),i.headers=Ir.concat(g,f);const m=[];let w=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(i)===!1||(w=w&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const x=[];this.interceptors.response.forEach(function(k){x.push(k.fulfilled,k.rejected)});let A,S=0,b;if(!w){const M=[$1.bind(this),void 0];for(M.unshift.apply(M,m),M.push.apply(M,x),b=M.length,A=Promise.resolve(i);S<b;)A=A.then(M[S++],M[S++]);return A}b=m.length;let U=i;for(S=0;S<b;){const M=m[S++],k=m[S++];try{U=M(U)}catch(J){k.call(this,J);break}}try{A=$1.call(this,U)}catch(M){return Promise.reject(M)}for(S=0,b=x.length;S<b;)A=A.then(x[S++],x[S++]);return A}getUri(t){t=go(this.defaults,t);const i=nd(t.baseURL,t.url);return J0(i,t.params,t.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(t){Sa.prototype[t]=function(i,s){return this.request(go(s||{},{method:t,url:i,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function i(s){return function(f,g,m){return this.request(go(m||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:f,data:g}))}}Sa.prototype[t]=i(),Sa.prototype[t+"Form"]=i(!0)});const fa=Sa;class bc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const s=this;this.promise.then(c=>{if(!s._listeners)return;let f=s._listeners.length;for(;f-- >0;)s._listeners[f](c);s._listeners=null}),this.promise.then=c=>{let f;const g=new Promise(m=>{s.subscribe(m),f=m}).then(c);return g.cancel=function(){s.unsubscribe(f)},g},t(function(f,g,m){s.reason||(s.reason=new Os(f,g,m),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new bc(function(c){t=c}),cancel:t}}}const Ip=bc;function Tp(e){return function(i){return e.apply(null,i)}}function Rp(e){return Y.isObject(e)&&e.isAxiosError===!0}const Tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tu).forEach(([e,t])=>{Tu[t]=e});const Np=Tu;function od(e){const t=new fa(e),i=z0(fa.prototype.request,t);return Y.extend(i,fa.prototype,t,{allOwnKeys:!0}),Y.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return od(go(e,c))},i}const Bt=od(_c);Bt.Axios=fa;Bt.CanceledError=Os;Bt.CancelToken=Ip;Bt.isCancel=td;Bt.VERSION=id;Bt.toFormData=il;Bt.AxiosError=ze;Bt.Cancel=Bt.CanceledError;Bt.all=function(t){return Promise.all(t)};Bt.spread=Tp;Bt.isAxiosError=Rp;Bt.mergeConfig=go;Bt.AxiosHeaders=Ir;Bt.formToJSON=e=>ed(Y.isHTMLForm(e)?new FormData(e):e);Bt.getAdapter=rd.getAdapter;Bt.HttpStatusCode=Np;Bt.default=Bt;const _p=Bt;window.axios=_p;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ad={exports:{}},sl={},ld={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),Op=Symbol.for("react.portal"),bp=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),Pp=Symbol.for("react.provider"),kp=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Fp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),nf=Symbol.iterator;function zp(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cd=Object.assign,fd={};function So(e,t,i){this.props=e,this.context=t,this.refs=fd,this.updater=i||ud}So.prototype.isReactComponent={};So.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};So.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dd(){}dd.prototype=So.prototype;function Dc(e,t,i){this.props=e,this.context=t,this.refs=fd,this.updater=i||ud}var Mc=Dc.prototype=new dd;Mc.constructor=Dc;cd(Mc,So.prototype);Mc.isPureReactComponent=!0;var rf=Array.isArray,hd=Object.prototype.hasOwnProperty,Pc={current:null},gd={key:!0,ref:!0,__self:!0,__source:!0};function pd(e,t,i){var s,c={},f=null,g=null;if(t!=null)for(s in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)hd.call(t,s)&&!gd.hasOwnProperty(s)&&(c[s]=t[s]);var m=arguments.length-2;if(m===1)c.children=i;else if(1<m){for(var w=Array(m),x=0;x<m;x++)w[x]=arguments[x+2];c.children=w}if(e&&e.defaultProps)for(s in m=e.defaultProps,m)c[s]===void 0&&(c[s]=m[s]);return{$$typeof:bs,type:e,key:f,ref:g,props:c,_owner:Pc.current}}function Vp(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kc(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function Hp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var of=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hp(""+e.key):t.toString(36)}function da(e,t,i,s,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case bs:case Op:g=!0}}if(g)return g=e,c=c(g),e=s===""?"."+Yl(g,0):s,rf(c)?(i="",e!=null&&(i=e.replace(of,"$&/")+"/"),da(c,t,i,"",function(x){return x})):c!=null&&(kc(c)&&(c=Vp(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(of,"$&/")+"/")+e)),t.push(c)),1;if(g=0,s=s===""?".":s+":",rf(e))for(var m=0;m<e.length;m++){f=e[m];var w=s+Yl(f,m);g+=da(f,t,i,w,c)}else if(w=zp(e),typeof w=="function")for(e=w.call(e),m=0;!(f=e.next()).done;)f=f.value,w=s+Yl(f,m++),g+=da(f,t,i,w,c);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Xs(e,t,i){if(e==null)return e;var s=[],c=0;return da(e,s,"","",function(f){return t.call(i,f,c++)}),s}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},ha={transition:null},Wp={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:ha,ReactCurrentOwner:Pc};Le.Children={map:Xs,forEach:function(e,t,i){Xs(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Xs(e,function(){t++}),t},toArray:function(e){return Xs(e,function(t){return t})||[]},only:function(e){if(!kc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=So;Le.Fragment=bp;Le.Profiler=Mp;Le.PureComponent=Dc;Le.StrictMode=Dp;Le.Suspense=Lp;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp;Le.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=cd({},e.props),c=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=Pc.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(w in t)hd.call(t,w)&&!gd.hasOwnProperty(w)&&(s[w]=t[w]===void 0&&m!==void 0?m[w]:t[w])}var w=arguments.length-2;if(w===1)s.children=i;else if(1<w){m=Array(w);for(var x=0;x<w;x++)m[x]=arguments[x+2];s.children=m}return{$$typeof:bs,type:e.type,key:c,ref:f,props:s,_owner:g}};Le.createContext=function(e){return e={$$typeof:kp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pp,_context:e},e.Consumer=e};Le.createElement=pd;Le.createFactory=function(e){var t=pd.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Bp,render:e}};Le.isValidElement=kc;Le.lazy=function(e){return{$$typeof:Up,_payload:{_status:-1,_result:e},_init:jp}};Le.memo=function(e,t){return{$$typeof:Fp,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=ha.transition;ha.transition={};try{e()}finally{ha.transition=t}};Le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Le.useCallback=function(e,t){return hn.current.useCallback(e,t)};Le.useContext=function(e){return hn.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};Le.useEffect=function(e,t){return hn.current.useEffect(e,t)};Le.useId=function(){return hn.current.useId()};Le.useImperativeHandle=function(e,t,i){return hn.current.useImperativeHandle(e,t,i)};Le.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return hn.current.useMemo(e,t)};Le.useReducer=function(e,t,i){return hn.current.useReducer(e,t,i)};Le.useRef=function(e){return hn.current.useRef(e)};Le.useState=function(e){return hn.current.useState(e)};Le.useSyncExternalStore=function(e,t,i){return hn.current.useSyncExternalStore(e,t,i)};Le.useTransition=function(){return hn.current.useTransition()};Le.version="18.2.0";ld.exports=Le;var te=ld.exports;const xd=sd(te),Gp=U0({__proto__:null,default:xd},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=te,Yp=Symbol.for("react.element"),Zp=Symbol.for("react.fragment"),Kp=Object.prototype.hasOwnProperty,Qp=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qp={key:!0,ref:!0,__self:!0,__source:!0};function md(e,t,i){var s,c={},f=null,g=null;i!==void 0&&(f=""+i),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(s in t)Kp.call(t,s)&&!qp.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)c[s]===void 0&&(c[s]=t[s]);return{$$typeof:Yp,type:e,key:f,ref:g,props:c,_owner:Qp.current}}sl.Fragment=Zp;sl.jsx=md;sl.jsxs=md;ad.exports=sl;var ee=ad.exports,Ru={},wd={exports:{}},Mn={},yd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,xe){var we=se.length;se.push(xe);e:for(;0<we;){var Ge=we-1>>>1,Re=se[Ge];if(0<c(Re,xe))se[Ge]=xe,se[we]=Re,we=Ge;else break e}}function i(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var xe=se[0],we=se.pop();if(we!==xe){se[0]=we;e:for(var Ge=0,Re=se.length,nn=Re>>>1;Ge<nn;){var lt=2*(Ge+1)-1,xr=se[lt],ge=lt+1,nt=se[ge];if(0>c(xr,we))ge<Re&&0>c(nt,xr)?(se[Ge]=nt,se[ge]=we,Ge=ge):(se[Ge]=xr,se[lt]=we,Ge=lt);else if(ge<Re&&0>c(nt,we))se[Ge]=nt,se[ge]=we,Ge=ge;else break e}}return xe}function c(se,xe){var we=se.sortIndex-xe.sortIndex;return we!==0?we:se.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var w=[],x=[],A=1,S=null,b=3,U=!1,M=!1,k=!1,J=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(se){for(var xe=i(x);xe!==null;){if(xe.callback===null)s(x);else if(xe.startTime<=se)s(x),xe.sortIndex=xe.expirationTime,t(w,xe);else break;xe=i(x)}}function R(se){if(k=!1,_(se),!M)if(i(w)!==null)M=!0,tt(q);else{var xe=i(x);xe!==null&&Se(R,xe.startTime-se)}}function q(se,xe){M=!1,k&&(k=!1,O(Z),Z=-1),U=!0;var we=b;try{for(_(xe),S=i(w);S!==null&&(!(S.expirationTime>xe)||se&&!Ve());){var Ge=S.callback;if(typeof Ge=="function"){S.callback=null,b=S.priorityLevel;var Re=Ge(S.expirationTime<=xe);xe=e.unstable_now(),typeof Re=="function"?S.callback=Re:S===i(w)&&s(w),_(xe)}else s(w);S=i(w)}if(S!==null)var nn=!0;else{var lt=i(x);lt!==null&&Se(R,lt.startTime-xe),nn=!1}return nn}finally{S=null,b=we,U=!1}}var X=!1,L=null,Z=-1,G=5,Ce=-1;function Ve(){return!(e.unstable_now()-Ce<G)}function pe(){if(L!==null){var se=e.unstable_now();Ce=se;var xe=!0;try{xe=L(!0,se)}finally{xe?De():(X=!1,L=null)}}else X=!1}var De;if(typeof N=="function")De=function(){N(pe)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,V=ot.port2;ot.port1.onmessage=pe,De=function(){V.postMessage(null)}}else De=function(){J(pe,0)};function tt(se){L=se,X||(X=!0,De())}function Se(se,xe){Z=J(function(){se(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){M||U||(M=!0,tt(q))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return i(w)},e.unstable_next=function(se){switch(b){case 1:case 2:case 3:var xe=3;break;default:xe=b}var we=b;b=xe;try{return se()}finally{b=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,xe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var we=b;b=se;try{return xe()}finally{b=we}},e.unstable_scheduleCallback=function(se,xe,we){var Ge=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ge+we:Ge):we=Ge,se){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=we+Re,se={id:A++,callback:xe,priorityLevel:se,startTime:we,expirationTime:Re,sortIndex:-1},we>Ge?(se.sortIndex=we,t(x,se),i(w)===null&&se===i(x)&&(k?(O(Z),Z=-1):k=!0,Se(R,we-Ge))):(se.sortIndex=Re,t(w,se),M||U||(M=!0,tt(q))),se},e.unstable_shouldYield=Ve,e.unstable_wrapCallback=function(se){var xe=b;return function(){var we=b;b=xe;try{return se.apply(this,arguments)}finally{b=we}}}})(Ed);yd.exports=Ed;var Jp=yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=te,Dn=Jp;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,fs={};function Di(e,t){po(e,t),po(e+"Capture",t)}function po(e,t){for(fs[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},af={};function ex(e){return Nu.call(af,e)?!0:Nu.call(sf,e)?!1:$p.test(e)?af[e]=!0:(sf[e]=!0,!1)}function tx(e,t,i,s){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nx(e,t,i,s){if(t===null||typeof t>"u"||tx(e,t,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,i,s,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bc=/[\-:]([a-z])/g;function Lc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bc,Lc);tn[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bc,Lc);tn[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bc,Lc);tn[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fc(e,t,i,s){var c=tn.hasOwnProperty(t)?tn[t]:null;(c!==null?c.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nx(t,i,c,s)&&(i=null),s||c===null?ex(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,s=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}var br=Cd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ys=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),vd=Symbol.for("react.provider"),Sd=Symbol.for("react.context"),zc=Symbol.for("react.forward_ref"),Ou=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),Vc=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),Id=Symbol.for("react.offscreen"),lf=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=lf&&e[lf]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,Zl;function Qo(e){if(Zl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Zl=t&&t[1]||""}return`
`+Zl+e}var Kl=!1;function Ql(e,t){if(!e||Kl)return"";Kl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var s=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){s=x}e.call(t.prototype)}else{try{throw Error()}catch(x){s=x}e()}}catch(x){if(x&&s&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=s.stack.split(`
`),g=c.length-1,m=f.length-1;1<=g&&0<=m&&c[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(c[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||c[g]!==f[m]){var w=`
`+c[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=m);break}}}finally{Kl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Qo(e):""}function rx(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=Ql(e.type,!1),e;case 11:return e=Ql(e.type.render,!1),e;case 1:return e=Ql(e.type,!0),e;default:return""}}function Du(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xi:return"Fragment";case Gi:return"Portal";case _u:return"Profiler";case Uc:return"StrictMode";case Ou:return"Suspense";case bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sd:return(e.displayName||"Context")+".Consumer";case vd:return(e._context.displayName||"Context")+".Provider";case zc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vc:return t=e.displayName||null,t!==null?t:Du(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return Du(e(t))}catch{}}return null}function ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(t);case 8:return t===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function si(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ox(e){var t=Td(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zs(e){e._valueTracker||(e._valueTracker=ox(e))}function Rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Td(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mu(e,t){var i=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function uf(e,t){var i=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;i=si(t.value!=null?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nd(e,t){t=t.checked,t!=null&&Fc(e,"checked",t,!1)}function Pu(e,t){Nd(e,t);var i=si(t.value),s=t.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ku(e,t.type,i):t.hasOwnProperty("defaultValue")&&ku(e,t.type,si(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cf(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ku(e,t,i){(t!=="number"||Ia(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var qo=Array.isArray;function so(e,t,i,s){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&s&&(e[i].defaultSelected=!0)}else{for(i=""+si(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Bu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ff(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(ne(92));if(qo(i)){if(1<i.length)throw Error(ne(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:si(i)}}function _d(e,t){var i=si(t.value),s=si(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function df(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Od(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Od(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ks,bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,s,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,s,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sx=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){sx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Dd(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Md(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=i.indexOf("--")===0,c=Dd(i,t[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,c):e[i]=c}}var ax=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fu(e,t){if(t){if(ax[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function Hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vu=null,ao=null,lo=null;function hf(e){if(e=Ps(e)){if(typeof Vu!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=fl(t),Vu(e.stateNode,e.type,t))}}function Pd(e){ao?lo?lo.push(e):lo=[e]:ao=e}function kd(){if(ao){var e=ao,t=lo;if(lo=ao=null,hf(e),t)for(e=0;e<t.length;e++)hf(t[e])}}function Bd(e,t){return e(t)}function Ld(){}var ql=!1;function Fd(e,t,i){if(ql)return e(t,i);ql=!0;try{return Bd(e,t,i)}finally{ql=!1,(ao!==null||lo!==null)&&(Ld(),kd())}}function hs(e,t){var i=e.stateNode;if(i===null)return null;var s=fl(i);if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(ne(231,t,typeof i));return i}var Hu=!1;if(Rr)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Hu=!1}function lx(e,t,i,s,c,f,g,m,w){var x=Array.prototype.slice.call(arguments,3);try{t.apply(i,x)}catch(A){this.onError(A)}}var ts=!1,Ta=null,Ra=!1,ju=null,ux={onError:function(e){ts=!0,Ta=e}};function cx(e,t,i,s,c,f,g,m,w){ts=!1,Ta=null,lx.apply(ux,arguments)}function fx(e,t,i,s,c,f,g,m,w){if(cx.apply(this,arguments),ts){if(ts){var x=Ta;ts=!1,Ta=null}else throw Error(ne(198));Ra||(Ra=!0,ju=x)}}function Mi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gf(e){if(Mi(e)!==e)throw Error(ne(188))}function dx(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var i=e,s=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return gf(c),e;if(f===s)return gf(c),t;f=f.sibling}throw Error(ne(188))}if(i.return!==s.return)i=c,s=f;else{for(var g=!1,m=c.child;m;){if(m===i){g=!0,i=c,s=f;break}if(m===s){g=!0,s=c,i=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===i){g=!0,i=f,s=c;break}if(m===s){g=!0,s=f,i=c;break}m=m.sibling}if(!g)throw Error(ne(189))}}if(i.alternate!==s)throw Error(ne(190))}if(i.tag!==3)throw Error(ne(188));return i.stateNode.current===i?e:t}function zd(e){return e=dx(e),e!==null?Vd(e):null}function Vd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vd(e);if(t!==null)return t;e=e.sibling}return null}var Hd=Dn.unstable_scheduleCallback,pf=Dn.unstable_cancelCallback,hx=Dn.unstable_shouldYield,gx=Dn.unstable_requestPaint,Mt=Dn.unstable_now,px=Dn.unstable_getCurrentPriorityLevel,jc=Dn.unstable_ImmediatePriority,jd=Dn.unstable_UserBlockingPriority,Na=Dn.unstable_NormalPriority,xx=Dn.unstable_LowPriority,Wd=Dn.unstable_IdlePriority,al=null,hr=null;function mx(e){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:Ex,wx=Math.log,yx=Math.LN2;function Ex(e){return e>>>=0,e===0?32:31-(wx(e)/yx|0)|0}var Qs=64,qs=4194304;function Jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,t){var i=e.pendingLanes;if(i===0)return 0;var s=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var m=g&~c;m!==0?s=Jo(m):(f&=g,f!==0&&(s=Jo(f)))}else g=i&~c,g!==0?s=Jo(g):f!==0&&(s=Jo(f));if(s===0)return 0;if(t!==0&&t!==s&&!(t&c)&&(c=s&-s,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if(s&4&&(s|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)i=31-nr(t),c=1<<i,s|=e[i],t&=~c;return s}function Cx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ax(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-nr(f),m=1<<g,w=c[g];w===-1?(!(m&i)||m&s)&&(c[g]=Cx(m,t)):w<=t&&(e.expiredLanes|=m),f&=~m}}function Wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),e}function Jl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ds(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nr(t),e[t]=i}function vx(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-nr(i),f=1<<c;t[c]=0,s[c]=-1,e[c]=-1,i&=~f}}function Wc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-nr(i),c=1<<s;c&t|e[s]&t&&(e[s]|=t),i&=~c}}var $e=0;function Xd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yd,Gc,Zd,Kd,Qd,Gu=!1,Js=[],qr=null,Jr=null,$r=null,gs=new Map,ps=new Map,Yr=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xf(e,t){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function zo(e,t,i,s,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Ps(t),t!==null&&Gc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ix(e,t,i,s,c){switch(t){case"focusin":return qr=zo(qr,e,t,i,s,c),!0;case"dragenter":return Jr=zo(Jr,e,t,i,s,c),!0;case"mouseover":return $r=zo($r,e,t,i,s,c),!0;case"pointerover":var f=c.pointerId;return gs.set(f,zo(gs.get(f)||null,e,t,i,s,c)),!0;case"gotpointercapture":return f=c.pointerId,ps.set(f,zo(ps.get(f)||null,e,t,i,s,c)),!0}return!1}function qd(e){var t=Ei(e.target);if(t!==null){var i=Mi(t);if(i!==null){if(t=i.tag,t===13){if(t=Ud(i),t!==null){e.blockedOn=t,Qd(e.priority,function(){Zd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);zu=s,i.target.dispatchEvent(s),zu=null}else return t=Ps(i),t!==null&&Gc(t),e.blockedOn=i,!1;t.shift()}return!0}function mf(e,t,i){ga(e)&&i.delete(t)}function Tx(){Gu=!1,qr!==null&&ga(qr)&&(qr=null),Jr!==null&&ga(Jr)&&(Jr=null),$r!==null&&ga($r)&&($r=null),gs.forEach(mf),ps.forEach(mf)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,Gu||(Gu=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,Tx)))}function xs(e){function t(c){return Vo(c,e)}if(0<Js.length){Vo(Js[0],e);for(var i=1;i<Js.length;i++){var s=Js[i];s.blockedOn===e&&(s.blockedOn=null)}}for(qr!==null&&Vo(qr,e),Jr!==null&&Vo(Jr,e),$r!==null&&Vo($r,e),gs.forEach(t),ps.forEach(t),i=0;i<Yr.length;i++)s=Yr[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yr.length&&(i=Yr[0],i.blockedOn===null);)qd(i),i.blockedOn===null&&Yr.shift()}var uo=br.ReactCurrentBatchConfig,Oa=!0;function Rx(e,t,i,s){var c=$e,f=uo.transition;uo.transition=null;try{$e=1,Xc(e,t,i,s)}finally{$e=c,uo.transition=f}}function Nx(e,t,i,s){var c=$e,f=uo.transition;uo.transition=null;try{$e=4,Xc(e,t,i,s)}finally{$e=c,uo.transition=f}}function Xc(e,t,i,s){if(Oa){var c=Xu(e,t,i,s);if(c===null)lu(e,t,s,ba,i),xf(e,s);else if(Ix(c,e,t,i,s))s.stopPropagation();else if(xf(e,s),t&4&&-1<Sx.indexOf(e)){for(;c!==null;){var f=Ps(c);if(f!==null&&Yd(f),f=Xu(e,t,i,s),f===null&&lu(e,t,s,ba,i),f===c)break;c=f}c!==null&&s.stopPropagation()}else lu(e,t,s,null,i)}}var ba=null;function Xu(e,t,i,s){if(ba=null,e=Hc(s),e=Ei(e),e!==null)if(t=Mi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Ud(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ba=e,null}function Jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(px()){case jc:return 1;case jd:return 4;case Na:case xx:return 16;case Wd:return 536870912;default:return 16}default:return 16}}var Kr=null,Yc=null,pa=null;function $d(){if(pa)return pa;var e,t=Yc,i=t.length,s,c="value"in Kr?Kr.value:Kr.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(s=1;s<=g&&t[i-s]===c[f-s];s++);return pa=c.slice(e,1<s?1-s:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function wf(){return!1}function Pn(e){function t(i,s,c,f,g){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$s:wf,this.isPropagationStopped=wf,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Pn(Io),Ms=Ct({},Io,{view:0,detail:0}),_x=Pn(Ms),$l,eu,Ho,ll=Ct({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?($l=e.screenX-Ho.screenX,eu=e.screenY-Ho.screenY):eu=$l=0,Ho=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),yf=Pn(ll),Ox=Ct({},ll,{dataTransfer:0}),bx=Pn(Ox),Dx=Ct({},Ms,{relatedTarget:0}),tu=Pn(Dx),Mx=Ct({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=Pn(Mx),kx=Ct({},Io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bx=Pn(kx),Lx=Ct({},Io,{data:0}),Ef=Pn(Lx),Fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zx[e])?!!t[e]:!1}function Kc(){return Vx}var Hx=Ct({},Ms,{key:function(e){if(e.key){var t=Fx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ux[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jx=Pn(Hx),Wx=Ct({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=Pn(Wx),Gx=Ct({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),Xx=Pn(Gx),Yx=Ct({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=Pn(Yx),Kx=Ct({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qx=Pn(Kx),qx=[9,13,27,32],Qc=Rr&&"CompositionEvent"in window,ns=null;Rr&&"documentMode"in document&&(ns=document.documentMode);var Jx=Rr&&"TextEvent"in window&&!ns,eh=Rr&&(!Qc||ns&&8<ns&&11>=ns),Af=String.fromCharCode(32),vf=!1;function th(e,t){switch(e){case"keyup":return qx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function $x(e,t){switch(e){case"compositionend":return nh(t);case"keypress":return t.which!==32?null:(vf=!0,Af);case"textInput":return e=t.data,e===Af&&vf?null:e;default:return null}}function em(e,t){if(Yi)return e==="compositionend"||!Qc&&th(e,t)?(e=$d(),pa=Yc=Kr=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eh&&t.locale!=="ko"?null:t.data;default:return null}}var tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tm[e.type]:t==="textarea"}function rh(e,t,i,s){Pd(s),t=Da(t,"onChange"),0<t.length&&(i=new Zc("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var rs=null,ms=null;function nm(e){gh(e,0)}function ul(e){var t=Qi(e);if(Rd(t))return e}function rm(e,t){if(e==="change")return t}var ih=!1;if(Rr){var nu;if(Rr){var ru="oninput"in document;if(!ru){var If=document.createElement("div");If.setAttribute("oninput","return;"),ru=typeof If.oninput=="function"}nu=ru}else nu=!1;ih=nu&&(!document.documentMode||9<document.documentMode)}function Tf(){rs&&(rs.detachEvent("onpropertychange",oh),ms=rs=null)}function oh(e){if(e.propertyName==="value"&&ul(ms)){var t=[];rh(t,ms,e,Hc(e)),Fd(nm,t)}}function im(e,t,i){e==="focusin"?(Tf(),rs=t,ms=i,rs.attachEvent("onpropertychange",oh)):e==="focusout"&&Tf()}function om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(ms)}function sm(e,t){if(e==="click")return ul(t)}function am(e,t){if(e==="input"||e==="change")return ul(t)}function lm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ir=typeof Object.is=="function"?Object.is:lm;function ws(e,t){if(ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!Nu.call(t,c)||!ir(e[c],t[c]))return!1}return!0}function Rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nf(e,t){var i=Rf(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rf(i)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ah(){for(var e=window,t=Ia();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ia(e.document)}return t}function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function um(e){var t=ah(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&sh(i.ownerDocument.documentElement,i)){if(s!==null&&qc(i)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(s.start,c);s=s.end===void 0?f:Math.min(s.end,c),!e.extend&&f>s&&(c=s,s=f,f=c),c=Nf(i,f);var g=Nf(i,s);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cm=Rr&&"documentMode"in document&&11>=document.documentMode,Zi=null,Yu=null,is=null,Zu=!1;function _f(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Zu||Zi==null||Zi!==Ia(s)||(s=Zi,"selectionStart"in s&&qc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),is&&ws(is,s)||(is=s,s=Da(Yu,"onSelect"),0<s.length&&(t=new Zc("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Zi)))}function ea(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ki={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},iu={},lh={};Rr&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function cl(e){if(iu[e])return iu[e];if(!Ki[e])return e;var t=Ki[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in lh)return iu[e]=t[i];return e}var uh=cl("animationend"),ch=cl("animationiteration"),fh=cl("animationstart"),dh=cl("transitionend"),hh=new Map,Of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){hh.set(e,t),Di(t,[e])}for(var ou=0;ou<Of.length;ou++){var su=Of[ou],fm=su.toLowerCase(),dm=su[0].toUpperCase()+su.slice(1);li(fm,"on"+dm)}li(uh,"onAnimationEnd");li(ch,"onAnimationIteration");li(fh,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(dh,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function bf(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,fx(s,t,void 0,e),e.currentTarget=null}function gh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],c=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var g=s.length-1;0<=g;g--){var m=s[g],w=m.instance,x=m.currentTarget;if(m=m.listener,w!==f&&c.isPropagationStopped())break e;bf(c,m,x),f=w}else for(g=0;g<s.length;g++){if(m=s[g],w=m.instance,x=m.currentTarget,m=m.listener,w!==f&&c.isPropagationStopped())break e;bf(c,m,x),f=w}}}if(Ra)throw e=ju,Ra=!1,ju=null,e}function ct(e,t){var i=t[$u];i===void 0&&(i=t[$u]=new Set);var s=e+"__bubble";i.has(s)||(ph(t,e,2,!1),i.add(s))}function au(e,t,i){var s=0;t&&(s|=4),ph(i,e,s,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function ys(e){if(!e[ta]){e[ta]=!0,Ad.forEach(function(i){i!=="selectionchange"&&(hm.has(i)||au(i,!1,e),au(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,au("selectionchange",!1,t))}}function ph(e,t,i,s){switch(Jd(t)){case 1:var c=Rx;break;case 4:c=Nx;break;default:c=Xc}i=c.bind(null,t,i,e),c=void 0,!Hu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function lu(e,t,i,s,c){var f=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var m=s.stateNode.containerInfo;if(m===c||m.nodeType===8&&m.parentNode===c)break;if(g===4)for(g=s.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;g=g.return}for(;m!==null;){if(g=Ei(m),g===null)return;if(w=g.tag,w===5||w===6){s=f=g;continue e}m=m.parentNode}}s=s.return}Fd(function(){var x=f,A=Hc(i),S=[];e:{var b=hh.get(e);if(b!==void 0){var U=Zc,M=e;switch(e){case"keypress":if(xa(i)===0)break e;case"keydown":case"keyup":U=jx;break;case"focusin":M="focus",U=tu;break;case"focusout":M="blur",U=tu;break;case"beforeblur":case"afterblur":U=tu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Xx;break;case uh:case ch:case fh:U=Px;break;case dh:U=Zx;break;case"scroll":U=_x;break;case"wheel":U=Qx;break;case"copy":case"cut":case"paste":U=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Cf}var k=(t&4)!==0,J=!k&&e==="scroll",O=k?b!==null?b+"Capture":null:b;k=[];for(var N=x,_;N!==null;){_=N;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,O!==null&&(R=hs(N,O),R!=null&&k.push(Es(N,R,_)))),J)break;N=N.return}0<k.length&&(b=new U(b,M,null,i,A),S.push({event:b,listeners:k}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",b&&i!==zu&&(M=i.relatedTarget||i.fromElement)&&(Ei(M)||M[Nr]))break e;if((U||b)&&(b=A.window===A?A:(b=A.ownerDocument)?b.defaultView||b.parentWindow:window,U?(M=i.relatedTarget||i.toElement,U=x,M=M?Ei(M):null,M!==null&&(J=Mi(M),M!==J||M.tag!==5&&M.tag!==6)&&(M=null)):(U=null,M=x),U!==M)){if(k=yf,R="onMouseLeave",O="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(k=Cf,R="onPointerLeave",O="onPointerEnter",N="pointer"),J=U==null?b:Qi(U),_=M==null?b:Qi(M),b=new k(R,N+"leave",U,i,A),b.target=J,b.relatedTarget=_,R=null,Ei(A)===x&&(k=new k(O,N+"enter",M,i,A),k.target=_,k.relatedTarget=J,R=k),J=R,U&&M)t:{for(k=U,O=M,N=0,_=k;_;_=ji(_))N++;for(_=0,R=O;R;R=ji(R))_++;for(;0<N-_;)k=ji(k),N--;for(;0<_-N;)O=ji(O),_--;for(;N--;){if(k===O||O!==null&&k===O.alternate)break t;k=ji(k),O=ji(O)}k=null}else k=null;U!==null&&Df(S,b,U,k,!1),M!==null&&J!==null&&Df(S,J,M,k,!0)}}e:{if(b=x?Qi(x):window,U=b.nodeName&&b.nodeName.toLowerCase(),U==="select"||U==="input"&&b.type==="file")var q=rm;else if(Sf(b))if(ih)q=am;else{q=om;var X=im}else(U=b.nodeName)&&U.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(q=sm);if(q&&(q=q(e,x))){rh(S,q,i,A);break e}X&&X(e,b,x),e==="focusout"&&(X=b._wrapperState)&&X.controlled&&b.type==="number"&&ku(b,"number",b.value)}switch(X=x?Qi(x):window,e){case"focusin":(Sf(X)||X.contentEditable==="true")&&(Zi=X,Yu=x,is=null);break;case"focusout":is=Yu=Zi=null;break;case"mousedown":Zu=!0;break;case"contextmenu":case"mouseup":case"dragend":Zu=!1,_f(S,i,A);break;case"selectionchange":if(cm)break;case"keydown":case"keyup":_f(S,i,A)}var L;if(Qc)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Yi?th(e,i)&&(Z="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Z="onCompositionStart");Z&&(eh&&i.locale!=="ko"&&(Yi||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Yi&&(L=$d()):(Kr=A,Yc="value"in Kr?Kr.value:Kr.textContent,Yi=!0)),X=Da(x,Z),0<X.length&&(Z=new Ef(Z,e,null,i,A),S.push({event:Z,listeners:X}),L?Z.data=L:(L=nh(i),L!==null&&(Z.data=L)))),(L=Jx?$x(e,i):em(e,i))&&(x=Da(x,"onBeforeInput"),0<x.length&&(A=new Ef("onBeforeInput","beforeinput",null,i,A),S.push({event:A,listeners:x}),A.data=L))}gh(S,t)})}function Es(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Da(e,t){for(var i=t+"Capture",s=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=hs(e,i),f!=null&&s.unshift(Es(e,f,c)),f=hs(e,t),f!=null&&s.push(Es(e,f,c))),e=e.return}return s}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Df(e,t,i,s,c){for(var f=t._reactName,g=[];i!==null&&i!==s;){var m=i,w=m.alternate,x=m.stateNode;if(w!==null&&w===s)break;m.tag===5&&x!==null&&(m=x,c?(w=hs(i,f),w!=null&&g.unshift(Es(i,w,m))):c||(w=hs(i,f),w!=null&&g.push(Es(i,w,m)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var gm=/\r\n?/g,pm=/\u0000|\uFFFD/g;function Mf(e){return(typeof e=="string"?e:""+e).replace(gm,`
`).replace(pm,"")}function na(e,t,i){if(t=Mf(t),Mf(e)!==t&&i)throw Error(ne(425))}function Ma(){}var Ku=null,Qu=null;function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,mm=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(wm)}:Ju;function wm(e){setTimeout(function(){throw e})}function uu(e,t){var i=t,s=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(s===0){e.removeChild(c),xs(t);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=c}while(i);xs(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var To=Math.random().toString(36).slice(2),fr="__reactFiber$"+To,Cs="__reactProps$"+To,Nr="__reactContainer$"+To,$u="__reactEvents$"+To,ym="__reactListeners$"+To,Em="__reactHandles$"+To;function Ei(e){var t=e[fr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Nr]||i[fr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=kf(e);e!==null;){if(i=e[fr])return i;e=kf(e)}return t}e=i,i=e.parentNode}return null}function Ps(e){return e=e[fr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function fl(e){return e[Cs]||null}var ec=[],qi=-1;function ui(e){return{current:e}}function dt(e){0>qi||(e.current=ec[qi],ec[qi]=null,qi--)}function at(e,t){qi++,ec[qi]=e.current,e.current=t}var ai={},un=ui(ai),An=ui(!1),Ti=ai;function xo(e,t){var i=e.type.contextTypes;if(!i)return ai;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function vn(e){return e=e.childContextTypes,e!=null}function Pa(){dt(An),dt(un)}function Bf(e,t,i){if(un.current!==ai)throw Error(ne(168));at(un,t),at(An,i)}function xh(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var c in s)if(!(c in t))throw Error(ne(108,ix(e)||"Unknown",c));return Ct({},i,s)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Ti=un.current,at(un,e),at(An,An.current),!0}function Lf(e,t,i){var s=e.stateNode;if(!s)throw Error(ne(169));i?(e=xh(e,t,Ti),s.__reactInternalMemoizedMergedChildContext=e,dt(An),dt(un),at(un,e)):dt(An),at(An,i)}var Ar=null,dl=!1,cu=!1;function mh(e){Ar===null?Ar=[e]:Ar.push(e)}function Cm(e){dl=!0,mh(e)}function ci(){if(!cu&&Ar!==null){cu=!0;var e=0,t=$e;try{var i=Ar;for($e=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}Ar=null,dl=!1}catch(c){throw Ar!==null&&(Ar=Ar.slice(e+1)),Hd(jc,ci),c}finally{$e=t,cu=!1}}return null}var Ji=[],$i=0,Ba=null,La=0,Vn=[],Hn=0,Ri=null,vr=1,Sr="";function wi(e,t){Ji[$i++]=La,Ji[$i++]=Ba,Ba=e,La=t}function wh(e,t,i){Vn[Hn++]=vr,Vn[Hn++]=Sr,Vn[Hn++]=Ri,Ri=e;var s=vr;e=Sr;var c=32-nr(s)-1;s&=~(1<<c),i+=1;var f=32-nr(t)+c;if(30<f){var g=c-c%5;f=(s&(1<<g)-1).toString(32),s>>=g,c-=g,vr=1<<32-nr(t)+c|i<<c|s,Sr=f+e}else vr=1<<f|i<<c|s,Sr=e}function Jc(e){e.return!==null&&(wi(e,1),wh(e,1,0))}function $c(e){for(;e===Ba;)Ba=Ji[--$i],Ji[$i]=null,La=Ji[--$i],Ji[$i]=null;for(;e===Ri;)Ri=Vn[--Hn],Vn[Hn]=null,Sr=Vn[--Hn],Vn[Hn]=null,vr=Vn[--Hn],Vn[Hn]=null}var bn=null,On=null,pt=!1,tr=null;function yh(e,t){var i=jn(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ff(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,On=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,On=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Ri!==null?{id:vr,overflow:Sr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=jn(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,bn=e,On=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nc(e){if(pt){var t=On;if(t){var i=t;if(!Ff(e,t)){if(tc(e))throw Error(ne(418));t=ei(i.nextSibling);var s=bn;t&&Ff(e,t)?yh(s,i):(e.flags=e.flags&-4097|2,pt=!1,bn=e)}}else{if(tc(e))throw Error(ne(418));e.flags=e.flags&-4097|2,pt=!1,bn=e}}}function Uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function ra(e){if(e!==bn)return!1;if(!pt)return Uf(e),pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qu(e.type,e.memoizedProps)),t&&(t=On)){if(tc(e))throw Eh(),Error(ne(418));for(;t;)yh(e,t),t=ei(t.nextSibling)}if(Uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){On=ei(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}On=null}}else On=bn?ei(e.stateNode.nextSibling):null;return!0}function Eh(){for(var e=On;e;)e=ei(e.nextSibling)}function mo(){On=bn=null,pt=!1}function e1(e){tr===null?tr=[e]:tr.push(e)}var Am=br.ReactCurrentBatchConfig;function Jn(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Fa=ui(null),Ua=null,eo=null,t1=null;function n1(){t1=eo=Ua=null}function r1(e){var t=Fa.current;dt(Fa),e._currentValue=t}function rc(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function co(e,t){Ua=e,t1=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cn=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(t1!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(Ua===null)throw Error(ne(308));eo=e,Ua.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var Ci=null;function i1(e){Ci===null?Ci=[e]:Ci.push(e)}function Ch(e,t,i,s){var c=t.interleaved;return c===null?(i.next=i,i1(t)):(i.next=c.next,c.next=i),t.interleaved=i,_r(e,s)}function _r(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Xr=!1;function o1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,We&2){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,_r(e,i)}return c=s.interleaved,c===null?(t.next=t,i1(s)):(t.next=c.next,c.next=t),s.interleaved=t,_r(e,i)}function ma(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Wc(e,i)}}function zf(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function za(e,t,i,s){var c=e.updateQueue;Xr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,m=c.shared.pending;if(m!==null){c.shared.pending=null;var w=m,x=w.next;w.next=null,g===null?f=x:g.next=x,g=w;var A=e.alternate;A!==null&&(A=A.updateQueue,m=A.lastBaseUpdate,m!==g&&(m===null?A.firstBaseUpdate=x:m.next=x,A.lastBaseUpdate=w))}if(f!==null){var S=c.baseState;g=0,A=x=w=null,m=f;do{var b=m.lane,U=m.eventTime;if((s&b)===b){A!==null&&(A=A.next={eventTime:U,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var M=e,k=m;switch(b=t,U=i,k.tag){case 1:if(M=k.payload,typeof M=="function"){S=M.call(U,S,b);break e}S=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=k.payload,b=typeof M=="function"?M.call(U,S,b):M,b==null)break e;S=Ct({},S,b);break e;case 2:Xr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,b=c.effects,b===null?c.effects=[m]:b.push(m))}else U={eventTime:U,lane:b,tag:m.tag,payload:m.payload,callback:m.callback,next:null},A===null?(x=A=U,w=S):A=A.next=U,g|=b;if(m=m.next,m===null){if(m=c.shared.pending,m===null)break;b=m,m=b.next,b.next=null,c.lastBaseUpdate=b,c.shared.pending=null}}while(1);if(A===null&&(w=S),c.baseState=w,c.firstBaseUpdate=x,c.lastBaseUpdate=A,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);_i|=g,e.lanes=g,e.memoizedState=S}}function Vf(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],c=s.callback;if(c!==null){if(s.callback=null,s=i,typeof c!="function")throw Error(ne(191,c));c.call(s)}}}var vh=new Cd.Component().refs;function ic(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:Ct({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var hl={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=dn(),c=ri(e),f=Tr(s,c);f.payload=t,i!=null&&(f.callback=i),t=ti(e,f,c),t!==null&&(rr(t,e,c,s),ma(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=dn(),c=ri(e),f=Tr(s,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=ti(e,f,c),t!==null&&(rr(t,e,c,s),ma(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dn(),s=ri(e),c=Tr(i,s);c.tag=2,t!=null&&(c.callback=t),t=ti(e,c,s),t!==null&&(rr(t,e,s,i),ma(t,e,s))}};function Hf(e,t,i,s,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,g):t.prototype&&t.prototype.isPureReactComponent?!ws(i,s)||!ws(c,f):!0}function Sh(e,t,i){var s=!1,c=ai,f=t.contextType;return typeof f=="object"&&f!==null?f=Xn(f):(c=vn(t)?Ti:un.current,s=t.contextTypes,f=(s=s!=null)?xo(e,c):ai),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function jf(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function oc(e,t,i,s){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs=vh,o1(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=Xn(f):(f=vn(t)?Ti:un.current,c.context=xo(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ic(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&hl.enqueueReplaceState(c,c.state,null),za(e,i,c,s),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function jo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ne(309));var s=i.stateNode}if(!s)throw Error(ne(147,e));var c=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var m=c.refs;m===vh&&(m=c.refs={}),g===null?delete m[f]:m[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(ne(284));if(!i._owner)throw Error(ne(290,e))}return e}function ia(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wf(e){var t=e._init;return t(e._payload)}function Ih(e){function t(O,N){if(e){var _=O.deletions;_===null?(O.deletions=[N],O.flags|=16):_.push(N)}}function i(O,N){if(!e)return null;for(;N!==null;)t(O,N),N=N.sibling;return null}function s(O,N){for(O=new Map;N!==null;)N.key!==null?O.set(N.key,N):O.set(N.index,N),N=N.sibling;return O}function c(O,N){return O=ii(O,N),O.index=0,O.sibling=null,O}function f(O,N,_){return O.index=_,e?(_=O.alternate,_!==null?(_=_.index,_<N?(O.flags|=2,N):_):(O.flags|=2,N)):(O.flags|=1048576,N)}function g(O){return e&&O.alternate===null&&(O.flags|=2),O}function m(O,N,_,R){return N===null||N.tag!==6?(N=mu(_,O.mode,R),N.return=O,N):(N=c(N,_),N.return=O,N)}function w(O,N,_,R){var q=_.type;return q===Xi?A(O,N,_.props.children,R,_.key):N!==null&&(N.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Gr&&Wf(q)===N.type)?(R=c(N,_.props),R.ref=jo(O,N,_),R.return=O,R):(R=va(_.type,_.key,_.props,null,O.mode,R),R.ref=jo(O,N,_),R.return=O,R)}function x(O,N,_,R){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=wu(_,O.mode,R),N.return=O,N):(N=c(N,_.children||[]),N.return=O,N)}function A(O,N,_,R,q){return N===null||N.tag!==7?(N=Ii(_,O.mode,R,q),N.return=O,N):(N=c(N,_),N.return=O,N)}function S(O,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=mu(""+N,O.mode,_),N.return=O,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ys:return _=va(N.type,N.key,N.props,null,O.mode,_),_.ref=jo(O,null,N),_.return=O,_;case Gi:return N=wu(N,O.mode,_),N.return=O,N;case Gr:var R=N._init;return S(O,R(N._payload),_)}if(qo(N)||Fo(N))return N=Ii(N,O.mode,_,null),N.return=O,N;ia(O,N)}return null}function b(O,N,_,R){var q=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return q!==null?null:m(O,N,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ys:return _.key===q?w(O,N,_,R):null;case Gi:return _.key===q?x(O,N,_,R):null;case Gr:return q=_._init,b(O,N,q(_._payload),R)}if(qo(_)||Fo(_))return q!==null?null:A(O,N,_,R,null);ia(O,_)}return null}function U(O,N,_,R,q){if(typeof R=="string"&&R!==""||typeof R=="number")return O=O.get(_)||null,m(N,O,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ys:return O=O.get(R.key===null?_:R.key)||null,w(N,O,R,q);case Gi:return O=O.get(R.key===null?_:R.key)||null,x(N,O,R,q);case Gr:var X=R._init;return U(O,N,_,X(R._payload),q)}if(qo(R)||Fo(R))return O=O.get(_)||null,A(N,O,R,q,null);ia(N,R)}return null}function M(O,N,_,R){for(var q=null,X=null,L=N,Z=N=0,G=null;L!==null&&Z<_.length;Z++){L.index>Z?(G=L,L=null):G=L.sibling;var Ce=b(O,L,_[Z],R);if(Ce===null){L===null&&(L=G);break}e&&L&&Ce.alternate===null&&t(O,L),N=f(Ce,N,Z),X===null?q=Ce:X.sibling=Ce,X=Ce,L=G}if(Z===_.length)return i(O,L),pt&&wi(O,Z),q;if(L===null){for(;Z<_.length;Z++)L=S(O,_[Z],R),L!==null&&(N=f(L,N,Z),X===null?q=L:X.sibling=L,X=L);return pt&&wi(O,Z),q}for(L=s(O,L);Z<_.length;Z++)G=U(L,O,Z,_[Z],R),G!==null&&(e&&G.alternate!==null&&L.delete(G.key===null?Z:G.key),N=f(G,N,Z),X===null?q=G:X.sibling=G,X=G);return e&&L.forEach(function(Ve){return t(O,Ve)}),pt&&wi(O,Z),q}function k(O,N,_,R){var q=Fo(_);if(typeof q!="function")throw Error(ne(150));if(_=q.call(_),_==null)throw Error(ne(151));for(var X=q=null,L=N,Z=N=0,G=null,Ce=_.next();L!==null&&!Ce.done;Z++,Ce=_.next()){L.index>Z?(G=L,L=null):G=L.sibling;var Ve=b(O,L,Ce.value,R);if(Ve===null){L===null&&(L=G);break}e&&L&&Ve.alternate===null&&t(O,L),N=f(Ve,N,Z),X===null?q=Ve:X.sibling=Ve,X=Ve,L=G}if(Ce.done)return i(O,L),pt&&wi(O,Z),q;if(L===null){for(;!Ce.done;Z++,Ce=_.next())Ce=S(O,Ce.value,R),Ce!==null&&(N=f(Ce,N,Z),X===null?q=Ce:X.sibling=Ce,X=Ce);return pt&&wi(O,Z),q}for(L=s(O,L);!Ce.done;Z++,Ce=_.next())Ce=U(L,O,Z,Ce.value,R),Ce!==null&&(e&&Ce.alternate!==null&&L.delete(Ce.key===null?Z:Ce.key),N=f(Ce,N,Z),X===null?q=Ce:X.sibling=Ce,X=Ce);return e&&L.forEach(function(pe){return t(O,pe)}),pt&&wi(O,Z),q}function J(O,N,_,R){if(typeof _=="object"&&_!==null&&_.type===Xi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ys:e:{for(var q=_.key,X=N;X!==null;){if(X.key===q){if(q=_.type,q===Xi){if(X.tag===7){i(O,X.sibling),N=c(X,_.props.children),N.return=O,O=N;break e}}else if(X.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Gr&&Wf(q)===X.type){i(O,X.sibling),N=c(X,_.props),N.ref=jo(O,X,_),N.return=O,O=N;break e}i(O,X);break}else t(O,X);X=X.sibling}_.type===Xi?(N=Ii(_.props.children,O.mode,R,_.key),N.return=O,O=N):(R=va(_.type,_.key,_.props,null,O.mode,R),R.ref=jo(O,N,_),R.return=O,O=R)}return g(O);case Gi:e:{for(X=_.key;N!==null;){if(N.key===X)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){i(O,N.sibling),N=c(N,_.children||[]),N.return=O,O=N;break e}else{i(O,N);break}else t(O,N);N=N.sibling}N=wu(_,O.mode,R),N.return=O,O=N}return g(O);case Gr:return X=_._init,J(O,N,X(_._payload),R)}if(qo(_))return M(O,N,_,R);if(Fo(_))return k(O,N,_,R);ia(O,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(i(O,N.sibling),N=c(N,_),N.return=O,O=N):(i(O,N),N=mu(_,O.mode,R),N.return=O,O=N),g(O)):i(O,N)}return J}var wo=Ih(!0),Th=Ih(!1),ks={},gr=ui(ks),As=ui(ks),vs=ui(ks);function Ai(e){if(e===ks)throw Error(ne(174));return e}function s1(e,t){switch(at(vs,t),at(As,e),at(gr,ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lu(t,e)}dt(gr),at(gr,t)}function yo(){dt(gr),dt(As),dt(vs)}function Rh(e){Ai(vs.current);var t=Ai(gr.current),i=Lu(t,e.type);t!==i&&(at(As,e),at(gr,i))}function a1(e){As.current===e&&(dt(gr),dt(As))}var yt=ui(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fu=[];function l1(){for(var e=0;e<fu.length;e++)fu[e]._workInProgressVersionPrimary=null;fu.length=0}var wa=br.ReactCurrentDispatcher,du=br.ReactCurrentBatchConfig,Ni=0,Et=null,zt=null,Xt=null,Ha=!1,os=!1,Ss=0,vm=0;function sn(){throw Error(ne(321))}function u1(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ir(e[i],t[i]))return!1;return!0}function c1(e,t,i,s,c,f){if(Ni=f,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?Rm:Nm,e=i(s,c),os){f=0;do{if(os=!1,Ss=0,25<=f)throw Error(ne(301));f+=1,Xt=zt=null,t.updateQueue=null,wa.current=_m,e=i(s,c)}while(os)}if(wa.current=ja,t=zt!==null&&zt.next!==null,Ni=0,Xt=zt=Et=null,Ha=!1,t)throw Error(ne(300));return e}function f1(){var e=Ss!==0;return Ss=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Et.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function Yn(){if(zt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Xt===null?Et.memoizedState:Xt.next;if(t!==null)Xt=t,zt=e;else{if(e===null)throw Error(ne(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Xt===null?Et.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Is(e,t){return typeof t=="function"?t(e):t}function hu(e){var t=Yn(),i=t.queue;if(i===null)throw Error(ne(311));i.lastRenderedReducer=e;var s=zt,c=s.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}s.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,s=s.baseState;var m=g=null,w=null,x=f;do{var A=x.lane;if((Ni&A)===A)w!==null&&(w=w.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),s=x.hasEagerState?x.eagerState:e(s,x.action);else{var S={lane:A,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};w===null?(m=w=S,g=s):w=w.next=S,Et.lanes|=A,_i|=A}x=x.next}while(x!==null&&x!==f);w===null?g=s:w.next=m,ir(s,t.memoizedState)||(Cn=!0),t.memoizedState=s,t.baseState=g,t.baseQueue=w,i.lastRenderedState=s}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Et.lanes|=f,_i|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function gu(e){var t=Yn(),i=t.queue;if(i===null)throw Error(ne(311));i.lastRenderedReducer=e;var s=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);ir(f,t.memoizedState)||(Cn=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,s]}function Nh(){}function _h(e,t){var i=Et,s=Yn(),c=t(),f=!ir(s.memoizedState,c);if(f&&(s.memoizedState=c,Cn=!0),s=s.queue,d1(Dh.bind(null,i,s,e),[e]),s.getSnapshot!==t||f||Xt!==null&&Xt.memoizedState.tag&1){if(i.flags|=2048,Ts(9,bh.bind(null,i,s,c,t),void 0,null),Yt===null)throw Error(ne(349));Ni&30||Oh(i,t,c)}return c}function Oh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function bh(e,t,i,s){t.value=i,t.getSnapshot=s,Mh(t)&&Ph(e)}function Dh(e,t,i){return i(function(){Mh(t)&&Ph(e)})}function Mh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ir(e,i)}catch{return!0}}function Ph(e){var t=_r(e,1);t!==null&&rr(t,e,1,-1)}function Gf(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=Tm.bind(null,Et,e),[t.memoizedState,e]}function Ts(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e)),e}function kh(){return Yn().memoizedState}function ya(e,t,i,s){var c=cr();Et.flags|=e,c.memoizedState=Ts(1|t,i,void 0,s===void 0?null:s)}function gl(e,t,i,s){var c=Yn();s=s===void 0?null:s;var f=void 0;if(zt!==null){var g=zt.memoizedState;if(f=g.destroy,s!==null&&u1(s,g.deps)){c.memoizedState=Ts(t,i,f,s);return}}Et.flags|=e,c.memoizedState=Ts(1|t,i,f,s)}function Xf(e,t){return ya(8390656,8,e,t)}function d1(e,t){return gl(2048,8,e,t)}function Bh(e,t){return gl(4,2,e,t)}function Lh(e,t){return gl(4,4,e,t)}function Fh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,i){return i=i!=null?i.concat([e]):null,gl(4,4,Fh.bind(null,t,e),i)}function h1(){}function zh(e,t){var i=Yn();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&u1(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Vh(e,t){var i=Yn();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&u1(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function Hh(e,t,i){return Ni&21?(ir(i,t)||(i=Gd(),Et.lanes|=i,_i|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cn=!0),e.memoizedState=i)}function Sm(e,t){var i=$e;$e=i!==0&&4>i?i:4,e(!0);var s=du.transition;du.transition={};try{e(!1),t()}finally{$e=i,du.transition=s}}function jh(){return Yn().memoizedState}function Im(e,t,i){var s=ri(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},Wh(e))Gh(t,i);else if(i=Ch(e,t,i,s),i!==null){var c=dn();rr(i,e,s,c),Xh(i,t,s)}}function Tm(e,t,i){var s=ri(e),c={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wh(e))Gh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,m=f(g,i);if(c.hasEagerState=!0,c.eagerState=m,ir(m,g)){var w=t.interleaved;w===null?(c.next=c,i1(t)):(c.next=w.next,w.next=c),t.interleaved=c;return}}catch{}finally{}i=Ch(e,t,c,s),i!==null&&(c=dn(),rr(i,e,s,c),Xh(i,t,s))}}function Wh(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function Gh(e,t){os=Ha=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xh(e,t,i){if(i&4194240){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Wc(e,i)}}var ja={readContext:Xn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},Rm={readContext:Xn,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:Xf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ya(4194308,4,Fh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var i=cr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=cr();return t=i!==void 0?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Im.bind(null,Et,e),[s.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:h1,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=Sm.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=Et,c=cr();if(pt){if(i===void 0)throw Error(ne(407));i=i()}else{if(i=t(),Yt===null)throw Error(ne(349));Ni&30||Oh(s,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,Xf(Dh.bind(null,s,f,e),[e]),s.flags|=2048,Ts(9,bh.bind(null,s,f,i,t),void 0,null),i},useId:function(){var e=cr(),t=Yt.identifierPrefix;if(pt){var i=Sr,s=vr;i=(s&~(1<<32-nr(s)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ss++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=vm++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nm={readContext:Xn,useCallback:zh,useContext:Xn,useEffect:d1,useImperativeHandle:Uh,useInsertionEffect:Bh,useLayoutEffect:Lh,useMemo:Vh,useReducer:hu,useRef:kh,useState:function(){return hu(Is)},useDebugValue:h1,useDeferredValue:function(e){var t=Yn();return Hh(t,zt.memoizedState,e)},useTransition:function(){var e=hu(Is)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:Nh,useSyncExternalStore:_h,useId:jh,unstable_isNewReconciler:!1},_m={readContext:Xn,useCallback:zh,useContext:Xn,useEffect:d1,useImperativeHandle:Uh,useInsertionEffect:Bh,useLayoutEffect:Lh,useMemo:Vh,useReducer:gu,useRef:kh,useState:function(){return gu(Is)},useDebugValue:h1,useDeferredValue:function(e){var t=Yn();return zt===null?t.memoizedState=e:Hh(t,zt.memoizedState,e)},useTransition:function(){var e=gu(Is)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:Nh,useSyncExternalStore:_h,useId:jh,unstable_isNewReconciler:!1};function Eo(e,t){try{var i="",s=t;do i+=rx(s),s=s.return;while(s);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function pu(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function sc(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Om=typeof WeakMap=="function"?WeakMap:Map;function Yh(e,t,i){i=Tr(-1,i),i.tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){Ga||(Ga=!0,xc=s),sc(e,t)},i}function Zh(e,t,i){i=Tr(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var c=t.value;i.payload=function(){return s(c)},i.callback=function(){sc(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){sc(e,t),typeof s!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Yf(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Om;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(i)||(c.add(i),e=Wm.bind(null,e,t,i),t.then(e,e))}function Zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kf(e,t,i,s,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Tr(-1,1),t.tag=2,ti(i,t,1))),i.lanes|=1),e)}var bm=br.ReactCurrentOwner,Cn=!1;function fn(e,t,i,s){t.child=e===null?Th(t,null,i,s):wo(t,e.child,i,s)}function Qf(e,t,i,s,c){i=i.render;var f=t.ref;return co(t,c),s=c1(e,t,i,s,f,c),i=f1(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Or(e,t,c)):(pt&&i&&Jc(t),t.flags|=1,fn(e,t,s,c),t.child)}function qf(e,t,i,s,c){if(e===null){var f=i.type;return typeof f=="function"&&!C1(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Kh(e,t,f,s,c)):(e=va(i.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ws,i(g,s)&&e.ref===t.ref)return Or(e,t,c)}return t.flags|=1,e=ii(f,s),e.ref=t.ref,e.return=t,t.child=e}function Kh(e,t,i,s,c){if(e!==null){var f=e.memoizedProps;if(ws(f,s)&&e.ref===t.ref)if(Cn=!1,t.pendingProps=s=f,(e.lanes&c)!==0)e.flags&131072&&(Cn=!0);else return t.lanes=e.lanes,Or(e,t,c)}return ac(e,t,i,s,c)}function Qh(e,t,i){var s=t.pendingProps,c=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(no,_n),_n|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(no,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:i,at(no,_n),_n|=s}else f!==null?(s=f.baseLanes|i,t.memoizedState=null):s=i,at(no,_n),_n|=s;return fn(e,t,c,i),t.child}function qh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ac(e,t,i,s,c){var f=vn(i)?Ti:un.current;return f=xo(t,f),co(t,c),i=c1(e,t,i,s,f,c),s=f1(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Or(e,t,c)):(pt&&s&&Jc(t),t.flags|=1,fn(e,t,i,c),t.child)}function Jf(e,t,i,s,c){if(vn(i)){var f=!0;ka(t)}else f=!1;if(co(t,c),t.stateNode===null)Ea(e,t),Sh(t,i,s),oc(t,i,s,c),s=!0;else if(e===null){var g=t.stateNode,m=t.memoizedProps;g.props=m;var w=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=Xn(x):(x=vn(i)?Ti:un.current,x=xo(t,x));var A=i.getDerivedStateFromProps,S=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==s||w!==x)&&jf(t,g,s,x),Xr=!1;var b=t.memoizedState;g.state=b,za(t,s,g,c),w=t.memoizedState,m!==s||b!==w||An.current||Xr?(typeof A=="function"&&(ic(t,i,A,s),w=t.memoizedState),(m=Xr||Hf(t,i,m,s,b,w,x))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),g.props=s,g.state=w,g.context=x,s=m):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{g=t.stateNode,Ah(e,t),m=t.memoizedProps,x=t.type===t.elementType?m:Jn(t.type,m),g.props=x,S=t.pendingProps,b=g.context,w=i.contextType,typeof w=="object"&&w!==null?w=Xn(w):(w=vn(i)?Ti:un.current,w=xo(t,w));var U=i.getDerivedStateFromProps;(A=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==S||b!==w)&&jf(t,g,s,w),Xr=!1,b=t.memoizedState,g.state=b,za(t,s,g,c);var M=t.memoizedState;m!==S||b!==M||An.current||Xr?(typeof U=="function"&&(ic(t,i,U,s),M=t.memoizedState),(x=Xr||Hf(t,i,x,s,b,M,w)||!1)?(A||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,M,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,M,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),g.props=s,g.state=M,g.context=w,s=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),s=!1)}return lc(e,t,i,s,f,c)}function lc(e,t,i,s,c,f){qh(e,t);var g=(t.flags&128)!==0;if(!s&&!g)return c&&Lf(t,i,!1),Or(e,t,f);s=t.stateNode,bm.current=t;var m=g&&typeof i.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&g?(t.child=wo(t,e.child,null,f),t.child=wo(t,null,m,f)):fn(e,t,m,f),t.memoizedState=s.state,c&&Lf(t,i,!0),t.child}function Jh(e){var t=e.stateNode;t.pendingContext?Bf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bf(e,t.context,!1),s1(e,t.containerInfo)}function $f(e,t,i,s,c){return mo(),e1(c),t.flags|=256,fn(e,t,i,s),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function $h(e,t,i){var s=t.pendingProps,c=yt.current,f=!1,g=(t.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(c&2)!==0),m?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),at(yt,c&1),e===null)return nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=s.children,e=s.fallback,f?(s=t.mode,f=t.child,g={mode:"hidden",children:g},!(s&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ml(g,s,0,null),e=Ii(e,s,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=cc(i),t.memoizedState=uc,e):g1(t,g));if(c=e.memoizedState,c!==null&&(m=c.dehydrated,m!==null))return Dm(e,t,g,s,m,c,i);if(f){f=s.fallback,g=t.mode,c=e.child,m=c.sibling;var w={mode:"hidden",children:s.children};return!(g&1)&&t.child!==c?(s=t.child,s.childLanes=0,s.pendingProps=w,t.deletions=null):(s=ii(c,w),s.subtreeFlags=c.subtreeFlags&14680064),m!==null?f=ii(m,f):(f=Ii(f,g,i,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,g=e.child.memoizedState,g=g===null?cc(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=uc,s}return f=e.child,e=f.sibling,s=ii(f,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=i),s.return=t,s.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function g1(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,i,s){return s!==null&&e1(s),wo(t,e.child,null,i),e=g1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dm(e,t,i,s,c,f,g){if(i)return t.flags&256?(t.flags&=-257,s=pu(Error(ne(422))),oa(e,t,g,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,c=t.mode,s=ml({mode:"visible",children:s.children},c,0,null),f=Ii(f,c,g,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,t.mode&1&&wo(t,e.child,null,g),t.child.memoizedState=cc(g),t.memoizedState=uc,f);if(!(t.mode&1))return oa(e,t,g,null);if(c.data==="$!"){if(s=c.nextSibling&&c.nextSibling.dataset,s)var m=s.dgst;return s=m,f=Error(ne(419)),s=pu(f,s,void 0),oa(e,t,g,s)}if(m=(g&e.childLanes)!==0,Cn||m){if(s=Yt,s!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(s.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,_r(e,c),rr(s,e,c,-1))}return E1(),s=pu(Error(ne(421))),oa(e,t,g,s)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Gm.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,On=ei(c.nextSibling),bn=t,pt=!0,tr=null,e!==null&&(Vn[Hn++]=vr,Vn[Hn++]=Sr,Vn[Hn++]=Ri,vr=e.id,Sr=e.overflow,Ri=t),t=g1(t,s.children),t.flags|=4096,t)}function e0(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),rc(e.return,t,i)}function xu(e,t,i,s,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=i,f.tailMode=c)}function eg(e,t,i){var s=t.pendingProps,c=s.revealOrder,f=s.tail;if(fn(e,t,s.children,i),s=yt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e0(e,i,t);else if(e.tag===19)e0(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(at(yt,s),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Va(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),xu(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Va(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}xu(t,!0,i,null,f);break;case"together":xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),_i|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,i=ii(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ii(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Mm(e,t,i){switch(t.tag){case 3:Jh(t),mo();break;case 5:Rh(t);break;case 1:vn(t.type)&&ka(t);break;case 4:s1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,c=t.memoizedProps.value;at(Fa,s._currentValue),s._currentValue=c;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(at(yt,yt.current&1),t.flags|=128,null):i&t.child.childLanes?$h(e,t,i):(at(yt,yt.current&1),e=Or(e,t,i),e!==null?e.sibling:null);at(yt,yt.current&1);break;case 19:if(s=(i&t.childLanes)!==0,e.flags&128){if(s)return eg(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(yt,yt.current),s)break;return null;case 22:case 23:return t.lanes=0,Qh(e,t,i)}return Or(e,t,i)}var tg,fc,ng,rg;tg=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};fc=function(){};ng=function(e,t,i,s){var c=e.memoizedProps;if(c!==s){e=t.stateNode,Ai(gr.current);var f=null;switch(i){case"input":c=Mu(e,c),s=Mu(e,s),f=[];break;case"select":c=Ct({},c,{value:void 0}),s=Ct({},s,{value:void 0}),f=[];break;case"textarea":c=Bu(e,c),s=Bu(e,s),f=[];break;default:typeof c.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ma)}Fu(i,s);var g;i=null;for(x in c)if(!s.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var m=c[x];for(g in m)m.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(fs.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in s){var w=s[x];if(m=c!=null?c[x]:void 0,s.hasOwnProperty(x)&&w!==m&&(w!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in w)w.hasOwnProperty(g)&&m[g]!==w[g]&&(i||(i={}),i[g]=w[g])}else i||(f||(f=[]),f.push(x,i)),i=w;else x==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(f=f||[]).push(x,w)):x==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(x,""+w):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(fs.hasOwnProperty(x)?(w!=null&&x==="onScroll"&&ct("scroll",e),f||m===w||(f=[])):(f=f||[]).push(x,w))}i&&(f=f||[]).push("style",i);var x=f;(t.updateQueue=x)&&(t.flags|=4)}};rg=function(e,t,i,s){i!==s&&(t.flags|=4)};function Wo(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&14680064,s|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function Pm(e,t,i){var s=t.pendingProps;switch($c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return vn(t.type)&&Pa(),an(t),null;case 3:return s=t.stateNode,yo(),dt(An),dt(un),l1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(yc(tr),tr=null))),fc(e,t),an(t),null;case 5:a1(t);var c=Ai(vs.current);if(i=t.type,e!==null&&t.stateNode!=null)ng(e,t,i,s,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ne(166));return an(t),null}if(e=Ai(gr.current),ra(t)){s=t.stateNode,i=t.type;var f=t.memoizedProps;switch(s[fr]=t,s[Cs]=f,e=(t.mode&1)!==0,i){case"dialog":ct("cancel",s),ct("close",s);break;case"iframe":case"object":case"embed":ct("load",s);break;case"video":case"audio":for(c=0;c<$o.length;c++)ct($o[c],s);break;case"source":ct("error",s);break;case"img":case"image":case"link":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"input":uf(s,f),ct("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},ct("invalid",s);break;case"textarea":ff(s,f),ct("invalid",s)}Fu(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?s.textContent!==m&&(f.suppressHydrationWarning!==!0&&na(s.textContent,m,e),c=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&na(s.textContent,m,e),c=["children",""+m]):fs.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&ct("scroll",s)}switch(i){case"input":Zs(s),cf(s,f,!0);break;case"textarea":Zs(s),df(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=Ma)}s=c,t.updateQueue=s,s!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Od(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=g.createElement(i,{is:s.is}):(e=g.createElement(i),i==="select"&&(g=e,s.multiple?g.multiple=!0:s.size&&(g.size=s.size))):e=g.createElementNS(e,i),e[fr]=t,e[Cs]=s,tg(e,t,!1,!1),t.stateNode=e;e:{switch(g=Uu(i,s),i){case"dialog":ct("cancel",e),ct("close",e),c=s;break;case"iframe":case"object":case"embed":ct("load",e),c=s;break;case"video":case"audio":for(c=0;c<$o.length;c++)ct($o[c],e);c=s;break;case"source":ct("error",e),c=s;break;case"img":case"image":case"link":ct("error",e),ct("load",e),c=s;break;case"details":ct("toggle",e),c=s;break;case"input":uf(e,s),c=Mu(e,s),ct("invalid",e);break;case"option":c=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},c=Ct({},s,{value:void 0}),ct("invalid",e);break;case"textarea":ff(e,s),c=Bu(e,s),ct("invalid",e);break;default:c=s}Fu(i,c),m=c;for(f in m)if(m.hasOwnProperty(f)){var w=m[f];f==="style"?Md(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&bd(e,w)):f==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&ds(e,w):typeof w=="number"&&ds(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(fs.hasOwnProperty(f)?w!=null&&f==="onScroll"&&ct("scroll",e):w!=null&&Fc(e,f,w,g))}switch(i){case"input":Zs(e),cf(e,s,!1);break;case"textarea":Zs(e),df(e);break;case"option":s.value!=null&&e.setAttribute("value",""+si(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?so(e,!!s.multiple,f,!1):s.defaultValue!=null&&so(e,!!s.multiple,s.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ma)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)rg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ne(166));if(i=Ai(vs.current),Ai(gr.current),ra(t)){if(s=t.stateNode,i=t.memoizedProps,s[fr]=t,(f=s.nodeValue!==i)&&(e=bn,e!==null))switch(e.tag){case 3:na(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(s.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[fr]=t,t.stateNode=s}return an(t),null;case 13:if(dt(yt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pt&&On!==null&&t.mode&1&&!(t.flags&128))Eh(),mo(),t.flags|=98560,f=!1;else if(f=ra(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(ne(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(ne(317));f[fr]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),f=!1}else tr!==null&&(yc(tr),tr=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Vt===0&&(Vt=3):E1())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return yo(),fc(e,t),e===null&&ys(t.stateNode.containerInfo),an(t),null;case 10:return r1(t.type._context),an(t),null;case 17:return vn(t.type)&&Pa(),an(t),null;case 19:if(dt(yt),f=t.memoizedState,f===null)return an(t),null;if(s=(t.flags&128)!==0,g=f.rendering,g===null)if(s)Wo(f,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Va(e),g!==null){for(t.flags|=128,Wo(f,!1),s=g.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;i!==null;)f=i,e=s,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return at(yt,yt.current&1|2),t.child}e=e.sibling}f.tail!==null&&Mt()>Co&&(t.flags|=128,s=!0,Wo(f,!1),t.lanes=4194304)}else{if(!s)if(e=Va(g),e!==null){if(t.flags|=128,s=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Wo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!pt)return an(t),null}else 2*Mt()-f.renderingStartTime>Co&&i!==1073741824&&(t.flags|=128,s=!0,Wo(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Mt(),t.sibling=null,i=yt.current,at(yt,s?i&1|2:i&1),t):(an(t),null);case 22:case 23:return y1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?_n&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function km(e,t){switch($c(t),t.tag){case 1:return vn(t.type)&&Pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yo(),dt(An),dt(un),l1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return a1(t),null;case 13:if(dt(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(yt),null;case 4:return yo(),null;case 10:return r1(t.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var sa=!1,ln=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,de=null;function to(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){Nt(e,t,s)}else i.current=null}function dc(e,t,i){try{i()}catch(s){Nt(e,t,s)}}var t0=!1;function Lm(e,t){if(Ku=Oa,e=ah(),qc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,m=-1,w=-1,x=0,A=0,S=e,b=null;t:for(;;){for(var U;S!==i||c!==0&&S.nodeType!==3||(m=g+c),S!==f||s!==0&&S.nodeType!==3||(w=g+s),S.nodeType===3&&(g+=S.nodeValue.length),(U=S.firstChild)!==null;)b=S,S=U;for(;;){if(S===e)break t;if(b===i&&++x===c&&(m=g),b===f&&++A===s&&(w=g),(U=S.nextSibling)!==null)break;S=b,b=S.parentNode}S=U}i=m===-1||w===-1?null:{start:m,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qu={focusedElem:e,selectionRange:i},Oa=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var M=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var k=M.memoizedProps,J=M.memoizedState,O=t.stateNode,N=O.getSnapshotBeforeUpdate(t.elementType===t.type?k:Jn(t.type,k),J);O.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(R){Nt(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return M=t0,t0=!1,M}function ss(e,t,i){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&dc(t,i,f)}c=c.next}while(c!==s)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function hc(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function ig(e){var t=e.alternate;t!==null&&(e.alternate=null,ig(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fr],delete t[Cs],delete t[$u],delete t[ym],delete t[Em])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function og(e){return e.tag===5||e.tag===3||e.tag===4}function n0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||og(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ma));else if(s!==4&&(e=e.child,e!==null))for(gc(e,t,i),e=e.sibling;e!==null;)gc(e,t,i),e=e.sibling}function pc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(pc(e,t,i),e=e.sibling;e!==null;)pc(e,t,i),e=e.sibling}var $t=null,$n=!1;function Wr(e,t,i){for(i=i.child;i!==null;)sg(e,t,i),i=i.sibling}function sg(e,t,i){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(al,i)}catch{}switch(i.tag){case 5:ln||to(i,t);case 6:var s=$t,c=$n;$t=null,Wr(e,t,i),$t=s,$n=c,$t!==null&&($n?(e=$t,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):$t.removeChild(i.stateNode));break;case 18:$t!==null&&($n?(e=$t,i=i.stateNode,e.nodeType===8?uu(e.parentNode,i):e.nodeType===1&&uu(e,i),xs(e)):uu($t,i.stateNode));break;case 4:s=$t,c=$n,$t=i.stateNode.containerInfo,$n=!0,Wr(e,t,i),$t=s,$n=c;break;case 0:case 11:case 14:case 15:if(!ln&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){c=s=s.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&dc(i,t,g),c=c.next}while(c!==s)}Wr(e,t,i);break;case 1:if(!ln&&(to(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(m){Nt(i,t,m)}Wr(e,t,i);break;case 21:Wr(e,t,i);break;case 22:i.mode&1?(ln=(s=ln)||i.memoizedState!==null,Wr(e,t,i),ln=s):Wr(e,t,i);break;default:Wr(e,t,i)}}function r0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Bm),t.forEach(function(s){var c=Xm.bind(null,e,s);i.has(s)||(i.add(s),s.then(c,c))})}}function qn(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];try{var f=e,g=t,m=g;e:for(;m!==null;){switch(m.tag){case 5:$t=m.stateNode,$n=!1;break e;case 3:$t=m.stateNode.containerInfo,$n=!0;break e;case 4:$t=m.stateNode.containerInfo,$n=!0;break e}m=m.return}if($t===null)throw Error(ne(160));sg(f,g,c),$t=null,$n=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(x){Nt(c,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ag(t,e),t=t.sibling}function ag(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),ur(e),s&4){try{ss(3,e,e.return),pl(3,e)}catch(k){Nt(e,e.return,k)}try{ss(5,e,e.return)}catch(k){Nt(e,e.return,k)}}break;case 1:qn(t,e),ur(e),s&512&&i!==null&&to(i,i.return);break;case 5:if(qn(t,e),ur(e),s&512&&i!==null&&to(i,i.return),e.flags&32){var c=e.stateNode;try{ds(c,"")}catch(k){Nt(e,e.return,k)}}if(s&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&Nd(c,f),Uu(m,g);var x=Uu(m,f);for(g=0;g<w.length;g+=2){var A=w[g],S=w[g+1];A==="style"?Md(c,S):A==="dangerouslySetInnerHTML"?bd(c,S):A==="children"?ds(c,S):Fc(c,A,S,x)}switch(m){case"input":Pu(c,f);break;case"textarea":_d(c,f);break;case"select":var b=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var U=f.value;U!=null?so(c,!!f.multiple,U,!1):b!==!!f.multiple&&(f.defaultValue!=null?so(c,!!f.multiple,f.defaultValue,!0):so(c,!!f.multiple,f.multiple?[]:"",!1))}c[Cs]=f}catch(k){Nt(e,e.return,k)}}break;case 6:if(qn(t,e),ur(e),s&4){if(e.stateNode===null)throw Error(ne(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(k){Nt(e,e.return,k)}}break;case 3:if(qn(t,e),ur(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(k){Nt(e,e.return,k)}break;case 4:qn(t,e),ur(e);break;case 13:qn(t,e),ur(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(m1=Mt())),s&4&&r0(e);break;case 22:if(A=i!==null&&i.memoizedState!==null,e.mode&1?(ln=(x=ln)||A,qn(t,e),ln=x):qn(t,e),ur(e),s&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!A&&e.mode&1)for(de=e,A=e.child;A!==null;){for(S=de=A;de!==null;){switch(b=de,U=b.child,b.tag){case 0:case 11:case 14:case 15:ss(4,b,b.return);break;case 1:to(b,b.return);var M=b.stateNode;if(typeof M.componentWillUnmount=="function"){s=b,i=b.return;try{t=s,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(k){Nt(s,i,k)}}break;case 5:to(b,b.return);break;case 22:if(b.memoizedState!==null){o0(S);continue}}U!==null?(U.return=b,de=U):o0(S)}A=A.sibling}e:for(A=null,S=e;;){if(S.tag===5){if(A===null){A=S;try{c=S.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=S.stateNode,w=S.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=Dd("display",g))}catch(k){Nt(e,e.return,k)}}}else if(S.tag===6){if(A===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(k){Nt(e,e.return,k)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;A===S&&(A=null),S=S.return}A===S&&(A=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:qn(t,e),ur(e),s&4&&r0(e);break;case 21:break;default:qn(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(og(i)){var s=i;break e}i=i.return}throw Error(ne(160))}switch(s.tag){case 5:var c=s.stateNode;s.flags&32&&(ds(c,""),s.flags&=-33);var f=n0(e);pc(e,f,c);break;case 3:case 4:var g=s.stateNode.containerInfo,m=n0(e);gc(e,m,g);break;default:throw Error(ne(161))}}catch(w){Nt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fm(e,t,i){de=e,lg(e)}function lg(e,t,i){for(var s=(e.mode&1)!==0;de!==null;){var c=de,f=c.child;if(c.tag===22&&s){var g=c.memoizedState!==null||sa;if(!g){var m=c.alternate,w=m!==null&&m.memoizedState!==null||ln;m=sa;var x=ln;if(sa=g,(ln=w)&&!x)for(de=c;de!==null;)g=de,w=g.child,g.tag===22&&g.memoizedState!==null?s0(c):w!==null?(w.return=g,de=w):s0(c);for(;f!==null;)de=f,lg(f),f=f.sibling;de=c,sa=m,ln=x}i0(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,de=f):i0(e)}}function i0(e){for(;de!==null;){var t=de;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||pl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ln)if(i===null)s.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Jn(t.type,i.memoizedProps);s.componentDidUpdate(c,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Vf(t,f,s);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Vf(t,g,i)}break;case 5:var m=t.stateNode;if(i===null&&t.flags&4){i=m;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&i.focus();break;case"img":w.src&&(i.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var A=x.memoizedState;if(A!==null){var S=A.dehydrated;S!==null&&xs(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}ln||t.flags&512&&hc(t)}catch(b){Nt(t,t.return,b)}}if(t===e){de=null;break}if(i=t.sibling,i!==null){i.return=t.return,de=i;break}de=t.return}}function o0(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var i=t.sibling;if(i!==null){i.return=t.return,de=i;break}de=t.return}}function s0(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{pl(4,t)}catch(w){Nt(t,i,w)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var c=t.return;try{s.componentDidMount()}catch(w){Nt(t,c,w)}}var f=t.return;try{hc(t)}catch(w){Nt(t,f,w)}break;case 5:var g=t.return;try{hc(t)}catch(w){Nt(t,g,w)}}}catch(w){Nt(t,t.return,w)}if(t===e){de=null;break}var m=t.sibling;if(m!==null){m.return=t.return,de=m;break}de=t.return}}var Um=Math.ceil,Wa=br.ReactCurrentDispatcher,p1=br.ReactCurrentOwner,Gn=br.ReactCurrentBatchConfig,We=0,Yt=null,kt=null,en=0,_n=0,no=ui(0),Vt=0,Rs=null,_i=0,xl=0,x1=0,as=null,En=null,m1=0,Co=1/0,Cr=null,Ga=!1,xc=null,ni=null,aa=!1,Qr=null,Xa=0,ls=0,mc=null,Ca=-1,Aa=0;function dn(){return We&6?Mt():Ca!==-1?Ca:Ca=Mt()}function ri(e){return e.mode&1?We&2&&en!==0?en&-en:Am.transition!==null?(Aa===0&&(Aa=Gd()),Aa):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Jd(e.type)),e):1}function rr(e,t,i,s){if(50<ls)throw ls=0,mc=null,Error(ne(185));Ds(e,i,s),(!(We&2)||e!==Yt)&&(e===Yt&&(!(We&2)&&(xl|=i),Vt===4&&Zr(e,en)),Sn(e,s),i===1&&We===0&&!(t.mode&1)&&(Co=Mt()+500,dl&&ci()))}function Sn(e,t){var i=e.callbackNode;Ax(e,t);var s=_a(e,e===Yt?en:0);if(s===0)i!==null&&pf(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(i!=null&&pf(i),t===1)e.tag===0?Cm(a0.bind(null,e)):mh(a0.bind(null,e)),mm(function(){!(We&6)&&ci()}),i=null;else{switch(Xd(s)){case 1:i=jc;break;case 4:i=jd;break;case 16:i=Na;break;case 536870912:i=Wd;break;default:i=Na}i=xg(i,ug.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ug(e,t){if(Ca=-1,Aa=0,We&6)throw Error(ne(327));var i=e.callbackNode;if(fo()&&e.callbackNode!==i)return null;var s=_a(e,e===Yt?en:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ya(e,s);else{t=s;var c=We;We|=2;var f=fg();(Yt!==e||en!==t)&&(Cr=null,Co=Mt()+500,Si(e,t));do try{Hm();break}catch(m){cg(e,m)}while(1);n1(),Wa.current=f,We=c,kt!==null?t=0:(Yt=null,en=0,t=Vt)}if(t!==0){if(t===2&&(c=Wu(e),c!==0&&(s=c,t=wc(e,c))),t===1)throw i=Rs,Si(e,0),Zr(e,s),Sn(e,Mt()),i;if(t===6)Zr(e,s);else{if(c=e.current.alternate,!(s&30)&&!zm(c)&&(t=Ya(e,s),t===2&&(f=Wu(e),f!==0&&(s=f,t=wc(e,f))),t===1))throw i=Rs,Si(e,0),Zr(e,s),Sn(e,Mt()),i;switch(e.finishedWork=c,e.finishedLanes=s,t){case 0:case 1:throw Error(ne(345));case 2:yi(e,En,Cr);break;case 3:if(Zr(e,s),(s&130023424)===s&&(t=m1+500-Mt(),10<t)){if(_a(e,0)!==0)break;if(c=e.suspendedLanes,(c&s)!==s){dn(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ju(yi.bind(null,e,En,Cr),t);break}yi(e,En,Cr);break;case 4:if(Zr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,c=-1;0<s;){var g=31-nr(s);f=1<<g,g=t[g],g>c&&(c=g),s&=~f}if(s=c,s=Mt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Um(s/1960))-s,10<s){e.timeoutHandle=Ju(yi.bind(null,e,En,Cr),s);break}yi(e,En,Cr);break;case 5:yi(e,En,Cr);break;default:throw Error(ne(329))}}}return Sn(e,Mt()),e.callbackNode===i?ug.bind(null,e):null}function wc(e,t){var i=as;return e.current.memoizedState.isDehydrated&&(Si(e,t).flags|=256),e=Ya(e,t),e!==2&&(t=En,En=i,t!==null&&yc(t)),e}function yc(e){En===null?En=e:En.push.apply(En,e)}function zm(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var c=i[s],f=c.getSnapshot;c=c.value;try{if(!ir(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~x1,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-nr(t),s=1<<i;e[i]=-1,t&=~s}}function a0(e){if(We&6)throw Error(ne(327));fo();var t=_a(e,0);if(!(t&1))return Sn(e,Mt()),null;var i=Ya(e,t);if(e.tag!==0&&i===2){var s=Wu(e);s!==0&&(t=s,i=wc(e,s))}if(i===1)throw i=Rs,Si(e,0),Zr(e,t),Sn(e,Mt()),i;if(i===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,En,Cr),Sn(e,Mt()),null}function w1(e,t){var i=We;We|=1;try{return e(t)}finally{We=i,We===0&&(Co=Mt()+500,dl&&ci())}}function Oi(e){Qr!==null&&Qr.tag===0&&!(We&6)&&fo();var t=We;We|=1;var i=Gn.transition,s=$e;try{if(Gn.transition=null,$e=1,e)return e()}finally{$e=s,Gn.transition=i,We=t,!(We&6)&&ci()}}function y1(){_n=no.current,dt(no)}function Si(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,xm(i)),kt!==null)for(i=kt.return;i!==null;){var s=i;switch($c(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Pa();break;case 3:yo(),dt(An),dt(un),l1();break;case 5:a1(s);break;case 4:yo();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:r1(s.type._context);break;case 22:case 23:y1()}i=i.return}if(Yt=e,kt=e=ii(e.current,null),en=_n=t,Vt=0,Rs=null,x1=xl=_i=0,En=as=null,Ci!==null){for(t=0;t<Ci.length;t++)if(i=Ci[t],s=i.interleaved,s!==null){i.interleaved=null;var c=s.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,s.next=g}i.pending=s}Ci=null}return e}function cg(e,t){do{var i=kt;try{if(n1(),wa.current=ja,Ha){for(var s=Et.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Ha=!1}if(Ni=0,Xt=zt=Et=null,os=!1,Ss=0,p1.current=null,i===null||i.return===null){Vt=1,Rs=t,kt=null;break}e:{var f=e,g=i.return,m=i,w=t;if(t=en,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var x=w,A=m,S=A.tag;if(!(A.mode&1)&&(S===0||S===11||S===15)){var b=A.alternate;b?(A.updateQueue=b.updateQueue,A.memoizedState=b.memoizedState,A.lanes=b.lanes):(A.updateQueue=null,A.memoizedState=null)}var U=Zf(g);if(U!==null){U.flags&=-257,Kf(U,g,m,f,t),U.mode&1&&Yf(f,x,t),t=U,w=x;var M=t.updateQueue;if(M===null){var k=new Set;k.add(w),t.updateQueue=k}else M.add(w);break e}else{if(!(t&1)){Yf(f,x,t),E1();break e}w=Error(ne(426))}}else if(pt&&m.mode&1){var J=Zf(g);if(J!==null){!(J.flags&65536)&&(J.flags|=256),Kf(J,g,m,f,t),e1(Eo(w,m));break e}}f=w=Eo(w,m),Vt!==4&&(Vt=2),as===null?as=[f]:as.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=Yh(f,w,t);zf(f,O);break e;case 1:m=w;var N=f.type,_=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ni===null||!ni.has(_)))){f.flags|=65536,t&=-t,f.lanes|=t;var R=Zh(f,m,t);zf(f,R);break e}}f=f.return}while(f!==null)}hg(i)}catch(q){t=q,kt===i&&i!==null&&(kt=i=i.return);continue}break}while(1)}function fg(){var e=Wa.current;return Wa.current=ja,e===null?ja:e}function E1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Yt===null||!(_i&268435455)&&!(xl&268435455)||Zr(Yt,en)}function Ya(e,t){var i=We;We|=2;var s=fg();(Yt!==e||en!==t)&&(Cr=null,Si(e,t));do try{Vm();break}catch(c){cg(e,c)}while(1);if(n1(),We=i,Wa.current=s,kt!==null)throw Error(ne(261));return Yt=null,en=0,Vt}function Vm(){for(;kt!==null;)dg(kt)}function Hm(){for(;kt!==null&&!hx();)dg(kt)}function dg(e){var t=pg(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?hg(e):kt=t,p1.current=null}function hg(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=km(i,t),i!==null){i.flags&=32767,kt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,kt=null;return}}else if(i=Pm(i,t,_n),i!==null){kt=i;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Vt===0&&(Vt=5)}function yi(e,t,i){var s=$e,c=Gn.transition;try{Gn.transition=null,$e=1,jm(e,t,i,s)}finally{Gn.transition=c,$e=s}return null}function jm(e,t,i,s){do fo();while(Qr!==null);if(We&6)throw Error(ne(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(vx(e,f),e===Yt&&(kt=Yt=null,en=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||aa||(aa=!0,xg(Na,function(){return fo(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=Gn.transition,Gn.transition=null;var g=$e;$e=1;var m=We;We|=4,p1.current=null,Lm(e,i),ag(i,e),um(Qu),Oa=!!Ku,Qu=Ku=null,e.current=i,Fm(i),gx(),We=m,$e=g,Gn.transition=f}else e.current=i;if(aa&&(aa=!1,Qr=e,Xa=c),f=e.pendingLanes,f===0&&(ni=null),mx(i.stateNode),Sn(e,Mt()),t!==null)for(s=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],s(c.value,{componentStack:c.stack,digest:c.digest});if(Ga)throw Ga=!1,e=xc,xc=null,e;return Xa&1&&e.tag!==0&&fo(),f=e.pendingLanes,f&1?e===mc?ls++:(ls=0,mc=e):ls=0,ci(),null}function fo(){if(Qr!==null){var e=Xd(Xa),t=Gn.transition,i=$e;try{if(Gn.transition=null,$e=16>e?16:e,Qr===null)var s=!1;else{if(e=Qr,Qr=null,Xa=0,We&6)throw Error(ne(331));var c=We;for(We|=4,de=e.current;de!==null;){var f=de,g=f.child;if(de.flags&16){var m=f.deletions;if(m!==null){for(var w=0;w<m.length;w++){var x=m[w];for(de=x;de!==null;){var A=de;switch(A.tag){case 0:case 11:case 15:ss(8,A,f)}var S=A.child;if(S!==null)S.return=A,de=S;else for(;de!==null;){A=de;var b=A.sibling,U=A.return;if(ig(A),A===x){de=null;break}if(b!==null){b.return=U,de=b;break}de=U}}}var M=f.alternate;if(M!==null){var k=M.child;if(k!==null){M.child=null;do{var J=k.sibling;k.sibling=null,k=J}while(k!==null)}}de=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,de=g;else e:for(;de!==null;){if(f=de,f.flags&2048)switch(f.tag){case 0:case 11:case 15:ss(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,de=O;break e}de=f.return}}var N=e.current;for(de=N;de!==null;){g=de;var _=g.child;if(g.subtreeFlags&2064&&_!==null)_.return=g,de=_;else e:for(g=N;de!==null;){if(m=de,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:pl(9,m)}}catch(q){Nt(m,m.return,q)}if(m===g){de=null;break e}var R=m.sibling;if(R!==null){R.return=m.return,de=R;break e}de=m.return}}if(We=c,ci(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(al,e)}catch{}s=!0}return s}finally{$e=i,Gn.transition=t}}return!1}function l0(e,t,i){t=Eo(i,t),t=Yh(e,t,1),e=ti(e,t,1),t=dn(),e!==null&&(Ds(e,1,t),Sn(e,t))}function Nt(e,t,i){if(e.tag===3)l0(e,e,i);else for(;t!==null;){if(t.tag===3){l0(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))){e=Eo(i,e),e=Zh(t,e,1),t=ti(t,e,1),e=dn(),t!==null&&(Ds(t,1,e),Sn(t,e));break}}t=t.return}}function Wm(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),t=dn(),e.pingedLanes|=e.suspendedLanes&i,Yt===e&&(en&i)===i&&(Vt===4||Vt===3&&(en&130023424)===en&&500>Mt()-m1?Si(e,0):x1|=i),Sn(e,t)}function gg(e,t){t===0&&(e.mode&1?(t=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):t=1);var i=dn();e=_r(e,t),e!==null&&(Ds(e,t,i),Sn(e,i))}function Gm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),gg(e,i)}function Xm(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ne(314))}s!==null&&s.delete(t),gg(e,i)}var pg;pg=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||An.current)Cn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Cn=!1,Mm(e,t,i);Cn=!!(e.flags&131072)}else Cn=!1,pt&&t.flags&1048576&&wh(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ea(e,t),e=t.pendingProps;var c=xo(t,un.current);co(t,i),c=c1(null,t,s,e,c,i);var f=f1();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(s)?(f=!0,ka(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,o1(t),c.updater=hl,t.stateNode=c,c._reactInternals=t,oc(t,s,e,i),t=lc(null,t,s,!0,f,i)):(t.tag=0,pt&&f&&Jc(t),fn(null,t,c,i),t=t.child),t;case 16:s=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,c=s._init,s=c(s._payload),t.type=s,c=t.tag=Zm(s),e=Jn(s,e),c){case 0:t=ac(null,t,s,e,i);break e;case 1:t=Jf(null,t,s,e,i);break e;case 11:t=Qf(null,t,s,e,i);break e;case 14:t=qf(null,t,s,Jn(s.type,e),i);break e}throw Error(ne(306,s,""))}return t;case 0:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:Jn(s,c),ac(e,t,s,c,i);case 1:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:Jn(s,c),Jf(e,t,s,c,i);case 3:e:{if(Jh(t),e===null)throw Error(ne(387));s=t.pendingProps,f=t.memoizedState,c=f.element,Ah(e,t),za(t,s,null,i);var g=t.memoizedState;if(s=g.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Eo(Error(ne(423)),t),t=$f(e,t,s,i,c);break e}else if(s!==c){c=Eo(Error(ne(424)),t),t=$f(e,t,s,i,c);break e}else for(On=ei(t.stateNode.containerInfo.firstChild),bn=t,pt=!0,tr=null,i=Th(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(mo(),s===c){t=Or(e,t,i);break e}fn(e,t,s,i)}t=t.child}return t;case 5:return Rh(t),e===null&&nc(t),s=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,qu(s,c)?g=null:f!==null&&qu(s,f)&&(t.flags|=32),qh(e,t),fn(e,t,g,i),t.child;case 6:return e===null&&nc(t),null;case 13:return $h(e,t,i);case 4:return s1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wo(t,null,s,i):fn(e,t,s,i),t.child;case 11:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:Jn(s,c),Qf(e,t,s,c,i);case 7:return fn(e,t,t.pendingProps,i),t.child;case 8:return fn(e,t,t.pendingProps.children,i),t.child;case 12:return fn(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,at(Fa,s._currentValue),s._currentValue=g,f!==null)if(ir(f.value,g)){if(f.children===c.children&&!An.current){t=Or(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var w=m.firstContext;w!==null;){if(w.context===s){if(f.tag===1){w=Tr(-1,i&-i),w.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var A=x.pending;A===null?w.next=w:(w.next=A.next,A.next=w),x.pending=w}}f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),rc(f.return,i,t),m.lanes|=i;break}w=w.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(ne(341));g.lanes|=i,m=g.alternate,m!==null&&(m.lanes|=i),rc(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}fn(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,s=t.pendingProps.children,co(t,i),c=Xn(c),s=s(c),t.flags|=1,fn(e,t,s,i),t.child;case 14:return s=t.type,c=Jn(s,t.pendingProps),c=Jn(s.type,c),qf(e,t,s,c,i);case 15:return Kh(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:Jn(s,c),Ea(e,t),t.tag=1,vn(s)?(e=!0,ka(t)):e=!1,co(t,i),Sh(t,s,c),oc(t,s,c,i),lc(null,t,s,!0,e,i);case 19:return eg(e,t,i);case 22:return Qh(e,t,i)}throw Error(ne(156,t.tag))};function xg(e,t){return Hd(e,t)}function Ym(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,i,s){return new Ym(e,t,i,s)}function C1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zm(e){if(typeof e=="function")return C1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zc)return 11;if(e===Vc)return 14}return 2}function ii(e,t){var i=e.alternate;return i===null?(i=jn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function va(e,t,i,s,c,f){var g=2;if(s=e,typeof e=="function")C1(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Xi:return Ii(i.children,c,f,t);case Uc:g=8,c|=8;break;case _u:return e=jn(12,i,t,c|2),e.elementType=_u,e.lanes=f,e;case Ou:return e=jn(13,i,t,c),e.elementType=Ou,e.lanes=f,e;case bu:return e=jn(19,i,t,c),e.elementType=bu,e.lanes=f,e;case Id:return ml(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vd:g=10;break e;case Sd:g=9;break e;case zc:g=11;break e;case Vc:g=14;break e;case Gr:g=16,s=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=jn(g,i,t,c),t.elementType=e,t.type=s,t.lanes=f,t}function Ii(e,t,i,s){return e=jn(7,e,s,t),e.lanes=i,e}function ml(e,t,i,s){return e=jn(22,e,s,t),e.elementType=Id,e.lanes=i,e.stateNode={isHidden:!1},e}function mu(e,t,i){return e=jn(6,e,null,t),e.lanes=i,e}function wu(e,t,i){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Km(e,t,i,s,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=s,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function A1(e,t,i,s,c,f,g,m,w){return e=new Km(e,t,i,m,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=jn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},o1(f),e}function Qm(e,t,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:i}}function mg(e){if(!e)return ai;e=e._reactInternals;e:{if(Mi(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var i=e.type;if(vn(i))return xh(e,i,t)}return t}function wg(e,t,i,s,c,f,g,m,w){return e=A1(i,s,!0,e,c,f,g,m,w),e.context=mg(null),i=e.current,s=dn(),c=ri(i),f=Tr(s,c),f.callback=t??null,ti(i,f,c),e.current.lanes=c,Ds(e,c,s),Sn(e,s),e}function wl(e,t,i,s){var c=t.current,f=dn(),g=ri(c);return i=mg(i),t.context===null?t.context=i:t.pendingContext=i,t=Tr(f,g),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ti(c,t,g),e!==null&&(rr(e,c,g,f),ma(e,c,g)),g}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function v1(e,t){u0(e,t),(e=e.alternate)&&u0(e,t)}function qm(){return null}var yg=typeof reportError=="function"?reportError:function(e){console.error(e)};function S1(e){this._internalRoot=e}yl.prototype.render=S1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));wl(e,t,null,null)};yl.prototype.unmount=S1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oi(function(){wl(null,e,null,null)}),t[Nr]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Yr.length&&t!==0&&t<Yr[i].priority;i++);Yr.splice(i,0,e),i===0&&qd(e)}};function I1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c0(){}function Jm(e,t,i,s,c){if(c){if(typeof s=="function"){var f=s;s=function(){var x=Za(g);f.call(x)}}var g=wg(t,s,e,0,null,!1,!1,"",c0);return e._reactRootContainer=g,e[Nr]=g.current,ys(e.nodeType===8?e.parentNode:e),Oi(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof s=="function"){var m=s;s=function(){var x=Za(w);m.call(x)}}var w=A1(e,0,!1,null,null,!1,!1,"",c0);return e._reactRootContainer=w,e[Nr]=w.current,ys(e.nodeType===8?e.parentNode:e),Oi(function(){wl(t,w,i,s)}),w}function Cl(e,t,i,s,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var m=c;c=function(){var w=Za(g);m.call(w)}}wl(t,g,e,c)}else g=Jm(i,t,e,c,s);return Za(g)}Yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Jo(t.pendingLanes);i!==0&&(Wc(t,i|1),Sn(t,Mt()),!(We&6)&&(Co=Mt()+500,ci()))}break;case 13:Oi(function(){var s=_r(e,1);if(s!==null){var c=dn();rr(s,e,1,c)}}),v1(e,1)}};Gc=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var i=dn();rr(t,e,134217728,i)}v1(e,134217728)}};Zd=function(e){if(e.tag===13){var t=ri(e),i=_r(e,t);if(i!==null){var s=dn();rr(i,e,t,s)}v1(e,t)}};Kd=function(){return $e};Qd=function(e,t){var i=$e;try{return $e=e,t()}finally{$e=i}};Vu=function(e,t,i){switch(t){case"input":if(Pu(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var c=fl(s);if(!c)throw Error(ne(90));Rd(s),Pu(s,c)}}}break;case"textarea":_d(e,i);break;case"select":t=i.value,t!=null&&so(e,!!i.multiple,t,!1)}};Bd=w1;Ld=Oi;var $m={usingClientEntryPoint:!1,Events:[Ps,Qi,fl,Pd,kd,w1]},Go={findFiberByHostInstance:Ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ew={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zd(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||qm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{al=la.inject(ew),hr=la}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$m;Mn.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I1(t))throw Error(ne(200));return Qm(e,t,null,i)};Mn.createRoot=function(e,t){if(!I1(e))throw Error(ne(299));var i=!1,s="",c=yg;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=A1(e,1,!1,null,null,i,!1,s,c),e[Nr]=t.current,ys(e.nodeType===8?e.parentNode:e),new S1(t)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=zd(t),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return Oi(e)};Mn.hydrate=function(e,t,i){if(!El(t))throw Error(ne(200));return Cl(null,e,t,!0,i)};Mn.hydrateRoot=function(e,t,i){if(!I1(e))throw Error(ne(405));var s=i!=null&&i.hydratedSources||null,c=!1,f="",g=yg;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=wg(t,null,e,1,i??null,c,!1,f,g),e[Nr]=t.current,ys(e),s)for(e=0;e<s.length;e++)i=s[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new yl(t)};Mn.render=function(e,t,i){if(!El(t))throw Error(ne(200));return Cl(null,e,t,!1,i)};Mn.unmountComponentAtNode=function(e){if(!El(e))throw Error(ne(40));return e._reactRootContainer?(Oi(function(){Cl(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};Mn.unstable_batchedUpdates=w1;Mn.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!El(i))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Cl(e,t,i,!1,s)};Mn.version="18.2.0-next-9e3b772b8-20220608";function Eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eg)}catch(e){console.error(e)}}Eg(),wd.exports=Mn;var tw=wd.exports,f0=tw;Ru.createRoot=f0.createRoot,Ru.hydrateRoot=f0.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},wt.apply(this,arguments)}var bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bt||(bt={}));const d0="popstate";function nw(e){e===void 0&&(e={});function t(s,c){let{pathname:f,search:g,hash:m}=s.location;return Ns("",{pathname:f,search:g,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(s,c){return typeof c=="string"?c:Bs(c)}return iw(t,i,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rw(){return Math.random().toString(36).substr(2,8)}function h0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ns(e,t,i,s){return i===void 0&&(i=null),wt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dr(t):t,{state:i,key:t&&t.key||s||rw()})}function Bs(e){let{pathname:t="/",search:i="",hash:s=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Dr(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function iw(e,t,i,s){s===void 0&&(s={});let{window:c=document.defaultView,v5Compat:f=!1}=s,g=c.history,m=bt.Pop,w=null,x=A();x==null&&(x=0,g.replaceState(wt({},g.state,{idx:x}),""));function A(){return(g.state||{idx:null}).idx}function S(){m=bt.Pop;let J=A(),O=J==null?null:J-x;x=J,w&&w({action:m,location:k.location,delta:O})}function b(J,O){m=bt.Push;let N=Ns(k.location,J,O);i&&i(N,J),x=A()+1;let _=h0(N,x),R=k.createHref(N);try{g.pushState(_,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;c.location.assign(R)}f&&w&&w({action:m,location:k.location,delta:1})}function U(J,O){m=bt.Replace;let N=Ns(k.location,J,O);i&&i(N,J),x=A();let _=h0(N,x),R=k.createHref(N);g.replaceState(_,"",R),f&&w&&w({action:m,location:k.location,delta:0})}function M(J){let O=c.location.origin!=="null"?c.location.origin:c.location.href,N=typeof J=="string"?J:Bs(J);return Pe(O,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,O)}let k={get action(){return m},get location(){return e(c,g)},listen(J){if(w)throw new Error("A history only accepts one active listener");return c.addEventListener(d0,S),w=J,()=>{c.removeEventListener(d0,S),w=null}},createHref(J){return t(c,J)},createURL:M,encodeLocation(J){let O=M(J);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:U,go(J){return g.go(J)}};return k}var Dt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dt||(Dt={}));const ow=new Set(["lazy","caseSensitive","path","id","index","children"]);function sw(e){return e.index===!0}function Ec(e,t,i,s){return i===void 0&&(i=[]),s===void 0&&(s={}),e.map((c,f)=>{let g=[...i,f],m=typeof c.id=="string"?c.id:g.join("-");if(Pe(c.index!==!0||!c.children,"Cannot specify children on an index route"),Pe(!s[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),sw(c)){let w=wt({},c,t(c),{id:m});return s[m]=w,w}else{let w=wt({},c,t(c),{id:m,children:void 0});return s[m]=w,c.children&&(w.children=Ec(c.children,t,g,s)),w}})}function ro(e,t,i){i===void 0&&(i="/");let s=typeof t=="string"?Dr(t):t,c=Ls(s.pathname||"/",i);if(c==null)return null;let f=Cg(e);lw(f);let g=null;for(let m=0;g==null&&m<f.length;++m)g=mw(f[m],Ew(c));return g}function aw(e,t){let{route:i,pathname:s,params:c}=e;return{id:i.id,pathname:s,params:c,data:t[i.id],handle:i.handle}}function Cg(e,t,i,s){t===void 0&&(t=[]),i===void 0&&(i=[]),s===void 0&&(s="");let c=(f,g,m)=>{let w={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};w.relativePath.startsWith("/")&&(Pe(w.relativePath.startsWith(s),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(s.length));let x=oi([s,w.relativePath]),A=i.concat(w);f.children&&f.children.length>0&&(Pe(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Cg(f.children,t,A,x)),!(f.path==null&&!f.index)&&t.push({path:x,score:pw(x,f.index),routesMeta:A})};return e.forEach((f,g)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))c(f,g);else for(let w of Ag(f.path))c(f,g,w)}),t}function Ag(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(s.length===0)return c?[f,""]:[f];let g=Ag(s.join("/")),m=[];return m.push(...g.map(w=>w===""?f:[f,w].join("/"))),c&&m.push(...g),m.map(w=>e.startsWith("/")&&w===""?"/":w)}function lw(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:xw(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const uw=/^:\w+$/,cw=3,fw=2,dw=1,hw=10,gw=-2,g0=e=>e==="*";function pw(e,t){let i=e.split("/"),s=i.length;return i.some(g0)&&(s+=gw),t&&(s+=fw),i.filter(c=>!g0(c)).reduce((c,f)=>c+(uw.test(f)?cw:f===""?dw:hw),s)}function xw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,c)=>s===t[c])?e[e.length-1]-t[t.length-1]:0}function mw(e,t){let{routesMeta:i}=e,s={},c="/",f=[];for(let g=0;g<i.length;++g){let m=i[g],w=g===i.length-1,x=c==="/"?t:t.slice(c.length)||"/",A=ww({path:m.relativePath,caseSensitive:m.caseSensitive,end:w},x);if(!A)return null;Object.assign(s,A.params);let S=m.route;f.push({params:s,pathname:oi([c,A.pathname]),pathnameBase:Sw(oi([c,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(c=oi([c,A.pathnameBase]))}return f}function ww(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=yw(e.path,e.caseSensitive,e.end),c=t.match(i);if(!c)return null;let f=c[0],g=f.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((x,A,S)=>{if(A==="*"){let b=m[S]||"";g=f.slice(0,f.length-b.length).replace(/(.)\/+$/,"$1")}return x[A]=Cw(m[S]||"",A),x},{}),pathname:f,pathnameBase:g,pattern:e}}function yw(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(g,m)=>(s.push(m),"/([^\\/]+)"));return e.endsWith("*")?(s.push("*"),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),s]}function Ew(e){try{return decodeURI(e)}catch(t){return bi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cw(e,t){try{return decodeURIComponent(e)}catch(i){return bi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function Aw(e,t){t===void 0&&(t="/");let{pathname:i,search:s="",hash:c=""}=typeof e=="string"?Dr(e):e;return{pathname:i?i.startsWith("/")?i:vw(i,t):t,search:Iw(s),hash:Tw(c)}}function vw(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function yu(e,t,i,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Al(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function T1(e,t,i,s){s===void 0&&(s=!1);let c;typeof e=="string"?c=Dr(e):(c=wt({},e),Pe(!c.pathname||!c.pathname.includes("?"),yu("?","pathname","search",c)),Pe(!c.pathname||!c.pathname.includes("#"),yu("#","pathname","hash",c)),Pe(!c.search||!c.search.includes("#"),yu("#","search","hash",c)));let f=e===""||c.pathname==="",g=f?"/":c.pathname,m;if(s||g==null)m=i;else{let S=t.length-1;if(g.startsWith("..")){let b=g.split("/");for(;b[0]==="..";)b.shift(),S-=1;c.pathname=b.join("/")}m=S>=0?t[S]:"/"}let w=Aw(c,m),x=g&&g!=="/"&&g.endsWith("/"),A=(f||g===".")&&i.endsWith("/");return!w.pathname.endsWith("/")&&(x||A)&&(w.pathname+="/"),w}const oi=e=>e.join("/").replace(/\/\/+/g,"/"),Sw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Iw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class R1{constructor(t,i,s,c){c===void 0&&(c=!1),this.status=t,this.statusText=i||"",this.internal=c,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function vg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sg=["post","put","patch","delete"],Rw=new Set(Sg),Nw=["get",...Sg],_w=new Set(Nw),Ow=new Set([301,302,303,307,308]),bw=new Set([307,308]),Eu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mw=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Tg="remix-router-transitions";function Pw(e){const t=e.window?e.window:typeof window<"u"?window:void 0,i=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",s=!i;Pe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(e.mapRouteProperties)c=e.mapRouteProperties;else if(e.detectErrorBoundary){let B=e.detectErrorBoundary;c=W=>({hasErrorBoundary:B(W)})}else c=Mw;let f={},g=Ec(e.routes,c,void 0,f),m,w=e.basename||"/",x=wt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),A=null,S=new Set,b=null,U=null,M=null,k=e.hydrationData!=null,J=ro(g,e.history.location,w),O=null;if(J==null){let B=zn(404,{pathname:e.history.location.pathname}),{matches:W,route:K}=A0(g);J=W,O={[K.id]:B}}let N=!J.some(B=>B.route.lazy)&&(!J.some(B=>B.route.loader)||e.hydrationData!=null),_,R={historyAction:e.history.action,location:e.history.location,matches:J,initialized:N,navigation:Eu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},q=bt.Pop,X=!1,L,Z=!1,G=new Map,Ce=null,Ve=!1,pe=!1,De=[],ot=[],V=new Map,tt=0,Se=-1,se=new Map,xe=new Set,we=new Map,Ge=new Map,Re=new Map,nn=!1;function lt(){if(A=e.history.listen(B=>{let{action:W,location:K,delta:ue}=B;if(nn){nn=!1;return}bi(Re.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Ro({currentLocation:R.location,nextLocation:K,historyAction:W});if(ae&&ue!=null){nn=!0,e.history.go(ue*-1),Pt(ae,{state:"blocked",location:K,proceed(){Pt(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),e.history.go(ue)},reset(){let ye=new Map(R.blockers);ye.set(ae,Xo),nt({blockers:ye})}});return}return At(W,K)}),i){Gw(t,G);let B=()=>Xw(t,G);t.addEventListener("pagehide",B),Ce=()=>t.removeEventListener("pagehide",B)}return R.initialized||At(bt.Pop,R.location),_}function xr(){A&&A(),Ce&&Ce(),S.clear(),L&&L.abort(),R.fetchers.forEach((B,W)=>kr(W)),R.blockers.forEach((B,W)=>Kn(W))}function ge(B){return S.add(B),()=>S.delete(B)}function nt(B,W){R=wt({},R,B),S.forEach(K=>K(R,{unstable_viewTransitionOpts:W}))}function ht(B,W){var K,ue;let ae=R.actionData!=null&&R.navigation.formMethod!=null&&er(R.navigation.formMethod)&&R.navigation.state==="loading"&&((K=B.state)==null?void 0:K._isRedirect)!==!0,ye;W.actionData?Object.keys(W.actionData).length>0?ye=W.actionData:ye=null:ae?ye=R.actionData:ye=null;let Te=W.loaderData?C0(R.loaderData,W.loaderData,W.matches||[],W.errors):R.loaderData,Ae=R.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Oe,_e)=>Ae.set(_e,Xo)));let he=X===!0||R.navigation.formMethod!=null&&er(R.navigation.formMethod)&&((ue=B.state)==null?void 0:ue._isRedirect)!==!0;m&&(g=m,m=void 0),Ve||q===bt.Pop||(q===bt.Push?e.history.push(B,B.state):q===bt.Replace&&e.history.replace(B,B.state));let Ke;if(q===bt.Pop){let Oe=G.get(R.location.pathname);Oe&&Oe.has(B.pathname)?Ke={currentLocation:R.location,nextLocation:B}:G.has(B.pathname)&&(Ke={currentLocation:B,nextLocation:R.location})}else if(Z){let Oe=G.get(R.location.pathname);Oe?Oe.add(B.pathname):(Oe=new Set([B.pathname]),G.set(R.location.pathname,Oe)),Ke={currentLocation:R.location,nextLocation:B}}nt(wt({},W,{actionData:ye,loaderData:Te,historyAction:q,location:B,initialized:!0,navigation:Eu,revalidation:"idle",restoreScrollPosition:vt(B,W.matches||R.matches),preventScrollReset:he,blockers:Ae}),Ke),q=bt.Pop,X=!1,Z=!1,Ve=!1,pe=!1,De=[],ot=[]}async function Mr(B,W){if(typeof B=="number"){e.history.go(B);return}let K=Cc(R.location,R.matches,w,x.v7_prependBasename,B,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ue,submission:ae,error:ye}=p0(x.v7_normalizeFormMethod,!1,K,W),Te=R.location,Ae=Ns(R.location,ue,W&&W.state);Ae=wt({},Ae,e.history.encodeLocation(Ae));let he=W&&W.replace!=null?W.replace:void 0,Ke=bt.Push;he===!0?Ke=bt.Replace:he===!1||ae!=null&&er(ae.formMethod)&&ae.formAction===R.location.pathname+R.location.search&&(Ke=bt.Replace);let Oe=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,_e=Ro({currentLocation:Te,nextLocation:Ae,historyAction:Ke});if(_e){Pt(_e,{state:"blocked",location:Ae,proceed(){Pt(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),Mr(B,W)},reset(){let Ye=new Map(R.blockers);Ye.set(_e,Xo),nt({blockers:Ye})}});return}return await At(Ke,Ae,{submission:ae,pendingError:ye,preventScrollReset:Oe,replace:W&&W.replace,enableViewTransition:W&&W.unstable_viewTransition})}function fi(){if(Pr(),nt({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){At(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}At(q||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation})}}async function At(B,W,K){L&&L.abort(),L=null,q=B,Ve=(K&&K.startUninterruptedRevalidation)===!0,oe(R.location,R.matches),X=(K&&K.preventScrollReset)===!0,Z=(K&&K.enableViewTransition)===!0;let ue=m||g,ae=K&&K.overrideNavigation,ye=ro(ue,W,w);if(!ye){let Ye=zn(404,{pathname:W.pathname}),{matches:Ze,route:wr}=A0(ue);Br(),ht(W,{matches:Ze,loaderData:{},errors:{[wr.id]:Ye}});return}if(R.initialized&&!pe&&Uw(R.location,W)&&!(K&&K.submission&&er(K.submission.formMethod))){ht(W,{matches:ye});return}L=new AbortController;let Te=Zo(e.history,W,L.signal,K&&K.submission),Ae,he;if(K&&K.pendingError)he={[io(ye).route.id]:K.pendingError};else if(K&&K.submission&&er(K.submission.formMethod)){let Ye=await ki(Te,W,K.submission,ye,{replace:K.replace});if(Ye.shortCircuited)return;Ae=Ye.pendingActionData,he=Ye.pendingActionError,ae=Cu(W,K.submission),Te=new Request(Te.url,{signal:Te.signal})}let{shortCircuited:Ke,loaderData:Oe,errors:_e}=await He(Te,W,ye,ae,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,Ae,he);Ke||(L=null,ht(W,wt({matches:ye},Ae?{actionData:Ae}:{},{loaderData:Oe,errors:_e})))}async function ki(B,W,K,ue,ae){ae===void 0&&(ae={}),Pr();let ye=jw(W,K);nt({navigation:ye});let Te,Ae=vc(ue,W);if(!Ae.route.action&&!Ae.route.lazy)Te={type:Dt.error,error:zn(405,{method:B.method,pathname:W.pathname,routeId:Ae.route.id})};else if(Te=await Yo("action",B,Ae,ue,f,c,w),B.signal.aborted)return{shortCircuited:!0};if(ho(Te)){let he;return ae&&ae.replace!=null?he=ae.replace:he=Te.location===R.location.pathname+R.location.search,await Xe(R,Te,{submission:K,replace:he}),{shortCircuited:!0}}if(us(Te)){let he=io(ue,Ae.route.id);return(ae&&ae.replace)!==!0&&(q=bt.Push),{pendingActionData:{},pendingActionError:{[he.route.id]:Te.error}}}if(vi(Te))throw zn(400,{type:"defer-action"});return{pendingActionData:{[Ae.route.id]:Te.data}}}async function He(B,W,K,ue,ae,ye,Te,Ae,he){let Ke=ue||Cu(W,ae),Oe=ae||ye||I0(Ke),_e=m||g,[Ye,Ze]=x0(e.history,R,K,Oe,W,pe,De,ot,we,xe,_e,w,Ae,he);if(Br(Fe=>!(K&&K.some(rn=>rn.route.id===Fe))||Ye&&Ye.some(rn=>rn.route.id===Fe)),Se=++tt,Ye.length===0&&Ze.length===0){let Fe=Bi();return ht(W,wt({matches:K,loaderData:{},errors:he||null},Ae?{actionData:Ae}:{},Fe?{fetchers:new Map(R.fetchers)}:{})),{shortCircuited:!0}}if(!Ve){Ze.forEach(rn=>{let In=R.fetchers.get(rn.key),xn=Ko(void 0,In?In.data:void 0);R.fetchers.set(rn.key,xn)});let Fe=Ae||R.actionData;nt(wt({navigation:Ke},Fe?Object.keys(Fe).length===0?{actionData:null}:{actionData:Fe}:{},Ze.length>0?{fetchers:new Map(R.fetchers)}:{}))}Ze.forEach(Fe=>{V.has(Fe.key)&&Zn(Fe.key),Fe.controller&&V.set(Fe.key,Fe.controller)});let wr=()=>Ze.forEach(Fe=>Zn(Fe.key));L&&L.signal.addEventListener("abort",wr);let{results:cn,loaderResults:yr,fetcherResults:Ht}=await ke(R.matches,K,Ye,Ze,B);if(B.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",wr),Ze.forEach(Fe=>V.delete(Fe.key));let Zt=v0(cn);if(Zt){if(Zt.idx>=Ye.length){let Fe=Ze[Zt.idx-Ye.length].key;xe.add(Fe)}return await Xe(R,Zt.result,{replace:Te}),{shortCircuited:!0}}let{loaderData:St,errors:le}=E0(R,K,Ye,yr,he,Ze,Ht,Ge);Ge.forEach((Fe,rn)=>{Fe.subscribe(In=>{(In||Fe.done)&&Ge.delete(rn)})});let or=Bi(),hi=pn(Se),jt=or||hi||Ze.length>0;return wt({loaderData:St,errors:le},jt?{fetchers:new Map(R.fetchers)}:{})}function mr(B){return R.fetchers.get(B)||Dw}function kn(B,W,K,ue){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(B)&&Zn(B);let ae=m||g,ye=Cc(R.location,R.matches,w,x.v7_prependBasename,K,W,ue==null?void 0:ue.relative),Te=ro(ae,ye,w);if(!Te){fe(B,W,zn(404,{pathname:ye}));return}let{path:Ae,submission:he,error:Ke}=p0(x.v7_normalizeFormMethod,!0,ye,ue);if(Ke){fe(B,W,Ke);return}let Oe=vc(Te,Ae);if(X=(ue&&ue.preventScrollReset)===!0,he&&er(he.formMethod)){di(B,W,Ae,Oe,Te,he);return}we.set(B,{routeId:W,path:Ae}),Lt(B,W,Ae,Oe,Te,he)}async function di(B,W,K,ue,ae,ye){if(Pr(),we.delete(B),!ue.route.action&&!ue.route.lazy){let _t=zn(405,{method:ye.formMethod,pathname:K,routeId:W});fe(B,W,_t);return}let Te=R.fetchers.get(B),Ae=Ww(ye,Te);R.fetchers.set(B,Ae),nt({fetchers:new Map(R.fetchers)});let he=new AbortController,Ke=Zo(e.history,K,he.signal,ye);V.set(B,he);let Oe=tt,_e=await Yo("action",Ke,ue,ae,f,c,w);if(Ke.signal.aborted){V.get(B)===he&&V.delete(B);return}if(ho(_e))if(V.delete(B),Se>Oe){let _t=Wi(void 0);R.fetchers.set(B,_t),nt({fetchers:new Map(R.fetchers)});return}else{xe.add(B);let _t=Ko(ye);return R.fetchers.set(B,_t),nt({fetchers:new Map(R.fetchers)}),Xe(R,_e,{fetcherSubmission:ye})}if(us(_e)){fe(B,W,_e.error);return}if(vi(_e))throw zn(400,{type:"defer-action"});let Ye=R.navigation.location||R.location,Ze=Zo(e.history,Ye,he.signal),wr=m||g,cn=R.navigation.state!=="idle"?ro(wr,R.navigation.location,w):R.matches;Pe(cn,"Didn't find any matches after fetcher action");let yr=++tt;se.set(B,yr);let Ht=Ko(ye,_e.data);R.fetchers.set(B,Ht);let[Zt,St]=x0(e.history,R,cn,ye,Ye,pe,De,ot,we,xe,wr,w,{[ue.route.id]:_e.data},void 0);St.filter(_t=>_t.key!==B).forEach(_t=>{let gi=_t.key,Tn=R.fetchers.get(gi),Kt=Ko(void 0,Tn?Tn.data:void 0);R.fetchers.set(gi,Kt),V.has(gi)&&Zn(gi),_t.controller&&V.set(gi,_t.controller)}),nt({fetchers:new Map(R.fetchers)});let le=()=>St.forEach(_t=>Zn(_t.key));he.signal.addEventListener("abort",le);let{results:or,loaderResults:hi,fetcherResults:jt}=await ke(R.matches,cn,Zt,St,Ze);if(he.signal.aborted)return;he.signal.removeEventListener("abort",le),se.delete(B),V.delete(B),St.forEach(_t=>V.delete(_t.key));let Fe=v0(or);if(Fe){if(Fe.idx>=Zt.length){let _t=St[Fe.idx-Zt.length].key;xe.add(_t)}return Xe(R,Fe.result)}let{loaderData:rn,errors:In}=E0(R,R.matches,Zt,hi,void 0,St,jt,Ge);if(R.fetchers.has(B)){let _t=Wi(_e.data);R.fetchers.set(B,_t)}let xn=pn(yr);R.navigation.state==="loading"&&yr>Se?(Pe(q,"Expected pending action"),L&&L.abort(),ht(R.navigation.location,{matches:cn,loaderData:rn,errors:In,fetchers:new Map(R.fetchers)})):(nt(wt({errors:In,loaderData:C0(R.loaderData,rn,cn,In)},xn||St.length>0?{fetchers:new Map(R.fetchers)}:{})),pe=!1)}async function Lt(B,W,K,ue,ae,ye){let Te=R.fetchers.get(B),Ae=Ko(ye,Te?Te.data:void 0);R.fetchers.set(B,Ae),nt({fetchers:new Map(R.fetchers)});let he=new AbortController,Ke=Zo(e.history,K,he.signal);V.set(B,he);let Oe=tt,_e=await Yo("loader",Ke,ue,ae,f,c,w);if(vi(_e)&&(_e=await _g(_e,Ke.signal,!0)||_e),V.get(B)===he&&V.delete(B),Ke.signal.aborted)return;if(ho(_e))if(Se>Oe){let Ze=Wi(void 0);R.fetchers.set(B,Ze),nt({fetchers:new Map(R.fetchers)});return}else{xe.add(B),await Xe(R,_e);return}if(us(_e)){let Ze=io(R.matches,W);R.fetchers.delete(B),nt({fetchers:new Map(R.fetchers),errors:{[Ze.route.id]:_e.error}});return}Pe(!vi(_e),"Unhandled fetcher deferred data");let Ye=Wi(_e.data);R.fetchers.set(B,Ye),nt({fetchers:new Map(R.fetchers)})}async function Xe(B,W,K){let{submission:ue,fetcherSubmission:ae,replace:ye}=K===void 0?{}:K;W.revalidate&&(pe=!0);let Te=Ns(B.location,W.location,{_isRedirect:!0});if(Pe(Te,"Expected a location on the redirect navigation"),i){let Ye=!1;if(W.reloadDocument)Ye=!0;else if(Ig.test(W.location)){const Ze=e.history.createURL(W.location);Ye=Ze.origin!==t.location.origin||Ls(Ze.pathname,w)==null}if(Ye){ye?t.location.replace(W.location):t.location.assign(W.location);return}}L=null;let Ae=ye===!0?bt.Replace:bt.Push,{formMethod:he,formAction:Ke,formEncType:Oe}=B.navigation;!ue&&!ae&&he&&Ke&&Oe&&(ue=I0(B.navigation));let _e=ue||ae;if(bw.has(W.status)&&_e&&er(_e.formMethod))await At(Ae,Te,{submission:wt({},_e,{formAction:W.location}),preventScrollReset:X});else{let Ye=Cu(Te,ue);await At(Ae,Te,{overrideNavigation:Ye,fetcherSubmission:ae,preventScrollReset:X})}}async function ke(B,W,K,ue,ae){let ye=await Promise.all([...K.map(he=>Yo("loader",ae,he,W,f,c,w)),...ue.map(he=>he.matches&&he.match&&he.controller?Yo("loader",Zo(e.history,he.path,he.controller.signal),he.match,he.matches,f,c,w):{type:Dt.error,error:zn(404,{pathname:he.path})})]),Te=ye.slice(0,K.length),Ae=ye.slice(K.length);return await Promise.all([S0(B,K,Te,Te.map(()=>ae.signal),!1,R.loaderData),S0(B,ue.map(he=>he.match),Ae,ue.map(he=>he.controller?he.controller.signal:null),!0)]),{results:ye,loaderResults:Te,fetcherResults:Ae}}function Pr(){pe=!0,De.push(...Br()),we.forEach((B,W)=>{V.has(W)&&(ot.push(W),Zn(W))})}function fe(B,W,K){let ue=io(R.matches,W);kr(B),nt({errors:{[ue.route.id]:K},fetchers:new Map(R.fetchers)})}function kr(B){let W=R.fetchers.get(B);V.has(B)&&!(W&&W.state==="loading"&&se.has(B))&&Zn(B),we.delete(B),se.delete(B),xe.delete(B),R.fetchers.delete(B)}function Zn(B){let W=V.get(B);Pe(W,"Expected fetch controller: "+B),W.abort(),V.delete(B)}function Bn(B){for(let W of B){let K=mr(W),ue=Wi(K.data);R.fetchers.set(W,ue)}}function Bi(){let B=[],W=!1;for(let K of xe){let ue=R.fetchers.get(K);Pe(ue,"Expected fetcher: "+K),ue.state==="loading"&&(xe.delete(K),B.push(K),W=!0)}return Bn(B),W}function pn(B){let W=[];for(let[K,ue]of se)if(ue<B){let ae=R.fetchers.get(K);Pe(ae,"Expected fetcher: "+K),ae.state==="loading"&&(Zn(K),se.delete(K),W.push(K))}return Bn(W),W.length>0}function Us(B,W){let K=R.blockers.get(B)||Xo;return Re.get(B)!==W&&Re.set(B,W),K}function Kn(B){R.blockers.delete(B),Re.delete(B)}function Pt(B,W){let K=R.blockers.get(B)||Xo;Pe(K.state==="unblocked"&&W.state==="blocked"||K.state==="blocked"&&W.state==="blocked"||K.state==="blocked"&&W.state==="proceeding"||K.state==="blocked"&&W.state==="unblocked"||K.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+W.state);let ue=new Map(R.blockers);ue.set(B,W),nt({blockers:ue})}function Ro(B){let{currentLocation:W,nextLocation:K,historyAction:ue}=B;if(Re.size===0)return;Re.size>1&&bi(!1,"A router only supports one blocker at a time");let ae=Array.from(Re.entries()),[ye,Te]=ae[ae.length-1],Ae=R.blockers.get(ye);if(!(Ae&&Ae.state==="proceeding")&&Te({currentLocation:W,nextLocation:K,historyAction:ue}))return ye}function Br(B){let W=[];return Ge.forEach((K,ue)=>{(!B||B(ue))&&(K.cancel(),W.push(ue),Ge.delete(ue))}),W}function Rl(B,W,K){if(b=B,M=W,U=K||null,!k&&R.navigation===Eu){k=!0;let ue=vt(R.location,R.matches);ue!=null&&nt({restoreScrollPosition:ue})}return()=>{b=null,M=null,U=null}}function xt(B,W){return U&&U(B,W.map(ue=>aw(ue,R.loaderData)))||B.key}function oe(B,W){if(b&&M){let K=xt(B,W);b[K]=M()}}function vt(B,W){if(b){let K=xt(B,W),ue=b[K];if(typeof ue=="number")return ue}return null}function Je(B){f={},m=Ec(B,c,void 0,f)}return _={get basename(){return w},get state(){return R},get routes(){return g},get window(){return t},initialize:lt,subscribe:ge,enableScrollRestoration:Rl,navigate:Mr,fetch:kn,revalidate:fi,createHref:B=>e.history.createHref(B),encodeLocation:B=>e.history.encodeLocation(B),getFetcher:mr,deleteFetcher:kr,dispose:xr,getBlocker:Us,deleteBlocker:Kn,_internalFetchControllers:V,_internalActiveDeferreds:Ge,_internalSetRoutes:Je},_}function kw(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Cc(e,t,i,s,c,f,g){let m,w;if(f!=null&&g!=="path"){m=[];for(let A of t)if(m.push(A),A.route.id===f){w=A;break}}else m=t,w=t[t.length-1];let x=T1(c||".",Al(m).map(A=>A.pathnameBase),Ls(e.pathname,i)||e.pathname,g==="path");return c==null&&(x.search=e.search,x.hash=e.hash),(c==null||c===""||c===".")&&w&&w.route.index&&!N1(x.search)&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),s&&i!=="/"&&(x.pathname=x.pathname==="/"?i:oi([i,x.pathname])),Bs(x)}function p0(e,t,i,s){if(!s||!kw(s))return{path:i};if(s.formMethod&&!Hw(s.formMethod))return{path:i,error:zn(405,{method:s.formMethod})};let c=()=>({path:i,error:zn(400,{type:"invalid-body"})}),f=s.formMethod||"get",g=e?f.toUpperCase():f.toLowerCase(),m=Ng(i);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!er(g))return c();let b=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((U,M)=>{let[k,J]=M;return""+U+k+"="+J+`
`},""):String(s.body);return{path:i,submission:{formMethod:g,formAction:m,formEncType:s.formEncType,formData:void 0,json:void 0,text:b}}}else if(s.formEncType==="application/json"){if(!er(g))return c();try{let b=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:i,submission:{formMethod:g,formAction:m,formEncType:s.formEncType,formData:void 0,json:b,text:void 0}}}catch{return c()}}}Pe(typeof FormData=="function","FormData is not available in this environment");let w,x;if(s.formData)w=Ac(s.formData),x=s.formData;else if(s.body instanceof FormData)w=Ac(s.body),x=s.body;else if(s.body instanceof URLSearchParams)w=s.body,x=y0(w);else if(s.body==null)w=new URLSearchParams,x=new FormData;else try{w=new URLSearchParams(s.body),x=y0(w)}catch{return c()}let A={formMethod:g,formAction:m,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:x,json:void 0,text:void 0};if(er(A.formMethod))return{path:i,submission:A};let S=Dr(i);return t&&S.search&&N1(S.search)&&w.append("index",""),S.search="?"+w,{path:Bs(S),submission:A}}function Bw(e,t){let i=e;if(t){let s=e.findIndex(c=>c.route.id===t);s>=0&&(i=e.slice(0,s))}return i}function x0(e,t,i,s,c,f,g,m,w,x,A,S,b,U){let M=U?Object.values(U)[0]:b?Object.values(b)[0]:void 0,k=e.createURL(t.location),J=e.createURL(c),O=U?Object.keys(U)[0]:void 0,_=Bw(i,O).filter((q,X)=>{if(q.route.lazy)return!0;if(q.route.loader==null)return!1;if(Lw(t.loaderData,t.matches[X],q)||g.some(G=>G===q.route.id))return!0;let L=t.matches[X],Z=q;return m0(q,wt({currentUrl:k,currentParams:L.params,nextUrl:J,nextParams:Z.params},s,{actionResult:M,defaultShouldRevalidate:f||k.pathname+k.search===J.pathname+J.search||k.search!==J.search||Rg(L,Z)}))}),R=[];return w.forEach((q,X)=>{if(!i.some(Ve=>Ve.route.id===q.routeId))return;let L=ro(A,q.path,S);if(!L){R.push({key:X,routeId:q.routeId,path:q.path,matches:null,match:null,controller:null});return}let Z=t.fetchers.get(X),G=vc(L,q.path),Ce=!1;x.has(X)?Ce=!1:m.includes(X)?Ce=!0:Z&&Z.state!=="idle"&&Z.data===void 0?Ce=f:Ce=m0(G,wt({currentUrl:k,currentParams:t.matches[t.matches.length-1].params,nextUrl:J,nextParams:i[i.length-1].params},s,{actionResult:M,defaultShouldRevalidate:f})),Ce&&R.push({key:X,routeId:q.routeId,path:q.path,matches:L,match:G,controller:new AbortController})}),[_,R]}function Lw(e,t,i){let s=!t||i.route.id!==t.route.id,c=e[i.route.id]===void 0;return s||c}function Rg(e,t){let i=e.route.path;return e.pathname!==t.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function m0(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if(typeof i=="boolean")return i}return t.defaultShouldRevalidate}async function w0(e,t,i){if(!e.lazy)return;let s=await e.lazy();if(!e.lazy)return;let c=i[e.id];Pe(c,"No route found in manifest");let f={};for(let g in s){let w=c[g]!==void 0&&g!=="hasErrorBoundary";bi(!w,'Route "'+c.id+'" has a static property "'+g+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+g+'" will be ignored.')),!w&&!ow.has(g)&&(f[g]=s[g])}Object.assign(c,f),Object.assign(c,wt({},t(c),{lazy:void 0}))}async function Yo(e,t,i,s,c,f,g,m){m===void 0&&(m={});let w,x,A,S=M=>{let k,J=new Promise((O,N)=>k=N);return A=()=>k(),t.signal.addEventListener("abort",A),Promise.race([M({request:t,params:i.params,context:m.requestContext}),J])};try{let M=i.route[e];if(i.route.lazy)if(M){let k,J=await Promise.all([S(M).catch(O=>{k=O}),w0(i.route,f,c)]);if(k)throw k;x=J[0]}else if(await w0(i.route,f,c),M=i.route[e],M)x=await S(M);else if(e==="action"){let k=new URL(t.url),J=k.pathname+k.search;throw zn(405,{method:t.method,pathname:J,routeId:i.route.id})}else return{type:Dt.data,data:void 0};else if(M)x=await S(M);else{let k=new URL(t.url),J=k.pathname+k.search;throw zn(404,{pathname:J})}Pe(x!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(M){w=Dt.error,x=M}finally{A&&t.signal.removeEventListener("abort",A)}if(Vw(x)){let M=x.status;if(Ow.has(M)){let O=x.headers.get("Location");if(Pe(O,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ig.test(O))O=Cc(new URL(t.url),s.slice(0,s.indexOf(i)+1),g,!0,O);else if(!m.isStaticRequest){let N=new URL(t.url),_=O.startsWith("//")?new URL(N.protocol+O):new URL(O),R=Ls(_.pathname,g)!=null;_.origin===N.origin&&R&&(O=_.pathname+_.search+_.hash)}if(m.isStaticRequest)throw x.headers.set("Location",O),x;return{type:Dt.redirect,status:M,location:O,revalidate:x.headers.get("X-Remix-Revalidate")!==null,reloadDocument:x.headers.get("X-Remix-Reload-Document")!==null}}if(m.isRouteRequest)throw{type:w===Dt.error?Dt.error:Dt.data,response:x};let k,J=x.headers.get("Content-Type");return J&&/\bapplication\/json\b/.test(J)?k=await x.json():k=await x.text(),w===Dt.error?{type:w,error:new R1(M,x.statusText,k),headers:x.headers}:{type:Dt.data,data:k,statusCode:x.status,headers:x.headers}}if(w===Dt.error)return{type:w,error:x};if(zw(x)){var b,U;return{type:Dt.deferred,deferredData:x,statusCode:(b=x.init)==null?void 0:b.status,headers:((U=x.init)==null?void 0:U.headers)&&new Headers(x.init.headers)}}return{type:Dt.data,data:x}}function Zo(e,t,i,s){let c=e.createURL(Ng(t)).toString(),f={signal:i};if(s&&er(s.formMethod)){let{formMethod:g,formEncType:m}=s;f.method=g.toUpperCase(),m==="application/json"?(f.headers=new Headers({"Content-Type":m}),f.body=JSON.stringify(s.json)):m==="text/plain"?f.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?f.body=Ac(s.formData):f.body=s.formData}return new Request(c,f)}function Ac(e){let t=new URLSearchParams;for(let[i,s]of e.entries())t.append(i,typeof s=="string"?s:s.name);return t}function y0(e){let t=new FormData;for(let[i,s]of e.entries())t.append(i,s);return t}function Fw(e,t,i,s,c){let f={},g=null,m,w=!1,x={};return i.forEach((A,S)=>{let b=t[S].route.id;if(Pe(!ho(A),"Cannot handle redirect results in processLoaderData"),us(A)){let U=io(e,b),M=A.error;s&&(M=Object.values(s)[0],s=void 0),g=g||{},g[U.route.id]==null&&(g[U.route.id]=M),f[b]=void 0,w||(w=!0,m=vg(A.error)?A.error.status:500),A.headers&&(x[b]=A.headers)}else vi(A)?(c.set(b,A.deferredData),f[b]=A.deferredData.data):f[b]=A.data,A.statusCode!=null&&A.statusCode!==200&&!w&&(m=A.statusCode),A.headers&&(x[b]=A.headers)}),s&&(g=s,f[Object.keys(s)[0]]=void 0),{loaderData:f,errors:g,statusCode:m||200,loaderHeaders:x}}function E0(e,t,i,s,c,f,g,m){let{loaderData:w,errors:x}=Fw(t,i,s,c,m);for(let A=0;A<f.length;A++){let{key:S,match:b,controller:U}=f[A];Pe(g!==void 0&&g[A]!==void 0,"Did not find corresponding fetcher result");let M=g[A];if(!(U&&U.signal.aborted))if(us(M)){let k=io(e.matches,b==null?void 0:b.route.id);x&&x[k.route.id]||(x=wt({},x,{[k.route.id]:M.error})),e.fetchers.delete(S)}else if(ho(M))Pe(!1,"Unhandled fetcher revalidation redirect");else if(vi(M))Pe(!1,"Unhandled fetcher deferred data");else{let k=Wi(M.data);e.fetchers.set(S,k)}}return{loaderData:w,errors:x}}function C0(e,t,i,s){let c=wt({},t);for(let f of i){let g=f.route.id;if(t.hasOwnProperty(g)?t[g]!==void 0&&(c[g]=t[g]):e[g]!==void 0&&f.route.loader&&(c[g]=e[g]),s&&s.hasOwnProperty(g))break}return c}function io(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function A0(e){let t=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function zn(e,t){let{pathname:i,routeId:s,method:c,type:f}=t===void 0?{}:t,g="Unknown Server Error",m="Unknown @remix-run/router error";return e===400?(g="Bad Request",c&&i&&s?m="You made a "+c+' request to "'+i+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":f==="defer-action"?m="defer() is not supported in actions":f==="invalid-body"&&(m="Unable to encode submission body")):e===403?(g="Forbidden",m='Route "'+s+'" does not match URL "'+i+'"'):e===404?(g="Not Found",m='No route matches URL "'+i+'"'):e===405&&(g="Method Not Allowed",c&&i&&s?m="You made a "+c.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":c&&(m='Invalid request method "'+c.toUpperCase()+'"')),new R1(e||500,g,new Error(m),!0)}function v0(e){for(let t=e.length-1;t>=0;t--){let i=e[t];if(ho(i))return{result:i,idx:t}}}function Ng(e){let t=typeof e=="string"?Dr(e):e;return Bs(wt({},t,{hash:""}))}function Uw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function vi(e){return e.type===Dt.deferred}function us(e){return e.type===Dt.error}function ho(e){return(e&&e.type)===Dt.redirect}function zw(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Vw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Hw(e){return _w.has(e.toLowerCase())}function er(e){return Rw.has(e.toLowerCase())}async function S0(e,t,i,s,c,f){for(let g=0;g<i.length;g++){let m=i[g],w=t[g];if(!w)continue;let x=e.find(S=>S.route.id===w.route.id),A=x!=null&&!Rg(x,w)&&(f&&f[w.route.id])!==void 0;if(vi(m)&&(c||A)){let S=s[g];Pe(S,"Expected an AbortSignal for revalidating fetcher deferred result"),await _g(m,S,c).then(b=>{b&&(i[g]=b||i[g])})}}}async function _g(e,t,i){if(i===void 0&&(i=!1),!await e.deferredData.resolveData(t)){if(i)try{return{type:Dt.data,data:e.deferredData.unwrappedData}}catch(c){return{type:Dt.error,error:c}}return{type:Dt.data,data:e.deferredData.data}}}function N1(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function vc(e,t){let i=typeof t=="string"?Dr(t).search:t.search;if(e[e.length-1].route.index&&N1(i||""))return e[e.length-1];let s=Al(e);return s[s.length-1]}function I0(e){let{formMethod:t,formAction:i,formEncType:s,text:c,formData:f,json:g}=e;if(!(!t||!i||!s)){if(c!=null)return{formMethod:t,formAction:i,formEncType:s,formData:void 0,json:void 0,text:c};if(f!=null)return{formMethod:t,formAction:i,formEncType:s,formData:f,json:void 0,text:void 0};if(g!==void 0)return{formMethod:t,formAction:i,formEncType:s,formData:void 0,json:g,text:void 0}}}function Cu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jw(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ko(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ww(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Wi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Gw(e,t){try{let i=e.sessionStorage.getItem(Tg);if(i){let s=JSON.parse(i);for(let[c,f]of Object.entries(s||{}))f&&Array.isArray(f)&&t.set(c,new Set(f||[]))}}catch{}}function Xw(e,t){if(t.size>0){let i={};for(let[s,c]of t)i[s]=[...c];try{e.sessionStorage.setItem(Tg,JSON.stringify(i))}catch(s){bi(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Ka.apply(this,arguments)}const vl=te.createContext(null),Og=te.createContext(null),Sl=te.createContext(null),Il=te.createContext(null),Pi=te.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=te.createContext(null);function Fs(){return te.useContext(Il)!=null}function _1(){return Fs()||Pe(!1),te.useContext(Il).location}function Dg(e){te.useContext(Sl).static||te.useLayoutEffect(e)}function Tl(){let{isDataRoute:e}=te.useContext(Pi);return e?i3():Yw()}function Yw(){Fs()||Pe(!1);let e=te.useContext(vl),{basename:t,navigator:i}=te.useContext(Sl),{matches:s}=te.useContext(Pi),{pathname:c}=_1(),f=JSON.stringify(Al(s).map(w=>w.pathnameBase)),g=te.useRef(!1);return Dg(()=>{g.current=!0}),te.useCallback(function(w,x){if(x===void 0&&(x={}),!g.current)return;if(typeof w=="number"){i.go(w);return}let A=T1(w,JSON.parse(f),c,x.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:oi([t,A.pathname])),(x.replace?i.replace:i.push)(A,x.state,x)},[t,i,f,c,e])}function Zw(e,t,i){Fs()||Pe(!1);let{navigator:s}=te.useContext(Sl),{matches:c}=te.useContext(Pi),f=c[c.length-1],g=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let w=_1(),x;if(t){var A;let k=typeof t=="string"?Dr(t):t;m==="/"||(A=k.pathname)!=null&&A.startsWith(m)||Pe(!1),x=k}else x=w;let S=x.pathname||"/",b=m==="/"?S:S.slice(m.length)||"/",U=ro(e,{pathname:b}),M=$w(U&&U.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:oi([m,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:oi([m,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,i);return t&&M?te.createElement(Il.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:bt.Pop}},M):M}function Kw(){let e=r3(),t=vg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},f=null;return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),i?te.createElement("pre",{style:c},i):null,f)}const Qw=te.createElement(Kw,null);class qw extends te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error?te.createElement(Pi.Provider,{value:this.props.routeContext},te.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jw(e){let{routeContext:t,match:i,children:s}=e,c=te.useContext(vl);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),te.createElement(Pi.Provider,{value:t},s)}function $w(e,t,i){var s;if(t===void 0&&(t=[]),i===void 0&&(i=null),e==null){var c;if((c=i)!=null&&c.errors)e=i.matches;else return null}let f=e,g=(s=i)==null?void 0:s.errors;if(g!=null){let m=f.findIndex(w=>w.route.id&&(g==null?void 0:g[w.route.id]));m>=0||Pe(!1),f=f.slice(0,Math.min(f.length,m+1))}return f.reduceRight((m,w,x)=>{let A=w.route.id?g==null?void 0:g[w.route.id]:null,S=null;i&&(S=w.route.errorElement||Qw);let b=t.concat(f.slice(0,x+1)),U=()=>{let M;return A?M=S:w.route.Component?M=te.createElement(w.route.Component,null):w.route.element?M=w.route.element:M=m,te.createElement(Jw,{match:w,routeContext:{outlet:m,matches:b,isDataRoute:i!=null},children:M})};return i&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?te.createElement(qw,{location:i.location,revalidation:i.revalidation,component:S,error:A,children:U(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):U()},null)}var Mg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mg||{}),Qa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qa||{});function e3(e){let t=te.useContext(vl);return t||Pe(!1),t}function t3(e){let t=te.useContext(Og);return t||Pe(!1),t}function n3(e){let t=te.useContext(Pi);return t||Pe(!1),t}function Pg(e){let t=n3(),i=t.matches[t.matches.length-1];return i.route.id||Pe(!1),i.route.id}function r3(){var e;let t=te.useContext(bg),i=t3(Qa.UseRouteError),s=Pg(Qa.UseRouteError);return t||((e=i.errors)==null?void 0:e[s])}function i3(){let{router:e}=e3(Mg.UseNavigateStable),t=Pg(Qa.UseNavigateStable),i=te.useRef(!1);return Dg(()=>{i.current=!0}),te.useCallback(function(c,f){f===void 0&&(f={}),i.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Ka({fromRouteId:t},f)))},[e,t])}function Ao(e){let{to:t,replace:i,state:s,relative:c}=e;Fs()||Pe(!1);let{matches:f}=te.useContext(Pi),{pathname:g}=_1(),m=Tl(),w=T1(t,Al(f).map(A=>A.pathnameBase),g,c==="path"),x=JSON.stringify(w);return te.useEffect(()=>m(JSON.parse(x),{replace:i,state:s,relative:c}),[m,x,c,i,s]),null}function o3(e){let{basename:t="/",children:i=null,location:s,navigationType:c=bt.Pop,navigator:f,static:g=!1}=e;Fs()&&Pe(!1);let m=t.replace(/^\/*/,"/"),w=te.useMemo(()=>({basename:m,navigator:f,static:g}),[m,f,g]);typeof s=="string"&&(s=Dr(s));let{pathname:x="/",search:A="",hash:S="",state:b=null,key:U="default"}=s,M=te.useMemo(()=>{let k=Ls(x,m);return k==null?null:{location:{pathname:k,search:A,hash:S,state:b,key:U},navigationType:c}},[m,x,A,S,b,U,c]);return M==null?null:te.createElement(Sl.Provider,{value:w},te.createElement(Il.Provider,{children:i,value:M}))}new Promise(()=>{});function s3(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:te.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:te.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},qa.apply(this,arguments)}function a3(e,t){return Pw({basename:t==null?void 0:t.basename,future:qa({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:nw({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||l3(),routes:e,mapRouteProperties:s3,window:t==null?void 0:t.window}).initialize()}function l3(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=qa({},t,{errors:u3(t.errors)})),t}function u3(e){if(!e)return null;let t=Object.entries(e),i={};for(let[s,c]of t)if(c&&c.__type==="RouteErrorResponse")i[s]=new R1(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let f=window[c.__subType];if(typeof f=="function")try{let g=new f(c.message);g.stack="",i[s]=g}catch{}}if(i[s]==null){let f=new Error(c.message);f.stack="",i[s]=f}}else i[s]=c;return i}const c3=te.createContext({isTransitioning:!1}),f3="startTransition",T0=Gp[f3];function d3(e){T0?T0(e):e()}class h3{constructor(){this.status="pending",this.promise=new Promise((t,i)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",i(s))}})}}function g3(e){let{fallbackElement:t,router:i,future:s}=e,[c,f]=te.useState(i.state),[g,m]=te.useState(),[w,x]=te.useState({isTransitioning:!1}),[A,S]=te.useState(),[b,U]=te.useState(),[M,k]=te.useState(),{v7_startTransition:J}=s||{},O=te.useCallback(X=>{J?d3(X):X()},[J]),N=te.useCallback((X,L)=>{let{unstable_viewTransitionOpts:Z}=L;!Z||i.window==null||typeof i.window.document.startViewTransition!="function"?O(()=>f(X)):b&&A?(A.resolve(),b.skipTransition(),k({state:X,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(m(X),x({isTransitioning:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[O,b,A,i.window]);te.useLayoutEffect(()=>i.subscribe(N),[i,N]),te.useEffect(()=>{w.isTransitioning&&S(new h3)},[w.isTransitioning]),te.useEffect(()=>{if(A&&g&&i.window){let X=g,L=A.promise,Z=i.window.document.startViewTransition(async()=>{O(()=>f(X)),await L});Z.finished.finally(()=>{S(void 0),U(void 0),m(void 0),x({isTransitioning:!1})}),U(Z)}},[O,g,A,i.window]),te.useEffect(()=>{A&&g&&c.location.key===g.location.key&&A.resolve()},[A,b,c.location,g]),te.useEffect(()=>{!w.isTransitioning&&M&&(m(M.state),x({isTransitioning:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation}),k(void 0))},[w.isTransitioning,M]);let _=te.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:X=>i.navigate(X),push:(X,L,Z)=>i.navigate(X,{state:L,preventScrollReset:Z==null?void 0:Z.preventScrollReset}),replace:(X,L,Z)=>i.navigate(X,{replace:!0,state:L,preventScrollReset:Z==null?void 0:Z.preventScrollReset})}),[i]),R=i.basename||"/",q=te.useMemo(()=>({router:i,navigator:_,static:!1,basename:R}),[i,_,R]);return te.createElement(te.Fragment,null,te.createElement(vl.Provider,{value:q},te.createElement(Og.Provider,{value:c},te.createElement(c3.Provider,{value:w},te.createElement(o3,{basename:R,location:c.location,navigationType:c.historyAction,navigator:_},c.initialized?te.createElement(p3,{routes:i.routes,state:c}):t)))),null)}function p3(e){let{routes:t,state:i}=e;return Zw(t,void 0,i)}var R0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R0||(R0={}));var N0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(N0||(N0={}));var ce;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ce||(ce={}));var _0=new Map([[ce.QR_CODE,"QR_CODE"],[ce.AZTEC,"AZTEC"],[ce.CODABAR,"CODABAR"],[ce.CODE_39,"CODE_39"],[ce.CODE_93,"CODE_93"],[ce.CODE_128,"CODE_128"],[ce.DATA_MATRIX,"DATA_MATRIX"],[ce.MAXICODE,"MAXICODE"],[ce.ITF,"ITF"],[ce.EAN_13,"EAN_13"],[ce.EAN_8,"EAN_8"],[ce.PDF_417,"PDF_417"],[ce.RSS_14,"RSS_14"],[ce.RSS_EXPANDED,"RSS_EXPANDED"],[ce.UPC_A,"UPC_A"],[ce.UPC_E,"UPC_E"],[ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),O0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(O0||(O0={}));function x3(e){return Object.values(ce).includes(e)}var Ja;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ja||(Ja={}));var m3=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ja.SCAN_TYPE_CAMERA,Ja.SCAN_TYPE_FILE],e}(),kg=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!_0.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,_0.get(t))},e}(),b0=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Sc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sc||(Sc={}));var w3=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Sc.UNKWOWN_ERROR}},e}(),y3=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Er(e){return typeof e>"u"||e===null}var oo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Bg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var s=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),g=Object.keys(t),m=0,w=g;m<w.length;m++){var x=w[m];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Ic={exports:{}};(function(e,t){(function(i,s){s(t)})(Lo,function(i){function s(E){return E==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,n){E.__proto__=n}||function(E,n){for(var r in n)n.hasOwnProperty(r)&&(E[r]=n[r])};function f(E,n){c(E,n);function r(){this.constructor=E}E.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(E,n){var r=Object.setPrototypeOf;r?r(E,n):E.__proto__=n}function m(E,n){n===void 0&&(n=E.constructor);var r=Error.captureStackTrace;r&&r(E,n)}var w=function(E){f(n,E);function n(r){var o=this.constructor,a=E.call(this,r)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),g(a,o.prototype),m(a),a}return n}(Error);class x extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class A extends x{}A.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class b{constructor(n){if(this.binarizer=n,n===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,o,a){const l=this.binarizer.getLuminanceSource().crop(n,r,o,a);return new b(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends x{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class M{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(n,r,o,a,l){for(;l--;)o[a++]=n[r++]}static currentTimeMillis(){return Date.now()}}class J extends x{}J.kind="IndexOutOfBoundsException";class O extends J{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}O.kind="ArrayIndexOutOfBoundsException";class N{static fill(n,r){for(let o=0,a=n.length;o<a;o++)n[o]=r}static fillWithin(n,r,o,a){N.rangeCheck(n.length,r,o);for(let l=r;l<o;l++)n[l]=a}static rangeCheck(n,r,o){if(r>o)throw new S("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new O(r);if(o>n)throw new O(o)}static asList(...n){return n}static create(n,r,o){return Array.from({length:n}).map(l=>Array.from({length:r}).fill(o))}static createInt32Array(n,r,o){return Array.from({length:n}).map(l=>Int32Array.from({length:r}).fill(o))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let o=0,a=n.length;o<a;o++)if(n[o]!==r[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const o of n)r=31*r+o;return r}static fillUint8Array(n,r){for(let o=0;o!==n.length;o++)n[o]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const o=new Uint8Array(r);return o.set(n),o}return n.slice(0,r)}static copyOfRange(n,r,o){const a=o-r,l=new Int32Array(a);return k.arraycopy(n,r,l,0,a),l}static binarySearch(n,r,o){o===void 0&&(o=N.numberComparator);let a=0,l=n.length-1;for(;a<=l;){const u=l+a>>1,d=o(r,n[u]);if(d>0)a=u+1;else if(d<0)l=u-1;else return u}return-a-1}static numberComparator(n,r){return n-r}}class _{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let o=31;return r=n<<16,r!==0&&(o-=16,n=r),r=n<<8,r!==0&&(o-=8,n=r),r=n<<4,r!==0&&(o-=4,n=r),r=n<<2,r!==0&&(o-=2,n=r),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class R{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=R.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=R.makeArray(n);k.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const o=this.bits;let a=Math.floor(n/32),l=o[a];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++a===u)return r;l=o[a]}const d=a*32+_.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(n){const r=this.size;if(n>=r)return r;const o=this.bits;let a=Math.floor(n/32),l=~o[a];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++a===u)return r;l=~o[a]}const d=a*32+_.numberOfTrailingZeros(l);return d>r?r:d}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new S;if(r===n)return;r--;const o=Math.floor(n/32),a=Math.floor(r/32),l=this.bits;for(let u=o;u<=a;u++){const d=u>o?0:n&31,p=(2<<(u<a?31:r&31))-(1<<d);l[u]|=p}}clear(){const n=this.bits.length,r=this.bits;for(let o=0;o<n;o++)r[o]=0}isRange(n,r,o){if(r<n||n<0||r>this.size)throw new S;if(r===n)return!0;r--;const a=Math.floor(n/32),l=Math.floor(r/32),u=this.bits;for(let d=a;d<=l;d++){const h=d>a?0:n&31,y=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((u[d]&y)!==(o?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new S("Sizes don't match");const r=this.bits;for(let o=0,a=r.length;o<a;o++)r[o]^=n.bits[o]}toBytes(n,r,o,a){for(let l=0;l<a;l++){let u=0;for(let d=0;d<8;d++)this.get(n)&&(u|=1<<7-d),n++;r[o+l]=u}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,a=this.bits;for(let l=0;l<o;l++){let u=a[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[r-l]=u}if(this.size!==o*32){const l=o*32-this.size;let u=n[0]>>>l;for(let d=1;d<o;d++){const h=n[d];u|=h<<32-l,n[d-1]=u,u=h>>>l}n[o-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof R))return!1;const r=n;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let n="";for(let r=0,o=this.size;r<o;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new R(this.size,this.bits.slice())}}var q;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var X=q;class L extends x{static getFormatInstance(){return new L}}L.kind="FormatException";var Z;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class G{constructor(n,r,o,...a){this.valueIdentifier=n,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,G.VALUE_IDENTIFIER_TO_ECI.set(n,this),G.NAME_TO_ECI.set(o,this);const l=this.values;for(let u=0,d=l.length;u!==d;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of a)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new L("incorect value");const r=G.VALUES_TO_ECI.get(n);if(r===void 0)throw new L("incorect value");return r}static getCharacterSetECIByName(n){const r=G.NAME_TO_ECI.get(n);if(r===void 0)throw new L("incorect value");return r}equals(n){if(!(n instanceof G))return!1;const r=n;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(Z.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(Z.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(Z.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(Z.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(Z.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(Z.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(Z.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(Z.Big5,28,"Big5"),G.GB18030=new G(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(Z.EUC_KR,30,"EUC_KR","EUC-KR");class Ce extends x{}Ce.kind="UnsupportedOperationException";class Ve{static decode(n,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!Ve.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof G?n:G.getCharacterSetECIByName(n)}static decodeFallback(n,r){const o=this.encodingCharacterSet(r);if(Ve.isDecodeFallbackSupported(o)){let a="";for(let l=0,u=n.length;l<u;l++){let d=n[l].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(o.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new Ce(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(G.UTF8)||n.equals(G.ISO8859_1)||n.equals(G.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let l=0;l<o.length;l++)a.push(o[l].charCodeAt(0));return new Uint8Array(a)}}class pe{static castAsNonUtf8Char(n,r=null){const o=r?r.getName():this.ISO88591;return Ve.decode(new Uint8Array([n]),o)}static guessEncoding(n,r){if(r!=null&&r.get(X.CHARACTER_SET)!==void 0)return r.get(X.CHARACTER_SET).toString();const o=n.length;let a=!0,l=!0,u=!0,d=0,h=0,p=0,y=0,C=0,v=0,T=0,D=0,P=0,F=0,j=0;const re=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let ie=0;ie<o&&(a||l||u);ie++){const $=n[ie]&255;u&&(d>0?$&128?d--:u=!1:$&128&&($&64?(d++,$&32?(d++,$&16?(d++,$&8?u=!1:y++):p++):h++):u=!1)),a&&($>127&&$<160?a=!1:$>159&&($<192||$===215||$===247)&&j++),l&&(C>0?$<64||$===127||$>252?l=!1:C--:$===128||$===160||$>239?l=!1:$>160&&$<224?(v++,D=0,T++,T>P&&(P=T)):$>127?(C++,T=0,D++,D>F&&(F=D)):(T=0,D=0))}return u&&d>0&&(u=!1),l&&C>0&&(l=!1),u&&(re||h+p+y>0)?pe.UTF8:l&&(pe.ASSUME_SHIFT_JIS||P>=3||F>=3)?pe.SHIFT_JIS:a&&l?P===2&&v===2||j*10>=o?pe.SHIFT_JIS:pe.ISO88591:a?pe.ISO88591:l?pe.SHIFT_JIS:u?pe.UTF8:pe.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let o=-1;function a(u,d,h,p,y,C){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let v=y?parseInt(y.substr(1)):void 0,T;switch(C){case"s":T=r[o];break;case"c":T=r[o][0];break;case"f":T=parseFloat(r[o]).toFixed(u);break;case"p":T=parseFloat(r[o]).toPrecision(u);break;case"e":T=parseFloat(r[o]).toExponential(u);break;case"x":T=parseInt(r[o]).toString(v||16);break;case"d":T=parseFloat(parseInt(r[o],v||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(v);let D=parseInt(h),P=h&&h[0]+""=="0"?"0":" ";for(;T.length<D;)T=d!==void 0?T+P:P+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}static getBytes(n,r){return Ve.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}pe.SHIFT_JIS=G.SJIS.getName(),pe.GB2312="GB2312",pe.ISO88591=G.ISO8859_1.getName(),pe.EUC_JP="EUC_JP",pe.UTF8=G.UTF8.getName(),pe.PLATFORM_DEFAULT_ENCODING=pe.UTF8,pe.ASSUME_SHIFT_JIS=!1;class De{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,o){for(let a=r;r<r+o;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class ot{constructor(n,r,o,a){if(this.width=n,this.height=r,this.rowSize=o,this.bits=a,r==null&&(r=n),this.height=r,n<1||r<1)throw new S("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,o=n[0].length,a=new ot(o,r);for(let l=0;l<r;l++){const u=n[l];for(let d=0;d<o;d++)u[d]&&a.set(d,l)}return a}static parseFromString(n,r,o){if(n===null)throw new S("stringRepresentation cannot be null");const a=new Array(n.length);let l=0,u=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new S("row lengths do not match");u=l,h++}p++}else if(n.substring(p,p+r.length)===r)p+=r.length,a[l]=!0,l++;else if(n.substring(p,p+o.length)===o)p+=o.length,a[l]=!1,l++;else throw new S("illegal character encountered: "+n.substring(p));if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new S("row lengths do not match");h++}const y=new ot(d,h);for(let C=0;C<l;C++)a[C]&&y.set(Math.floor(C%d),Math.floor(C/d));return y}get(n,r){const o=r*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new S("input matrix dimensions do not match");const r=new R(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let l=0,u=this.height;l<u;l++){const d=l*o,h=n.getRow(l,r).getBitArray();for(let p=0;p<o;p++)a[d+p]^=h[p]}}clear(){const n=this.bits,r=n.length;for(let o=0;o<r;o++)n[o]=0}setRegion(n,r,o,a){if(r<0||n<0)throw new S("Left and top must be nonnegative");if(a<1||o<1)throw new S("Height and width must be at least 1");const l=n+o,u=r+a;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const y=p*d;for(let C=n;C<l;C++)h[y+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new R(this.width):r.clear();const o=this.rowSize,a=this.bits,l=n*o;for(let u=0;u<o;u++)r.setBulk(u*32,a[l+u]);return r}setRow(n,r){k.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let o=new R(n),a=new R(n);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)o=this.getRow(l,o),a=this.getRow(r-1-l,a),o.reverse(),a.reverse(),this.setRow(l,a),this.setRow(r-1-l,o)}getEnclosingRectangle(){const n=this.width,r=this.height,o=this.rowSize,a=this.bits;let l=n,u=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let y=0;y<o;y++){const C=a[p*o+y];if(C!==0){if(p<u&&(u=p),p>h&&(h=p),y*32<l){let v=0;for(;!(C<<31-v&4294967295);)v++;y*32+v<l&&(l=y*32+v)}if(y*32+31>d){let v=31;for(;!(C>>>v);)v--;y*32+v>d&&(d=y*32+v)}}}return d<l||h<u?null:Int32Array.from([l,u,d-l+1,h-u+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const a=o/n;let l=o%n*32;const u=r[o];let d=0;for(;!(u<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,a])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/n);let l=Math.floor(o%n)*32;const u=r[o];let d=31;for(;!(u>>>d);)d--;return l+=d,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof ot))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+N.hashCode(this.bits),n}toString(n="X ",r="  ",o=`
`){return this.buildToString(n,r,o)}buildToString(n,r,o){let a=new De;for(let l=0,u=this.height;l<u;l++){for(let d=0,h=this.width;d<h;d++)a.append(this.get(d,l)?n:r);a.append(o)}return a.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends x{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class tt extends M{constructor(n){super(n),this.luminances=tt.EMPTY,this.buckets=new Int32Array(tt.LUMINANCE_BUCKETS)}getBlackRow(n,r){const o=this.getLuminanceSource(),a=o.getWidth();r==null||r.getSize()<a?r=new R(a):r.clear(),this.initArrays(a);const l=o.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<a;h++)u[(l[h]&255)>>tt.LUMINANCE_SHIFT]++;const d=tt.estimateBlackPoint(u);if(a<3)for(let h=0;h<a;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let y=1;y<a-1;y++){const C=l[y+1]&255;(p*4-h-C)/2<d&&r.set(y),h=p,p=C}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),a=new ot(r,o);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(o*h/5),y=n.getRow(p,this.luminances),C=Math.floor(r*4/5);for(let v=Math.floor(r/5);v<C;v++){const T=y[v]&255;l[T>>tt.LUMINANCE_SHIFT]++}}const u=tt.estimateBlackPoint(l),d=n.getMatrix();for(let h=0;h<o;h++){const p=h*r;for(let y=0;y<r;y++)(d[p+y]&255)<u&&a.set(y,h)}return a}createBinarizer(n){return new tt(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let o=0;o<tt.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(n){const r=n.length;let o=0,a=0,l=0;for(let y=0;y<r;y++)n[y]>l&&(a=y,l=n[y]),n[y]>o&&(o=n[y]);let u=0,d=0;for(let y=0;y<r;y++){const C=y-a,v=n[y]*C*C;v>d&&(u=y,d=v)}if(a>u){const y=a;a=u,u=y}if(u-a<=r/16)throw new V;let h=u-1,p=-1;for(let y=u-1;y>a;y--){const C=y-a,v=C*C*(u-y)*(o-n[y]);v>p&&(h=y,p=v)}return h<<tt.LUMINANCE_SHIFT}}tt.LUMINANCE_BITS=5,tt.LUMINANCE_SHIFT=8-tt.LUMINANCE_BITS,tt.LUMINANCE_BUCKETS=1<<tt.LUMINANCE_BITS,tt.EMPTY=Uint8ClampedArray.from([0]);class Se extends tt{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=Se.MINIMUM_DIMENSION&&o>=Se.MINIMUM_DIMENSION){const a=n.getMatrix();let l=r>>Se.BLOCK_SIZE_POWER;r&Se.BLOCK_SIZE_MASK&&l++;let u=o>>Se.BLOCK_SIZE_POWER;o&Se.BLOCK_SIZE_MASK&&u++;const d=Se.calculateBlackPoints(a,l,u,r,o),h=new ot(r,o);Se.calculateThresholdForBlock(a,l,u,r,o,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new Se(n)}static calculateThresholdForBlock(n,r,o,a,l,u,d){const h=l-Se.BLOCK_SIZE,p=a-Se.BLOCK_SIZE;for(let y=0;y<o;y++){let C=y<<Se.BLOCK_SIZE_POWER;C>h&&(C=h);const v=Se.cap(y,2,o-3);for(let T=0;T<r;T++){let D=T<<Se.BLOCK_SIZE_POWER;D>p&&(D=p);const P=Se.cap(T,2,r-3);let F=0;for(let re=-2;re<=2;re++){const ie=u[v+re];F+=ie[P-2]+ie[P-1]+ie[P]+ie[P+1]+ie[P+2]}const j=F/25;Se.thresholdBlock(n,D,C,j,a,d)}}}static cap(n,r,o){return n<r?r:n>o?o:n}static thresholdBlock(n,r,o,a,l,u){for(let d=0,h=o*l+r;d<Se.BLOCK_SIZE;d++,h+=l)for(let p=0;p<Se.BLOCK_SIZE;p++)(n[h+p]&255)<=a&&u.set(r+p,o+d)}static calculateBlackPoints(n,r,o,a,l){const u=l-Se.BLOCK_SIZE,d=a-Se.BLOCK_SIZE,h=new Array(o);for(let p=0;p<o;p++){h[p]=new Int32Array(r);let y=p<<Se.BLOCK_SIZE_POWER;y>u&&(y=u);for(let C=0;C<r;C++){let v=C<<Se.BLOCK_SIZE_POWER;v>d&&(v=d);let T=0,D=255,P=0;for(let j=0,re=y*a+v;j<Se.BLOCK_SIZE;j++,re+=a){for(let ie=0;ie<Se.BLOCK_SIZE;ie++){const $=n[re+ie]&255;T+=$,$<D&&(D=$),$>P&&(P=$)}if(P-D>Se.MIN_DYNAMIC_RANGE)for(j++,re+=a;j<Se.BLOCK_SIZE;j++,re+=a)for(let ie=0;ie<Se.BLOCK_SIZE;ie++)T+=n[re+ie]&255}let F=T>>Se.BLOCK_SIZE_POWER*2;if(P-D<=Se.MIN_DYNAMIC_RANGE&&(F=D/2,p>0&&C>0)){const j=(h[p-1][C]+2*h[p][C-1]+h[p-1][C-1])/4;D<j&&(F=j)}h[p][C]=F}}return h}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=Se.BLOCK_SIZE*5,Se.MIN_DYNAMIC_RANGE=24;class se{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,o,a){throw new Ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ce("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new De;for(let o=0;o<this.height;o++){const a=this.getRow(o,n);for(let l=0;l<this.width;l++){const u=a[l]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class xe extends se{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const o=this.delegate.getRow(n,r),a=this.getWidth();for(let l=0;l<a;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let a=0;a<r;a++)o[a]=255-(n[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,o,a){return new xe(this.delegate.crop(n,r,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class we extends se{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return we.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,o){const a=new Uint8ClampedArray(r*o);for(let l=0,u=0,d=n.length;l<d;l+=4,u++){let h;if(n[l+3]===0)h=255;else{const y=n[l],C=n[l+1],v=n[l+2];h=306*y+601*C+117*v+512>>10}a[u]=h}return a}getRow(n,r){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const o=this.getWidth(),a=n*o;return r===null?r=this.buffer.slice(a,a+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(a,a+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,o,a){return super.crop(n,r,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),o=r.getContext("2d"),a=n*we.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*u);return r.width=d,r.height=h,o.translate(d/2,h/2),o.rotate(a),o.drawImage(this.canvas,l/-2,u/-2),this.buffer=we.makeBufferFromCanvasImageData(r),this}invert(){return new xe(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class Ge{constructor(n,r,o){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Re=(globalThis||Lo||self||window||void 0)&&(globalThis||Lo||self||window||void 0).__awaiter||function(E,n,r,o){function a(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(y){try{p(o.next(y))}catch(C){u(C)}}function h(y){try{p(o.throw(y))}catch(C){u(C)}}function p(y){y.done?l(y.value):a(y.value).then(d,h)}p((o=o.apply(E,n||[])).next())})};class nn{constructor(n,r=500,o){this.reader=n,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of n){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const l=o.deviceId||o.id,u=o.label||`Video device ${r.length+1}`,d=o.groupId,h={deviceId:l,label:u,kind:a,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return Re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ge(r.deviceId,r.label))})}findDeviceById(n){return Re(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return Re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return Re(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,r)})}decodeOnceFromConstraints(n,r){return Re(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(n,r){return Re(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,r,o){return Re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,o)})}decodeFromVideoDevice(n,r,o){return Re(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,r,o)})}decodeFromConstraints(n,r,o){return Re(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,r,o)})}decodeFromStream(n,r,o){return Re(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return Re(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((r,o)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Re(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const o=document.getElementById(n);if(!o)throw new A(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new A(`element with id '${n}' must be an ${r} element`);return o}decodeFromImage(n,r){if(!n&&!r)throw new A("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new A("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,o){if(n===void 0&&r===void 0)throw new A("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new A("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(n){if(!n)throw new A("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new A("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=n,o}decodeFromVideoUrl(n){if(!n)throw new A("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=n,o}decodeFromVideoUrlContinuously(n,r){if(!n)throw new A("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,r);return o.src=n,a}_decodeOnLoadImage(n){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return Re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,o=!0){this._stopAsyncDecode=!1;const a=(l,u)=>{if(this._stopAsyncDecode){u(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);l(d)}catch(d){const h=r&&d instanceof V,y=(d instanceof U||d instanceof L)&&o;if(h||y)return setTimeout(a,this._timeBetweenDecodingAttempts,l,u);u(d)}};return new Promise((l,u)=>a(l,u))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);r(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){r(null,a);const l=a instanceof U||a instanceof L,u=a instanceof V;(l||u)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,o){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),o=new we(r),a=new Se(o);return new b(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),r.style.width=o+"px",r.style.height=a+"px",r.width=o,r.height=a,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class lt{constructor(n,r,o=r==null?0:8*r.length,a,l,u=k.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=o,this.resultPoints=a,this.format=l,this.timestamp=u,this.text=n,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=a,this.format=l,this.resultMetadata=null,u==null?this.timestamp=k.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(r.length+n.length);k.arraycopy(r,0,o,0,r.length),k.arraycopy(n,0,o,r.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var xr;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xr||(xr={}));var ge=xr,nt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(nt||(nt={}));var ht=nt;class Mr{constructor(n,r,o,a,l=-1,u=-1){this.rawBytes=n,this.text=r,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fi{exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class At{constructor(n,r){if(r.length===0)throw new S;this.field=n;const o=r.length;if(o>1&&r[0]===0){let a=1;for(;a<o&&r[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),k.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(n===1){o=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];o=fi.addOrSubtract(o,h)}return o}o=r[0];const a=r.length,l=this.field;for(let u=1;u<a;u++)o=fi.addOrSubtract(l.multiply(n,o),r[u]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){const u=r;r=o,o=u}let a=new Int32Array(o.length);const l=o.length-r.length;k.arraycopy(o,0,a,0,l);for(let u=l;u<o.length;u++)a[u]=fi.addOrSubtract(r[u-l],o[u]);return new At(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,a=n.coefficients,l=a.length,u=new Int32Array(o+l-1),d=this.field;for(let h=0;h<o;h++){const p=r[h];for(let y=0;y<l;y++)u[h+y]=fi.addOrSubtract(u[h+y],d.multiply(p,a[y]))}return new At(d,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,o=this.field,a=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)a[u]=o.multiply(l[u],n);return new At(o,a)}multiplyByMonomial(n,r){if(n<0)throw new S;if(r===0)return this.field.getZero();const o=this.coefficients,a=o.length,l=new Int32Array(a+n),u=this.field;for(let d=0;d<a;d++)l[d]=u.multiply(o[d],r);return new At(u,l)}divide(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new S("Divide by 0");const r=this.field;let o=r.getZero(),a=this;const l=n.getCoefficient(n.getDegree()),u=r.inverse(l);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const d=a.getDegree()-n.getDegree(),h=r.multiply(a.getCoefficient(a.getDegree()),u),p=n.multiplyByMonomial(d,h),y=r.buildMonomial(d,h);o=o.addOrSubtract(y),a=a.addOrSubtract(p)}return[o,a]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),r===0||o!==1){const a=this.field.log(o);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class ki extends x{}ki.kind="ArithmeticException";class He extends fi{constructor(n,r,o){super(),this.primitive=n,this.size=r,this.generatorBase=o;const a=new Int32Array(r);let l=1;for(let d=0;d<r;d++)a[d]=l,l*=2,l>=r&&(l^=n,l&=r-1);this.expTable=a;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[a[d]]=d;this.logTable=u,this.zero=new At(this,Int32Array.from([0])),this.one=new At(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new S;if(r===0)return this.zero;const o=new Int32Array(n+1);return o[0]=r,new At(this,o)}inverse(n){if(n===0)throw new ki;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}He.AZTEC_DATA_12=new He(4201,4096,1),He.AZTEC_DATA_10=new He(1033,1024,1),He.AZTEC_DATA_6=new He(67,64,1),He.AZTEC_PARAM=new He(19,16,1),He.QR_CODE_FIELD_256=new He(285,256,0),He.DATA_MATRIX_FIELD_256=new He(301,256,1),He.AZTEC_DATA_8=He.DATA_MATRIX_FIELD_256,He.MAXICODE_FIELD_64=He.AZTEC_DATA_6;class mr extends x{}mr.kind="ReedSolomonException";class kn extends x{}kn.kind="IllegalStateException";class di{constructor(n){this.field=n}decode(n,r){const o=this.field,a=new At(o,n),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const D=a.evaluateAt(o.exp(T+o.getGeneratorBase()));l[l.length-1-T]=D,D!==0&&(u=!1)}if(u)return;const d=new At(o,l),h=this.runEuclideanAlgorithm(o.buildMonomial(r,1),d,r),p=h[0],y=h[1],C=this.findErrorLocations(p),v=this.findErrorMagnitudes(y,C);for(let T=0;T<C.length;T++){const D=n.length-1-o.log(C[T]);if(D<0)throw new mr("Bad error location");n[D]=He.addOrSubtract(n[D],v[T])}}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){const T=n;n=r,r=T}const a=this.field;let l=n,u=r,d=a.getZero(),h=a.getOne();for(;u.getDegree()>=(o/2|0);){let T=l,D=d;if(l=u,d=h,l.isZero())throw new mr("r_{i-1} was zero");u=T;let P=a.getZero();const F=l.getCoefficient(l.getDegree()),j=a.inverse(F);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const re=u.getDegree()-l.getDegree(),ie=a.multiply(u.getCoefficient(u.getDegree()),j);P=P.addOrSubtract(a.buildMonomial(re,ie)),u=u.addOrSubtract(l.multiplyByMonomial(re,ie))}if(h=P.multiply(d).addOrSubtract(D),u.getDegree()>=l.getDegree())throw new kn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new mr("sigmaTilde(0) was zero");const y=a.inverse(p),C=h.multiplyScalar(y),v=u.multiplyScalar(y);return[C,v]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(r);let a=0;const l=this.field;for(let u=1;u<l.getSize()&&a<r;u++)n.evaluateAt(u)===0&&(o[a]=l.inverse(u),a++);if(a!==r)throw new mr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,r){const o=r.length,a=new Int32Array(o),l=this.field;for(let u=0;u<o;u++){const d=l.inverse(r[u]);let h=1;for(let p=0;p<o;p++)if(u!==p){const y=l.multiply(r[p],d),C=y&1?y&-2:y|1;h=l.multiply(h,C)}a[u]=l.multiply(n.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(a[u]=l.multiply(a[u],d))}return a}}var Lt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Lt||(Lt={}));class Xe{decode(n){this.ddata=n;let r=n.getBits(),o=this.extractBits(r),a=this.correctBits(o),l=Xe.convertBoolArrayToByteArray(a),u=Xe.getEncodedData(a),d=new Mr(l,u,null,null);return d.setNumBits(a.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,o=Lt.UPPER,a=Lt.UPPER,l="",u=0;for(;u<r;)if(a===Lt.BINARY){if(r-u<5)break;let d=Xe.readCode(n,u,5);if(u+=5,d===0){if(r-u<11)break;d=Xe.readCode(n,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const p=Xe.readCode(n,u,8);l+=pe.castAsNonUtf8Char(p),u+=8}a=o}else{let d=a===Lt.DIGIT?4:5;if(r-u<d)break;let h=Xe.readCode(n,u,d);u+=d;let p=Xe.getCharacter(a,h);p.startsWith("CTRL_")?(o=a,a=Xe.getTable(p.charAt(5)),p.charAt(6)==="L"&&(o=a)):(l+=p,a=o)}return l}static getTable(n){switch(n){case"L":return Lt.LOWER;case"P":return Lt.PUNCT;case"M":return Lt.MIXED;case"D":return Lt.DIGIT;case"B":return Lt.BINARY;case"U":default:return Lt.UPPER}}static getCharacter(n,r){switch(n){case Lt.UPPER:return Xe.UPPER_TABLE[r];case Lt.LOWER:return Xe.LOWER_TABLE[r];case Lt.MIXED:return Xe.MIXED_TABLE[r];case Lt.PUNCT:return Xe.PUNCT_TABLE[r];case Lt.DIGIT:return Xe.DIGIT_TABLE[r];default:throw new kn("Bad table")}}correctBits(n){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=He.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=He.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=He.AZTEC_DATA_10):(o=12,r=He.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=n.length/o;if(l<a)throw new L;let u=n.length%o,d=new Int32Array(l);for(let v=0;v<l;v++,u+=o)d[v]=Xe.readCode(n,u,o);try{new di(r).decode(d,l-a)}catch(v){throw new L(v)}let h=(1<<o)-1,p=0;for(let v=0;v<a;v++){let T=d[v];if(T===0||T===h)throw new L;(T===1||T===h-1)&&p++}let y=new Array(a*o-p),C=0;for(let v=0;v<a;v++){let T=d[v];if(T===1||T===h-1)y.fill(T>1,C,C+o-1),C+=o-1;else for(let D=o-1;D>=0;--D)y[C++]=(T&1<<D)!==0}return y}extractBits(n){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(r?11:14)+o*4,l=new Int32Array(a),u=new Array(this.totalBitsInLayer(o,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=a+1+2*_.truncDivision(_.truncDivision(a,2)-1,15),h=a/2,p=_.truncDivision(d,2);for(let y=0;y<h;y++){let C=y+_.truncDivision(y,15);l[h-y-1]=p-C-1,l[h+y]=p+C+1}}for(let d=0,h=0;d<o;d++){let p=(o-d)*4+(r?9:12),y=d*2,C=a-1-y;for(let v=0;v<p;v++){let T=v*2;for(let D=0;D<2;D++)u[h+T+D]=n.get(l[y+D],l[y+v]),u[h+2*p+T+D]=n.get(l[y+v],l[C-D]),u[h+4*p+T+D]=n.get(l[C-D],l[C-v]),u[h+6*p+T+D]=n.get(l[C-v],l[y+D])}h+=p*8}return u}static readCode(n,r,o){let a=0;for(let l=r;l<r+o;l++)a<<=1,n[l]&&(a|=1);return a}static readByte(n,r){let o=n.length-r;return o>=8?Xe.readCode(n,r,8):Xe.readCode(n,r,o)<<8-o}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let o=0;o<r.length;o++)r[o]=Xe.readByte(n,8*o);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ke{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,o,a){const l=n-o,u=r-a;return Math.sqrt(l*l+u*u)}static sum(n){let r=0;for(let o=0,a=n.length;o!==a;o++){const l=n[o];r+=l}return r}}class Pr{static floatToIntBits(n){return n}}Pr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof fe){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Pr.floatToIntBits(this.x)+Pr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let l,u,d;if(o>=r&&o>=a?(u=n[0],l=n[1],d=n[2]):a>=o&&a>=r?(u=n[1],l=n[0],d=n[2]):(u=n[2],l=n[0],d=n[1]),this.crossProductZ(l,u,d)<0){const h=l;l=d,d=h}n[0]=l,n[1]=u,n[2]=d}static distance(n,r){return ke.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,o){const a=r.x,l=r.y;return(o.x-a)*(n.y-l)-(o.y-l)*(n.x-a)}}class kr{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Zn extends kr{constructor(n,r,o,a,l){super(n,r),this.compact=o,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Bn{constructor(n,r,o,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=Bn.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const l=r/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let n=this.leftInit,r=this.rightInit,o=this.upInit,a=this.downInit,l=!1,u=!0,d=!1,h=!1,p=!1,y=!1,C=!1;const v=this.width,T=this.height;for(;u;){u=!1;let D=!0;for(;(D||!h)&&r<v;)D=this.containsBlackPoint(o,a,r,!1),D?(r++,u=!0,h=!0):h||r++;if(r>=v){l=!0;break}let P=!0;for(;(P||!p)&&a<T;)P=this.containsBlackPoint(n,r,a,!0),P?(a++,u=!0,p=!0):p||a++;if(a>=T){l=!0;break}let F=!0;for(;(F||!y)&&n>=0;)F=this.containsBlackPoint(o,a,n,!1),F?(n--,u=!0,y=!0):y||n--;if(n<0){l=!0;break}let j=!0;for(;(j||!C)&&o>=0;)j=this.containsBlackPoint(n,r,o,!0),j?(o--,u=!0,C=!0):C||o--;if(o<0){l=!0;break}u&&(d=!0)}if(!l&&d){const D=r-n;let P=null;for(let ie=1;P===null&&ie<D;ie++)P=this.getBlackPointOnSegment(n,a-ie,n+ie,a);if(P==null)throw new V;let F=null;for(let ie=1;F===null&&ie<D;ie++)F=this.getBlackPointOnSegment(n,o+ie,n+ie,o);if(F==null)throw new V;let j=null;for(let ie=1;j===null&&ie<D;ie++)j=this.getBlackPointOnSegment(r,o+ie,r-ie,o);if(j==null)throw new V;let re=null;for(let ie=1;re===null&&ie<D;ie++)re=this.getBlackPointOnSegment(r,a-ie,r-ie,a);if(re==null)throw new V;return this.centerEdges(re,P,j,F)}else throw new V}getBlackPointOnSegment(n,r,o,a){const l=ke.round(ke.distance(n,r,o,a)),u=(o-n)/l,d=(a-r)/l,h=this.image;for(let p=0;p<l;p++){const y=ke.round(n+p*u),C=ke.round(r+p*d);if(h.get(y,C))return new fe(y,C)}return null}centerEdges(n,r,o,a){const l=n.getX(),u=n.getY(),d=r.getX(),h=r.getY(),p=o.getX(),y=o.getY(),C=a.getX(),v=a.getY(),T=Bn.CORR;return l<this.width/2?[new fe(C-T,v+T),new fe(d+T,h+T),new fe(p-T,y-T),new fe(l+T,u-T)]:[new fe(C+T,v+T),new fe(d+T,h-T),new fe(p-T,y+T),new fe(l-T,u-T)]}containsBlackPoint(n,r,o,a){const l=this.image;if(a){for(let u=n;u<=r;u++)if(l.get(u,o))return!0}else for(let u=n;u<=r;u++)if(l.get(o,u))return!0;return!1}}Bn.INIT_SIZE=10,Bn.CORR=1;class Bi{static checkAndNudgePoints(n,r){const o=n.getWidth(),a=n.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>a)throw new V;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===a&&(r[u+1]=a-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>a)throw new V;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===a&&(r[u+1]=a-1,l=!0)}}}class pn{constructor(n,r,o,a,l,u,d,h,p){this.a11=n,this.a21=r,this.a31=o,this.a12=a,this.a22=l,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,r,o,a,l,u,d,h,p,y,C,v,T,D,P,F){const j=pn.quadrilateralToSquare(n,r,o,a,l,u,d,h);return pn.squareToQuadrilateral(p,y,C,v,T,D,P,F).times(j)}transformPoints(n){const r=n.length,o=this.a11,a=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,C=this.a33;for(let v=0;v<r;v+=2){const T=n[v],D=n[v+1],P=l*T+h*D+C;n[v]=(o*T+u*D+p)/P,n[v+1]=(a*T+d*D+y)/P}}transformPointsWithValues(n,r){const o=this.a11,a=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,C=this.a33,v=n.length;for(let T=0;T<v;T++){const D=n[T],P=r[T],F=l*D+h*P+C;n[T]=(o*D+u*P+p)/F,r[T]=(a*D+d*P+y)/F}}static squareToQuadrilateral(n,r,o,a,l,u,d,h){const p=n-o+l-d,y=r-a+u-h;if(p===0&&y===0)return new pn(o-n,l-o,n,a-r,u-a,r,0,0,1);{const C=o-l,v=d-l,T=a-u,D=h-u,P=C*D-v*T,F=(p*D-v*y)/P,j=(C*y-p*T)/P;return new pn(o-n+F*o,d-n+j*d,n,a-r+F*a,h-r+j*h,r,F,j,1)}}static quadrilateralToSquare(n,r,o,a,l,u,d,h){return pn.squareToQuadrilateral(n,r,o,a,l,u,d,h).buildAdjoint()}buildAdjoint(){return new pn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new pn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Us extends Bi{sampleGrid(n,r,o,a,l,u,d,h,p,y,C,v,T,D,P,F,j,re,ie){const $=pn.quadrilateralToQuadrilateral(a,l,u,d,h,p,y,C,v,T,D,P,F,j,re,ie);return this.sampleGridWithTransform(n,r,o,$)}sampleGridWithTransform(n,r,o,a){if(r<=0||o<=0)throw new V;const l=new ot(r,o),u=new Float32Array(2*r);for(let d=0;d<o;d++){const h=u.length,p=d+.5;for(let y=0;y<h;y+=2)u[y]=y/2+.5,u[y+1]=p;a.transformPoints(u),Bi.checkAndNudgePoints(n,u);try{for(let y=0;y<h;y+=2)n.get(Math.floor(u[y]),Math.floor(u[y+1]))&&l.set(y/2,d)}catch{throw new V}}return l}}class Kn{static setGridSampler(n){Kn.gridSampler=n}static getInstance(){return Kn.gridSampler}}Kn.gridSampler=new Us;class Pt{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ro{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(n){let u=o[0];o[0]=o[2],o[2]=u}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new Zn(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new V;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(o,r);let a=0;for(let u=0;u<4;u++){let d=o[(this.shift+u)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,r){let o=0;n.forEach((a,l,u)=>{let d=(a>>r-2<<1)+(a&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(_.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new V}getCorrectedParameterData(n,r){let o,a;r?(o=7,a=2):(o=10,a=4);let l=o-a,u=new Int32Array(o);for(let h=o-1;h>=0;--h)u[h]=n&15,n>>=4;try{new di(He.AZTEC_PARAM).decode(u,l)}catch{throw new V}let d=0;for(let h=0;h<a;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(n){let r=n,o=n,a=n,l=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),v=this.getFirstDifferent(o,u,1,1),T=this.getFirstDifferent(a,u,-1,1),D=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(D,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(C,v,T,D))break}r=C,o=v,a=T,l=D,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let d=new fe(r.getX()+.5,r.getY()-.5),h=new fe(o.getX()+.5,o.getY()+.5),p=new fe(a.getX()-.5,a.getY()+.5),y=new fe(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,o,a;try{let d=new Bn(this.image).detect();n=d[0],r=d[1],o=d[2],a=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Pt(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Pt(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pt(h-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Pt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=ke.round((n.getX()+a.getX()+r.getX()+o.getX())/4),u=ke.round((n.getY()+a.getY()+r.getY()+o.getY())/4);try{let d=new Bn(this.image,15,l,u).detect();n=d[0],r=d[1],o=d[2],a=d[3]}catch{n=this.getFirstDifferent(new Pt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Pt(l+7,u+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pt(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Pt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=ke.round((n.getX()+a.getX()+r.getX()+o.getX())/4),u=ke.round((n.getY()+a.getY()+r.getY()+o.getY())/4),new Pt(l,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,o,a,l){let u=Kn.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(n,r,o){let a=0,l=this.distanceResultPoint(n,r),u=l/o,d=n.getX(),h=n.getY(),p=u*(r.getX()-n.getX())/l,y=u*(r.getY()-n.getY())/l;for(let C=0;C<o;C++)this.image.get(ke.round(d+C*p),ke.round(h+C*y))&&(a|=1<<o-C-1);return a}isWhiteOrBlackRectangle(n,r,o,a){let l=3;n=new Pt(n.getX()-l,n.getY()+l),r=new Pt(r.getX()-l,r.getY()-l),o=new Pt(o.getX()+l,o.getY()-l),a=new Pt(a.getX()+l,a.getY()+l);let u=this.getColor(a,n);if(u===0)return!1;let d=this.getColor(n,r);return d!==u||(d=this.getColor(r,o),d!==u)?!1:(d=this.getColor(o,a),d===u)}getColor(n,r){let o=this.distancePoint(n,r),a=(r.getX()-n.getX())/o,l=(r.getY()-n.getY())/o,u=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(o);for(let v=0;v<y;v++)d+=a,h+=l,this.image.get(ke.round(d),ke.round(h))!==p&&u++;let C=u/o;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(n,r,o,a){let l=n.getX()+o,u=n.getY()+a;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o,u+=a;for(l-=o,u-=a;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o;for(l-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=a;return u-=a,new Pt(l,u)}expandSquare(n,r,o){let a=o/(2*r),l=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new fe(d+a*l,h+a*u),y=new fe(d-a*l,h-a*u);l=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let C=new fe(d+a*l,h+a*u),v=new fe(d-a*l,h-a*u);return[p,C,y,v]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=ke.round(n.getX()),o=ke.round(n.getY());return this.isValid(r,o)}distancePoint(n,r){return ke.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return ke.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class Br{decode(n,r=null){let o=null,a=new Ro(n.getBlackMatrix()),l=null,u=null;try{let y=a.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(r,l),u=new Xe().decode(y)}catch(y){o=y}if(u==null)try{let y=a.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(r,l),u=new Xe().decode(y)}catch(y){throw o??y}let d=new lt(u.getText(),u.getRawBytes(),u.getNumBits(),l,ge.AZTEC,k.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(ht.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(ht.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,r){if(n!=null){let o=n.get(X.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((a,l,u)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class Rl extends nn{constructor(n=500){super(new Br,n)}}class xt{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(X.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),u=this.doDecode(l,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(ht.ORIENTATION)===!0&&(h=h+d.get(ht.ORIENTATION)%360),u.putMetadata(ht.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const y=l.getHeight();for(let C=0;C<p.length;C++)p[C]=new fe(y-p[C].getY()-1,p[C].getX())}return u}else throw new V}}reset(){}doDecode(n,r){const o=n.getWidth(),a=n.getHeight();let l=new R(o);const u=r&&r.get(X.TRY_HARDER)===!0,d=Math.max(1,a>>(u?8:5));let h;u?h=a:h=15;const p=Math.trunc(a/2);for(let y=0;y<h;y++){const C=Math.trunc((y+1)/2),v=(y&1)===0,T=p+d*(v?C:-C);if(T<0||T>=a)break;try{l=n.getBlackRow(T,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;r.forEach((F,j)=>P.set(j,F)),P.delete(X.NEED_RESULT_POINT_CALLBACK),r=P}try{const P=this.decodeRow(T,l,r);if(D===1){P.putMetadata(ht.ORIENTATION,180);const F=P.getResultPoints();F!==null&&(F[0]=new fe(o-F[0].getX()-1,F[0].getY()),F[1]=new fe(o-F[1].getX()-1,F[1].getY()))}return P}catch{}}}throw new V}static recordPattern(n,r,o){const a=o.length;for(let p=0;p<a;p++)o[p]=0;const l=n.getSize();if(r>=l)throw new V;let u=!n.get(r),d=0,h=r;for(;h<l;){if(n.get(h)!==u)o[d]++;else{if(++d===a)break;o[d]=1,u=!u}h++}if(!(d===a||d===a-1&&h===l))throw new V}static recordPatternInReverse(n,r,o){let a=o.length,l=n.get(r);for(;r>0&&a>=0;)n.get(--r)!==l&&(a--,l=!l);if(a>=0)throw new V;xt.recordPattern(n,r+1,o)}static patternMatchVariance(n,r,o){const a=n.length;let l=0,u=0;for(let p=0;p<a;p++)l+=n[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const d=l/u;o*=d;let h=0;for(let p=0;p<a;p++){const y=n[p],C=r[p]*d,v=y>C?y-C:C-y;if(v>o)return Number.POSITIVE_INFINITY;h+=v}return h/l}}class oe extends xt{static findStartPattern(n){const r=n.getSize(),o=n.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),u=o,d=!1;const h=6;for(let p=o;p<r;p++)if(n.get(p)!==d)l[a]++;else{if(a===h-1){let y=oe.MAX_AVG_VARIANCE,C=-1;for(let v=oe.CODE_START_A;v<=oe.CODE_START_C;v++){const T=xt.patternMatchVariance(l,oe.CODE_PATTERNS[v],oe.MAX_INDIVIDUAL_VARIANCE);T<y&&(y=T,C=v)}if(C>=0&&n.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,d=!d}throw new V}static decodeCode(n,r,o){xt.recordPattern(n,o,r);let a=oe.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<oe.CODE_PATTERNS.length;u++){const d=oe.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,oe.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,l=u)}if(l>=0)return l;throw new V}decodeRow(n,r,o){const a=o&&o.get(X.ASSUME_GS1)===!0,l=oe.findStartPattern(r),u=l[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case oe.CODE_START_A:p=oe.CODE_CODE_A;break;case oe.CODE_START_B:p=oe.CODE_CODE_B;break;case oe.CODE_START_C:p=oe.CODE_CODE_C;break;default:throw new L}let y=!1,C=!1,v="",T=l[0],D=l[1];const P=Int32Array.from([0,0,0,0,0,0]);let F=0,j=0,re=u,ie=0,$=!0,Be=!1,Ne=!1;for(;!y;){const Hi=C;switch(C=!1,F=j,j=oe.decodeCode(r,P,D),h[d++]=j,j!==oe.CODE_STOP&&($=!0),j!==oe.CODE_STOP&&(ie++,re+=ie*j),T=D,D+=P.reduce((d2,h2)=>d2+h2,0),j){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new L}switch(p){case oe.CODE_CODE_A:if(j<64)Ne===Be?v+=String.fromCharCode(" ".charCodeAt(0)+j):v+=String.fromCharCode(" ".charCodeAt(0)+j+128),Ne=!1;else if(j<96)Ne===Be?v+=String.fromCharCode(j-64):v+=String.fromCharCode(j+64),Ne=!1;else switch(j!==oe.CODE_STOP&&($=!1),j){case oe.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!Be&&Ne?(Be=!0,Ne=!1):Be&&Ne?(Be=!1,Ne=!1):Ne=!0;break;case oe.CODE_SHIFT:C=!0,p=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:p=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:p=oe.CODE_CODE_C;break;case oe.CODE_STOP:y=!0;break}break;case oe.CODE_CODE_B:if(j<96)Ne===Be?v+=String.fromCharCode(" ".charCodeAt(0)+j):v+=String.fromCharCode(" ".charCodeAt(0)+j+128),Ne=!1;else switch(j!==oe.CODE_STOP&&($=!1),j){case oe.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!Be&&Ne?(Be=!0,Ne=!1):Be&&Ne?(Be=!1,Ne=!1):Ne=!0;break;case oe.CODE_SHIFT:C=!0,p=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:p=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:p=oe.CODE_CODE_C;break;case oe.CODE_STOP:y=!0;break}break;case oe.CODE_CODE_C:if(j<100)j<10&&(v+="0"),v+=j;else switch(j!==oe.CODE_STOP&&($=!1),j){case oe.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case oe.CODE_CODE_A:p=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:p=oe.CODE_CODE_B;break;case oe.CODE_STOP:y=!0;break}break}Hi&&(p=p===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const wn=D-T;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-T)/2),!1))throw new V;if(re-=ie*F,re%103!==F)throw new U;const Qn=v.length;if(Qn===0)throw new V;Qn>0&&$&&(p===oe.CODE_CODE_C?v=v.substring(0,Qn-2):v=v.substring(0,Qn-1));const yn=(l[1]+l[0])/2,it=T+wn/2,Jt=h.length,Rn=new Uint8Array(Jt);for(let Hi=0;Hi<Jt;Hi++)Rn[Hi]=h[Hi];const Vi=[new fe(yn,n),new fe(it,n)];return new lt(v,Rn,0,Vi,ge.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class vt extends xt{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=vt.findAsteriskPattern(r,a),u=r.getNextSet(l[1]),d=r.getSize(),h,p;do{vt.recordPattern(r,u,a);let P=vt.toNarrowWidePattern(a);if(P<0)throw new V;h=vt.patternToChar(P),this.decodeRowResult+=h,p=u;for(let F of a)u+=F;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let P of a)y+=P;let C=u-p-y;if(u!==d&&C*2<y)throw new V;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,F=0;for(let j=0;j<P;j++)F+=vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(P)!==vt.ALPHABET_STRING.charAt(F%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new V;let v;this.extendedMode?v=vt.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let T=(l[1]+l[0])/2,D=p+y/2;return new lt(v,null,0,[new fe(T,n),new fe(D,n)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let o=n.getSize(),a=n.getNextSet(0),l=0,u=a,d=!1,h=r.length;for(let p=a;p<o;p++)if(n.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===vt.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new V}static toNarrowWidePattern(n){let r=n.length,o=0,a;do{let l=2147483647;for(let h of n)h<l&&h>o&&(l=h);o=l,a=0;let u=0,d=0;for(let h=0;h<r;h++){let p=n[h];p>o&&(d|=1<<r-1-h,a++,u+=p)}if(a===3){for(let h=0;h<r&&a>0;h++){let p=n[h];if(p>o&&(a--,p*2>=u))return-1}return d}}while(a>3);return-1}static patternToChar(n){for(let r=0;r<vt.CHARACTER_ENCODINGS.length;r++)if(vt.CHARACTER_ENCODINGS[r]===n)return vt.ALPHABET_STRING.charAt(r);if(n===vt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(n){let r=n.length,o="";for(let a=0;a<r;a++){let l=n.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=n.charAt(a+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new L;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new L;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new L;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new L;break}o+=d,a++}else o+=l}return o}}vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],vt.ASTERISK_ENCODING=148;class Je extends xt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,o){let a=this.decodeStart(r),l=this.decodeEnd(r),u=new De;Je.decodeMiddle(r,a[1],l[0],u);let d=u.toString(),h=null;o!=null&&(h=o.get(X.ALLOWED_LENGTHS)),h==null&&(h=Je.DEFAULT_ALLOWED_LENGTHS);let p=d.length,y=!1,C=0;for(let D of h){if(p===D){y=!0;break}D>C&&(C=D)}if(!y&&p>C&&(y=!0),!y)throw new L;const v=[new fe(a[1],n),new fe(l[0],n)];return new lt(d,null,0,v,ge.ITF,new Date().getTime())}static decodeMiddle(n,r,o,a){let l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<o;){xt.recordPattern(n,r,l);for(let p=0;p<5;p++){let y=2*p;u[p]=l[y],d[p]=l[y+1]}let h=Je.decodeDigit(u);a.append(h.toString()),h=this.decodeDigit(d),a.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(n){let r=Je.skipWhiteSpace(n),o=Je.findGuardPattern(n,r,Je.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let a=r-1;o>0&&a>=0&&!n.get(a);a--)o--;if(o!==0)throw new V}static skipWhiteSpace(n){const r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new V;return o}decodeEnd(n){n.reverse();try{let r=Je.skipWhiteSpace(n),o;try{o=Je.findGuardPattern(n,r,Je.END_PATTERN_REVERSED[0])}catch(l){l instanceof V&&(o=Je.findGuardPattern(n,r,Je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let a=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-a,o}finally{n.reverse()}}static findGuardPattern(n,r,o){let a=o.length,l=new Int32Array(a),u=n.getSize(),d=!1,h=0,p=r;l.fill(0);for(let y=r;y<u;y++)if(n.get(y)!==d)l[h]++;else{if(h===a-1){if(xt.patternMatchVariance(l,o,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return[p,y];p+=l[0]+l[1],k.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new V}static decodeDigit(n){let r=Je.MAX_AVG_VARIANCE,o=-1,a=Je.PATTERNS.length;for(let l=0;l<a;l++){let u=Je.PATTERNS[l],d=xt.patternMatchVariance(n,u,Je.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,o=l):d===r&&(o=-1)}if(o>=0)return o%10;throw new V}}Je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Je.MAX_AVG_VARIANCE=.38,Je.MAX_INDIVIDUAL_VARIANCE=.5,Je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Je.START_PATTERN=Int32Array.from([1,1,1,1]),Je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class B extends xt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,o,a=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),o=B.findGuardPattern(n,a,!1,this.START_END_PATTERN,l);let u=o[0];a=o[1];let d=u-(a-u);d>=0&&(r=n.isRange(d,u,!1))}return o}static checkChecksum(n){return B.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return B.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let a=r-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new L;o+=l}o*=3;for(let a=r-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new L;o+=l}return(1e3-o)%10}static decodeEnd(n,r){return B.findGuardPattern(n,r,!1,B.START_END_PATTERN,new Int32Array(B.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,o,a){return this.findGuardPattern(n,r,o,a,new Int32Array(a.length))}static findGuardPattern(n,r,o,a,l){let u=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);let d=0,h=r,p=a.length,y=o;for(let C=r;C<u;C++)if(n.get(C)!==y)l[d]++;else{if(d===p-1){if(xt.patternMatchVariance(l,a,B.MAX_INDIVIDUAL_VARIANCE)<B.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let v=l.slice(2,l.length-1);for(let T=0;T<d-1;T++)l[T]=v[T];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,y=!y}throw new V}static decodeDigit(n,r,o,a){this.recordPattern(n,o,r);let l=this.MAX_AVG_VARIANCE,u=-1,d=a.length;for(let h=0;h<d;h++){let p=a[h],y=xt.patternMatchVariance(r,p,B.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,u=h)}if(u>=0)return u;throw new V}}B.MAX_AVG_VARIANCE=.48,B.MAX_INDIVIDUAL_VARIANCE=.7,B.START_END_PATTERN=Int32Array.from([1,1,1]),B.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),B.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),B.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class W{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,a),u=a.toString(),d=W.parseExtensionString(u),h=[new fe((o[0]+o[1])/2,n),new fe(l,n)],p=new lt(u,null,0,h,ge.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<5&&u<l;p++){let y=B.decodeDigit(n,a,u,B.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let C of a)u+=C;y>=10&&(d|=1<<4-p),p!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==5)throw new V;let h=this.determineCheckDigit(d);if(W.extensionChecksum(o.toString())!==h)throw new V;return u}static extensionChecksum(n){let r=n.length,o=0;for(let a=r-2;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let a=r-1;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new V}static parseExtensionString(n){if(n.length!==5)return null;let r=W.parseExtension5String(n);return r==null?null:new Map([[ht.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(n.substring(1)),a=(o/100).toString(),l=o%100,u=l<10?"0"+l:l.toString();return r+a+"."+u}}class K{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,a),u=a.toString(),d=K.parseExtensionString(u),h=[new fe((o[0]+o[1])/2,n),new fe(l,n)],p=new lt(u,null,0,h,ge.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<l;h++){let p=B.decodeDigit(n,a,u,B.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let y of a)u+=y;p>=10&&(d|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==2)throw new V;if(parseInt(o.toString())%4!==d)throw new V;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(n)]])}}class ue{static decodeRow(n,r,o){let a=B.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new W().decodeRow(n,r,a)}catch{return new K().decodeRow(n,r,a)}}}ue.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ae extends B{constructor(){super(),this.decodeRowStringBuffer="",ae.L_AND_G_PATTERNS=ae.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=ae.L_PATTERNS[n-10],o=new Int32Array(r.length);for(let a=0;a<r.length;a++)o[a]=r[r.length-a-1];ae.L_AND_G_PATTERNS[n]=o}}decodeRow(n,r,o){let a=ae.findStartGuardPattern(r),l=o==null?null:o.get(X.NEED_RESULT_POINT_CALLBACK);if(l!=null){const $=new fe((a[0]+a[1])/2,n);l.foundPossibleResultPoint($)}let u=this.decodeMiddle(r,a,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(l!=null){const $=new fe(d,n);l.foundPossibleResultPoint($)}let p=this.decodeEnd(r,d);if(l!=null){const $=new fe((p[0]+p[1])/2,n);l.foundPossibleResultPoint($)}let y=p[1],C=y+(y-p[0]);if(C>=r.getSize()||!r.isRange(y,C,!1))throw new V;let v=h.toString();if(v.length<8)throw new L;if(!ae.checkChecksum(v))throw new U;let T=(a[1]+a[0])/2,D=(p[1]+p[0])/2,P=this.getBarcodeFormat(),F=[new fe(T,n),new fe(D,n)],j=new lt(v,null,0,F,P,new Date().getTime()),re=0;try{let $=ue.decodeRow(n,r,p[1]);j.putMetadata(ht.UPC_EAN_EXTENSION,$.getText()),j.putAllMetadata($.getResultMetadata()),j.addResultPoints($.getResultPoints()),re=$.getText().length}catch{}let ie=o==null?null:o.get(X.ALLOWED_EAN_EXTENSIONS);if(ie!=null){let $=!1;for(let Be in ie)if(re.toString()===Be){$=!0;break}if(!$)throw new V}return j}decodeEnd(n,r){return ae.findGuardPattern(n,r,!1,ae.START_END_PATTERN,new Int32Array(ae.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return ae.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return ae.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let a=r-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new L;o+=l}o*=3;for(let a=r-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new L;o+=l}return(1e3-o)%10}}class ye extends ae{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<6&&u<l;p++){let y=ae.decodeDigit(n,a,u,ae.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let C of a)u+=C;y>=10&&(d|=1<<5-p)}o=ye.determineFirstDigit(o,d),u=ae.findGuardPattern(n,u,!0,ae.MIDDLE_PATTERN,new Int32Array(ae.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let y=ae.decodeDigit(n,a,u,ae.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y);for(let C of a)u+=C}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(n,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n,n;throw new V}}ye.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Te extends ae{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=ae.decodeDigit(n,a,u,ae.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);for(let y of a)u+=y}u=ae.findGuardPattern(n,u,!0,ae.MIDDLE_PATTERN,new Int32Array(ae.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=ae.decodeDigit(n,a,u,ae.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);for(let y of a)u+=y}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ge.EAN_8}}class Ae extends ae{constructor(){super(...arguments),this.ean13Reader=new ye}getBarcodeFormat(){return ge.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))}decodeMiddle(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let o=new lt(r.substring(1),null,null,n.getResultPoints(),ge.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new V}reset(){this.ean13Reader.reset()}}class he extends ae{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,o){const a=this.decodeMiddleCounters.map(p=>p);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=n.getSize();let u=r[1],d=0;for(let p=0;p<6&&u<l;p++){const y=he.decodeDigit(n,a,u,he.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let C of a)u+=C;y>=10&&(d|=1<<5-p)}let h=he.determineNumSysAndCheckDigit(o,d);return{rowOffset:u,resultString:h}}decodeEnd(n,r){return he.findGuardPatternWithoutCounters(n,r,!0,he.MIDDLE_END_PATTERN)}checkChecksum(n){return ae.checkChecksum(he.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let l=String.fromCharCode("0".charCodeAt(0)+o),u=String.fromCharCode("0".charCodeAt(0)+a);return l+n+u}throw V.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new De;o.append(n.charAt(0));let a=r[5];switch(a){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(a),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(a);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}he.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),he.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ke extends xt{constructor(n){super();let r=n==null?null:n.get(X.POSSIBLE_FORMATS),o=[];s(r)?(o.push(new ye),o.push(new Ae),o.push(new Te),o.push(new he)):(r.indexOf(ge.EAN_13)>-1&&o.push(new ye),r.indexOf(ge.UPC_A)>-1&&o.push(new Ae),r.indexOf(ge.EAN_8)>-1&&o.push(new Te),r.indexOf(ge.UPC_E)>-1&&o.push(new he)),this.readers=o}decodeRow(n,r,o){for(let a of this.readers)try{const l=a.decodeRow(n,r,o),u=l.getBarcodeFormat()===ge.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(X.POSSIBLE_FORMATS),h=d==null||d.includes(ge.UPC_A);if(u&&h){const p=l.getRawBytes(),y=new lt(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ge.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new V}reset(){for(let n of this.readers)n.reset()}}class Oe extends xt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let o=0;o<r.length;o++)if(xt.patternMatchVariance(n,r[o],Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE)return o;throw new V}static count(n){return ke.sum(new Int32Array(n))}static increment(n,r){let o=0,a=r[0];for(let l=1;l<n.length;l++)r[l]>a&&(a=r[l],o=l);n[o]++}static decrement(n,r){let o=0,a=r[0];for(let l=1;l<n.length;l++)r[l]<a&&(a=r[l],o=l);n[o]--}static isFinderPattern(n){let r=n[0]+n[1],o=r+n[2]+n[3],a=r/o;if(a>=Oe.MIN_FINDER_PATTERN_RATIO&&a<=Oe.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of n)d>u&&(u=d),d<l&&(l=d);return u<10*l}return!1}}Oe.MAX_AVG_VARIANCE=.2,Oe.MAX_INDIVIDUAL_VARIANCE=.45,Oe.MIN_FINDER_PATTERN_RATIO=9.5/12,Oe.MAX_FINDER_PATTERN_RATIO=12.5/14;class _e{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof _e))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ye{constructor(n,r,o,a,l){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new fe(o,l)),this.resultPoints.push(new fe(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Ye))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class Ze{constructor(){}static getRSSvalue(n,r,o){let a=0;for(let h of n)a+=h;let l=0,u=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<n[h];p++,u&=~(1<<h)){let y=Ze.combins(a-p-1,d-h-2);if(o&&u===0&&a-p-(d-h-1)>=d-h-1&&(y-=Ze.combins(a-p-(d-h),d-h-2)),d-h-1>1){let C=0;for(let v=a-p-(d-h-2);v>r;v--)C+=Ze.combins(a-p-v-1,d-h-3);y-=C*(d-1-h)}else a-p>r&&y--;l+=y}a-=p}return l}static combins(n,r){let o,a;n-r>r?(a=r,o=n-r):(a=n-r,o=r);let l=1,u=1;for(let d=n;d>o;d--)l*=d,u<=a&&(l/=u,u++);for(;u<=a;)l/=u,u++;return l}}class wr{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let o=12*r,a=new R(o),l=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&a.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],y=p.getLeftChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&a.set(l),l++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let v=11;v>=0;--v)C&1<<v&&a.set(l),l++}}return a}}class cn{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class yr{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Ht extends yr{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class Zt extends yr{constructor(n,r,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class St extends yr{constructor(n,r,o){if(super(n),r<0||r>10||o<0||o>10)throw new L;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===St.FNC1}isSecondDigitFNC1(){return this.secondDigit===St.FNC1}isAnyFNC1(){return this.firstDigit===St.FNC1||this.secondDigit===St.FNC1}}St.FNC1=10;class le{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new V;let r=n.substring(0,2);for(let l of le.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===le.VARIABLE_LENGTH?le.processVariableAI(2,l[2],n):le.processFixedAI(2,l[1],n);if(n.length<3)throw new V;let o=n.substring(0,3);for(let l of le.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===le.VARIABLE_LENGTH?le.processVariableAI(3,l[2],n):le.processFixedAI(3,l[1],n);for(let l of le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,l[2],n):le.processFixedAI(4,l[1],n);if(n.length<4)throw new V;let a=n.substring(0,4);for(let l of le.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,l[2],n):le.processFixedAI(4,l[1],n);throw new V}static processFixedAI(n,r,o){if(o.length<n)throw new V;let a=o.substring(0,n);if(o.length<n+r)throw new V;let l=o.substring(n,n+r),u=o.substring(n+r),d="("+a+")"+l,h=le.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(n,r,o){let a=o.substring(0,n),l;o.length<n+r?l=o.length:l=n+r;let u=o.substring(n,l),d=o.substring(l),h="("+a+")"+u,p=le.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}le.VARIABLE_LENGTH=[],le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",le.VARIABLE_LENGTH,20],["22",le.VARIABLE_LENGTH,29],["30",le.VARIABLE_LENGTH,8],["37",le.VARIABLE_LENGTH,8],["90",le.VARIABLE_LENGTH,30],["91",le.VARIABLE_LENGTH,30],["92",le.VARIABLE_LENGTH,30],["93",le.VARIABLE_LENGTH,30],["94",le.VARIABLE_LENGTH,30],["95",le.VARIABLE_LENGTH,30],["96",le.VARIABLE_LENGTH,30],["97",le.VARIABLE_LENGTH,3],["98",le.VARIABLE_LENGTH,30],["99",le.VARIABLE_LENGTH,30]],le.THREE_DIGIT_DATA_LENGTH=[["240",le.VARIABLE_LENGTH,30],["241",le.VARIABLE_LENGTH,30],["242",le.VARIABLE_LENGTH,6],["250",le.VARIABLE_LENGTH,30],["251",le.VARIABLE_LENGTH,30],["253",le.VARIABLE_LENGTH,17],["254",le.VARIABLE_LENGTH,20],["400",le.VARIABLE_LENGTH,30],["401",le.VARIABLE_LENGTH,30],["402",17],["403",le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",le.VARIABLE_LENGTH,20],["421",le.VARIABLE_LENGTH,15],["422",3],["423",le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",le.VARIABLE_LENGTH,15],["391",le.VARIABLE_LENGTH,18],["392",le.VARIABLE_LENGTH,15],["393",le.VARIABLE_LENGTH,18],["703",le.VARIABLE_LENGTH,30]],le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",le.VARIABLE_LENGTH,20],["8003",le.VARIABLE_LENGTH,30],["8004",le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",le.VARIABLE_LENGTH,30],["8008",le.VARIABLE_LENGTH,12],["8018",18],["8020",le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",le.VARIABLE_LENGTH,70],["8200",le.VARIABLE_LENGTH,70]];class or{constructor(n){this.buffer=new De,this.information=n}decodeAllCodes(n,r){let o=r,a=null;do{let l=this.decodeGeneralPurposeField(o,a),u=le.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&n.append(u),l.isRemaining()?a=""+l.getRemainingValue():a=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new St(this.information.getSize(),St.FNC1,St.FNC1):new St(this.information.getSize(),l-1,St.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),o=(r-8)/11,a=(r-8)%11;return new St(n+7,o,a)}extractNumericValueFromBitArray(n,r){return or.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,o){let a=0;for(let l=0;l<o;++l)n.get(r+l)&&(a|=1<<o-l-1);return a}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Zt(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Zt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new Zt(this.current.getPosition(),this.buffer.toString()):r=new Zt(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new cn(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new Zt(this.current.getPosition(),this.buffer.toString());return new cn(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new cn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Zt(this.current.getPosition(),this.buffer.toString());return new cn(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new cn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Zt(this.current.getPosition(),this.buffer.toString());return new cn(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new cn(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Ht(n+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new Ht(n+7,""+(o+1));if(o>=90&&o<116)return new Ht(n+7,""+(o+7));let a=this.extractNumericValueFromBitArray(n,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new L}return new Ht(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Ht(n+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new Ht(n+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new kn("Decoding invalid alphanumeric value: "+o)}return new Ht(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class hi{constructor(n){this.information=n,this.generalDecoder=new or(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class jt extends hi{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)}encodeCompressedGtinWithoutAI(n,r,o){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}jt.appendCheckDigit(n,o)}static appendCheckDigit(n,r){let o=0;for(let a=0;a<13;a++){let l=n.charAt(a+r).charCodeAt(0)-"0".charCodeAt(0);o+=a&1?l:3*l}o=10-o%10,o===10&&(o=0),n.append(o)}}jt.GTIN_SIZE=40;class Fe extends jt{constructor(n){super(n)}parseInformation(){let n=new De;n.append("(01)");let r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Fe.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Fe.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,Fe.HEADER_SIZE+44)}}Fe.HEADER_SIZE=1+1+2;class rn extends hi{constructor(n){super(n)}parseInformation(){let n=new De;return this.getGeneralDecoder().decodeAllCodes(n,rn.HEADER_SIZE)}}rn.HEADER_SIZE=2+1+2;class In extends jt{constructor(n){super(n)}encodeCompressedWeight(n,r,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,a);let l=this.checkWeight(a),u=1e5;for(let d=0;d<5;++d)l/u===0&&n.append("0"),u/=10;n.append(l)}}class xn extends In{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=xn.HEADER_SIZE+In.GTIN_SIZE+xn.WEIGHT_SIZE)throw new V;let n=new De;return this.encodeCompressedGtin(n,xn.HEADER_SIZE),this.encodeCompressedWeight(n,xn.HEADER_SIZE+In.GTIN_SIZE,xn.WEIGHT_SIZE),n.toString()}}xn.HEADER_SIZE=4+1,xn.WEIGHT_SIZE=15;class _t extends xn{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class gi extends xn{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Tn extends jt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Tn.HEADER_SIZE+jt.GTIN_SIZE)throw new V;let n=new De;this.encodeCompressedGtin(n,Tn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Tn.HEADER_SIZE+jt.GTIN_SIZE,Tn.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Tn.HEADER_SIZE+jt.GTIN_SIZE+Tn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Tn.HEADER_SIZE=5+1+2,Tn.LAST_DIGIT_SIZE=2;class Kt extends jt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Kt.HEADER_SIZE+jt.GTIN_SIZE)throw new V;let n=new De;this.encodeCompressedGtin(n,Kt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+jt.GTIN_SIZE,Kt.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+jt.GTIN_SIZE+Kt.LAST_DIGIT_SIZE,Kt.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE+jt.GTIN_SIZE+Kt.LAST_DIGIT_SIZE+Kt.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}Kt.HEADER_SIZE=5+1+2,Kt.LAST_DIGIT_SIZE=2,Kt.FIRST_THREE_DIGITS_SIZE=10;class gt extends In{constructor(n,r,o){super(n),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE+gt.DATE_SIZE)throw new V;let n=new De;return this.encodeCompressedGtin(n,gt.HEADER_SIZE),this.encodeCompressedWeight(n,gt.HEADER_SIZE+gt.GTIN_SIZE,gt.WEIGHT_SIZE),this.encodeCompressedDate(n,gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,gt.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=o%32;o/=32;let l=o%12+1;o/=12;let u=o;u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}gt.HEADER_SIZE=7+1,gt.WEIGHT_SIZE=20,gt.DATE_SIZE=16;function b1(E){try{if(E.get(1))return new Fe(E);if(!E.get(2))return new rn(E);switch(or.extractNumericValueFromBitArray(E,1,4)){case 4:return new _t(E);case 5:return new gi(E)}switch(or.extractNumericValueFromBitArray(E,1,5)){case 12:return new Tn(E);case 13:return new Kt(E)}switch(or.extractNumericValueFromBitArray(E,1,7)){case 56:return new gt(E,"310","11");case 57:return new gt(E,"320","11");case 58:return new gt(E,"310","13");case 59:return new gt(E,"320","13");case 60:return new gt(E,"310","15");case 61:return new gt(E,"320","15");case 62:return new gt(E,"310","17");case 63:return new gt(E,"320","17")}}catch(n){throw console.log(n),new kn("unknown decoder: "+E)}}class Lr{constructor(n,r,o,a){this.leftchar=n,this.rightchar=r,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof Lr?Lr.equalsOrNull(n.leftchar,r.leftchar)&&Lr.equalsOrNull(n.rightchar,r.rightchar)&&Lr.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:Lr.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nl{constructor(n,r,o){this.pairs=n,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof Nl?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let o;return n.forEach((a,l)=>{r.forEach(u=>{a.getLeftChar().getValue()===u.getLeftChar().getValue()&&a.getRightChar().getValue()===u.getRightChar().getValue()&&a.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(o=!0)})}),o}}class Q extends Oe{constructor(n){super(...arguments),this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(n,r))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof V){if(!this.pairs.length)throw new V;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new V}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let o=r;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(a.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(a);try{return this.checkRows(l,o+1)}catch(u){this.verbose&&console.log(u)}}throw new V}static isValidSequence(n){for(let r of Q.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let o=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=r[a]){o=!1;break}if(o)return!0}return!1}storeRow(n,r){let o=0,a=!1,l=!1;for(;o<this.rows.length;){let u=this.rows[o];if(u.getRowNumber()>n){l=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),o++}l||a||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Nl(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let o of r)if(o.getPairs().length!==n.length){for(let a of o.getPairs())for(let l of n)if(Lr.equals(a,l))break}}static isPartialRow(n,r){for(let o of r){let a=!0;for(let l of n){let u=!1;for(let d of o.getPairs())if(l.equals(d)){u=!0;break}if(!u){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=wr.buildBitArray(n),a=b1(r).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new lt(a,null,null,d,ge.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);a+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(a+=p.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==r.getValue()}static getNextSecondBar(n,r){let o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o}retrieveNextPair(n,r,o){let a=r.length%2==0;this.startFromEven&&(a=!a);let l,u=!0,d=-1;do this.findNextPair(n,r,d),l=this.parseFoundFinderPattern(n,o,a),l==null?d=Q.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,l,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new V;let p;try{p=this.decodeDataCharacter(n,l,a,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new Lr(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u;o>=0?u=o:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<l&&(h=!n.get(u),!!h);)u++;let p=0,y=u;for(let C=u;C<l;C++)if(n.get(C)!=h)a[p]++;else{if(p==3){if(d&&Q.reverseCounters(a),Q.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=C;return}d&&Q.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new V}static reverseCounters(n){let r=n.length;for(let o=0;o<r/2;++o){let a=n[o];n[o]=n[r-o-1],n[r-o-1]=a}}parseFoundFinderPattern(n,r,o){let a,l,u;if(o){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,a=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];let d=this.getDecodeFinderCounters();k.arraycopy(d,0,d,1,d.length-1),d[0]=a;let h;try{h=this.parseFinderValue(d,Q.FINDER_PATTERNS)}catch{return null}return new Ye(h,[l,u],l,u,r)}decodeDataCharacter(n,r,o,a){let l=this.getDataCharacterCounters();for(let it=0;it<l.length;it++)l[it]=0;if(a)Q.recordPatternInReverse(n,r.getStartEnd()[0],l);else{Q.recordPattern(n,r.getStartEnd()[1],l);for(let it=0,Jt=l.length-1;it<Jt;it++,Jt--){let Rn=l[it];l[it]=l[Jt],l[Jt]=Rn}}let u=17,d=ke.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new V;let p=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let it=0;it<l.length;it++){let Jt=1*l[it]/d,Rn=Jt+.5;if(Rn<1){if(Jt<.3)throw new V;Rn=1}else if(Rn>8){if(Jt>8.7)throw new V;Rn=8}let Vi=it/2;it&1?(y[Vi]=Rn,v[Vi]=Jt-Rn):(p[Vi]=Rn,C[Vi]=Jt-Rn)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(o?0:2)+(a?0:1)-1,D=0,P=0;for(let it=p.length-1;it>=0;it--){if(Q.isNotA1left(r,o,a)){let Jt=Q.WEIGHTS[T][2*it];P+=p[it]*Jt}D+=p[it]}let F=0;for(let it=y.length-1;it>=0;it--)if(Q.isNotA1left(r,o,a)){let Jt=Q.WEIGHTS[T][2*it+1];F+=y[it]*Jt}let j=P+F;if(D&1||D>13||D<4)throw new V;let re=(13-D)/2,ie=Q.SYMBOL_WIDEST[re],$=9-ie,Be=Ze.getRSSvalue(p,ie,!0),Ne=Ze.getRSSvalue(y,$,!1),wn=Q.EVEN_TOTAL_SUBSET[re],Qn=Q.GSUM[re],yn=Be*wn+Ne+Qn;return new _e(yn,j)}static isNotA1left(n,r,o){return!(n.getValue()==0&&r&&o)}adjustOddEvenCounts(n){let r=ke.sum(new Int32Array(this.getOddCounts())),o=ke.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;r>13?l=!0:r<4&&(a=!0);let u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let h=r+o-n,p=(r&1)==1,y=(o&1)==0;if(h==1)if(p){if(y)throw new V;l=!0}else{if(!y)throw new V;d=!0}else if(h==-1)if(p){if(y)throw new V;a=!0}else{if(!y)throw new V;u=!0}else if(h==0){if(p){if(!y)throw new V;r<o?(a=!0,d=!0):(l=!0,u=!0)}else if(y)throw new V}else throw new V;if(a){if(l)throw new V;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new V;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class Vg extends _e{constructor(n,r,o){super(n,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends Oe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,o){const a=this.decodePair(r,!1,n,o);It.addOrTally(this.possibleLeftPairs,a),r.reverse();let l=this.decodePair(r,!0,n,o);It.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&It.checkChecksum(u,d))return It.constructResult(u,d)}throw new V}static addOrTally(n,r){if(r==null)return;let o=!1;for(let a of n)if(a.getValue()===r.getValue()){a.incrementCount(),o=!0;break}o||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let o=4537077*n.getValue()+r.getValue(),a=new String(o).toString(),l=new De;for(let p=13-a.length;p>0;p--)l.append("0");l.append(a);let u=0;for(let p=0;p<13;p++){let y=l.charAt(p).charCodeAt(0)-"0".charCodeAt(0);u+=p&1?y:3*y}u=10-u%10,u===10&&(u=0),l.append(u.toString());let d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new lt(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(n,r){let o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(n,r,o,a){try{let l=this.findFinderPattern(n,r),u=this.parseFoundFinderPattern(n,o,r,l),d=a==null?null:a.get(X.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(l[0]+l[1])/2;r&&(y=n.getSize()-1-y),d.foundPossibleResultPoint(new fe(y,o))}let h=this.decodeDataCharacter(n,u,!0),p=this.decodeDataCharacter(n,u,!1);return new Vg(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,r,o){let a=this.getDataCharacterCounters();for(let F=0;F<a.length;F++)a[F]=0;if(o)xt.recordPatternInReverse(n,r.getStartEnd()[0],a);else{xt.recordPattern(n,r.getStartEnd()[1]+1,a);for(let F=0,j=a.length-1;F<j;F++,j--){let re=a[F];a[F]=a[j],a[j]=re}}let l=o?16:15,u=ke.sum(new Int32Array(a))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let F=0;F<a.length;F++){let j=a[F]/u,re=Math.floor(j+.5);re<1?re=1:re>8&&(re=8);let ie=Math.floor(F/2);F&1?(h[ie]=re,y[ie]=j-re):(d[ie]=re,p[ie]=j-re)}this.adjustOddEvenCounts(o,l);let C=0,v=0;for(let F=d.length-1;F>=0;F--)v*=9,v+=d[F],C+=d[F];let T=0,D=0;for(let F=h.length-1;F>=0;F--)T*=9,T+=h[F],D+=h[F];let P=v+3*T;if(o){if(C&1||C>12||C<4)throw new V;let F=(12-C)/2,j=It.OUTSIDE_ODD_WIDEST[F],re=9-j,ie=Ze.getRSSvalue(d,j,!1),$=Ze.getRSSvalue(h,re,!0),Be=It.OUTSIDE_EVEN_TOTAL_SUBSET[F],Ne=It.OUTSIDE_GSUM[F];return new _e(ie*Be+$+Ne,P)}else{if(D&1||D>10||D<4)throw new V;let F=(10-D)/2,j=It.INSIDE_ODD_WIDEST[F],re=9-j,ie=Ze.getRSSvalue(d,j,!0),$=Ze.getRSSvalue(h,re,!1),Be=It.INSIDE_ODD_TOTAL_SUBSET[F],Ne=It.INSIDE_GSUM[F];return new _e($*Be+ie+Ne,P)}}findFinderPattern(n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=n.getSize(),l=!1,u=0;for(;u<a&&(l=!n.get(u),r!==l);)u++;let d=0,h=u;for(let p=u;p<a;p++)if(n.get(p)!==l)o[d]++;else{if(d===3){if(Oe.isFinderPattern(o))return[h,p];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new V}parseFoundFinderPattern(n,r,o,a){let l=n.get(a[0]),u=a[0]-1;for(;u>=0&&l!==n.get(u);)u--;u++;const d=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);k.arraycopy(h,0,p,1,h.length-1),p[0]=d;const y=this.parseFinderValue(p,It.FINDER_PATTERNS);let C=u,v=a[1];return o&&(C=n.getSize()-1-C,v=n.getSize()-1-v),new Ye(y,[u,a[1]],C,v,r)}adjustOddEvenCounts(n,r){let o=ke.sum(new Int32Array(this.getOddCounts())),a=ke.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;n?(o>12?u=!0:o<4&&(l=!0),a>12?h=!0:a<4&&(d=!0)):(o>11?u=!0:o<5&&(l=!0),a>10?h=!0:a<4&&(d=!0));let p=o+a-r,y=(o&1)===(n?1:0),C=(a&1)===1;if(p===1)if(y){if(C)throw new V;u=!0}else{if(!C)throw new V;h=!0}else if(p===-1)if(y){if(C)throw new V;l=!0}else{if(!C)throw new V;d=!0}else if(p===0){if(y){if(!C)throw new V;o<a?(l=!0,h=!0):(u=!0,d=!0)}else if(C)throw new V}else throw new V;if(l){if(u)throw new V;Oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new V;Oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Li extends xt{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const o=n?n.get(X.POSSIBLE_FORMATS):null,a=n&&n.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ge.EAN_13)||o.includes(ge.UPC_A)||o.includes(ge.EAN_8)||o.includes(ge.UPC_E))&&this.readers.push(new Ke(n)),o.includes(ge.CODE_39)&&this.readers.push(new vt(a)),o.includes(ge.CODE_128)&&this.readers.push(new oe),o.includes(ge.ITF)&&this.readers.push(new Je),o.includes(ge.RSS_14)&&this.readers.push(new It),o.includes(ge.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))):(this.readers.push(new Ke(n)),this.readers.push(new vt),this.readers.push(new Ke(n)),this.readers.push(new oe),this.readers.push(new Je),this.readers.push(new It),this.readers.push(new Q(this.verbose)))}decodeRow(n,r,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,r,o)}catch{}throw new V}reset(){this.readers.forEach(n=>n.reset())}}class Hg extends nn{constructor(n=500,r){super(new Li(r),n,r)}}class qe{constructor(n,r,o){this.ecCodewords=n,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qe{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(n,r,o,a,l,u){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let y of p)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new L;for(let o of Ue.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===r)return o;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Ue(1,10,10,8,8,new qe(5,new Qe(1,3))),new Ue(2,12,12,10,10,new qe(7,new Qe(1,5))),new Ue(3,14,14,12,12,new qe(10,new Qe(1,8))),new Ue(4,16,16,14,14,new qe(12,new Qe(1,12))),new Ue(5,18,18,16,16,new qe(14,new Qe(1,18))),new Ue(6,20,20,18,18,new qe(18,new Qe(1,22))),new Ue(7,22,22,20,20,new qe(20,new Qe(1,30))),new Ue(8,24,24,22,22,new qe(24,new Qe(1,36))),new Ue(9,26,26,24,24,new qe(28,new Qe(1,44))),new Ue(10,32,32,14,14,new qe(36,new Qe(1,62))),new Ue(11,36,36,16,16,new qe(42,new Qe(1,86))),new Ue(12,40,40,18,18,new qe(48,new Qe(1,114))),new Ue(13,44,44,20,20,new qe(56,new Qe(1,144))),new Ue(14,48,48,22,22,new qe(68,new Qe(1,174))),new Ue(15,52,52,24,24,new qe(42,new Qe(2,102))),new Ue(16,64,64,14,14,new qe(56,new Qe(2,140))),new Ue(17,72,72,16,16,new qe(36,new Qe(4,92))),new Ue(18,80,80,18,18,new qe(48,new Qe(4,114))),new Ue(19,88,88,20,20,new qe(56,new Qe(4,144))),new Ue(20,96,96,22,22,new qe(68,new Qe(4,174))),new Ue(21,104,104,24,24,new qe(56,new Qe(6,136))),new Ue(22,120,120,18,18,new qe(68,new Qe(6,175))),new Ue(23,132,132,20,20,new qe(62,new Qe(8,163))),new Ue(24,144,144,22,22,new qe(62,new Qe(8,156),new Qe(2,155))),new Ue(25,8,18,6,16,new qe(7,new Qe(1,5))),new Ue(26,8,32,6,14,new qe(11,new Qe(1,10))),new Ue(27,12,26,10,24,new qe(14,new Qe(1,16))),new Ue(28,12,36,10,16,new qe(18,new Qe(1,22))),new Ue(29,16,36,14,16,new qe(24,new Qe(1,32))),new Ue(30,16,48,14,22,new qe(28,new Qe(1,49)))]}}Ue.VERSIONS=Ue.buildVersions();class _l{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new L;this.version=_l.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),o=n.getWidth();return Ue.getVersionForDimensions(r,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,a=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,y=!1;do if(o===l&&a===0&&!d)n[r++]=this.readCorner1(l,u)&255,o-=2,a+=2,d=!0;else if(o===l-2&&a===0&&u&3&&!h)n[r++]=this.readCorner2(l,u)&255,o-=2,a+=2,h=!0;else if(o===l+4&&a===2&&!(u&7)&&!p)n[r++]=this.readCorner3(l,u)&255,o-=2,a+=2,p=!0;else if(o===l-2&&a===0&&(u&7)===4&&!y)n[r++]=this.readCorner4(l,u)&255,o-=2,a+=2,y=!0;else{do o<l&&a>=0&&!this.readMappingMatrix.get(a,o)&&(n[r++]=this.readUtah(o,a,l,u)&255),o-=2,a+=2;while(o>=0&&a<u);o+=1,a+=3;do o>=0&&a<u&&!this.readMappingMatrix.get(a,o)&&(n[r++]=this.readUtah(o,a,l,u)&255),o+=2,a-=2;while(o<l&&a>=0);o+=3,a+=1}while(o<l||a<u);if(r!==this.version.getTotalCodewords())throw new L;return n}readModule(n,r,o,a){return n<0&&(n+=o,r+=4-(o+4&7)),r<0&&(r+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,o,a){let l=0;return this.readModule(n-2,r-2,o,a)&&(l|=1),l<<=1,this.readModule(n-2,r-1,o,a)&&(l|=1),l<<=1,this.readModule(n-1,r-2,o,a)&&(l|=1),l<<=1,this.readModule(n-1,r-1,o,a)&&(l|=1),l<<=1,this.readModule(n-1,r,o,a)&&(l|=1),l<<=1,this.readModule(n,r-2,o,a)&&(l|=1),l<<=1,this.readModule(n,r-1,o,a)&&(l|=1),l<<=1,this.readModule(n,r,o,a)&&(l|=1),l}readCorner1(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,1,n,r)&&(o|=1),o<<=1,this.readModule(n-1,2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}readCorner2(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-4,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner3(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-3,n,r)&&(o|=1),o<<=1,this.readModule(1,r-2,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner4(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/a|0,d=o/l|0,h=u*a,p=d*l,y=new ot(p,h);for(let C=0;C<u;++C){const v=C*a;for(let T=0;T<d;++T){const D=T*l;for(let P=0;P<a;++P){const F=C*(a+2)+1+P,j=v+P;for(let re=0;re<l;++re){const ie=T*(l+2)+1+re;if(n.get(ie,F)){const $=D+re;y.set($,j)}}}}}return y}}class Ol{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const o=r.getECBlocks();let a=0;const l=o.getECBlocks();for(let P of l)a+=P.getCount();const u=new Array(a);let d=0;for(let P of l)for(let F=0;F<P.getCount();F++){const j=P.getDataCodewords(),re=o.getECCodewords()+j;u[d++]=new Ol(j,new Uint8Array(re))}const p=u[0].codewords.length-o.getECCodewords(),y=p-1;let C=0;for(let P=0;P<y;P++)for(let F=0;F<d;F++)u[F].codewords[P]=n[C++];const v=r.getVersionNumber()===24,T=v?8:d;for(let P=0;P<T;P++)u[P].codewords[p-1]=n[C++];const D=u[0].codewords.length;for(let P=p;P<D;P++)for(let F=0;F<d;F++){const j=v?(F+8)%d:F,re=v&&j>7?P-1:P;u[j].codewords[re]=n[C++]}if(C!==n.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class bl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new S(""+n);let r=0,o=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(o>0){const u=8-o,d=n<u?n:u,h=u-d,p=255>>8-d<<h;r=(l[a]&p)>>h,n-=d,o+=d,o===8&&(o=0,a++)}if(n>0){for(;n>=8;)r=r<<8|l[a]&255,a++,n-=8;if(n>0){const u=8-n,d=255>>u<<u;r=r<<n|(l[a]&d)>>u,o+=n}}return this.bitOffset=o,this.byteOffset=a,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ft;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ft||(Ft={}));class Fr{static decode(n){const r=new bl(n),o=new De,a=new De,l=new Array;let u=Ft.ASCII_ENCODE;do if(u===Ft.ASCII_ENCODE)u=this.decodeAsciiSegment(r,o,a);else{switch(u){case Ft.C40_ENCODE:this.decodeC40Segment(r,o);break;case Ft.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case Ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case Ft.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case Ft.BASE256_ENCODE:this.decodeBase256Segment(r,o,l);break;default:throw new L}u=Ft.ASCII_ENCODE}while(u!==Ft.PAD_ENCODE&&r.available()>0);return a.length()>0&&o.append(a.toString()),new Mr(n,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,r,o){let a=!1;do{let l=n.readBits(8);if(l===0)throw new L;if(l<=128)return a&&(l+=128),r.append(String.fromCharCode(l-1)),Ft.ASCII_ENCODE;if(l===129)return Ft.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return Ft.C40_ENCODE;case 231:return Ft.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return Ft.ANSIX12_ENCODE;case 239:return Ft.TEXT_ENCODE;case 240:return Ft.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new L;break}}while(n.available()>0);return Ft.ASCII_ENCODE}static decodeC40Segment(n,r){let o=!1;const a=[];let l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let d=0;d<3;d++){const h=a[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new L;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new L}l=0;break;case 3:o?(r.append(String.fromCharCode(h+224)),o=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new L}}}while(n.available()>0)}static decodeTextSegment(n,r){let o=!1,a=[],l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let d=0;d<3;d++){const h=a[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new L;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new L}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p),l=0}else throw new L;break;default:throw new L}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const o=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),o);for(let l=0;l<3;l++){const u=o[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new L;break}}}while(n.available()>0)}static parseTwoBytes(n,r,o){let a=(n<<8)+r-1,l=Math.floor(a/1600);o[0]=l,a-=l*1600,l=Math.floor(a/40),o[1]=l,o[2]=a-l*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let a=n.readBits(6);if(a===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,r,o){let a=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),a++);let u;if(l===0?u=n.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(n.readBits(8),a++),u<0)throw new L;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new L;d[h]=this.unrandomize255State(n.readBits(8),a++)}o.push(d);try{r.append(Ve.decode(d,pe.ISO88591))}catch(h){throw new kn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,r){const o=149*r%255+1,a=n-o;return a>=0?a:a+256}}Fr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Fr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Fr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Fr.TEXT_SHIFT2_SET_CHARS=Fr.C40_SHIFT2_SET_CHARS,Fr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class jg{constructor(){this.rsDecoder=new di(He.DATA_MATRIX_FIELD_256)}decode(n){const r=new _l(n),o=r.getVersion(),a=r.readCodewords(),l=Ol.getDataBlocks(a,o);let u=0;for(let p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const y=l[p],C=y.getCodewords(),v=y.getNumDataCodewords();this.correctErrors(C,v);for(let T=0;T<v;T++)d[T*h+p]=C[T]}return Fr.decode(d)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new U}for(let a=0;a<r;a++)n[a]=o[a]}}class Ot{constructor(n){this.image=n,this.rectangleDetector=new Bn(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new V;r=this.shiftToModuleCenter(r);const o=r[0],a=r[1],l=r[2],u=r[3];let d=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(l,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=Ot.sampleGrid(this.image,o,a,l,u,d,h);return new kr(p,[o,a,l,u])}static shiftPoint(n,r,o){let a=(r.getX()-n.getX())/(o+1),l=(r.getY()-n.getY())/(o+1);return new fe(n.getX()+a,n.getY()+l)}static moveAway(n,r,o){let a=n.getX(),l=n.getY();return a<r?a-=1:a+=1,l<o?l-=1:l+=1,new fe(a,l)}detectSolid1(n){let r=n[0],o=n[1],a=n[3],l=n[2],u=this.transitionsBetween(r,o),d=this.transitionsBetween(o,a),h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,r),y=u,C=[l,r,o,a];return y>d&&(y=d,C[0]=r,C[1]=o,C[2]=a,C[3]=l),y>h&&(y=h,C[0]=o,C[1]=a,C[2]=l,C[3]=r),y>p&&(C[0]=a,C[1]=l,C[2]=r,C[3]=o),C}detectSolid2(n){let r=n[0],o=n[1],a=n[2],l=n[3],u=this.transitionsBetween(r,l),d=Ot.shiftPoint(o,a,(u+1)*4),h=Ot.shiftPoint(a,o,(u+1)*4),p=this.transitionsBetween(d,r),y=this.transitionsBetween(h,l);return p<y?(n[0]=r,n[1]=o,n[2]=a,n[3]=l):(n[0]=o,n[1]=a,n[2]=l,n[3]=r),n}correctTopRight(n){let r=n[0],o=n[1],a=n[2],l=n[3],u=this.transitionsBetween(r,l),d=this.transitionsBetween(o,l),h=Ot.shiftPoint(r,o,(d+1)*4),p=Ot.shiftPoint(a,o,(u+1)*4);u=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let y=new fe(l.getX()+(a.getX()-o.getX())/(u+1),l.getY()+(a.getY()-o.getY())/(u+1)),C=new fe(l.getX()+(r.getX()-o.getX())/(d+1),l.getY()+(r.getY()-o.getY())/(d+1));if(!this.isValid(y))return this.isValid(C)?C:null;if(!this.isValid(C))return y;let v=this.transitionsBetween(h,y)+this.transitionsBetween(p,y),T=this.transitionsBetween(h,C)+this.transitionsBetween(p,C);return v>T?y:C}shiftToModuleCenter(n){let r=n[0],o=n[1],a=n[2],l=n[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(a,l)+1,h=Ot.shiftPoint(r,o,d*4),p=Ot.shiftPoint(a,o,u*4);u=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let y=(r.getX()+o.getX()+a.getX()+l.getX())/4,C=(r.getY()+o.getY()+a.getY()+l.getY())/4;r=Ot.moveAway(r,y,C),o=Ot.moveAway(o,y,C),a=Ot.moveAway(a,y,C),l=Ot.moveAway(l,y,C);let v,T;return h=Ot.shiftPoint(r,o,d*4),h=Ot.shiftPoint(h,l,u*4),v=Ot.shiftPoint(o,r,d*4),v=Ot.shiftPoint(v,a,u*4),p=Ot.shiftPoint(a,l,d*4),p=Ot.shiftPoint(p,o,u*4),T=Ot.shiftPoint(l,a,d*4),T=Ot.shiftPoint(T,r,u*4),[h,v,p,T]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,o,a,l,u,d){return Kn.getInstance().sampleGrid(n,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(n,r){let o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-a)>Math.abs(l-o);if(d){let P=o;o=a,a=P,P=l,l=u,u=P}let h=Math.abs(l-o),p=Math.abs(u-a),y=-h/2,C=a<u?1:-1,v=o<l?1:-1,T=0,D=this.image.get(d?a:o,d?o:a);for(let P=o,F=a;P!==l;P+=v){let j=this.image.get(d?F:P,d?P:F);if(j!==D&&(T++,D=j),y+=p,y>0){if(F===u)break;F+=C,y-=h}}return T}}class Ur{constructor(){this.decoder=new jg}decode(n,r=null){let o,a;if(r!=null&&r.has(X.PURE_BARCODE)){const p=Ur.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(p),a=Ur.NO_POINTS}else{const p=new Ot(n.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),a=p.getPoints()}const l=o.getRawBytes(),u=new lt(o.getText(),l,8*l.length,a,ge.DATA_MATRIX,k.currentTimeMillis()),d=o.getByteSegments();d!=null&&u.putMetadata(ht.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!=null&&u.putMetadata(ht.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r==null||o==null)throw new V;const a=this.moduleSize(r,n);let l=r[1];const u=o[1];let d=r[0];const p=(o[0]-d+1)/a,y=(u-l+1)/a;if(p<=0||y<=0)throw new V;const C=a/2;l+=C,d+=C;const v=new ot(p,y);for(let T=0;T<y;T++){const D=l+T*a;for(let P=0;P<p;P++)n.get(d+P*a,D)&&v.set(P,T)}return v}static moduleSize(n,r){const o=r.getWidth();let a=n[0];const l=n[1];for(;a<o&&r.get(a,l);)a++;if(a===o)throw new V;const u=a-n[0];if(u===0)throw new V;return u}}Ur.NO_POINTS=[];class Wg extends nn{constructor(n=500){super(new Ur,n)}}var Fi;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(Fi||(Fi={}));class st{constructor(n,r,o){this.value=n,this.stringValue=r,this.bits=o,st.FOR_BITS.set(o,this),st.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return st.L;case"M":return st.M;case"Q":return st.Q;case"H":return st.H;default:throw new A(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof st))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=st.FOR_BITS.size)throw new S;return st.FOR_BITS.get(n)}}st.FOR_BITS=new Map,st.FOR_VALUE=new Map,st.L=new st(Fi.L,"L",1),st.M=new st(Fi.M,"M",0),st.Q=new st(Fi.Q,"Q",3),st.H=new st(Fi.H,"H",2);class on{constructor(n){this.errorCorrectionLevel=st.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return _.bitCount(n^r)}static decodeFormatInformation(n,r){const o=on.doDecodeFormatInformation(n,r);return o!==null?o:on.doDecodeFormatInformation(n^on.FORMAT_INFO_MASK_QR,r^on.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let o=Number.MAX_SAFE_INTEGER,a=0;for(const l of on.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===n||u===r)return new on(l[1]);let d=on.numBitsDiffering(n,u);d<o&&(a=l[1],o=d),n!==r&&(d=on.numBitsDiffering(r,u),d<o&&(a=l[1],o=d))}return o<=3?new on(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof on))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}on.FORMAT_INFO_MASK_QR=21522,on.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const o of r)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class me{constructor(n,r,...o){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=o;let a=0;const l=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();for(const d of u)a+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new L;try{return this.getVersionForNumber((n-17)/4)}catch{throw new L}}static getVersionForNumber(n){if(n<1||n>40)throw new S;return me.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<me.VERSION_DECODE_INFO.length;a++){const l=me.VERSION_DECODE_INFO[a];if(l===n)return me.getVersionForNumber(a+7);const u=on.numBitsDiffering(n,l);u<r&&(o=a+7,r=u)}return r<=3?me.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new ot(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const l=this.alignmentPatternCenters[a]-2;for(let u=0;u<o;u++)a===0&&(u===0||u===o-1)||a===o-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),me.VERSIONS=[new me(1,new Int32Array(0),new z(7,new I(1,19)),new z(10,new I(1,16)),new z(13,new I(1,13)),new z(17,new I(1,9))),new me(2,Int32Array.from([6,18]),new z(10,new I(1,34)),new z(16,new I(1,28)),new z(22,new I(1,22)),new z(28,new I(1,16))),new me(3,Int32Array.from([6,22]),new z(15,new I(1,55)),new z(26,new I(1,44)),new z(18,new I(2,17)),new z(22,new I(2,13))),new me(4,Int32Array.from([6,26]),new z(20,new I(1,80)),new z(18,new I(2,32)),new z(26,new I(2,24)),new z(16,new I(4,9))),new me(5,Int32Array.from([6,30]),new z(26,new I(1,108)),new z(24,new I(2,43)),new z(18,new I(2,15),new I(2,16)),new z(22,new I(2,11),new I(2,12))),new me(6,Int32Array.from([6,34]),new z(18,new I(2,68)),new z(16,new I(4,27)),new z(24,new I(4,19)),new z(28,new I(4,15))),new me(7,Int32Array.from([6,22,38]),new z(20,new I(2,78)),new z(18,new I(4,31)),new z(18,new I(2,14),new I(4,15)),new z(26,new I(4,13),new I(1,14))),new me(8,Int32Array.from([6,24,42]),new z(24,new I(2,97)),new z(22,new I(2,38),new I(2,39)),new z(22,new I(4,18),new I(2,19)),new z(26,new I(4,14),new I(2,15))),new me(9,Int32Array.from([6,26,46]),new z(30,new I(2,116)),new z(22,new I(3,36),new I(2,37)),new z(20,new I(4,16),new I(4,17)),new z(24,new I(4,12),new I(4,13))),new me(10,Int32Array.from([6,28,50]),new z(18,new I(2,68),new I(2,69)),new z(26,new I(4,43),new I(1,44)),new z(24,new I(6,19),new I(2,20)),new z(28,new I(6,15),new I(2,16))),new me(11,Int32Array.from([6,30,54]),new z(20,new I(4,81)),new z(30,new I(1,50),new I(4,51)),new z(28,new I(4,22),new I(4,23)),new z(24,new I(3,12),new I(8,13))),new me(12,Int32Array.from([6,32,58]),new z(24,new I(2,92),new I(2,93)),new z(22,new I(6,36),new I(2,37)),new z(26,new I(4,20),new I(6,21)),new z(28,new I(7,14),new I(4,15))),new me(13,Int32Array.from([6,34,62]),new z(26,new I(4,107)),new z(22,new I(8,37),new I(1,38)),new z(24,new I(8,20),new I(4,21)),new z(22,new I(12,11),new I(4,12))),new me(14,Int32Array.from([6,26,46,66]),new z(30,new I(3,115),new I(1,116)),new z(24,new I(4,40),new I(5,41)),new z(20,new I(11,16),new I(5,17)),new z(24,new I(11,12),new I(5,13))),new me(15,Int32Array.from([6,26,48,70]),new z(22,new I(5,87),new I(1,88)),new z(24,new I(5,41),new I(5,42)),new z(30,new I(5,24),new I(7,25)),new z(24,new I(11,12),new I(7,13))),new me(16,Int32Array.from([6,26,50,74]),new z(24,new I(5,98),new I(1,99)),new z(28,new I(7,45),new I(3,46)),new z(24,new I(15,19),new I(2,20)),new z(30,new I(3,15),new I(13,16))),new me(17,Int32Array.from([6,30,54,78]),new z(28,new I(1,107),new I(5,108)),new z(28,new I(10,46),new I(1,47)),new z(28,new I(1,22),new I(15,23)),new z(28,new I(2,14),new I(17,15))),new me(18,Int32Array.from([6,30,56,82]),new z(30,new I(5,120),new I(1,121)),new z(26,new I(9,43),new I(4,44)),new z(28,new I(17,22),new I(1,23)),new z(28,new I(2,14),new I(19,15))),new me(19,Int32Array.from([6,30,58,86]),new z(28,new I(3,113),new I(4,114)),new z(26,new I(3,44),new I(11,45)),new z(26,new I(17,21),new I(4,22)),new z(26,new I(9,13),new I(16,14))),new me(20,Int32Array.from([6,34,62,90]),new z(28,new I(3,107),new I(5,108)),new z(26,new I(3,41),new I(13,42)),new z(30,new I(15,24),new I(5,25)),new z(28,new I(15,15),new I(10,16))),new me(21,Int32Array.from([6,28,50,72,94]),new z(28,new I(4,116),new I(4,117)),new z(26,new I(17,42)),new z(28,new I(17,22),new I(6,23)),new z(30,new I(19,16),new I(6,17))),new me(22,Int32Array.from([6,26,50,74,98]),new z(28,new I(2,111),new I(7,112)),new z(28,new I(17,46)),new z(30,new I(7,24),new I(16,25)),new z(24,new I(34,13))),new me(23,Int32Array.from([6,30,54,78,102]),new z(30,new I(4,121),new I(5,122)),new z(28,new I(4,47),new I(14,48)),new z(30,new I(11,24),new I(14,25)),new z(30,new I(16,15),new I(14,16))),new me(24,Int32Array.from([6,28,54,80,106]),new z(30,new I(6,117),new I(4,118)),new z(28,new I(6,45),new I(14,46)),new z(30,new I(11,24),new I(16,25)),new z(30,new I(30,16),new I(2,17))),new me(25,Int32Array.from([6,32,58,84,110]),new z(26,new I(8,106),new I(4,107)),new z(28,new I(8,47),new I(13,48)),new z(30,new I(7,24),new I(22,25)),new z(30,new I(22,15),new I(13,16))),new me(26,Int32Array.from([6,30,58,86,114]),new z(28,new I(10,114),new I(2,115)),new z(28,new I(19,46),new I(4,47)),new z(28,new I(28,22),new I(6,23)),new z(30,new I(33,16),new I(4,17))),new me(27,Int32Array.from([6,34,62,90,118]),new z(30,new I(8,122),new I(4,123)),new z(28,new I(22,45),new I(3,46)),new z(30,new I(8,23),new I(26,24)),new z(30,new I(12,15),new I(28,16))),new me(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new I(3,117),new I(10,118)),new z(28,new I(3,45),new I(23,46)),new z(30,new I(4,24),new I(31,25)),new z(30,new I(11,15),new I(31,16))),new me(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new I(7,116),new I(7,117)),new z(28,new I(21,45),new I(7,46)),new z(30,new I(1,23),new I(37,24)),new z(30,new I(19,15),new I(26,16))),new me(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new I(5,115),new I(10,116)),new z(28,new I(19,47),new I(10,48)),new z(30,new I(15,24),new I(25,25)),new z(30,new I(23,15),new I(25,16))),new me(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new I(13,115),new I(3,116)),new z(28,new I(2,46),new I(29,47)),new z(30,new I(42,24),new I(1,25)),new z(30,new I(23,15),new I(28,16))),new me(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new I(17,115)),new z(28,new I(10,46),new I(23,47)),new z(30,new I(10,24),new I(35,25)),new z(30,new I(19,15),new I(35,16))),new me(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new I(17,115),new I(1,116)),new z(28,new I(14,46),new I(21,47)),new z(30,new I(29,24),new I(19,25)),new z(30,new I(11,15),new I(46,16))),new me(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new I(13,115),new I(6,116)),new z(28,new I(14,46),new I(23,47)),new z(30,new I(44,24),new I(7,25)),new z(30,new I(59,16),new I(1,17))),new me(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new I(12,121),new I(7,122)),new z(28,new I(12,47),new I(26,48)),new z(30,new I(39,24),new I(14,25)),new z(30,new I(22,15),new I(41,16))),new me(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new I(6,121),new I(14,122)),new z(28,new I(6,47),new I(34,48)),new z(30,new I(46,24),new I(10,25)),new z(30,new I(2,15),new I(64,16))),new me(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new I(17,122),new I(4,123)),new z(28,new I(29,46),new I(14,47)),new z(30,new I(49,24),new I(10,25)),new z(30,new I(24,15),new I(46,16))),new me(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new I(4,122),new I(18,123)),new z(28,new I(13,46),new I(32,47)),new z(30,new I(48,24),new I(14,25)),new z(30,new I(42,15),new I(32,16))),new me(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new I(20,117),new I(4,118)),new z(28,new I(40,47),new I(7,48)),new z(30,new I(43,24),new I(22,25)),new z(30,new I(10,15),new I(67,16))),new me(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new I(19,118),new I(6,119)),new z(28,new I(18,47),new I(31,48)),new z(30,new I(34,24),new I(34,25)),new z(30,new I(20,15),new I(61,16)))];var Wt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(Wt||(Wt={}));class Ln{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let o=0;o<r;o++)for(let a=0;a<r;a++)this.isMasked(o,a)&&n.flip(a,o)}}Ln.values=new Map([[Wt.DATA_MASK_000,new Ln(Wt.DATA_MASK_000,(E,n)=>(E+n&1)===0)],[Wt.DATA_MASK_001,new Ln(Wt.DATA_MASK_001,(E,n)=>(E&1)===0)],[Wt.DATA_MASK_010,new Ln(Wt.DATA_MASK_010,(E,n)=>n%3===0)],[Wt.DATA_MASK_011,new Ln(Wt.DATA_MASK_011,(E,n)=>(E+n)%3===0)],[Wt.DATA_MASK_100,new Ln(Wt.DATA_MASK_100,(E,n)=>(Math.floor(E/2)+Math.floor(n/3)&1)===0)],[Wt.DATA_MASK_101,new Ln(Wt.DATA_MASK_101,(E,n)=>E*n%6===0)],[Wt.DATA_MASK_110,new Ln(Wt.DATA_MASK_110,(E,n)=>E*n%6<3)],[Wt.DATA_MASK_111,new Ln(Wt.DATA_MASK_111,(E,n)=>(E+n+E*n%3&1)===0)]]);class Gg{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new L;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const r=this.bitMatrix.getHeight();let o=0;const a=r-7;for(let l=r-1;l>=a;l--)o=this.copyBit(8,l,o);for(let l=r-8;l<r;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=on.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return me.getVersionForNumber(r);let o=0;const a=n-11;for(let u=5;u>=0;u--)for(let d=n-9;d>=a;d--)o=this.copyBit(d,u,o);let l=me.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;o=0;for(let u=5;u>=0;u--)for(let d=n-9;d>=a;d--)o=this.copyBit(u,d,o);if(l=me.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new L}copyBit(n,r,o){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),o=Ln.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const l=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,y=0;for(let C=a-1;C>0;C-=2){C===6&&C--;for(let v=0;v<a;v++){const T=u?a-1-v:v;for(let D=0;D<2;D++)l.get(C-D,T)||(y++,p<<=1,this.bitMatrix.get(C-D,T)&&(p|=1),y===8&&(d[h++]=p,y=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new L;return d}remask(){if(this.parsedFormatInfo===null)return;const n=Ln.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,o=n.getWidth();r<o;r++)for(let a=r+1,l=n.getHeight();a<l;a++)n.get(r,a)!==n.get(a,r)&&(n.flip(a,r),n.flip(r,a))}}class Dl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,o){if(n.length!==r.getTotalCodewords())throw new S;const a=r.getECBlocksForLevel(o);let l=0;const u=a.getECBlocks();for(const D of u)l+=D.getCount();const d=new Array(l);let h=0;for(const D of u)for(let P=0;P<D.getCount();P++){const F=D.getDataCodewords(),j=a.getECCodewordsPerBlock()+F;d[h++]=new Dl(F,new Uint8Array(j))}const p=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==p;)y--;y++;const C=p-a.getECCodewordsPerBlock();let v=0;for(let D=0;D<C;D++)for(let P=0;P<h;P++)d[P].codewords[D]=n[v++];for(let D=y;D<h;D++)d[D].codewords[C]=n[v++];const T=d[0].codewords.length;for(let D=C;D<T;D++)for(let P=0;P<h;P++){const F=P<y?D:D+1;d[P].codewords[F]=n[v++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Fn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(Fn||(Fn={}));class Ee{constructor(n,r,o,a){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=a,Ee.FOR_BITS.set(a,this),Ee.FOR_VALUE.set(n,this)}static forBits(n){const r=Ee.FOR_BITS.get(n);if(r===void 0)throw new S;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Ee))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}Ee.FOR_BITS=new Map,Ee.FOR_VALUE=new Map,Ee.TERMINATOR=new Ee(Fn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ee.NUMERIC=new Ee(Fn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ee.ALPHANUMERIC=new Ee(Fn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ee.STRUCTURED_APPEND=new Ee(Fn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ee.BYTE=new Ee(Fn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ee.ECI=new Ee(Fn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ee.KANJI=new Ee(Fn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ee.FNC1_FIRST_POSITION=new Ee(Fn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ee.FNC1_SECOND_POSITION=new Ee(Fn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ee.HANZI=new Ee(Fn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class mt{static decode(n,r,o,a){const l=new bl(n);let u=new De;const d=new Array;let h=-1,p=-1;try{let y=null,C=!1,v;do{if(l.available()<4)v=Ee.TERMINATOR;else{const T=l.readBits(4);v=Ee.forBits(T)}switch(v){case Ee.TERMINATOR:break;case Ee.FNC1_FIRST_POSITION:case Ee.FNC1_SECOND_POSITION:C=!0;break;case Ee.STRUCTURED_APPEND:if(l.available()<16)throw new L;h=l.readBits(8),p=l.readBits(8);break;case Ee.ECI:const T=mt.parseECIValue(l);if(y=G.getCharacterSetECIByValue(T),y===null)throw new L;break;case Ee.HANZI:const D=l.readBits(4),P=l.readBits(v.getCharacterCountBits(r));D===mt.GB2312_SUBSET&&mt.decodeHanziSegment(l,u,P);break;default:const F=l.readBits(v.getCharacterCountBits(r));switch(v){case Ee.NUMERIC:mt.decodeNumericSegment(l,u,F);break;case Ee.ALPHANUMERIC:mt.decodeAlphanumericSegment(l,u,F,C);break;case Ee.BYTE:mt.decodeByteSegment(l,u,F,y,d,a);break;case Ee.KANJI:mt.decodeKanjiSegment(l,u,F);break;default:throw new L}break}}while(v!==Ee.TERMINATOR)}catch{throw new L}return new Mr(n,u.toString(),d.length===0?null:d,o===null?null:o.toString(),h,p)}static decodeHanziSegment(n,r,o){if(o*13>n.available())throw new L;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,a[l]=d>>8&255,a[l+1]=d&255,l+=2,o--}try{r.append(Ve.decode(a,pe.GB2312))}catch(u){throw new L(u)}}static decodeKanjiSegment(n,r,o){if(o*13>n.available())throw new L;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,a[l]=d>>8,a[l+1]=d,l+=2,o--}try{r.append(Ve.decode(a,pe.SHIFT_JIS))}catch(u){throw new L(u)}}static decodeByteSegment(n,r,o,a,l,u){if(8*o>n.available())throw new L;const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=n.readBits(8);let h;a===null?h=pe.guessEncoding(d,u):h=a.getName();try{r.append(Ve.decode(d,h))}catch(p){throw new L(p)}l.push(d)}static toAlphaNumericChar(n){if(n>=mt.ALPHANUMERIC_CHARS.length)throw new L;return mt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,o,a){const l=r.length();for(;o>1;){if(n.available()<11)throw new L;const u=n.readBits(11);r.append(mt.toAlphaNumericChar(Math.floor(u/45))),r.append(mt.toAlphaNumericChar(u%45)),o-=2}if(o===1){if(n.available()<6)throw new L;r.append(mt.toAlphaNumericChar(n.readBits(6)))}if(a)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(n,r,o){for(;o>=3;){if(n.available()<10)throw new L;const a=n.readBits(10);if(a>=1e3)throw new L;r.append(mt.toAlphaNumericChar(Math.floor(a/100))),r.append(mt.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(mt.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(n.available()<7)throw new L;const a=n.readBits(7);if(a>=100)throw new L;r.append(mt.toAlphaNumericChar(Math.floor(a/10))),r.append(mt.toAlphaNumericChar(a%10))}else if(o===1){if(n.available()<4)throw new L;const a=n.readBits(4);if(a>=10)throw new L;r.append(mt.toAlphaNumericChar(a))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=n.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=n.readBits(16);return(r&31)<<16&4294967295|o}throw new L}}mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",mt.GB2312_SUBSET=1;class D1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class Xg{constructor(){this.rsDecoder=new di(He.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(ot.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const o=new Gg(n);let a=null;try{return this.decodeBitMatrixParser(o,r)}catch(l){a=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,r);return l.setOther(new D1(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(n,r){const o=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),u=Dl.getDataBlocks(l,o,a);let d=0;for(const y of u)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const y of u){const C=y.getCodewords(),v=y.getNumDataCodewords();this.correctErrors(C,v);for(let T=0;T<v;T++)h[p++]=C[T]}return mt.decode(h,o,a,r)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new U}for(let a=0;a<r;a++)n[a]=o[a]}}class Ml extends fe{constructor(n,r,o){super(n,r),this.estimatedModuleSize=o}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const a=(this.getX()+r)/2,l=(this.getY()+n)/2,u=(this.estimatedModuleSize+o)/2;return new Ml(a,l,u)}}class zs{constructor(n,r,o,a,l,u,d){this.image=n,this.startX=r,this.startY=o,this.width=a,this.height=l,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,o=this.width,a=n+o,l=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let y=n;for(;y<a&&!d.get(y,p);)y++;let C=0;for(;y<a;){if(d.get(y,p))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,p,y);if(v!==null)return v}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;y++}if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,p,a);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,o=r/2;for(let a=0;a<3;a++)if(Math.abs(r-n[a])>=o)return!1;return!0}crossCheckVertical(n,r,o,a){const l=this.image,u=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h)&&d[1]<=o;)d[1]++,h++;if(h===u||d[1]>o)return NaN;for(;h<u&&!l.get(r,h)&&d[2]<=o;)d[2]++,h++;if(d[2]>o)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(d)?zs.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o){const a=n[0]+n[1]+n[2],l=zs.centerFromEnd(n,o),u=this.crossCheckVertical(r,l,2*n[1],a);if(!isNaN(u)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,l))return p.combineEstimate(u,l,d);const h=new Ml(l,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Pl extends fe{constructor(n,r,o,a){super(n,r),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const a=this.count+1,l=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+n)/a,d=(this.count*this.estimatedModuleSize+o)/a;return new Pl(l,u,d,a)}}class Yg{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Gt{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(X.TRY_HARDER)!==void 0,o=n!=null&&n.get(X.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),u=a.getWidth();let d=Math.floor(3*l/(4*Gt.MAX_MODULES));(d<Gt.MIN_SKIP||r)&&(d=Gt.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let C=d-1;C<l&&!h;C+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let v=0;for(let T=0;T<u;T++)if(a.get(T,C))(v&1)===1&&v++,p[v]++;else if(v&1)p[v]++;else if(v===4)if(Gt.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,T,o)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>p[2]&&(C+=P-p[2]-d,T=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,v=3;continue}v=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,v=3;else p[++v]++;Gt.foundPatternCross(p)&&this.handlePossibleCenter(p,C,u,o)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return fe.orderBestPatterns(y),new Yg(y)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let l=0;l<5;l++){const u=n[l];if(u===0)return!1;r+=u}if(r<7)return!1;const o=r/7,a=o/2;return Math.abs(o-n[0])<a&&Math.abs(o-n[1])<a&&Math.abs(3*o-n[2])<3*a&&Math.abs(o-n[3])<a&&Math.abs(o-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,o,a){const l=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;n>=u&&r>=u&&d.get(r-u,n-u);)l[2]++,u++;if(n<u||r<u)return!1;for(;n>=u&&r>=u&&!d.get(r-u,n-u)&&l[1]<=o;)l[1]++,u++;if(n<u||r<u||l[1]>o)return!1;for(;n>=u&&r>=u&&d.get(r-u,n-u)&&l[0]<=o;)l[0]++,u++;if(l[0]>o)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;n+u<h&&r+u<p&&d.get(r+u,n+u);)l[2]++,u++;if(n+u>=h||r+u>=p)return!1;for(;n+u<h&&r+u<p&&!d.get(r+u,n+u)&&l[3]<o;)l[3]++,u++;if(n+u>=h||r+u>=p||l[3]>=o)return!1;for(;n+u<h&&r+u<p&&d.get(r+u,n+u)&&l[4]<o;)l[4]++,u++;if(l[4]>=o)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-a)<2*a&&Gt.foundPatternCross(l)}crossCheckVertical(n,r,o,a){const l=this.image,u=l.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(r,h)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-a)>=2*a?NaN:Gt.foundPatternCross(d)?Gt.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,r,o,a){const l=this.image,u=l.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(h,r)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-a)>=a?NaN:Gt.foundPatternCross(d)?Gt.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o,a){const l=n[0]+n[1]+n[2]+n[3]+n[4];let u=Gt.centerFromEnd(n,o),d=this.crossCheckVertical(r,Math.floor(u),n[2],l);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),n[2],l),!isNaN(u)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),n[2],l)))){const h=l/7;let p=!1;const y=this.possibleCenters;for(let C=0,v=y.length;C<v;C++){const T=y[C];if(T.aboutEquals(h,d,u)){y[C]=T.combineEstimate(d,u,h),p=!0;break}}if(!p){const C=new Pl(u,d,h);y.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=Gt.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const o=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Gt.CENTER_QUORUM&&(n++,r+=u.getEstimatedModuleSize());if(n<3)return!1;const a=r/o;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-a);return l<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new V;const r=this.possibleCenters;let o;if(n>3){let a=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();a+=p,l+=p*p}o=a/n;let u=Math.sqrt(l/n-o*o);r.sort((h,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-o),C=Math.abs(h.getEstimatedModuleSize()-o);return y<C?-1:y>C?1:0});const d=Math.max(.2*o,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-o)>d&&(r.splice(h,1),h--)}}if(r.length>3){let a=0;for(const l of r)a+=l.getEstimatedModuleSize();o=a/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-o),h=Math.abs(l.getEstimatedModuleSize()-o);return d<h?1:d>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Gt.CENTER_QUORUM=2,Gt.MIN_SKIP=3,Gt.MAX_MODULES=57;class No{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(X.NEED_RESULT_POINT_CALLBACK);const o=new Gt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const r=n.getTopLeft(),o=n.getTopRight(),a=n.getBottomLeft(),l=this.calculateModuleSize(r,o,a);if(l<1)throw new V("No pattern found in proccess finder.");const u=No.computeDimension(r,o,a,l),d=me.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const T=o.getX()-r.getX()+a.getX(),D=o.getY()-r.getY()+a.getY(),P=1-3/h,F=Math.floor(r.getX()+P*(T-r.getX())),j=Math.floor(r.getY()+P*(D-r.getY()));for(let re=4;re<=16;re<<=1)try{p=this.findAlignmentInRegion(l,F,j,re);break}catch(ie){if(!(ie instanceof V))throw ie}}const y=No.createTransform(r,o,a,p,u),C=No.sampleGrid(this.image,y,u);let v;return p===null?v=[a,r,o]:v=[a,r,o,p],new kr(C,v)}static createTransform(n,r,o,a,l){const u=l-3.5;let d,h,p,y;return a!==null?(d=a.getX(),h=a.getY(),p=u-3,y=p):(d=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),p=u,y=u),pn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,y,3.5,u,n.getX(),n.getY(),r.getX(),r.getY(),d,h,o.getX(),o.getY())}static sampleGrid(n,r,o){return Kn.getInstance().sampleGridWithTransform(n,o,o,r)}static computeDimension(n,r,o,a){const l=ke.round(fe.distance(n,r)/a),u=ke.round(fe.distance(n,o)/a);let d=Math.floor((l+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new V("Dimensions could be not found.")}return d}calculateModuleSize(n,r,o){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,o,a){let l=this.sizeOfBlackWhiteBlackRun(n,r,o,a),u=1,d=n-(o-n);d<0?(u=n/(n-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(r-(a-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*u),l+=this.sizeOfBlackWhiteBlackRun(n,r,d,h),l-1}sizeOfBlackWhiteBlackRun(n,r,o,a){const l=Math.abs(a-r)>Math.abs(o-n);if(l){let T=n;n=r,r=T,T=o,o=a,a=T}const u=Math.abs(o-n),d=Math.abs(a-r);let h=-u/2;const p=n<o?1:-1,y=r<a?1:-1;let C=0;const v=o+p;for(let T=n,D=r;T!==v;T+=p){const P=l?D:T,F=l?T:D;if(C===1===this.image.get(P,F)){if(C===2)return ke.distance(T,D,n,r);C++}if(h+=d,h>0){if(D===a)break;D+=y,h-=u}}return C===2?ke.distance(o+p,a,n,r):NaN}findAlignmentInRegion(n,r,o,a){const l=Math.floor(a*n),u=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-u<n*3)throw new V("Alignment top exceeds estimated module size.");const h=Math.max(0,o-l),p=Math.min(this.image.getHeight()-1,o+l);if(p-h<n*3)throw new V("Alignment bottom exceeds estimated module size.");return new zs(this.image,u,h,d-u,p-h,n,this.resultPointCallback).find()}}class zr{constructor(){this.decoder=new Xg}getDecoder(){return this.decoder}decode(n,r){let o,a;if(r!=null&&r.get(X.PURE_BARCODE)!==void 0){const h=zr.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,r),a=zr.NO_POINTS}else{const h=new No(n.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(h.getBits(),r),a=h.getPoints()}o.getOther()instanceof D1&&o.getOther().applyMirroredCorrection(a);const l=new lt(o.getText(),o.getRawBytes(),void 0,a,ge.QR_CODE,void 0),u=o.getByteSegments();u!==null&&l.putMetadata(ht.BYTE_SEGMENTS,u);const d=o.getECLevel();return d!==null&&l.putMetadata(ht.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(ht.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r===null||o===null)throw new V;const a=this.moduleSize(r,n);let l=r[1],u=o[1],d=r[0],h=o[0];if(d>=h||l>=u)throw new V;if(u-l!==h-d&&(h=d+(u-l),h>=n.getWidth()))throw new V;const p=Math.round((h-d+1)/a),y=Math.round((u-l+1)/a);if(p<=0||y<=0)throw new V;if(y!==p)throw new V;const C=Math.floor(a/2);l+=C,d+=C;const v=d+Math.floor((p-1)*a)-h;if(v>0){if(v>C)throw new V;d-=v}const T=l+Math.floor((y-1)*a)-u;if(T>0){if(T>C)throw new V;l-=T}const D=new ot(p,y);for(let P=0;P<y;P++){const F=l+Math.floor(P*a);for(let j=0;j<p;j++)n.get(d+Math.floor(j*a),F)&&D.set(j,P)}return D}static moduleSize(n,r){const o=r.getHeight(),a=r.getWidth();let l=n[0],u=n[1],d=!0,h=0;for(;l<a&&u<o;){if(d!==r.get(l,u)){if(++h===5)break;d=!d}l++,u++}if(l===a||u===o)throw new V;return(l-n[0])/7}}zr.NO_POINTS=new Array;class Ie{PDF417Common(){}static getBitCountSum(n){return ke.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ie.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let o=0;for(const a of n)r[o++]=a;return r}static getCodeword(n){const r=N.binarySearch(Ie.SYMBOL_TABLE,n&262143);return r<0?-1:(Ie.CODEWORD_TABLE[r]-1)%Ie.NUMBER_OF_CODEWORDS}}Ie.NUMBER_OF_CODEWORDS=929,Ie.MAX_CODEWORDS_IN_BARCODE=Ie.NUMBER_OF_CODEWORDS-1,Ie.MIN_ROWS_IN_BARCODE=3,Ie.MAX_ROWS_IN_BARCODE=90,Ie.MODULES_IN_CODEWORD=17,Ie.MODULES_IN_STOP_PATTERN=18,Ie.BARS_IN_MODULE=8,Ie.EMPTY_INT_ARRAY=new Int32Array([]),Ie.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ie.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zg{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class be{static detectMultiple(n,r,o){let a=n.getBlackMatrix(),l=be.detect(o,a);return l.length||(a=a.clone(),a.rotate180(),l=be.detect(o,a)),new Zg(a,l)}static detect(n,r){const o=new Array;let a=0,l=0,u=!1;for(;a<r.getHeight();){const d=be.findVertices(r,a,l);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,l=0;for(const h of o)h[1]!=null&&(a=Math.trunc(Math.max(a,h[1].getY()))),h[3]!=null&&(a=Math.max(a,Math.trunc(h[3].getY())));a+=be.ROW_STEP;continue}if(u=!0,o.push(d),!n)break;d[2]!=null?(l=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return o}static findVertices(n,r,o){const a=n.getHeight(),l=n.getWidth(),u=new Array(8);return be.copyToResult(u,be.findRowsWithPattern(n,a,l,r,o,be.START_PATTERN),be.INDEXES_START_PATTERN),u[4]!=null&&(o=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),be.copyToResult(u,be.findRowsWithPattern(n,a,l,r,o,be.STOP_PATTERN),be.INDEXES_STOP_PATTERN),u}static copyToResult(n,r,o){for(let a=0;a<o.length;a++)n[o[a]]=r[a]}static findRowsWithPattern(n,r,o,a,l,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;a<r;a+=be.ROW_STEP){let C=be.findGuardPattern(n,l,a,o,!1,u,p);if(C!=null){for(;a>0;){const v=be.findGuardPattern(n,l,--a,o,!1,u,p);if(v!=null)C=v;else{a++;break}}d[0]=new fe(C[0],a),d[1]=new fe(C[1],a),h=!0;break}}let y=a+1;if(h){let C=0,v=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<r;y++){const T=be.findGuardPattern(n,v[0],y,o,!1,u,p);if(T!=null&&Math.abs(v[0]-T[0])<be.MAX_PATTERN_DRIFT&&Math.abs(v[1]-T[1])<be.MAX_PATTERN_DRIFT)v=T,C=0;else{if(C>be.SKIPPED_ROW_COUNT_MAX)break;C++}}y-=C+1,d[2]=new fe(v[0],y),d[3]=new fe(v[1],y)}return y-a<be.BARCODE_MIN_HEIGHT&&N.fill(d,null),d}static findGuardPattern(n,r,o,a,l,u,d){N.fillWithin(d,0,d.length,0);let h=r,p=0;for(;n.get(h,o)&&h>0&&p++<be.MAX_PIXEL_DRIFT;)h--;let y=h,C=0,v=u.length;for(let T=l;y<a;y++)if(n.get(y,o)!==T)d[C]++;else{if(C===v-1){if(be.patternMatchVariance(d,u,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],k.arraycopy(d,2,d,0,C-1),d[C-1]=0,d[C]=0,C--}else C++;d[C]=1,T=!T}return C===v-1&&be.patternMatchVariance(d,u,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(n,r,o){let a=n.length,l=0,u=0;for(let p=0;p<a;p++)l+=n[p],u+=r[p];if(l<u)return 1/0;let d=l/u;o*=d;let h=0;for(let p=0;p<a;p++){let y=n[p],C=r[p]*d,v=y>C?y-C:C-y;if(v>o)return 1/0;h+=v}return h/l}}be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),be.MAX_AVG_VARIANCE=.42,be.MAX_INDIVIDUAL_VARIANCE=.8,be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),be.MAX_PIXEL_DRIFT=3,be.MAX_PATTERN_DRIFT=5,be.SKIPPED_ROW_COUNT_MAX=25,be.ROW_STEP=5,be.BARCODE_MIN_HEIGHT=10;class Qt{constructor(n,r){if(r.length===0)throw new S;this.field=n;let o=r.length;if(o>1&&r[0]===0){let a=1;for(;a<o&&r[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),k.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let r=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)r=this.field.add(this.field.multiply(n,r),this.coefficients[a]);return r}add(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){let u=r;r=o,o=u}let a=new Int32Array(o.length),l=o.length-r.length;k.arraycopy(o,0,a,0,l);for(let u=l;u<o.length;u++)a[u]=this.field.add(r[u-l],o[u]);return new Qt(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Qt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Qt(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,a=n.coefficients,l=a.length,u=new Int32Array(o+l-1);for(let d=0;d<o;d++){let h=r[d];for(let p=0;p<l;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,a[p]))}return new Qt(this.field,u)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new Qt(this.field,r)}multiplyScalar(n){if(n===0)return new Qt(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let a=0;a<r;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new Qt(this.field,o)}multiplyByMonomial(n,r){if(n<0)throw new S;if(r===0)return new Qt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+n);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],r);return new Qt(this.field,a)}toString(){let n=new De;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(r===0||o!==1)&&n.append(o),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class Kg{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}inverse(n){if(n===0)throw new ki;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class kl extends Kg{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let a=0;a<n;a++)this.expTable[a]=o,o=o*r%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new Qt(this,new Int32Array([0])),this.one=new Qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new S;if(r===0)return this.zero;let o=new Int32Array(n+1);return o[0]=r,new Qt(this,o)}}kl.PDF417_GF=new kl(Ie.NUMBER_OF_CODEWORDS,3);class M1{constructor(){this.field=kl.PDF417_GF}decode(n,r,o){let a=new Qt(this.field,n),l=new Int32Array(r),u=!1;for(let D=r;D>0;D--){let P=a.evaluateAt(this.field.exp(D));l[r-D]=P,P!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(o!=null)for(const D of o){let P=this.field.exp(n.length-1-D),F=new Qt(this.field,new Int32Array([this.field.subtract(0,P),1]));d=d.multiply(F)}let h=new Qt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),y=p[0],C=p[1],v=this.findErrorLocations(y),T=this.findErrorMagnitudes(C,y,v);for(let D=0;D<v.length;D++){let P=n.length-1-this.field.log(v[D]);if(P<0)throw U.getChecksumInstance();n[P]=this.field.subtract(n[P],T[D])}return v.length}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){let v=n;n=r,r=v}let a=n,l=r,u=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let v=a,T=u;if(a=l,u=d,a.isZero())throw U.getChecksumInstance();l=v;let D=this.field.getZero(),P=a.getCoefficient(a.getDegree()),F=this.field.inverse(P);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let j=l.getDegree()-a.getDegree(),re=this.field.multiply(l.getCoefficient(l.getDegree()),F);D=D.add(this.field.buildMonomial(j,re)),l=l.subtract(a.multiplyByMonomial(j,re))}d=D.multiply(u).subtract(T).negative()}let h=d.getCoefficient(0);if(h===0)throw U.getChecksumInstance();let p=this.field.inverse(h),y=d.multiply(p),C=l.multiply(p);return[y,C]}findErrorLocations(n){let r=n.getDegree(),o=new Int32Array(r),a=0;for(let l=1;l<this.field.getSize()&&a<r;l++)n.evaluateAt(l)===0&&(o[a]=this.field.inverse(l),a++);if(a!==r)throw U.getChecksumInstance();return o}findErrorMagnitudes(n,r,o){let a=r.getDegree(),l=new Int32Array(a);for(let p=1;p<=a;p++)l[a-p]=this.field.multiply(p,r.getCoefficient(p));let u=new Qt(this.field,l),d=o.length,h=new Int32Array(d);for(let p=0;p<d;p++){let y=this.field.inverse(o[p]),C=this.field.subtract(0,n.evaluateAt(y)),v=this.field.inverse(u.evaluateAt(y));h[p]=this.field.multiply(C,v)}return h}}class pi{constructor(n,r,o,a,l){n instanceof pi?this.constructor_2(n):this.constructor_1(n,r,o,a,l)}constructor_1(n,r,o,a,l){const u=r==null||o==null,d=a==null||l==null;if(u&&d)throw new V;u?(r=new fe(0,a.getY()),o=new fe(0,l.getY())):d&&(a=new fe(n.getWidth()-1,r.getY()),l=new fe(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=r,this.bottomLeft=o,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new pi(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,o){let a=this.topLeft,l=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(n>0){let h=o?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let y=new fe(h.getX(),p);o?a=y:u=y}if(r>0){let h=o?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new fe(h.getX(),p);o?l=y:d=y}return new pi(this.image,a,l,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Qg{constructor(n,r,o,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _o{constructor(){this.buffer=""}static form(n,r){let o=-1;function a(u,d,h,p,y,C){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let v=y?parseInt(y.substr(1)):void 0,T;switch(C){case"s":T=r[o];break;case"c":T=r[o][0];break;case"f":T=parseFloat(r[o]).toFixed(u);break;case"p":T=parseFloat(r[o]).toPrecision(u);break;case"e":T=parseFloat(r[o]).toExponential(u);break;case"x":T=parseInt(r[o]).toString(v||16);break;case"d":T=parseFloat(parseInt(r[o],v||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(v);let D=parseInt(h),P=h&&h[0]+""=="0"?"0":" ";for(;T.length<D;)T=d!==void 0?T+P:P+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}format(n,...r){this.buffer+=_o.form(n,r)}toString(){return this.buffer}}class Oo{constructor(n){this.boundingBox=new pi(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let o=1;o<Oo.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(n)-o;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(n)+o,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new _o;let r=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return n.toString()}}Oo.MAX_NEARBY_DISTANCE=5;class bo{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[o,a]of this.values.entries()){const l={getKey:()=>o,getValue:()=>a};l.getValue()>n?(n=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===n&&r.push(l.getKey())}return Ie.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class P1 extends Oo{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,y=0;for(let C=u;C<d;C++){if(r[C]==null)continue;let v=r[C],T=v.getRowNumber()-h;if(T===0)y++;else if(T===1)p=Math.max(p,y),y=1,h=v.getRowNumber();else if(T<0||v.getRowNumber()>=n.getRowCount()||T>C)r[C]=null;else{let D;p>2?D=(p-2)*T:D=T;let P=D>=C;for(let F=1;F<=D&&!P;F++)P=r[C-F]!=null;P?r[C]=null:(h=v.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=r.length)continue;r[a]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(d[p]==null)continue;let y=d[p];y.setRowNumberAsRowIndicatorColumn();let C=y.getRowNumber()-h;C===0||(C===1?h=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?d[p]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new bo,o=new bo,a=new bo,l=new bo;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),a.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||o.getValue().length===0||a.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<Ie.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>Ie.MAX_ROWS_IN_BARCODE)return null;let u=new Qg(r.getValue()[0],o.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,r){for(let o=0;o<n.length;o++){let a=n[o];if(n[o]==null)continue;let l=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:l+1!==r.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Do{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ie.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&r[o]!=null&&n[o].getRowNumber()===r[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[o];l!=null&&(l.setRowNumber(n[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let a=r[o].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=Do.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let a=r[o].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=Do.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,o){if(!this.detectionResultColumns[n-1])return;let a=o[r],l=this.detectionResultColumns[n-1].getCodewords(),u=l;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=u[r],r>0&&(d[0]=o[r-1],d[4]=l[r-1],d[5]=u[r-1]),r>1&&(d[8]=o[r-2],d[10]=l[r-2],d[11]=u[r-2]),r<o.length-1&&(d[1]=o[r+1],d[6]=l[r+1],d[7]=u[r+1]),r<o.length-2&&(d[9]=o[r+2],d[12]=l[r+2],d[13]=u[r+2]);for(let h of d)if(Do.adjustRowNumber(a,h))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new _o;for(let o=0;o<n.getCodewords().length;o++){r.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[o];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Mo{constructor(n,r,o,a){this.rowNumber=Mo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Mo.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Mo.BARCODE_ROW_UNKNOWN=-1;class mn{static initialize(){for(let n=0;n<Ie.SYMBOL_TABLE.length;n++){let r=Ie.SYMBOL_TABLE[n],o=r&1;for(let a=0;a<Ie.BARS_IN_MODULE;a++){let l=0;for(;(r&1)===o;)l+=1,r>>=1;o=r&1,mn.RATIOS_TABLE[n]||(mn.RATIOS_TABLE[n]=new Array(Ie.BARS_IN_MODULE)),mn.RATIOS_TABLE[n][Ie.BARS_IN_MODULE-a-1]=Math.fround(l/Ie.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=mn.getDecodedCodewordValue(mn.sampleBitCounts(n));return r!==-1?r:mn.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=ke.sum(n),o=new Int32Array(Ie.BARS_IN_MODULE),a=0,l=0;for(let u=0;u<Ie.MODULES_IN_CODEWORD;u++){let d=r/(2*Ie.MODULES_IN_CODEWORD)+u*r/Ie.MODULES_IN_CODEWORD;l+n[a]<=d&&(l+=n[a],a++),o[a]++}return o}static getDecodedCodewordValue(n){let r=mn.getBitValue(n);return Ie.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let o=0;o<n.length;o++)for(let a=0;a<n[o];a++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=ke.sum(n),o=new Array(Ie.BARS_IN_MODULE);if(r>1)for(let u=0;u<o.length;u++)o[u]=Math.fround(n[u]/r);let a=Pr.MAX_VALUE,l=-1;this.bSymbolTableReady||mn.initialize();for(let u=0;u<mn.RATIOS_TABLE.length;u++){let d=0,h=mn.RATIOS_TABLE[u];for(let p=0;p<Ie.BARS_IN_MODULE;p++){let y=Math.fround(h[p]-o[p]);if(d+=Math.fround(y*y),d>=a)break}d<a&&(a=d,l=Ie.SYMBOL_TABLE[u])}return l}}mn.bSymbolTableReady=!1,mn.RATIOS_TABLE=new Array(Ie.SYMBOL_TABLE.length).map(E=>new Array(Ie.BARS_IN_MODULE));class k1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class B1{static parseLong(n,r=void 0){return parseInt(n,r)}}class L1 extends x{}L1.kind="NullPointerException";class qg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,o){if(n==null)throw new L1;if(r<0||r>n.length||o<0||r+o>n.length||r+o<0)throw new J;if(o===0)return;for(let a=0;a<o;a++)this.write(n[r+a])}flush(){}close(){}}class Jg extends x{}class $g extends qg{constructor(n=32){if(super(),this.count=0,n<0)throw new S("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new Jg;o=_.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new J;this.ensureCapacity(this.count+o),k.arraycopy(n,r,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var et;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(et||(et={}));function F1(){if(typeof window<"u")return window.BigInt||null;if(typeof Lo<"u")return Lo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Vs;function Vr(E){if(typeof Vs>"u"&&(Vs=F1()),Vs===null)throw new Error("BigInt is not supported!");return Vs(E)}function e2(){let E=[];E[0]=Vr(1);let n=Vr(900);E[1]=n;for(let r=2;r<16;r++)E[r]=E[r-1]*n;return E}class H{static decode(n,r){let o=new De(""),a=G.ISO8859_1;o.enableDecoding(a);let l=1,u=n[l++],d=new k1;for(;l<n[0];){switch(u){case H.TEXT_COMPACTION_MODE_LATCH:l=H.textCompaction(n,l,o);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:l=H.byteCompaction(u,n,a,l,o);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[l++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:l=H.numericCompaction(n,l,o);break;case H.ECI_CHARSET:G.getCharacterSetECIByValue(n[l++]);break;case H.ECI_GENERAL_PURPOSE:l+=2;break;case H.ECI_USER_DEFINED:l++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=H.decodeMacroBlock(n,l,d);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new L;default:l--,l=H.textCompaction(n,l,o);break}if(l<n.length)u=n[l++];else throw L.getFormatInstance()}if(o.length()===0)throw L.getFormatInstance();let h=new Mr(null,o.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(n,r,o){if(r+H.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw L.getFormatInstance();let a=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<H.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)a[d]=n[r];o.setSegmentIndex(_.parseInt(H.decodeBase900toBase10(a,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new De;r=H.textCompaction(n,r,l),o.setFileId(l.toString());let u=-1;for(n[r]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<n[0];)switch(n[r]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new De;r=H.textCompaction(n,r+1,d),o.setFileName(d.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new De;r=H.textCompaction(n,r+1,h),o.setSender(h.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new De;r=H.textCompaction(n,r+1,p),o.setAddressee(p.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new De;r=H.numericCompaction(n,r+1,y),o.setSegmentCount(_.parseInt(y.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new De;r=H.numericCompaction(n,r+1,C),o.setTimestamp(B1.parseLong(C.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new De;r=H.numericCompaction(n,r+1,v),o.setChecksum(_.parseInt(v.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new De;r=H.numericCompaction(n,r+1,T),o.setFileSize(B1.parseLong(T.toString()));break;default:throw L.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(u!==-1){let d=r-u;o.isLastSegment()&&d--,o.setOptionalData(N.copyOfRange(n,u,u+d))}return r}static textCompaction(n,r,o){let a=new Int32Array((n[0]-r)*2),l=new Int32Array((n[0]-r)*2),u=0,d=!1;for(;r<n[0]&&!d;){let h=n[r++];if(h<H.TEXT_COMPACTION_MODE_LATCH)a[u]=h/30,a[u+1]=h%30,u+=2;else switch(h){case H.TEXT_COMPACTION_MODE_LATCH:a[u++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[u]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[r++],l[u]=h,u++;break}}return H.decodeTextCompaction(a,l,u,o),r}static decodeTextCompaction(n,r,o,a){let l=et.ALPHA,u=et.ALPHA,d=0;for(;d<o;){let h=n[d],p="";switch(l){case et.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case H.LL:l=et.LOWER;break;case H.ML:l=et.MIXED;break;case H.PS:u=l,l=et.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=et.ALPHA;break}break;case et.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case H.AS:u=l,l=et.ALPHA_SHIFT;break;case H.ML:l=et.MIXED;break;case H.PS:u=l,l=et.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=et.ALPHA;break}break;case et.MIXED:if(h<H.PL)p=H.MIXED_CHARS[h];else switch(h){case H.PL:l=et.PUNCT;break;case 26:p=" ";break;case H.LL:l=et.LOWER;break;case H.AL:l=et.ALPHA;break;case H.PS:u=l,l=et.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=et.ALPHA;break}break;case et.PUNCT:if(h<H.PAL)p=H.PUNCT_CHARS[h];else switch(h){case H.PAL:l=et.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=et.ALPHA;break}break;case et.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:l=et.ALPHA;break}break;case et.PUNCT_SHIFT:if(l=u,h<H.PAL)p=H.PUNCT_CHARS[h];else switch(h){case H.PAL:l=et.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=et.ALPHA;break}break}p!==""&&a.append(p),d++}}static byteCompaction(n,r,o,a,l){let u=new $g,d=0,h=0,p=!1;switch(n){case H.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),C=r[a++];for(;a<r[0]&&!p;)switch(y[d++]=C,h=900*h+C,C=r[a++],C){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(d%5===0&&d>0){for(let v=0;v<6;++v)u.write(Number(Vr(h)>>Vr(8*(5-v))));h=0,d=0}break}a===r[0]&&C<H.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=C);for(let v=0;v<d;v++)u.write(y[v]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!p;){let v=r[a++];if(v<H.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+v;else switch(v){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(d%5===0&&d>0){for(let T=0;T<6;++T)u.write(Number(Vr(h)>>Vr(8*(5-T))));h=0,d=0}}break}return l.append(Ve.decode(u.toByteArray(),o)),a}static numericCompaction(n,r,o){let a=0,l=!1,u=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!l;){let d=n[r++];if(r===n[0]&&(l=!0),d<H.TEXT_COMPACTION_MODE_LATCH)u[a]=d,a++;else switch(d){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(a%H.MAX_NUMERIC_CODEWORDS===0||d===H.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(o.append(H.decodeBase900toBase10(u,a)),a=0)}return r}static decodeBase900toBase10(n,r){let o=Vr(0);for(let l=0;l<r;l++)o+=H.EXP900[r-l-1]*Vr(n[l]);let a=o.toString();if(a.charAt(0)!=="1")throw new L;return a.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=F1()?e2():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Me{constructor(){}static decode(n,r,o,a,l,u,d){let h=new pi(n,r,o,a,l),p=null,y=null,C;for(let D=!0;;D=!1){if(r!=null&&(p=Me.getRowIndicatorColumn(n,h,r,!0,u,d)),a!=null&&(y=Me.getRowIndicatorColumn(n,h,a,!1,u,d)),C=Me.merge(p,y),C==null)throw V.getNotFoundInstance();let P=C.getBoundingBox();if(D&&P!=null&&(P.getMinY()<h.getMinY()||P.getMaxY()>h.getMaxY()))h=P;else break}C.setBoundingBox(h);let v=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(v,y);let T=p!=null;for(let D=1;D<=v;D++){let P=T?D:v-D;if(C.getDetectionResultColumn(P)!==void 0)continue;let F;P===0||P===v?F=new P1(h,P===0):F=new Oo(h),C.setDetectionResultColumn(P,F);let j=-1,re=j;for(let ie=h.getMinY();ie<=h.getMaxY();ie++){if(j=Me.getStartColumn(C,P,ie,T),j<0||j>h.getMaxX()){if(re===-1)continue;j=re}let $=Me.detectCodeword(n,h.getMinX(),h.getMaxX(),T,j,ie,u,d);$!=null&&(F.setCodeword(ie,$),re=j,u=Math.min(u,$.getWidth()),d=Math.max(d,$.getWidth()))}}return Me.createDecoderResult(C)}static merge(n,r){if(n==null&&r==null)return null;let o=Me.getBarcodeMetadata(n,r);if(o==null)return null;let a=pi.merge(Me.adjustBoundingBox(n),Me.adjustBoundingBox(r));return new Do(o,a)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let o=Me.getMax(r),a=0;for(let d of r)if(a+=o-d,d>0)break;let l=n.getCodewords();for(let d=0;a>0&&l[d]==null;d++)a--;let u=0;for(let d=r.length-1;d>=0&&(u+=o-r[d],!(r[d]>0));d--);for(let d=l.length-1;u>0&&l[d]==null;d--)u--;return n.getBoundingBox().addMissingRows(a,u,n.isLeft())}static getMax(n){let r=-1;for(let o of n)r=Math.max(r,o);return r}static getBarcodeMetadata(n,r){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let a;return r==null||(a=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(n,r,o,a,l,u){let d=new P1(r,a);for(let h=0;h<2;h++){let p=h===0?1:-1,y=Math.trunc(Math.trunc(o.getX()));for(let C=Math.trunc(Math.trunc(o.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=p){let v=Me.detectCodeword(n,0,n.getWidth(),a,y,C,l,u);v!=null&&(d.setCodeword(C,v),a?y=v.getStartX():y=v.getEndX())}}return d}static adjustCodewordCount(n,r){let o=r[0][1],a=o.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Me.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(l<1||l>Ie.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();o.setValue(l)}else a[0]!==l&&o.setValue(l)}static createDecoderResult(n){let r=Me.createBarcodeMatrix(n);Me.adjustCodewordCount(n,r);let o=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=r[h][p+1].getValue(),C=h*n.getBarcodeColumnCount()+p;y.length===0?o.push(C):y.length===1?a[C]=y[0]:(u.push(C),l.push(y))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Me.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,Ie.toIntArray(o),Ie.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(n,r,o,a,l){let u=new Int32Array(a.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[a[h]]=l[h][u[h]];try{return Me.decodeCodewords(r,n,o)}catch(h){if(!(h instanceof U))throw h}if(u.length===0)throw U.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<r.length;a++)for(let l=0;l<r[a].length;l++)r[a][l]=new bo;let o=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][o].setValue(l.getValue())}}}o++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,o,a){let l=a?1:-1,u=null;if(Me.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodeword(o)),u!=null)return a?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(r).getCodewordNearby(o),u!=null)return a?u.getStartX():u.getEndX();if(Me.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodewordNearby(o)),u!=null)return a?u.getEndX():u.getStartX();let d=0;for(;Me.isValidBarcodeColumn(n,r-l);){r-=l;for(let h of n.getDetectionResultColumn(r).getCodewords())if(h!=null)return(a?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,o,a,l,u,d,h){l=Me.adjustCodewordStartColumn(n,r,o,a,l,u);let p=Me.getModuleBitCount(n,r,o,a,l,u);if(p==null)return null;let y,C=ke.sum(p);if(a)y=l+C;else{for(let D=0;D<p.length/2;D++){let P=p[D];p[D]=p[p.length-1-D],p[p.length-1-D]=P}y=l,l=y-C}if(!Me.checkCodewordSkew(C,d,h))return null;let v=mn.getDecodedValue(p),T=Ie.getCodeword(v);return T===-1?null:new Mo(l,y,Me.getCodewordBucketNumber(v),T)}static getModuleBitCount(n,r,o,a,l,u){let d=l,h=new Int32Array(8),p=0,y=a?1:-1,C=a;for(;(a?d<o:d>=r)&&p<h.length;)n.get(d,u)===C?(h[p]++,d+=y):(p++,C=!C);return p===h.length||d===(a?o:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,o,a,l,u){let d=l,h=a?-1:1;for(let p=0;p<2;p++){for(;(a?d>=r:d<o)&&a===n.get(d,u);){if(Math.abs(l-d)>Me.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,a=!a}return d}static checkCodewordSkew(n,r,o){return r-Me.CODEWORD_SKEW_SIZE<=n&&n<=o+Me.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,o){if(n.length===0)throw L.getFormatInstance();let a=1<<r+1,l=Me.correctErrors(n,o,a);Me.verifyCodewordCount(n,a);let u=H.decode(n,""+r);return u.setErrorsCorrected(l),u.setErasures(o.length),u}static correctErrors(n,r,o){if(r!=null&&r.length>o/2+Me.MAX_ERRORS||o<0||o>Me.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return Me.errorCorrection.decode(n,o,r)}static verifyCodewordCount(n,r){if(n.length<4)throw L.getFormatInstance();let o=n[0];if(o>n.length)throw L.getFormatInstance();if(o===0)if(r<n.length)n[0]=n.length-r;else throw L.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),o=0,a=r.length-1;for(;!((n&1)!==o&&(o=n&1,a--,a<0));)r[a]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Me.getCodewordBucketNumber(Me.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new _o;for(let o=0;o<n.length;o++){r.format("Row %2d: ",o);for(let a=0;a<n[o].length;a++){let l=n[o][a];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Me.CODEWORD_SKEW_SIZE=2,Me.MAX_ERRORS=3,Me.MAX_EC_CODEWORDS=512,Me.errorCorrection=new M1;class qt{decode(n,r=null){let o=qt.decode(n,r,!1);if(o==null||o.length===0||o[0]==null)throw V.getNotFoundInstance();return o[0]}decodeMultiple(n,r=null){try{return qt.decode(n,r,!0)}catch(o){throw o instanceof L||o instanceof U?V.getNotFoundInstance():o}}static decode(n,r,o){const a=new Array,l=be.detectMultiple(n,r,o);for(const u of l.getPoints()){const d=Me.decode(l.getBits(),u[4],u[5],u[6],u[7],qt.getMinCodewordWidth(u),qt.getMaxCodewordWidth(u)),h=new lt(d.getText(),d.getRawBytes(),void 0,u,ge.PDF_417);h.putMetadata(ht.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(ht.PDF417_EXTRA_METADATA,p),a.push(h)}return a.map(u=>u)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(qt.getMaxWidth(n[0],n[4]),qt.getMaxWidth(n[6],n[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.max(qt.getMaxWidth(n[1],n[5]),qt.getMaxWidth(n[7],n[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(qt.getMinWidth(n[0],n[4]),qt.getMinWidth(n[6],n[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.min(qt.getMinWidth(n[1],n[5]),qt.getMinWidth(n[7],n[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}reset(){}}class Hs extends x{}Hs.kind="ReaderException";class U1{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!s(n)&&n.get(X.TRY_HARDER)===!0,o=s(n)?null:n.get(X.POSSIBLE_FORMATS),a=new Array;if(!s(o)){const l=o.some(u=>u===ge.UPC_A||u===ge.UPC_E||u===ge.EAN_13||u===ge.EAN_8||u===ge.CODABAR||u===ge.CODE_39||u===ge.CODE_93||u===ge.CODE_128||u===ge.ITF||u===ge.RSS_14||u===ge.RSS_EXPANDED);l&&!r&&a.push(new Li(n,this.verbose)),o.includes(ge.QR_CODE)&&a.push(new zr),o.includes(ge.DATA_MATRIX)&&a.push(new Ur),o.includes(ge.AZTEC)&&a.push(new Br),o.includes(ge.PDF_417)&&a.push(new qt),l&&r&&a.push(new Li(n,this.verbose))}a.length===0&&(r||a.push(new Li(n,this.verbose)),a.push(new zr),a.push(new Ur),a.push(new Br),a.push(new qt),r&&a.push(new Li(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Hs("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(o){if(o instanceof Hs)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class t2 extends nn{constructor(n=null,r=500){const o=new U1;o.setHints(n),super(o,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class n2 extends nn{constructor(n=500){super(new qt,n)}}class r2 extends nn{constructor(n=500){super(new zr,n)}}var Bl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Bl||(Bl={}));var Ut=Bl;class Ll{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new At(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let o=r[r.length-1];const a=this.field;for(let l=r.length;l<=n;l++){const u=o.multiply(new At(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));r.push(u),o=u}}return r[n]}encode(n,r){if(r===0)throw new S("No error correction bytes");const o=n.length-r;if(o<=0)throw new S("No data bytes provided");const a=this.buildGenerator(r),l=new Int32Array(o);k.arraycopy(n,0,l,0,o);let u=new At(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(a)[1].getCoefficients(),p=r-h.length;for(let y=0;y<p;y++)n[o+y]=0;k.arraycopy(h,0,n,o+p,h.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(n){return Tt.applyMaskPenaltyRule1Internal(n,!0)+Tt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const o=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let u=0;u<l-1;u++){const d=o[u];for(let h=0;h<a-1;h++){const p=d[h];p===d[h+1]&&p===o[u+1][h]&&p===o[u+1][h+1]&&r++}}return Tt.N2*r}static applyMaskPenaltyRule3(n){let r=0;const o=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let u=0;u<l;u++)for(let d=0;d<a;d++){const h=o[u];d+6<a&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(Tt.isWhiteHorizontal(h,d-4,d)||Tt.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<l&&o[u][d]===1&&o[u+1][d]===0&&o[u+2][d]===1&&o[u+3][d]===1&&o[u+4][d]===1&&o[u+5][d]===0&&o[u+6][d]===1&&(Tt.isWhiteVertical(o,d,u-4,u)||Tt.isWhiteVertical(o,d,u+7,u+11))&&r++}return r*Tt.N3}static isWhiteHorizontal(n,r,o){r=Math.max(r,0),o=Math.min(o,n.length);for(let a=r;a<o;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,r,o,a){o=Math.max(o,0),a=Math.min(a,n.length);for(let l=o;l<a;l++)if(n[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const o=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=o[h];for(let y=0;y<a;y++)p[y]===1&&r++}const u=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*Tt.N4}static getDataMaskBit(n,r,o){let a,l;switch(n){case 0:a=o+r&1;break;case 1:a=o&1;break;case 2:a=r%3;break;case 3:a=(o+r)%3;break;case 4:a=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:l=o*r,a=(l&1)+l%3;break;case 6:l=o*r,a=(l&1)+l%3&1;break;case 7:l=o*r,a=l%3+(o+r&1)&1;break;default:throw new S("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,r){let o=0;const a=r?n.getHeight():n.getWidth(),l=r?n.getWidth():n.getHeight(),u=n.getArray();for(let d=0;d<a;d++){let h=0,p=-1;for(let y=0;y<l;y++){const C=r?u[d][y]:u[y][d];C===p?h++:(h>=5&&(o+=Tt.N1+(h-5)),h=1,p=C)}h>=5&&(o+=Tt.N1+(h-5))}return o}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class js{constructor(n,r){this.width=n,this.height=r;const o=new Array(r);for(let a=0;a!==r;a++)o[a]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,o){this.bytes[r][n]=o}setBoolean(n,r,o){this.bytes[r][n]=o?1:0}clear(n){for(const r of this.bytes)N.fill(r,n)}equals(n){if(!(n instanceof js))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,a=this.height;o<a;++o){const l=this.bytes[o],u=r.bytes[o];for(let d=0,h=this.width;d<h;++d)if(l[d]!==u[d])return!1}return!0}toString(){const n=new De;for(let r=0,o=this.height;r<o;++r){const a=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(a[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new De;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<xi.NUM_MASK_PATTERNS}}xi.NUM_MASK_PATTERNS=8;class rt extends x{}rt.kind="WriterException";class ve{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,o,a,l){ve.clearMatrix(l),ve.embedBasicPatterns(o,l),ve.embedTypeInfo(r,a,l),ve.maybeEmbedVersionInfo(o,l),ve.embedDataBits(n,a,l)}static embedBasicPatterns(n,r){ve.embedPositionDetectionPatternsAndSeparators(r),ve.embedDarkDotAtLeftBottomCorner(r),ve.maybeEmbedPositionAdjustmentPatterns(n,r),ve.embedTimingPatterns(r)}static embedTypeInfo(n,r,o){const a=new R;ve.makeTypeInfoBits(n,r,a);for(let l=0,u=a.getSize();l<u;++l){const d=a.get(a.getSize()-1-l),h=ve.TYPE_INFO_COORDINATES[l],p=h[0],y=h[1];if(o.setBoolean(p,y,d),l<8){const C=o.getWidth()-l-1,v=8;o.setBoolean(C,v,d)}else{const v=o.getHeight()-7+(l-8);o.setBoolean(8,v,d)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const o=new R;ve.makeVersionInfoBits(n,o);let a=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const d=o.get(a);a--,r.setBoolean(l,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,l,d)}}static embedDataBits(n,r,o){let a=0,l=-1,u=o.getWidth()-1,d=o.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<o.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!ve.isEmpty(o.get(p,d)))continue;let y;a<n.getSize()?(y=n.get(a),++a):y=!1,r!==255&&Tt.getDataMaskBit(r,p,d)&&(y=!y),o.setBoolean(p,d,y)}d+=l}l=-l,d+=l,u-=2}if(a!==n.getSize())throw new rt("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-_.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new S("0 polynomial");const o=ve.findMSBSet(r);for(n<<=o-1;ve.findMSBSet(n)>=o;)n^=r<<ve.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,r,o){if(!xi.isValidMaskPattern(r))throw new rt("Invalid mask pattern");const a=n.getBits()<<3|r;o.appendBits(a,5);const l=ve.calculateBCHCode(a,ve.TYPE_INFO_POLY);o.appendBits(l,10);const u=new R;if(u.appendBits(ve.TYPE_INFO_MASK_PATTERN,15),o.xor(u),o.getSize()!==15)throw new rt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const o=ve.calculateBCHCode(n.getVersionNumber(),ve.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new rt("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const o=(r+1)%2;ve.isEmpty(n.get(r,6))&&n.setNumber(r,6,o),ve.isEmpty(n.get(6,r))&&n.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new rt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,o){for(let a=0;a<8;++a){if(!ve.isEmpty(o.get(n+a,r)))throw new rt;o.setNumber(n+a,r,0)}}static embedVerticalSeparationPattern(n,r,o){for(let a=0;a<7;++a){if(!ve.isEmpty(o.get(n,r+a)))throw new rt;o.setNumber(n,r+a,0)}}static embedPositionAdjustmentPattern(n,r,o){for(let a=0;a<5;++a){const l=ve.POSITION_ADJUSTMENT_PATTERN[a];for(let u=0;u<5;++u)o.setNumber(n+u,r+a,l[u])}}static embedPositionDetectionPattern(n,r,o){for(let a=0;a<7;++a){const l=ve.POSITION_DETECTION_PATTERN[a];for(let u=0;u<7;++u)o.setNumber(n+u,r+a,l[u])}}static embedPositionDetectionPatternsAndSeparators(n){const r=ve.POSITION_DETECTION_PATTERN[0].length;ve.embedPositionDetectionPattern(0,0,n),ve.embedPositionDetectionPattern(n.getWidth()-r,0,n),ve.embedPositionDetectionPattern(0,n.getWidth()-r,n);const o=8;ve.embedHorizontalSeparationPattern(0,o-1,n),ve.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),ve.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const a=7;ve.embedVerticalSeparationPattern(a,0,n),ve.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),ve.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,a=ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,u=a.length;l!==u;l++){const d=a[l];if(d>=0)for(let h=0;h!==u;h++){const p=a[h];p>=0&&ve.isEmpty(r.get(p,d))&&ve.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ve.VERSION_INFO_POLY=7973,ve.TYPE_INFO_POLY=1335,ve.TYPE_INFO_MASK_PATTERN=21522;class i2{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ut{constructor(){}static calculateMaskPenalty(n){return Tt.applyMaskPenaltyRule1(n)+Tt.applyMaskPenaltyRule2(n)+Tt.applyMaskPenaltyRule3(n)+Tt.applyMaskPenaltyRule4(n)}static encode(n,r,o=null){let a=ut.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(Ut.CHARACTER_SET)!==void 0;l&&(a=o.get(Ut.CHARACTER_SET).toString());const u=this.chooseMode(n,a),d=new R;if(u===Ee.BYTE&&(l||ut.DEFAULT_BYTE_MODE_ENCODING!==a)){const ie=G.getCharacterSetECIByName(a);ie!==void 0&&this.appendECI(ie,d)}this.appendModeInfo(u,d);const h=new R;this.appendBytes(n,u,h,a);let p;if(o!==null&&o.get(Ut.QR_VERSION)!==void 0){const ie=Number.parseInt(o.get(Ut.QR_VERSION).toString(),10);p=me.getVersionForNumber(ie);const $=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit($,p,r))throw new rt("Data too big for requested version")}else p=this.recommendVersion(r,u,d,h);const y=new R;y.appendBitArray(d);const C=u===Ee.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(C,p,u,y),y.appendBitArray(h);const v=p.getECBlocksForLevel(r),T=p.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(T,y);const D=this.interleaveWithECBytes(y,p.getTotalCodewords(),T,v.getNumBlocks()),P=new xi;P.setECLevel(r),P.setMode(u),P.setVersion(p);const F=p.getDimensionForVersion(),j=new js(F,F),re=this.chooseMaskPattern(D,r,p,j);return P.setMaskPattern(re),ve.buildMatrix(D,r,p,re,j),P.setMatrix(j),P}static recommendVersion(n,r,o,a){const l=this.calculateBitsNeeded(r,o,a,me.getVersionForNumber(1)),u=this.chooseVersion(l,n),d=this.calculateBitsNeeded(r,o,a,u);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,r,o,a){return r.getSize()+n.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(n){return n<ut.ALPHANUMERIC_TABLE.length?ut.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return Ee.KANJI;let o=!1,a=!1;for(let l=0,u=n.length;l<u;++l){const d=n.charAt(l);if(ut.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return Ee.BYTE}return a?Ee.ALPHANUMERIC:o?Ee.NUMERIC:Ee.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=Ve.encode(n,G.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const l=r[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,r,o,a){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<xi.NUM_MASK_PATTERNS;d++){ve.buildMatrix(n,r,o,d,a);let h=this.calculateMaskPenalty(a);h<l&&(l=h,u=d)}return u}static chooseVersion(n,r){for(let o=1;o<=40;o++){const a=me.getVersionForNumber(o);if(ut.willFit(n,a,r))return a}throw new rt("Data too big")}static willFit(n,r,o){const a=r.getTotalCodewords(),u=r.getECBlocksForLevel(o).getTotalECCodewords(),d=a-u,h=(n+7)/8;return d>=h}static terminateBits(n,r){const o=n*8;if(r.getSize()>o)throw new rt("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let u=0;u<4&&r.getSize()<o;++u)r.appendBit(!1);const a=r.getSize()&7;if(a>0)for(let u=a;u<8;u++)r.appendBit(!1);const l=n-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==o)throw new rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,o,a,l,u){if(a>=o)throw new rt("Block ID too large");const d=n%o,h=o-d,p=Math.floor(n/o),y=p+1,C=Math.floor(r/o),v=C+1,T=p-C,D=y-v;if(T!==D)throw new rt("EC bytes mismatch");if(o!==h+d)throw new rt("RS blocks mismatch");if(n!==(C+T)*h+(v+D)*d)throw new rt("Total bytes mismatch");a<h?(l[0]=C,u[0]=T):(l[0]=v,u[0]=D)}static interleaveWithECBytes(n,r,o,a){if(n.getSizeInBytes()!==o)throw new rt("Number of bits and data bytes does not match");let l=0,u=0,d=0;const h=new Array;for(let y=0;y<a;++y){const C=new Int32Array(1),v=new Int32Array(1);ut.getNumDataBytesAndNumECBytesForBlockID(r,o,a,y,C,v);const T=C[0],D=new Uint8Array(T);n.toBytes(8*l,D,0,T);const P=ut.generateECBytes(D,v[0]);h.push(new i2(D,P)),u=Math.max(u,T),d=Math.max(d,P.length),l+=C[0]}if(o!==l)throw new rt("Data bytes does not match offset");const p=new R;for(let y=0;y<u;++y)for(const C of h){const v=C.getDataBytes();y<v.length&&p.appendBits(v[y],8)}for(let y=0;y<d;++y)for(const C of h){const v=C.getErrorCorrectionBytes();y<v.length&&p.appendBits(v[y],8)}if(r!==p.getSizeInBytes())throw new rt("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,r){const o=n.length,a=new Int32Array(o+r);for(let u=0;u<o;u++)a[u]=n[u]&255;new Ll(He.QR_CODE_FIELD_256).encode(a,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=a[o+u];return l}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,o,a){const l=o.getCharacterCountBits(r);if(n>=1<<l)throw new rt(n+" is bigger than "+((1<<l)-1));a.appendBits(n,l)}static appendBytes(n,r,o,a){switch(r){case Ee.NUMERIC:ut.appendNumericBytes(n,o);break;case Ee.ALPHANUMERIC:ut.appendAlphanumericBytes(n,o);break;case Ee.BYTE:ut.append8BitBytes(n,o,a);break;case Ee.KANJI:ut.appendKanjiBytes(n,o);break;default:throw new rt("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=ut.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const o=n.length;let a=0;for(;a<o;){const l=ut.getDigit(n.charAt(a));if(a+2<o){const u=ut.getDigit(n.charAt(a+1)),d=ut.getDigit(n.charAt(a+2));r.appendBits(l*100+u*10+d,10),a+=3}else if(a+1<o){const u=ut.getDigit(n.charAt(a+1));r.appendBits(l*10+u,7),a+=2}else r.appendBits(l,4),a++}}static appendAlphanumericBytes(n,r){const o=n.length;let a=0;for(;a<o;){const l=ut.getAlphanumericCode(n.charCodeAt(a));if(l===-1)throw new rt;if(a+1<o){const u=ut.getAlphanumericCode(n.charCodeAt(a+1));if(u===-1)throw new rt;r.appendBits(l*45+u,11),a+=2}else r.appendBits(l,6),a++}}static append8BitBytes(n,r,o){let a;try{a=Ve.encode(n,o)}catch(l){throw new rt(l)}for(let l=0,u=a.length;l!==u;l++){const d=a[l];r.appendBits(d,8)}}static appendKanjiBytes(n,r){let o;try{o=Ve.encode(n,G.SJIS)}catch(l){throw new rt(l)}const a=o.length;for(let l=0;l<a;l+=2){const u=o[l]&255,d=o[l+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new rt("Invalid byte sequence");const y=(p>>8)*192+(p&255);r.appendBits(y,13)}}static appendECI(n,r){r.appendBits(Ee.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}ut.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ut.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class mi{write(n,r,o,a=null){if(n.length===0)throw new S("Found empty contents");if(r<0||o<0)throw new S("Requested dimensions are too small: "+r+"x"+o);let l=st.L,u=mi.QUIET_ZONE_SIZE;a!==null&&(a.get(Ut.ERROR_CORRECTION)!==void 0&&(l=st.fromString(a.get(Ut.ERROR_CORRECTION).toString())),a.get(Ut.MARGIN)!==void 0&&(u=Number.parseInt(a.get(Ut.MARGIN).toString(),10)));const d=ut.encode(n,l,a);return this.renderResult(d,r,o,u)}writeToDom(n,r,o,a,l=null){typeof n=="string"&&(n=document.querySelector(n));const u=this.write(r,o,a,l);n&&n.appendChild(u)}renderResult(n,r,o,a){const l=n.getMatrix();if(l===null)throw new kn;const u=l.getWidth(),d=l.getHeight(),h=u+a*2,p=d+a*2,y=Math.max(r,h),C=Math.max(o,p),v=Math.min(Math.floor(y/h),Math.floor(C/p)),T=Math.floor((y-u*v)/2),D=Math.floor((C-d*v)/2),P=this.createSVGElement(y,C);for(let F=0,j=D;F<d;F++,j+=v)for(let re=0,ie=T;re<u;re++,ie+=v)if(l.get(re,F)===1){const $=this.createSvgRectElement(ie,j,v,v);P.appendChild($)}return P}createSVGElement(n,r){const o=document.createElementNS(mi.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(n,r,o,a){const l=document.createElementNS(mi.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}mi.QUIET_ZONE_SIZE=4,mi.SVG_NS="http://www.w3.org/2000/svg";class Ui{encode(n,r,o,a,l){if(n.length===0)throw new S("Found empty contents");if(r!==ge.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(o<0||a<0)throw new S(`Requested dimensions are too small: ${o}x${a}`);let u=st.L,d=Ui.QUIET_ZONE_SIZE;l!==null&&(l.get(Ut.ERROR_CORRECTION)!==void 0&&(u=st.fromString(l.get(Ut.ERROR_CORRECTION).toString())),l.get(Ut.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Ut.MARGIN).toString(),10)));const h=ut.encode(n,u,l);return Ui.renderResult(h,o,a,d)}static renderResult(n,r,o,a){const l=n.getMatrix();if(l===null)throw new kn;const u=l.getWidth(),d=l.getHeight(),h=u+a*2,p=d+a*2,y=Math.max(r,h),C=Math.max(o,p),v=Math.min(Math.floor(y/h),Math.floor(C/p)),T=Math.floor((y-u*v)/2),D=Math.floor((C-d*v)/2),P=new ot(y,C);for(let F=0,j=D;F<d;F++,j+=v)for(let re=0,ie=T;re<u;re++,ie+=v)l.get(re,F)===1&&P.setRegion(ie,j,v,v);return P}}Ui.QUIET_ZONE_SIZE=4;class o2{encode(n,r,o,a,l){let u;switch(r){case ge.QR_CODE:u=new Ui;break;default:throw new S("No encoder available for format "+r)}return u.encode(n,r,o,a,l)}}class sr extends se{constructor(n,r,o,a,l,u,d,h){if(super(u,d),this.yuvData=n,this.dataWidth=r,this.dataHeight=o,this.left=a,this.top=l,a+u>r||l+d>o)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(n,r){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const a=(n+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,a,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=n*r,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return k.arraycopy(this.yuvData,l,a,0,o),a;for(let u=0;u<r;u++){const d=u*n;k.arraycopy(this.yuvData,l,a,d,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,r,o,a){return new sr(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,a,!1)}renderThumbnail(){const n=this.getWidth()/sr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/sr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*n;for(let h=0;h<n;h++){const p=a[l+h*sr.THUMBNAIL_SCALE_FACTOR]&255;o[d+h]=4278190080|p*65793}l+=this.dataWidth*sr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/sr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/sr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const o=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<r;a++,l+=this.dataWidth){const u=l+n/2;for(let d=l,h=l+n-1;d<u;d++,h--){const p=o[d];o[d]=o[h],o[h]=p}}}invert(){return new xe(this)}}sr.THUMBNAIL_SCALE_FACTOR=2;class Fl extends se{constructor(n,r,o,a,l,u,d){if(super(r,o),this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=d,n.BYTES_PER_ELEMENT===4){const h=r*o,p=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const C=n[y],v=C>>16&255,T=C>>7&510,D=C&255;p[y]=(v+T+D)/4&255}this.luminances=p}else this.luminances=n;if(a===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=o),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const a=(n+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,a,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=n*r,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return k.arraycopy(this.luminances,l,a,0,o),a;for(let u=0;u<r;u++){const d=u*n;k.arraycopy(this.luminances,l,a,d,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,r,o,a){return new Fl(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new xe(this)}}class z1 extends G{static forName(n){return this.getCharacterSetECIByName(n)}}class Ul{}Ul.ISO_8859_1=G.ISO8859_1;class V1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class H1{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class s2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class zi extends s2{constructor(n,r,o){super(n),this.value=r,this.bitCount=o}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new zi(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zi(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+_.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class zl extends zi{constructor(n,r,o){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(n,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(n,r){return new zl(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function a2(E,n,r){return new zl(E,n,r)}function Po(E,n,r){return new zi(E,n,r)}const l2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Hr=0,Ws=1,Un=2,j1=3,ar=4,u2=new zi(null,0,0),Vl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function c2(E){for(let n of E)N.fill(n,-1);return E[Hr][ar]=0,E[Ws][ar]=0,E[Ws][Hr]=28,E[j1][ar]=0,E[Un][ar]=0,E[Un][Hr]=15,E}const W1=c2(N.createInt32Array(6,6));class lr{constructor(n,r,o,a){this.token=n,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let o=this.bitCount,a=this.token;if(n!==this.mode){let u=Vl[this.mode][n];a=Po(a,u&65535,u>>16),o+=u>>16}let l=n===Un?4:5;return a=Po(a,r,l),new lr(a,n,0,o+l)}shiftAndAppend(n,r){let o=this.token,a=this.mode===Un?4:5;return o=Po(o,W1[this.mode][n],a),o=Po(o,r,5),new lr(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let r=this.token,o=this.mode,a=this.bitCount;if(this.mode===ar||this.mode===Un){let d=Vl[o][Hr];r=Po(r,d&65535,d>>16),a+=d>>16,o=Hr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new lr(r,o,this.binaryShiftByteCount+1,a+l);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=a2(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new lr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(Vl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=lr.calculateBinaryShiftCost(n)-lr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())r.unshift(a);let o=new R;for(const a of r)a.appendTo(o,n);return o}toString(){return pe.format("%s bits=%d bytes=%d",l2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}lr.INITIAL_STATE=new lr(u2,Hr,0,0);function f2(E){const n=pe.getCharCode(" "),r=pe.getCharCode("."),o=pe.getCharCode(",");E[Hr][n]=1;const a=pe.getCharCode("Z"),l=pe.getCharCode("A");for(let v=l;v<=a;v++)E[Hr][v]=v-l+2;E[Ws][n]=1;const u=pe.getCharCode("z"),d=pe.getCharCode("a");for(let v=d;v<=u;v++)E[Ws][v]=v-d+2;E[Un][n]=1;const h=pe.getCharCode("9"),p=pe.getCharCode("0");for(let v=p;v<=h;v++)E[Un][v]=v-p+2;E[Un][o]=12,E[Un][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<y.length;v++)E[j1][pe.getCharCode(y[v])]=v;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<C.length;v++)pe.getCharCode(C[v])>0&&(E[ar][pe.getCharCode(C[v])]=v);return E}const Hl=f2(N.createInt32Array(5,256));class ko{constructor(n){this.text=n}encode(){const n=pe.getCharCode(" "),r=pe.getCharCode(`
`);let o=H1.singletonList(lr.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case pe.getCharCode("\r"):u=d===r?2:0;break;case pe.getCharCode("."):u=d===n?3:0;break;case pe.getCharCode(","):u=d===n?4:0;break;case pe.getCharCode(":"):u=d===n?5:0;break;default:u=0}u>0?(o=ko.updateStateListForPair(o,l,u),l++):o=this.updateStateListForChar(o,l)}return H1.min(o,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const o=[];for(let a of n)this.updateStateForChar(a,r,o);return ko.simplifyStates(o)}updateStateForChar(n,r,o){let a=this.text[r]&255,l=Hl[n.getMode()][a]>0,u=null;for(let d=0;d<=ar;d++){let h=Hl[d][a];if(h>0){if(u==null&&(u=n.endBinaryShift(r)),!l||d===n.getMode()||d===Un){const p=u.latchAndAppend(d,h);o.push(p)}if(!l&&W1[n.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);o.push(p)}}}if(n.getBinaryShiftByteCount()>0||Hl[n.getMode()][a]===0){let d=n.addBinaryShiftChar(r);o.push(d)}}static updateStateListForPair(n,r,o){const a=[];for(let l of n)this.updateStateForPair(l,r,o,a);return this.simplifyStates(a)}static updateStateForPair(n,r,o,a){let l=n.endBinaryShift(r);if(a.push(l.latchAndAppend(ar,o)),n.getMode()!==ar&&a.push(l.shiftAndAppend(ar,o)),o===3||o===4){let u=l.latchAndAppend(Un,16-o).latchAndAppend(Un,1);a.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(u)}}static simplifyStates(n){let r=[];for(const o of n){let a=!0;for(const l of r){if(l.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}a&&r.push(o)}return r}}class je{constructor(){}static encodeBytes(n){return je.encode(n,je.DEFAULT_EC_PERCENT,je.DEFAULT_AZTEC_LAYERS)}static encode(n,r,o){let a=new ko(n).encode(),l=_.truncDivision(a.getSize()*r,100)+11,u=a.getSize()+l,d,h,p,y,C;if(o!==je.DEFAULT_AZTEC_LAYERS){if(d=o<0,h=Math.abs(o),h>(d?je.MAX_NB_BITS_COMPACT:je.MAX_NB_BITS))throw new S(pe.format("Illegal value %s for layers",o));p=je.totalBitsInLayer(h,d),y=je.WORD_SIZE[h];let $=p-p%y;if(C=je.stuffBits(a,y),C.getSize()+l>$)throw new S("Data to large for user specified layer");if(d&&C.getSize()>y*64)throw new S("Data to large for user specified layer")}else{y=0,C=null;for(let $=0;;$++){if($>je.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=$<=3,h=d?$+1:$,p=je.totalBitsInLayer(h,d),u>p)continue;(C==null||y!==je.WORD_SIZE[h])&&(y=je.WORD_SIZE[h],C=je.stuffBits(a,y));let Be=p-p%y;if(!(d&&C.getSize()>y*64)&&C.getSize()+l<=Be)break}}let v=je.generateCheckWords(C,p,y),T=C.getSize()/y,D=je.generateModeMessage(d,h,T),P=(d?11:14)+h*4,F=new Int32Array(P),j;if(d){j=P;for(let $=0;$<F.length;$++)F[$]=$}else{j=P+1+2*_.truncDivision(_.truncDivision(P,2)-1,15);let $=_.truncDivision(P,2),Be=_.truncDivision(j,2);for(let Ne=0;Ne<$;Ne++){let wn=Ne+_.truncDivision(Ne,15);F[$-Ne-1]=Be-wn-1,F[$+Ne]=Be+wn+1}}let re=new ot(j);for(let $=0,Be=0;$<h;$++){let Ne=(h-$)*4+(d?9:12);for(let wn=0;wn<Ne;wn++){let Qn=wn*2;for(let yn=0;yn<2;yn++)v.get(Be+Qn+yn)&&re.set(F[$*2+yn],F[$*2+wn]),v.get(Be+Ne*2+Qn+yn)&&re.set(F[$*2+wn],F[P-1-$*2-yn]),v.get(Be+Ne*4+Qn+yn)&&re.set(F[P-1-$*2-yn],F[P-1-$*2-wn]),v.get(Be+Ne*6+Qn+yn)&&re.set(F[P-1-$*2-wn],F[$*2+yn])}Be+=Ne*8}if(je.drawModeMessage(re,d,j,D),d)je.drawBullsEye(re,_.truncDivision(j,2),5);else{je.drawBullsEye(re,_.truncDivision(j,2),7);for(let $=0,Be=0;$<_.truncDivision(P,2)-1;$+=15,Be+=16)for(let Ne=_.truncDivision(j,2)&1;Ne<j;Ne+=2)re.set(_.truncDivision(j,2)-Be,Ne),re.set(_.truncDivision(j,2)+Be,Ne),re.set(Ne,_.truncDivision(j,2)-Be),re.set(Ne,_.truncDivision(j,2)+Be)}let ie=new V1;return ie.setCompact(d),ie.setSize(j),ie.setLayers(h),ie.setCodeWords(T),ie.setMatrix(re),ie}static drawBullsEye(n,r,o){for(let a=0;a<o;a+=2)for(let l=r-a;l<=r+a;l++)n.set(l,r-a),n.set(l,r+a),n.set(r-a,l),n.set(r+a,l);n.set(r-o,r-o),n.set(r-o+1,r-o),n.set(r-o,r-o+1),n.set(r+o,r-o),n.set(r+o,r-o+1),n.set(r+o,r+o-1)}static generateModeMessage(n,r,o){let a=new R;return n?(a.appendBits(r-1,2),a.appendBits(o-1,6),a=je.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(o-1,11),a=je.generateCheckWords(a,40,4)),a}static drawModeMessage(n,r,o,a){let l=_.truncDivision(o,2);if(r)for(let u=0;u<7;u++){let d=l-3+u;a.get(u)&&n.set(d,l-5),a.get(u+7)&&n.set(l+5,d),a.get(20-u)&&n.set(d,l+5),a.get(27-u)&&n.set(l-5,d)}else for(let u=0;u<10;u++){let d=l-5+u+_.truncDivision(u,5);a.get(u)&&n.set(d,l-7),a.get(u+10)&&n.set(l+7,d),a.get(29-u)&&n.set(d,l+7),a.get(39-u)&&n.set(l-7,d)}}static generateCheckWords(n,r,o){let a=n.getSize()/o,l=new Ll(je.getGF(o)),u=_.truncDivision(r,o),d=je.bitsToWords(n,o,u);l.encode(d,u-a);let h=r%o,p=new R;p.appendBits(0,h);for(const y of Array.from(d))p.appendBits(y,o);return p}static bitsToWords(n,r,o){let a=new Int32Array(o),l,u;for(l=0,u=n.getSize()/r;l<u;l++){let d=0;for(let h=0;h<r;h++)d|=n.get(l*r+h)?1<<r-h-1:0;a[l]=d}return a}static getGF(n){switch(n){case 4:return He.AZTEC_PARAM;case 6:return He.AZTEC_DATA_6;case 8:return He.AZTEC_DATA_8;case 10:return He.AZTEC_DATA_10;case 12:return He.AZTEC_DATA_12;default:throw new S("Unsupported word size "+n)}}static stuffBits(n,r){let o=new R,a=n.getSize(),l=(1<<r)-2;for(let u=0;u<a;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=a||n.get(u+h))&&(d|=1<<r-1-h);(d&l)===l?(o.appendBits(d&l,r),u--):d&l?o.appendBits(d,r):(o.appendBits(d|1,r),u--)}return o}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}je.DEFAULT_EC_PERCENT=33,je.DEFAULT_AZTEC_LAYERS=0,je.MAX_NB_BITS=32,je.MAX_NB_BITS_COMPACT=4,je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Gs{encode(n,r,o,a){return this.encodeWithHints(n,r,o,a,null)}encodeWithHints(n,r,o,a,l){let u=Ul.ISO_8859_1,d=je.DEFAULT_EC_PERCENT,h=je.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Ut.CHARACTER_SET)&&(u=z1.forName(l.get(Ut.CHARACTER_SET).toString())),l.has(Ut.ERROR_CORRECTION)&&(d=_.parseInt(l.get(Ut.ERROR_CORRECTION).toString())),l.has(Ut.AZTEC_LAYERS)&&(h=_.parseInt(l.get(Ut.AZTEC_LAYERS).toString()))),Gs.encodeLayers(n,r,o,a,u,d,h)}static encodeLayers(n,r,o,a,l,u,d){if(r!==ge.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=je.encode(pe.getBytes(n,l),u,d);return Gs.renderResult(h,o,a)}static renderResult(n,r,o){let a=n.getMatrix();if(a==null)throw new kn;let l=a.getWidth(),u=a.getHeight(),d=Math.max(r,l),h=Math.max(o,u),p=Math.min(d/l,h/u),y=(d-l*p)/2,C=(h-u*p)/2,v=new ot(d,h);for(let T=0,D=C;T<u;T++,D+=p)for(let P=0,F=y;P<l;P++,F+=p)a.get(P,T)&&v.setRegion(F,D,p,p);return v}}i.AbstractExpandedDecoder=hi,i.ArgumentException=A,i.ArithmeticException=ki,i.AztecCode=V1,i.AztecCodeReader=Br,i.AztecCodeWriter=Gs,i.AztecDecoder=Xe,i.AztecDetector=Ro,i.AztecDetectorResult=Zn,i.AztecEncoder=je,i.AztecHighLevelEncoder=ko,i.AztecPoint=Pt,i.BarcodeFormat=ge,i.Binarizer=M,i.BinaryBitmap=b,i.BitArray=R,i.BitMatrix=ot,i.BitSource=bl,i.BrowserAztecCodeReader=Rl,i.BrowserBarcodeReader=Hg,i.BrowserCodeReader=nn,i.BrowserDatamatrixCodeReader=Wg,i.BrowserMultiFormatReader=t2,i.BrowserPDF417Reader=n2,i.BrowserQRCodeReader=r2,i.BrowserQRCodeSvgWriter=mi,i.CharacterSetECI=G,i.ChecksumException=U,i.Code128Reader=oe,i.Code39Reader=vt,i.DataMatrixDecodedBitStreamParser=Fr,i.DataMatrixReader=Ur,i.DecodeHintType=X,i.DecoderResult=Mr,i.DefaultGridSampler=Us,i.DetectorResult=kr,i.EAN13Reader=ye,i.EncodeHintType=Ut,i.Exception=x,i.FormatException=L,i.GenericGF=He,i.GenericGFPoly=At,i.GlobalHistogramBinarizer=tt,i.GridSampler=Bi,i.GridSamplerInstance=Kn,i.HTMLCanvasElementLuminanceSource=we,i.HybridBinarizer=Se,i.ITFReader=Je,i.IllegalArgumentException=S,i.IllegalStateException=kn,i.InvertedLuminanceSource=xe,i.LuminanceSource=se,i.MathUtils=ke,i.MultiFormatOneDReader=Li,i.MultiFormatReader=U1,i.MultiFormatWriter=o2,i.NotFoundException=V,i.OneDReader=xt,i.PDF417DecodedBitStreamParser=H,i.PDF417DecoderErrorCorrection=M1,i.PDF417Reader=qt,i.PDF417ResultMetadata=k1,i.PerspectiveTransform=pn,i.PlanarYUVLuminanceSource=sr,i.QRCodeByteMatrix=js,i.QRCodeDataMask=Ln,i.QRCodeDecodedBitStreamParser=mt,i.QRCodeDecoderErrorCorrectionLevel=st,i.QRCodeDecoderFormatInformation=on,i.QRCodeEncoder=ut,i.QRCodeEncoderQRCode=xi,i.QRCodeMaskUtil=Tt,i.QRCodeMatrixUtil=ve,i.QRCodeMode=Ee,i.QRCodeReader=zr,i.QRCodeVersion=me,i.QRCodeWriter=Ui,i.RGBLuminanceSource=Fl,i.RSS14Reader=It,i.RSSExpandedReader=Q,i.ReaderException=Hs,i.ReedSolomonDecoder=di,i.ReedSolomonEncoder=Ll,i.ReedSolomonException=mr,i.Result=lt,i.ResultMetadataType=ht,i.ResultPoint=fe,i.StringUtils=pe,i.UnsupportedOperationException=Ce,i.VideoInputDevice=Ge,i.WhiteRectangleDetector=Bn,i.WriterException=rt,i.ZXingArrays=N,i.ZXingCharset=z1,i.ZXingInteger=_,i.ZXingStandardCharsets=Ul,i.ZXingStringBuilder=De,i.ZXingStringEncoding=Ve,i.ZXingSystem=k,i.createAbstractExpandedDecoder=b1,Object.defineProperty(i,"__esModule",{value:!0})})})(Ic,Ic.exports);var ft=Ic.exports;const E3=sd(ft),C3=U0({__proto__:null,default:E3},[ft]);var D0=function(){function e(t,i,s){if(this.formatMap=new Map([[ce.QR_CODE,ft.BarcodeFormat.QR_CODE],[ce.AZTEC,ft.BarcodeFormat.AZTEC],[ce.CODABAR,ft.BarcodeFormat.CODABAR],[ce.CODE_39,ft.BarcodeFormat.CODE_39],[ce.CODE_93,ft.BarcodeFormat.CODE_93],[ce.CODE_128,ft.BarcodeFormat.CODE_128],[ce.DATA_MATRIX,ft.BarcodeFormat.DATA_MATRIX],[ce.MAXICODE,ft.BarcodeFormat.MAXICODE],[ce.ITF,ft.BarcodeFormat.ITF],[ce.EAN_13,ft.BarcodeFormat.EAN_13],[ce.EAN_8,ft.BarcodeFormat.EAN_8],[ce.PDF_417,ft.BarcodeFormat.PDF_417],[ce.RSS_14,ft.BarcodeFormat.RSS_14],[ce.RSS_EXPANDED,ft.BarcodeFormat.RSS_EXPANDED],[ce.UPC_A,ft.BarcodeFormat.UPC_A],[ce.UPC_E,ft.BarcodeFormat.UPC_E],[ce.UPC_EAN_EXTENSION,ft.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!C3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=s;var c=this.createZXingFormats(t),f=new Map;f.set(ft.DecodeHintType.POSSIBLE_FORMATS,c),f.set(ft.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(s,c){try{s(i.decode(t))}catch(f){c(f)}})},e.prototype.decode=function(t){var i=new ft.MultiFormatReader(this.verbose,this.hints),s=new ft.HTMLCanvasElementLuminanceSource(t),c=new ft.BinaryBitmap(new ft.HybridBinarizer(s)),f=i.decode(c);return{text:f.text,format:kg.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,s,c){t.set(i,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],s=0,c=t;s<c.length;s++){var f=c[s];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),A3=globalThis&&globalThis.__awaiter||function(e,t,i,s){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(A){try{x(s.next(A))}catch(S){g(S)}}function w(A){try{x(s.throw(A))}catch(S){g(S)}}function x(A){A.done?f(A.value):c(A.value).then(m,w)}x((s=s.apply(e,t||[])).next())})},v3=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(A){return w([x,A])}}function w(x){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(s=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(A){x=[6,A],c=0}finally{s=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},M0=function(){function e(t,i,s){if(this.formatMap=new Map([[ce.QR_CODE,"qr_code"],[ce.AZTEC,"aztec"],[ce.CODABAR,"codabar"],[ce.CODE_39,"code_39"],[ce.CODE_93,"code_93"],[ce.CODE_128,"code_128"],[ce.DATA_MATRIX,"data_matrix"],[ce.ITF,"itf"],[ce.EAN_13,"ean_13"],[ce.EAN_8,"ean_8"],[ce.PDF_417,"pdf417"],[ce.UPC_A,"upc_a"],[ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=s;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return A3(this,void 0,void 0,function(){var i,s;return v3(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(i),[2,{text:s.rawValue,format:kg.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,s=0,c=0,f=t;c<f.length;c++){var g=f[c],m=g.boundingBox.width*g.boundingBox.height;m>s&&(s=m,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],s=0,c=t;s<c.length;s++){var f=c[s];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,s,c){t.set(i,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),P0=globalThis&&globalThis.__awaiter||function(e,t,i,s){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(A){try{x(s.next(A))}catch(S){g(S)}}function w(A){try{x(s.throw(A))}catch(S){g(S)}}function x(A){A.done?f(A.value):c(A.value).then(m,w)}x((s=s.apply(e,t||[])).next())})},k0=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(A){return w([x,A])}}function w(x){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(s=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(A){x=[6,A],c=0}finally{s=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},S3=function(){function e(t,i,s,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,i&&M0.isSupported()?(this.primaryDecoder=new M0(t,s,c),this.secondaryDecoder=new D0(t,s,c)):this.primaryDecoder=new D0(t,s,c)}return e.prototype.decodeAsync=function(t){return P0(this,void 0,void 0,function(){var i;return k0(this,function(s){switch(s.label){case 0:i=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return P0(this,void 0,void 0,function(){var i,s;return k0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(s=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,s=this.executionResults;i<s.length;i++){var c=s[i];t+=c}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),O1=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function s(){this.constructor=t}t.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),$a=globalThis&&globalThis.__awaiter||function(e,t,i,s){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(A){try{x(s.next(A))}catch(S){g(S)}}function w(A){try{x(s.throw(A))}catch(S){g(S)}}function x(A){A.done?f(A.value):c(A.value).then(m,w)}x((s=s.apply(e,t||[])).next())})},el=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(A){return w([x,A])}}function w(x){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(s=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(A){x=[6,A],c=0}finally{s=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Lg=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var s={advanced:[i]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),I3=function(e){O1(t,e);function t(i,s){return e.call(this,i,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var s={};s[this.name]=i;var c={advanced:[s]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),s=i[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Lg),T3=function(e){O1(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}(I3),R3=function(e){O1(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(Lg),N3=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new T3(this.track)},e.prototype.torchFeature=function(){return new R3(this.track)},e}(),_3=function(){function e(t,i,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var s=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,c),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,s,c){return $a(this,void 0,void 0,function(){var f,g;return el(this,function(m){switch(m.label){case 0:return f=new e(t,i,c),s.aspectRatio?(g={aspectRatio:s.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,s=function(){setTimeout(t,200),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return $a(this,void 0,void 0,function(){return el(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,s){var c=t.mediaStream.getVideoTracks(),f=c.length,g=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new N3(this.getFirstTrackOrFail())},e}(),O3=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,s){return $a(this,void 0,void 0,function(){return el(this,function(c){return[2,_3.create(t,this.mediaStream,i,s)]})})},e.create=function(t){return $a(this,void 0,void 0,function(){var i,s;return el(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return s=c.sent(),[2,new e(s)]}})})},e}(),B0=globalThis&&globalThis.__awaiter||function(e,t,i,s){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(A){try{x(s.next(A))}catch(S){g(S)}}function w(A){try{x(s.throw(A))}catch(S){g(S)}}function x(A){A.done?f(A.value):c(A.value).then(m,w)}x((s=s.apply(e,t||[])).next())})},L0=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(A){return w([x,A])}}function w(x){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(s=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(A){x=[6,A],c=0}finally{s=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},b3=function(){function e(){}return e.failIfNotSupported=function(){return B0(this,void 0,void 0,function(){return L0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return B0(this,void 0,void 0,function(){return L0(this,function(i){return[2,O3.create(t)]})})},e}(),D3=globalThis&&globalThis.__awaiter||function(e,t,i,s){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(A){try{x(s.next(A))}catch(S){g(S)}}function w(A){try{x(s.throw(A))}catch(S){g(S)}}function x(A){A.done?f(A.value):c(A.value).then(m,w)}x((s=s.apply(e,t||[])).next())})},M3=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(A){return w([x,A])}}function w(x){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(s=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(A){x=[6,A],c=0}finally{s=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},P3=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=oo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=oo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return D3(this,void 0,void 0,function(){var t,i,s,c,f,g,m;return M3(this,function(w){switch(w.label){case 0:return t=function(x){for(var A=x.getVideoTracks(),S=0,b=A;S<b.length;S++){var U=b[S];U.enabled=!1,U.stop(),x.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=w.sent(),c=[],f=0,g=s;f<g.length;f++)m=g[f],m.kind==="videoinput"&&c.push({id:m.deviceId,label:m.label});return t(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var s=function(f){for(var g=[],m=0,w=f;m<w.length;m++){var x=w[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},c=MediaStreamTrack;c.getSources(s)})},e}(),Rt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rt||(Rt={}));var k3=function(){function e(){this.state=Rt.NOT_STARTED,this.onGoingTransactionNewState=Rt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Rt.UNKNOWN:throw"Transition from unknown is not allowed";case Rt.NOT_STARTED:this.failIfNewStateIs(t,[Rt.PAUSED]);break;case Rt.SCANNING:break;case Rt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var s=0,c=i;s<c.length;s++){var f=c[s];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),B3=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rt.PAUSED},e}(),L3=function(){function e(){}return e.create=function(){return new B3(new k3)},e}(),F3=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function s(){this.constructor=t}t.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),Nn=function(e){F3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(m3),U3=function(){function e(t,i){this.logger=i,this.fps=Nn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Nn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Bg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Er(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),Fg=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof i=="boolean"?this.verbose=i===!0:i&&(s=i,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new y3(this.verbose),this.qrcode=new S3(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=L3.create()}return e.prototype.start=function(t,i,s,c){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var m=U3.create(i,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:Nn.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var S=this,b=this.stateManagerProxy.startTransition(Rt.SCANNING);return new Promise(function(U,M){var k=x?m.videoConstraints:S.createVideoConstraints(t);if(!k){b.cancel(),M("videoConstraints should be defined");return}var J={};(!x||m.aspectRatio)&&(J.aspectRatio=m.aspectRatio);var O={onRenderSurfaceReady:function(N,_){S.setupUi(N,_,m),S.isScanning=!0,S.foreverScan(m,s,g)}};b3.failIfNotSupported().then(function(N){N.create(k).then(function(_){return _.render(f.element,J,O).then(function(R){S.renderedCamera=R,b.execute(),U(null)}).catch(function(R){b.cancel(),M(R)})}).catch(function(_){b.cancel(),M(oo.errorGettingUserMedia(_))})}).catch(function(N){b.cancel(),M(oo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rt.PAUSED),this.showPausedState(),(Er(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(Rt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Rt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var f=document.getElementById(Nn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),s(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,i){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Er(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var m=g.width,w=g.height,x=document.getElementById(s.elementId),A=x.clientWidth?x.clientWidth:Nn.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:w,Nn.FILE_SCAN_MIN_HEIGHT),b=s.computeCanvasDrawConfig(m,w,A,S);if(i){var U=s.createCanvasElement(A,S,"qr-canvas-visible");U.style.display="inline-block",x.appendChild(U);var M=U.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=A,M.canvas.height=S,M.drawImage(g,0,0,m,w,b.x,b.y,b.width,b.height)}var k=Nn.FILE_SCAN_HIDDEN_CANVAS_PADDING,J=Math.max(g.width,b.width),O=Math.max(g.height,b.height),N=J+2*k,_=O+2*k,R=s.createCanvasElement(N,_);x.appendChild(R);var q=R.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=N,q.canvas.height=_,q.drawImage(g,0,0,m,w,k,k,J,O);try{s.qrcode.decodeRobustlyAsync(R).then(function(X){c(b0.createFromQrcodeResult(X))}).catch(f)}catch(X){f("QR code parse error, error = ".concat(X))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return P3.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Bg.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[ce.QR_CODE,ce.AZTEC,ce.CODABAR,ce.CODE_39,ce.CODE_93,ce.CODE_128,ce.DATA_MATRIX,ce.MAXICODE,ce.ITF,ce.EAN_13,ce.EAN_8,ce.PDF_417,ce.RSS_14,ce.RSS_EXPANDED,ce.UPC_A,ce.UPC_E,ce.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],c=0,f=t.formatsToSupport;c<f.length;c++){var g=f[c];x3(g)?s.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Er(t))return!0;if(!Er(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Er(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return Er(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,s){var c=this,f=s.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,i,f),m=function(x){if(x<Nn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Nn.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(g.width),m(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return s},e.prototype.setupUi=function(t,i,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,s);var c=Er(s.qrbox)?{width:t,height:i}:s.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=s.isShadedBoxEnabled()&&f.height<=i,m={x:0,y:0,width:t,height:i},w=g?this.getShadedRegionBounds(t,i,f):m,x=this.createCanvasElement(w.width,w.height),A={willReadFrequently:!0},S=x.getContext("2d",A);S.canvas.width=w.width,S.canvas.height=w.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=oo.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,b0.createFromQrcodeResult(c)),s.possiblyUpdateShaders(!0),!0}).catch(function(c){s.possiblyUpdateShaders(!1);var f=oo.codeParseError(c);return i(f,w3.createFrom(f)),!1})},e.prototype.foreverScan=function(t,i,s){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,x=this.qrRegion.height*m,A=this.qrRegion.x*g,S=this.qrRegion.y*m;this.context.drawImage(f,A,S,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,i,s)},c.getTimeoutFps(t.fps))};this.scanContext(i,s).then(function(U){!U&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,s).finally(function(){b()})):b()}).catch(function(U){c.logger.logError("Error happend while scanning context",U),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",s="deviceId",c={user:!0,environment:!0},f="exact",g=function(M){if(M in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(t)[0];if(w!==i&&w!==s)throw"Only '".concat(i,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(w===i){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var A=typeof x;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(f in S)return{deviceId:{exact:S["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var b=typeof S;throw"Invalid type of 'deviceId' = ".concat(b)}}}var U=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},e.prototype.computeCanvasDrawConfig=function(t,i,s,c){if(t<=s&&i<=c){var f=(s-t)/2,g=(c-i)/2;return{x:f,y:g,width:t,height:i}}else{var m=t,w=i;return t>s&&(i=s/t*i,t=s),i>c&&(t=c/i*t,i=c),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,s,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?Nn.BORDER_SHADER_MATCH_COLOR:Nn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,s){var c=t,f=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=Er(s)?"qr-canvas":s,g},e.prototype.getShadedRegionBounds=function(t,i,s){if(s.width>t||s.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(i-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,i,s,c){if(!(i-c.width<1||s-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-c.width)/2,m=(s-c.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(Nn.SHADED_REGION_ELEMENT_ID),i-c.width<11||s-c.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(f,x,w,-w,null,0,!0),this.insertShaderBorders(f,x,w,-w,null,0,!1),this.insertShaderBorders(f,x,w,null,-w,0,!0),this.insertShaderBorders(f,x,w,null,-w,0,!1),this.insertShaderBorders(f,w,x+w,-w,null,-w,!0),this.insertShaderBorders(f,w,x+w,null,-w,-w,!0),this.insertShaderBorders(f,w,x+w,-w,null,-w,!1),this.insertShaderBorders(f,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,i,s,c,f,g,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Nn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(i,"px"),w.style.height="".concat(s,"px"),c!==null&&(w.style.top="".concat(c,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),m?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var F0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(F0||(F0={}));function z3(){const[e,t]=te.useState(!1),[i,s]=te.useState(!1),c=new Fg("reader");return te.useEffect(()=>{function f(w,x){w.toUpperCase()==="HALLO MARKO"&&(c.stop(),s(!0)),console.log(`Code matched = ${w}`,x)}const g=(w,x)=>{f(w,x)},m={fps:5,qrbox:{width:200,height:200}};c.start({facingMode:"environment"},m,g).catch(w=>{t(!0),console.warn(`Code scan error = ${w}`)})}),ee.jsxs("div",{children:[ee.jsx("h2",{children:"Willkommen im PLS-System"}),ee.jsx("h5",{children:"Bitte den QR-Code für die Anmeldung scannen"}),ee.jsx("div",{id:"reader"}),e?ee.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera über die Einstellungen."}):"",i&&ee.jsx(Ao,{to:"/RoleSelection"})]})}function V3(){return ee.jsx("div",{children:"404 - Page Not Foundd"})}const Ug=te.createContext({user:null,token:null,setUser:()=>{},setToken:()=>{}}),H3=({children:e})=>{const[t,i]=te.useState({}),[s,c]=te.useState(localStorage.getItem("ACCESS_TOKEN")),f=g=>{c(g),g?localStorage.setItem("ACCESS_TOKEN",g):localStorage.removeItem("ACCESS_TOKEN")};return ee.jsx(Ug.Provider,{value:{user:t,token:s,setUser:i,setToken:f},children:e})},zg=()=>te.useContext(Ug);function j3(){const{user:e,token:t}=zg();return t?ee.jsx(Ao,{to:"/RoleSelection"}):ee.jsx(Ao,{to:"/qrAuthenticator"})}function W3(){const{user:e}=zg(),[t,i]=te.useState(""),[s,c]=te.useState("");te.useState("");const[f,g]=te.useState(""),m=A=>{i(A.target.value)},w=A=>{c(A.target.value)},x=A=>{A.preventDefault(),g(s)};return ee.jsxs("div",{children:[ee.jsx("h3",{children:"Willkommen bei der Rolenauswahl"}),ee.jsxs("h4",{children:["User ",e.name," im Einsatz für"]}),ee.jsxs("select",{value:t,onChange:m,style:{textAlign:"center"},children:[ee.jsx("option",{value:"",children:"Einsatz auswählen"}),ee.jsx("option",{value:"test",children:"test"}),ee.jsx("option",{value:"option2",children:"Option 2"}),ee.jsx("option",{value:"option3",children:"Option 3"})]}),ee.jsx("p",{children:"in Funktion als"}),ee.jsxs("select",{value:s,onChange:w,style:{textAlign:"center"},children:[ee.jsx("option",{value:"",children:"Rolle auswählen"}),ee.jsx("option",{value:"Einsatzleiter",children:"Einsatzleiter"}),ee.jsx("option",{value:"Triage",children:"Triage"}),ee.jsx("option",{value:"San-Hist",children:"San-Hist"}),ee.jsx("option",{value:"Transport",children:"Transport"}),ee.jsx("option",{value:"Betreuung",children:"Betreuung"}),ee.jsx("option",{value:"Leitstelle",children:"Leitstelle"})]}),ee.jsx("form",{onSubmit:x,style:{position:"absolute",bottom:"50px",left:"0",width:"100%",textAlign:"center",padding:"0"},children:ee.jsx("button",{type:"submit",children:"Bestätigen"})}),f.toUpperCase()=="TRIAGE"?ee.jsx(Ao,{to:"/ScanPatient"}):f.toUpperCase()==""?"":ee.jsx(Ao,{to:"/NotFound"})]})}function G3(){const[e,t]=te.useState(!1),[i,s]=te.useState(!1),c=new Fg("reader");return te.useEffect(()=>{function f(w,x){w.toUpperCase()==="HALLO MARKO"&&(c.stop(),s(!0)),console.log(`Code matched = ${w}`,x)}const g=(w,x)=>{f(w,x)},m={fps:5,qrbox:{width:200,height:200}};c.start({facingMode:"environment"},m,g).catch(w=>{t(!0),console.warn(`Code scan error = ${w}`)})}),ee.jsxs("div",{children:[ee.jsx("h2",{children:"Bitte einen Patienten QR-Code scannen"}),ee.jsx("div",{id:"reader"}),e?ee.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera über die Einstellungen."}):"",i&&ee.jsx(Ao,{to:"/TriagePage1"})]})}function X3(){const e=Tl(),[t,i]=te.useState(!1),[s,c]=te.useState(!1),f=()=>{i(!0)},g=()=>{c(!0)},m=()=>{e("/TriagePage2")},w=()=>{e("/ScanPatient")},x=()=>{e("/ShowBody")};function A(){if(!s&&!t)return ee.jsxs("div",{children:[ee.jsx("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),ee.jsxs("div",{children:[ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[ee.jsx("button",{onClick:f,children:"Patient gehfähig (ohne weitere Verletzungen)"}),ee.jsx("button",{onClick:m,children:"Patient nicht gehfähig (und/oder weitere Verletzungen)"})]}),ee.jsx("button",{onClick:g,style:{width:"90%",height:"5rem"},children:"eindeutiges Todeszeichen"})]}),ee.jsx("div",{style:{justifyContent:"space-between",gap:"10px",marginTop:"50px"}})]});if(t)return ee.jsxs("div",{children:[ee.jsx("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),ee.jsx("p",{style:{border:"2px solid green",padding:"2%",display:"inline-block",color:"green"},children:"Patient wurde mit der Kategorie GRÜN versehen"}),ee.jsx("button",{onClick:w,children:"Nächsten Patienten laden"})]});if(s)return ee.jsxs("div",{children:[ee.jsx("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),ee.jsx("p",{style:{border:"2px solid #000",margin:"5%",padding:"2%",display:"inline-block"},children:"Patient wurde mit der Kategorie SCHWARZ versehen"}),ee.jsx("button",{onClick:w,children:"Nächsten Patienten laden"})]})}return ee.jsxs("div",{children:[A(),ee.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:x,children:"👤"})]})}function Y3(){const e=Tl(),[t,i]=te.useState(!1),s=()=>{i(!0)},c=()=>{e("/TriagePage3")},f=()=>{e("/ScanPatient")};function g(){if(t){if(t)return ee.jsxs("div",{children:[ee.jsx("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),ee.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),ee.jsx("button",{onClick:f,children:"Nächsten Patienten laden"})]})}else return ee.jsxs("div",{children:[ee.jsxs("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",ee.jsx("br",{})," nicht gehfähig"]}),ee.jsx("div",{children:ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[ee.jsx("button",{onClick:c,children:"Atmung suffizient"}),ee.jsx("button",{onClick:s,children:"Atmung nicht suffizient"})]})})]})}const m=()=>{e("/ShowBody")};return ee.jsxs("div",{children:[g(),ee.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:m,children:"👤"})]})}function Z3(){const e=Tl(),[t,i]=te.useState(!1),[s,c]=te.useState(!1),f=()=>{i(!0)},g=()=>{c(!0)},m=()=>{e("/ScanPatient")};function w(){if(!t&&!s)return ee.jsxs("div",{children:[ee.jsxs("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",ee.jsx("br",{})," nicht gehfähig ",ee.jsx("br",{})," Atmung suffizient"]}),ee.jsx("div",{children:ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[ee.jsx("button",{onClick:g,children:"Blutung Stillbar"}),ee.jsx("button",{onClick:f,children:"Blutung nicht stillbar"})]})})]});if(t)return ee.jsxs("div",{children:[ee.jsx("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),ee.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),ee.jsx("button",{onClick:m,children:"Nächsten Patienten laden"})]});if(s)return ee.jsxs("div",{children:[ee.jsx("p",{style:{position:"absolute",top:"0",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),ee.jsx("p",{style:{border:"2px solid yellow",margin:"5%",padding:"2%",display:"inline-block",color:"yellow"},children:"Patient wurde mit der Kategorie Gelb versehen"}),ee.jsx("button",{onClick:m,children:"Nächsten Patienten laden"})]})}const x=()=>{e("/ShowBody")};return ee.jsxs("div",{children:[w(),ee.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:x,children:"👤"})]})}const K3=a3([{path:"/",element:ee.jsx(j3,{})},{path:"/qrAuthenticator",element:ee.jsx(z3,{})},{path:"/TriagePage1",element:ee.jsx(X3,{})},{path:"/TriagePage2",element:ee.jsx(Y3,{})},{path:"/TriagePage3",element:ee.jsx(Z3,{})},{path:"/RoleSelection",element:ee.jsx(W3,{})},{path:"/ScanPatient",element:ee.jsx(G3,{})},{path:"*",element:ee.jsx(V3,{})}]);Ru.createRoot(document.getElementById("root")).render(ee.jsx(xd.StrictMode,{children:ee.jsx(H3,{children:ee.jsx(g3,{router:K3})})}));
