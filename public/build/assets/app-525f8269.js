function f0(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const h in a)if(h!=="default"&&!(h in e)){const d=Object.getOwnPropertyDescriptor(a,h);d&&Object.defineProperty(e,h,d.get?d:{enumerable:!0,get:()=>a[h]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function d0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pm}=Object.prototype,{getPrototypeOf:Xh}=Object,Ru=(e=>t=>{const r=Pm.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ci=e=>(e=e.toLowerCase(),t=>Ru(t)===e),Nu=e=>t=>typeof t===e,{isArray:Fs}=Array,ka=Nu("undefined");function Lm(e){return e!==null&&!ka(e)&&e.constructor!==null&&!ka(e.constructor)&&Fr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const p0=Ci("ArrayBuffer");function Mm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&p0(e.buffer),t}const Dm=Nu("string"),Fr=Nu("function"),g0=Nu("number"),Ou=e=>e!==null&&typeof e=="object",Bm=e=>e===!0||e===!1,Dl=e=>{if(Ru(e)!=="object")return!1;const t=Xh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fm=Ci("Date"),zm=Ci("File"),Um=Ci("Blob"),jm=Ci("FileList"),Wm=e=>Ou(e)&&Fr(e.pipe),Hm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fr(e.append)&&((t=Ru(e))==="formdata"||t==="object"&&Fr(e.toString)&&e.toString()==="[object FormData]"))},Vm=Ci("URLSearchParams"),Zm=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ja(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,h;if(typeof e!="object"&&(e=[e]),Fs(e))for(a=0,h=e.length;a<h;a++)t.call(null,e[a],a,e);else{const d=r?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let v;for(a=0;a<m;a++)v=d[a],t.call(null,e[v],v,e)}}function m0(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,h;for(;a-- >0;)if(h=r[a],t===h.toLowerCase())return h;return null}const x0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_0=e=>!ka(e)&&e!==x0;function jc(){const{caseless:e}=_0(this)&&this||{},t={},r=(a,h)=>{const d=e&&m0(t,h)||h;Dl(t[d])&&Dl(a)?t[d]=jc(t[d],a):Dl(a)?t[d]=jc({},a):Fs(a)?t[d]=a.slice():t[d]=a};for(let a=0,h=arguments.length;a<h;a++)arguments[a]&&Ja(arguments[a],r);return t}const Gm=(e,t,r,{allOwnKeys:a}={})=>(Ja(t,(h,d)=>{r&&Fr(h)?e[d]=d0(h,r):e[d]=h},{allOwnKeys:a}),e),Xm=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ym=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Km=(e,t,r,a)=>{let h,d,m;const v={};if(t=t||{},e==null)return t;do{for(h=Object.getOwnPropertyNames(e),d=h.length;d-- >0;)m=h[d],(!a||a(m,e,t))&&!v[m]&&(t[m]=e[m],v[m]=!0);e=r!==!1&&Xh(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},qm=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Qm=e=>{if(!e)return null;if(Fs(e))return e;let t=e.length;if(!g0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Jm=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Xh(Uint8Array)),$m=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let h;for(;(h=a.next())&&!h.done;){const d=h.value;t.call(e,d[0],d[1])}},e2=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},t2=Ci("HTMLFormElement"),n2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,h){return a.toUpperCase()+h}),yd=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),r2=Ci("RegExp"),y0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Ja(r,(h,d)=>{let m;(m=t(h,d,e))!==!1&&(a[d]=m||h)}),Object.defineProperties(e,a)},i2=e=>{y0(e,(t,r)=>{if(Fr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Fr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},o2=(e,t)=>{const r={},a=h=>{h.forEach(d=>{r[d]=!0})};return Fs(e)?a(e):a(String(e).split(t)),r},s2=()=>{},a2=(e,t)=>(e=+e,Number.isFinite(e)?e:t),lc="abcdefghijklmnopqrstuvwxyz",wd="0123456789",w0={DIGIT:wd,ALPHA:lc,ALPHA_DIGIT:lc+lc.toUpperCase()+wd},l2=(e=16,t=w0.ALPHA_DIGIT)=>{let r="";const{length:a}=t;for(;e--;)r+=t[Math.random()*a|0];return r};function u2(e){return!!(e&&Fr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const c2=e=>{const t=new Array(10),r=(a,h)=>{if(Ou(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[h]=a;const d=Fs(a)?[]:{};return Ja(a,(m,v)=>{const E=r(m,h+1);!ka(E)&&(d[v]=E)}),t[h]=void 0,d}}return a};return r(e,0)},h2=Ci("AsyncFunction"),f2=e=>e&&(Ou(e)||Fr(e))&&Fr(e.then)&&Fr(e.catch),ae={isArray:Fs,isArrayBuffer:p0,isBuffer:Lm,isFormData:Hm,isArrayBufferView:Mm,isString:Dm,isNumber:g0,isBoolean:Bm,isObject:Ou,isPlainObject:Dl,isUndefined:ka,isDate:Fm,isFile:zm,isBlob:Um,isRegExp:r2,isFunction:Fr,isStream:Wm,isURLSearchParams:Vm,isTypedArray:Jm,isFileList:jm,forEach:Ja,merge:jc,extend:Gm,trim:Zm,stripBOM:Xm,inherits:Ym,toFlatObject:Km,kindOf:Ru,kindOfTest:Ci,endsWith:qm,toArray:Qm,forEachEntry:$m,matchAll:e2,isHTMLForm:t2,hasOwnProperty:yd,hasOwnProp:yd,reduceDescriptors:y0,freezeMethods:i2,toObjectSet:o2,toCamelCase:n2,noop:s2,toFiniteNumber:a2,findKey:m0,global:x0,isContextDefined:_0,ALPHABET:w0,generateString:l2,isSpecCompliantForm:u2,toJSONObject:c2,isAsyncFn:h2,isThenable:f2};function yt(e,t,r,a,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),h&&(this.response=h)}ae.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const v0=yt.prototype,E0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{E0[e]={value:e}});Object.defineProperties(yt,E0);Object.defineProperty(v0,"isAxiosError",{value:!0});yt.from=(e,t,r,a,h,d)=>{const m=Object.create(v0);return ae.toFlatObject(e,m,function(E){return E!==Error.prototype},v=>v!=="isAxiosError"),yt.call(m,e.message,t,r,a,h),m.cause=e,m.name=e.name,d&&Object.assign(m,d),m};const d2=null;function Wc(e){return ae.isPlainObject(e)||ae.isArray(e)}function C0(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function vd(e,t,r){return e?e.concat(t).map(function(h,d){return h=C0(h),!r&&d?"["+h+"]":h}).join(r?".":""):t}function p2(e){return ae.isArray(e)&&!e.some(Wc)}const g2=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function ku(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,se){return!ae.isUndefined(se[U])});const a=r.metaTokens,h=r.visitor||I,d=r.dots,m=r.indexes,E=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(h))throw new TypeError("visitor must be a function");function w(j){if(j===null)return"";if(ae.isDate(j))return j.toISOString();if(!E&&ae.isBlob(j))throw new yt("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(j)||ae.isTypedArray(j)?E&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function I(j,U,se){let z=j;if(j&&!se&&typeof j=="object"){if(ae.endsWith(U,"{}"))U=a?U:U.slice(0,-2),j=JSON.stringify(j);else if(ae.isArray(j)&&p2(j)||(ae.isFileList(j)||ae.endsWith(U,"[]"))&&(z=ae.toArray(j)))return U=C0(U),z.forEach(function(B,D){!(ae.isUndefined(B)||B===null)&&t.append(m===!0?vd([U],D,d):m===null?U:U+"[]",w(B))}),!1}return Wc(j)?!0:(t.append(vd(se,U,d),w(j)),!1)}const N=[],F=Object.assign(g2,{defaultVisitor:I,convertValue:w,isVisitable:Wc});function W(j,U){if(!ae.isUndefined(j)){if(N.indexOf(j)!==-1)throw Error("Circular reference detected in "+U.join("."));N.push(j),ae.forEach(j,function(z,M){(!(ae.isUndefined(z)||z===null)&&h.call(t,z,ae.isString(M)?M.trim():M,U,F))===!0&&W(z,U?U.concat(M):[M])}),N.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return W(e),t}function Ed(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Yh(e,t){this._pairs=[],e&&ku(e,this,t)}const A0=Yh.prototype;A0.append=function(t,r){this._pairs.push([t,r])};A0.toString=function(t){const r=t?function(a){return t.call(this,a,Ed)}:Ed;return this._pairs.map(function(h){return r(h[0])+"="+r(h[1])},"").join("&")};function m2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function S0(e,t,r){if(!t)return e;const a=r&&r.encode||m2,h=r&&r.serialize;let d;if(h?d=h(t,r):d=ae.isURLSearchParams(t)?t.toString():new Yh(t,r).toString(a),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class x2{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Cd=x2,T0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_2=typeof URLSearchParams<"u"?URLSearchParams:Yh,y2=typeof FormData<"u"?FormData:null,w2=typeof Blob<"u"?Blob:null,v2=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),E2=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wi={isBrowser:!0,classes:{URLSearchParams:_2,FormData:y2,Blob:w2},isStandardBrowserEnv:v2,isStandardBrowserWebWorkerEnv:E2,protocols:["http","https","file","blob","url","data"]};function C2(e,t){return ku(e,new wi.classes.URLSearchParams,Object.assign({visitor:function(r,a,h,d){return wi.isNode&&ae.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function A2(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function S2(e){const t={},r=Object.keys(e);let a;const h=r.length;let d;for(a=0;a<h;a++)d=r[a],t[d]=e[d];return t}function I0(e){function t(r,a,h,d){let m=r[d++];const v=Number.isFinite(+m),E=d>=r.length;return m=!m&&ae.isArray(h)?h.length:m,E?(ae.hasOwnProp(h,m)?h[m]=[h[m],a]:h[m]=a,!v):((!h[m]||!ae.isObject(h[m]))&&(h[m]=[]),t(r,a,h[m],d)&&ae.isArray(h[m])&&(h[m]=S2(h[m])),!v)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(a,h)=>{t(A2(a),h,r,0)}),r}return null}function T2(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Kh={transitional:T0,adapter:["xhr","http"],transformRequest:[function(t,r){const a=r.getContentType()||"",h=a.indexOf("application/json")>-1,d=ae.isObject(t);if(d&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return h&&h?JSON.stringify(I0(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let v;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return C2(t,this.formSerializer).toString();if((v=ae.isFileList(t))||a.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return ku(v?{"files[]":t}:t,E&&new E,this.formSerializer)}}return d||h?(r.setContentType("application/json",!1),T2(t)):t}],transformResponse:[function(t){const r=this.transitional||Kh.transitional,a=r&&r.forcedJSONParsing,h=this.responseType==="json";if(t&&ae.isString(t)&&(a&&!this.responseType||h)){const m=!(r&&r.silentJSONParsing)&&h;try{return JSON.parse(t)}catch(v){if(m)throw v.name==="SyntaxError"?yt.from(v,yt.ERR_BAD_RESPONSE,this,null,this.response):v}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wi.classes.FormData,Blob:wi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Kh.headers[e]={}});const qh=Kh,I2=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b2=e=>{const t={};let r,a,h;return e&&e.split(`
`).forEach(function(m){h=m.indexOf(":"),r=m.substring(0,h).trim().toLowerCase(),a=m.substring(h+1).trim(),!(!r||t[r]&&I2[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},Ad=Symbol("internals");function oa(e){return e&&String(e).trim().toLowerCase()}function Bl(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Bl):String(e)}function R2(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const N2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uc(e,t,r,a,h){if(ae.isFunction(a))return a.call(this,t,r);if(h&&(t=r),!!ae.isString(t)){if(ae.isString(a))return t.indexOf(a)!==-1;if(ae.isRegExp(a))return a.test(t)}}function O2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function k2(e,t){const r=ae.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(h,d,m){return this[a].call(this,t,h,d,m)},configurable:!0})})}class Pu{constructor(t){t&&this.set(t)}set(t,r,a){const h=this;function d(v,E,w){const I=oa(E);if(!I)throw new Error("header name must be a non-empty string");const N=ae.findKey(h,I);(!N||h[N]===void 0||w===!0||w===void 0&&h[N]!==!1)&&(h[N||E]=Bl(v))}const m=(v,E)=>ae.forEach(v,(w,I)=>d(w,I,E));return ae.isPlainObject(t)||t instanceof this.constructor?m(t,r):ae.isString(t)&&(t=t.trim())&&!N2(t)?m(b2(t),r):t!=null&&d(r,t,a),this}get(t,r){if(t=oa(t),t){const a=ae.findKey(this,t);if(a){const h=this[a];if(!r)return h;if(r===!0)return R2(h);if(ae.isFunction(r))return r.call(this,h,a);if(ae.isRegExp(r))return r.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=oa(t),t){const a=ae.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||uc(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let h=!1;function d(m){if(m=oa(m),m){const v=ae.findKey(a,m);v&&(!r||uc(a,a[v],v,r))&&(delete a[v],h=!0)}}return ae.isArray(t)?t.forEach(d):d(t),h}clear(t){const r=Object.keys(this);let a=r.length,h=!1;for(;a--;){const d=r[a];(!t||uc(this,this[d],d,t,!0))&&(delete this[d],h=!0)}return h}normalize(t){const r=this,a={};return ae.forEach(this,(h,d)=>{const m=ae.findKey(a,d);if(m){r[m]=Bl(h),delete r[d];return}const v=t?O2(d):String(d).trim();v!==d&&delete r[d],r[v]=Bl(h),a[v]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ae.forEach(this,(a,h)=>{a!=null&&a!==!1&&(r[h]=t&&ae.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(h=>a.set(h)),a}static accessor(t){const a=(this[Ad]=this[Ad]={accessors:{}}).accessors,h=this.prototype;function d(m){const v=oa(m);a[v]||(k2(h,m),a[v]=!0)}return ae.isArray(t)?t.forEach(d):d(t),this}}Pu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Pu.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ae.freezeMethods(Pu);const Bi=Pu;function cc(e,t){const r=this||qh,a=t||r,h=Bi.from(a.headers);let d=a.data;return ae.forEach(e,function(v){d=v.call(r,d,h.normalize(),t?t.status:void 0)}),h.normalize(),d}function b0(e){return!!(e&&e.__CANCEL__)}function $a(e,t,r){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,r),this.name="CanceledError"}ae.inherits($a,yt,{__CANCEL__:!0});function P2(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new yt("Request failed with status code "+r.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const L2=wi.isStandardBrowserEnv?function(){return{write:function(r,a,h,d,m,v){const E=[];E.push(r+"="+encodeURIComponent(a)),ae.isNumber(h)&&E.push("expires="+new Date(h).toGMTString()),ae.isString(d)&&E.push("path="+d),ae.isString(m)&&E.push("domain="+m),v===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(r){const a=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function M2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function D2(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function R0(e,t){return e&&!M2(t)?D2(e,t):t}const B2=wi.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function h(d){let m=d;return t&&(r.setAttribute("href",m),m=r.href),r.setAttribute("href",m),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=h(window.location.href),function(m){const v=ae.isString(m)?h(m):m;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}();function F2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function z2(e,t){e=e||10;const r=new Array(e),a=new Array(e);let h=0,d=0,m;return t=t!==void 0?t:1e3,function(E){const w=Date.now(),I=a[d];m||(m=w),r[h]=E,a[h]=w;let N=d,F=0;for(;N!==h;)F+=r[N++],N=N%e;if(h=(h+1)%e,h===d&&(d=(d+1)%e),w-m<t)return;const W=I&&w-I;return W?Math.round(F*1e3/W):void 0}}function Sd(e,t){let r=0;const a=z2(50,250);return h=>{const d=h.loaded,m=h.lengthComputable?h.total:void 0,v=d-r,E=a(v),w=d<=m;r=d;const I={loaded:d,total:m,progress:m?d/m:void 0,bytes:v,rate:E||void 0,estimated:E&&m&&w?(m-d)/E:void 0,event:h};I[t?"download":"upload"]=!0,e(I)}}const U2=typeof XMLHttpRequest<"u",j2=U2&&function(e){return new Promise(function(r,a){let h=e.data;const d=Bi.from(e.headers).normalize(),m=e.responseType;let v;function E(){e.cancelToken&&e.cancelToken.unsubscribe(v),e.signal&&e.signal.removeEventListener("abort",v)}let w;ae.isFormData(h)&&(wi.isStandardBrowserEnv||wi.isStandardBrowserWebWorkerEnv?d.setContentType(!1):d.getContentType(/^\s*multipart\/form-data/)?ae.isString(w=d.getContentType())&&d.setContentType(w.replace(/^\s*(multipart\/form-data);+/,"$1")):d.setContentType("multipart/form-data"));let I=new XMLHttpRequest;if(e.auth){const j=e.auth.username||"",U=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(j+":"+U))}const N=R0(e.baseURL,e.url);I.open(e.method.toUpperCase(),S0(N,e.params,e.paramsSerializer),!0),I.timeout=e.timeout;function F(){if(!I)return;const j=Bi.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),se={data:!m||m==="text"||m==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:j,config:e,request:I};P2(function(M){r(M),E()},function(M){a(M),E()},se),I=null}if("onloadend"in I?I.onloadend=F:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(F)},I.onabort=function(){I&&(a(new yt("Request aborted",yt.ECONNABORTED,e,I)),I=null)},I.onerror=function(){a(new yt("Network Error",yt.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let U=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const se=e.transitional||T0;e.timeoutErrorMessage&&(U=e.timeoutErrorMessage),a(new yt(U,se.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,I)),I=null},wi.isStandardBrowserEnv){const j=B2(N)&&e.xsrfCookieName&&L2.read(e.xsrfCookieName);j&&d.set(e.xsrfHeaderName,j)}h===void 0&&d.setContentType(null),"setRequestHeader"in I&&ae.forEach(d.toJSON(),function(U,se){I.setRequestHeader(se,U)}),ae.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),m&&m!=="json"&&(I.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&I.addEventListener("progress",Sd(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",Sd(e.onUploadProgress)),(e.cancelToken||e.signal)&&(v=j=>{I&&(a(!j||j.type?new $a(null,e,I):j),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(v),e.signal&&(e.signal.aborted?v():e.signal.addEventListener("abort",v)));const W=F2(N);if(W&&wi.protocols.indexOf(W)===-1){a(new yt("Unsupported protocol "+W+":",yt.ERR_BAD_REQUEST,e));return}I.send(h||null)})},Hc={http:d2,xhr:j2};ae.forEach(Hc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Td=e=>`- ${e}`,W2=e=>ae.isFunction(e)||e===null||e===!1,N0={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let r,a;const h={};for(let d=0;d<t;d++){r=e[d];let m;if(a=r,!W2(r)&&(a=Hc[(m=String(r)).toLowerCase()],a===void 0))throw new yt(`Unknown adapter '${m}'`);if(a)break;h[m||"#"+d]=a}if(!a){const d=Object.entries(h).map(([v,E])=>`adapter ${v} `+(E===!1?"is not supported by the environment":"is not available in the build"));let m=t?d.length>1?`since :
`+d.map(Td).join(`
`):" "+Td(d[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return a},adapters:Hc};function hc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $a(null,e)}function Id(e){return hc(e),e.headers=Bi.from(e.headers),e.data=cc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),N0.getAdapter(e.adapter||qh.adapter)(e).then(function(a){return hc(e),a.data=cc.call(e,e.transformResponse,a),a.headers=Bi.from(a.headers),a},function(a){return b0(a)||(hc(e),a&&a.response&&(a.response.data=cc.call(e,e.transformResponse,a.response),a.response.headers=Bi.from(a.response.headers))),Promise.reject(a)})}const bd=e=>e instanceof Bi?e.toJSON():e;function Ns(e,t){t=t||{};const r={};function a(w,I,N){return ae.isPlainObject(w)&&ae.isPlainObject(I)?ae.merge.call({caseless:N},w,I):ae.isPlainObject(I)?ae.merge({},I):ae.isArray(I)?I.slice():I}function h(w,I,N){if(ae.isUndefined(I)){if(!ae.isUndefined(w))return a(void 0,w,N)}else return a(w,I,N)}function d(w,I){if(!ae.isUndefined(I))return a(void 0,I)}function m(w,I){if(ae.isUndefined(I)){if(!ae.isUndefined(w))return a(void 0,w)}else return a(void 0,I)}function v(w,I,N){if(N in t)return a(w,I);if(N in e)return a(void 0,w)}const E={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:v,headers:(w,I)=>h(bd(w),bd(I),!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),function(I){const N=E[I]||h,F=N(e[I],t[I],I);ae.isUndefined(F)&&N!==v||(r[I]=F)}),r}const O0="1.6.0",Qh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qh[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Rd={};Qh.transitional=function(t,r,a){function h(d,m){return"[Axios v"+O0+"] Transitional option '"+d+"'"+m+(a?". "+a:"")}return(d,m,v)=>{if(t===!1)throw new yt(h(m," has been removed"+(r?" in "+r:"")),yt.ERR_DEPRECATED);return r&&!Rd[m]&&(Rd[m]=!0,console.warn(h(m," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,m,v):!0}};function H2(e,t,r){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let h=a.length;for(;h-- >0;){const d=a[h],m=t[d];if(m){const v=e[d],E=v===void 0||m(v,d,e);if(E!==!0)throw new yt("option "+d+" must be "+E,yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new yt("Unknown option "+d,yt.ERR_BAD_OPTION)}}const Vc={assertOptions:H2,validators:Qh},no=Vc.validators;class Ql{constructor(t){this.defaults=t,this.interceptors={request:new Cd,response:new Cd}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ns(this.defaults,r);const{transitional:a,paramsSerializer:h,headers:d}=r;a!==void 0&&Vc.assertOptions(a,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),h!=null&&(ae.isFunction(h)?r.paramsSerializer={serialize:h}:Vc.assertOptions(h,{encode:no.function,serialize:no.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let m=d&&ae.merge(d.common,d[r.method]);d&&ae.forEach(["delete","get","head","post","put","patch","common"],j=>{delete d[j]}),r.headers=Bi.concat(m,d);const v=[];let E=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(r)===!1||(E=E&&U.synchronous,v.unshift(U.fulfilled,U.rejected))});const w=[];this.interceptors.response.forEach(function(U){w.push(U.fulfilled,U.rejected)});let I,N=0,F;if(!E){const j=[Id.bind(this),void 0];for(j.unshift.apply(j,v),j.push.apply(j,w),F=j.length,I=Promise.resolve(r);N<F;)I=I.then(j[N++],j[N++]);return I}F=v.length;let W=r;for(N=0;N<F;){const j=v[N++],U=v[N++];try{W=j(W)}catch(se){U.call(this,se);break}}try{I=Id.call(this,W)}catch(j){return Promise.reject(j)}for(N=0,F=w.length;N<F;)I=I.then(w[N++],w[N++]);return I}getUri(t){t=Ns(this.defaults,t);const r=R0(t.baseURL,t.url);return S0(r,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){Ql.prototype[t]=function(r,a){return this.request(Ns(a||{},{method:t,url:r,data:(a||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function r(a){return function(d,m,v){return this.request(Ns(v||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}Ql.prototype[t]=r(),Ql.prototype[t+"Form"]=r(!0)});const Fl=Ql;class Jh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(h=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](h);a._listeners=null}),this.promise.then=h=>{let d;const m=new Promise(v=>{a.subscribe(v),d=v}).then(h);return m.cancel=function(){a.unsubscribe(d)},m},t(function(d,m,v){a.reason||(a.reason=new $a(d,m,v),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Jh(function(h){t=h}),cancel:t}}}const V2=Jh;function Z2(e){return function(r){return e.apply(null,r)}}function G2(e){return ae.isObject(e)&&e.isAxiosError===!0}const Zc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zc).forEach(([e,t])=>{Zc[t]=e});const X2=Zc;function k0(e){const t=new Fl(e),r=d0(Fl.prototype.request,t);return ae.extend(r,Fl.prototype,t,{allOwnKeys:!0}),ae.extend(r,t,null,{allOwnKeys:!0}),r.create=function(h){return k0(Ns(e,h))},r}const wn=k0(qh);wn.Axios=Fl;wn.CanceledError=$a;wn.CancelToken=V2;wn.isCancel=b0;wn.VERSION=O0;wn.toFormData=ku;wn.AxiosError=yt;wn.Cancel=wn.CanceledError;wn.all=function(t){return Promise.all(t)};wn.spread=Z2;wn.isAxiosError=G2;wn.mergeConfig=Ns;wn.AxiosHeaders=Bi;wn.formToJSON=e=>I0(ae.isHTMLForm(e)?new FormData(e):e);wn.getAdapter=N0.getAdapter;wn.HttpStatusCode=X2;wn.default=wn;const P0=wn;window.axios=P0;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L0={exports:{}},Lu={},M0={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),Y2=Symbol.for("react.portal"),K2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),J2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),nx=Symbol.for("react.memo"),rx=Symbol.for("react.lazy"),Nd=Symbol.iterator;function ix(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var D0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,F0={};function zs(e,t,r){this.props=e,this.context=t,this.refs=F0,this.updater=r||D0}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z0(){}z0.prototype=zs.prototype;function ef(e,t,r){this.props=e,this.context=t,this.refs=F0,this.updater=r||D0}var tf=ef.prototype=new z0;tf.constructor=ef;B0(tf,zs.prototype);tf.isPureReactComponent=!0;var Od=Array.isArray,U0=Object.prototype.hasOwnProperty,nf={current:null},j0={key:!0,ref:!0,__self:!0,__source:!0};function W0(e,t,r){var a,h={},d=null,m=null;if(t!=null)for(a in t.ref!==void 0&&(m=t.ref),t.key!==void 0&&(d=""+t.key),t)U0.call(t,a)&&!j0.hasOwnProperty(a)&&(h[a]=t[a]);var v=arguments.length-2;if(v===1)h.children=r;else if(1<v){for(var E=Array(v),w=0;w<v;w++)E[w]=arguments[w+2];h.children=E}if(e&&e.defaultProps)for(a in v=e.defaultProps,v)h[a]===void 0&&(h[a]=v[a]);return{$$typeof:el,type:e,key:d,ref:m,props:h,_owner:nf.current}}function ox(e,t){return{$$typeof:el,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===el}function sx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kd=/\/+/g;function fc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sx(""+e.key):t.toString(36)}function zl(e,t,r,a,h){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var m=!1;if(e===null)m=!0;else switch(d){case"string":case"number":m=!0;break;case"object":switch(e.$$typeof){case el:case Y2:m=!0}}if(m)return m=e,h=h(m),e=a===""?"."+fc(m,0):a,Od(h)?(r="",e!=null&&(r=e.replace(kd,"$&/")+"/"),zl(h,t,r,"",function(w){return w})):h!=null&&(rf(h)&&(h=ox(h,r+(!h.key||m&&m.key===h.key?"":(""+h.key).replace(kd,"$&/")+"/")+e)),t.push(h)),1;if(m=0,a=a===""?".":a+":",Od(e))for(var v=0;v<e.length;v++){d=e[v];var E=a+fc(d,v);m+=zl(d,t,r,E,h)}else if(E=ix(e),typeof E=="function")for(e=E.call(e),v=0;!(d=e.next()).done;)d=d.value,E=a+fc(d,v++),m+=zl(d,t,r,E,h);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return m}function yl(e,t,r){if(e==null)return e;var a=[],h=0;return zl(e,a,"","",function(d){return t.call(r,d,h++)}),a}function ax(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rr={current:null},Ul={transition:null},lx={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:nf};gt.Children={map:yl,forEach:function(e,t,r){yl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yl(e,function(){t++}),t},toArray:function(e){return yl(e,function(t){return t})||[]},only:function(e){if(!rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=zs;gt.Fragment=K2;gt.Profiler=Q2;gt.PureComponent=ef;gt.StrictMode=q2;gt.Suspense=tx;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx;gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=B0({},e.props),h=e.key,d=e.ref,m=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,m=nf.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(E in t)U0.call(t,E)&&!j0.hasOwnProperty(E)&&(a[E]=t[E]===void 0&&v!==void 0?v[E]:t[E])}var E=arguments.length-2;if(E===1)a.children=r;else if(1<E){v=Array(E);for(var w=0;w<E;w++)v[w]=arguments[w+2];a.children=v}return{$$typeof:el,type:e.type,key:h,ref:d,props:a,_owner:m}};gt.createContext=function(e){return e={$$typeof:$2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J2,_context:e},e.Consumer=e};gt.createElement=W0;gt.createFactory=function(e){var t=W0.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:ex,render:e}};gt.isValidElement=rf;gt.lazy=function(e){return{$$typeof:rx,_payload:{_status:-1,_result:e},_init:ax}};gt.memo=function(e,t){return{$$typeof:nx,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=Ul.transition;Ul.transition={};try{e()}finally{Ul.transition=t}};gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gt.useCallback=function(e,t){return rr.current.useCallback(e,t)};gt.useContext=function(e){return rr.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return rr.current.useDeferredValue(e)};gt.useEffect=function(e,t){return rr.current.useEffect(e,t)};gt.useId=function(){return rr.current.useId()};gt.useImperativeHandle=function(e,t,r){return rr.current.useImperativeHandle(e,t,r)};gt.useInsertionEffect=function(e,t){return rr.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return rr.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return rr.current.useMemo(e,t)};gt.useReducer=function(e,t,r){return rr.current.useReducer(e,t,r)};gt.useRef=function(e){return rr.current.useRef(e)};gt.useState=function(e){return rr.current.useState(e)};gt.useSyncExternalStore=function(e,t,r){return rr.current.useSyncExternalStore(e,t,r)};gt.useTransition=function(){return rr.current.useTransition()};gt.version="18.2.0";M0.exports=gt;var ne=M0.exports;const Pa=$h(ne),ux=f0({__proto__:null,default:Pa},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=ne,hx=Symbol.for("react.element"),fx=Symbol.for("react.fragment"),dx=Object.prototype.hasOwnProperty,px=cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gx={key:!0,ref:!0,__self:!0,__source:!0};function H0(e,t,r){var a,h={},d=null,m=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(m=t.ref);for(a in t)dx.call(t,a)&&!gx.hasOwnProperty(a)&&(h[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)h[a]===void 0&&(h[a]=t[a]);return{$$typeof:hx,type:e,key:d,ref:m,props:h,_owner:px.current}}Lu.Fragment=fx;Lu.jsx=H0;Lu.jsxs=H0;L0.exports=Lu;var O=L0.exports,Gc={},V0={exports:{}},Sr={},Z0={exports:{}},G0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,ke){var pe=oe.length;oe.push(ke);e:for(;0<pe;){var Be=pe-1>>>1,Le=oe[Be];if(0<h(Le,ke))oe[Be]=ke,oe[pe]=Le,pe=Be;else break e}}function r(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var ke=oe[0],pe=oe.pop();if(pe!==ke){oe[0]=pe;e:for(var Be=0,Le=oe.length,Tt=Le>>>1;Be<Tt;){var Ge=2*(Be+1)-1,rt=oe[Ge],ge=Ge+1,at=oe[ge];if(0>h(rt,pe))ge<Le&&0>h(at,rt)?(oe[Be]=at,oe[ge]=pe,Be=ge):(oe[Be]=rt,oe[Ge]=pe,Be=Ge);else if(ge<Le&&0>h(at,pe))oe[Be]=at,oe[ge]=pe,Be=ge;else break e}}return ke}function h(oe,ke){var pe=oe.sortIndex-ke.sortIndex;return pe!==0?pe:oe.id-ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,v=m.now();e.unstable_now=function(){return m.now()-v}}var E=[],w=[],I=1,N=null,F=3,W=!1,j=!1,U=!1,se=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(oe){for(var ke=r(w);ke!==null;){if(ke.callback===null)a(w);else if(ke.startTime<=oe)a(w),ke.sortIndex=ke.expirationTime,t(E,ke);else break;ke=r(w)}}function D(oe){if(U=!1,B(oe),!j)if(r(E)!==null)j=!0,$e(ue);else{var ke=r(w);ke!==null&&De(D,ke.startTime-oe)}}function ue(oe,ke){j=!1,U&&(U=!1,z(le),le=-1),W=!0;var pe=F;try{for(B(ke),N=r(E);N!==null&&(!(N.expirationTime>ke)||oe&&!He());){var Be=N.callback;if(typeof Be=="function"){N.callback=null,F=N.priorityLevel;var Le=Be(N.expirationTime<=ke);ke=e.unstable_now(),typeof Le=="function"?N.callback=Le:N===r(E)&&a(E),B(ke)}else a(E);N=r(E)}if(N!==null)var Tt=!0;else{var Ge=r(w);Ge!==null&&De(D,Ge.startTime-ke),Tt=!1}return Tt}finally{N=null,F=pe,W=!1}}var ie=!1,X=null,le=-1,re=5,ze=-1;function He(){return!(e.unstable_now()-ze<re)}function Se(){if(X!==null){var oe=e.unstable_now();ze=oe;var ke=!0;try{ke=X(!0,oe)}finally{ke?Je():(ie=!1,X=null)}}else ie=!1}var Je;if(typeof M=="function")Je=function(){M(Se)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Q=ft.port2;ft.port1.onmessage=Se,Je=function(){Q.postMessage(null)}}else Je=function(){se(Se,0)};function $e(oe){X=oe,ie||(ie=!0,Je())}function De(oe,ke){le=se(function(){oe(e.unstable_now())},ke)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){j||W||(j=!0,$e(ue))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_getFirstCallbackNode=function(){return r(E)},e.unstable_next=function(oe){switch(F){case 1:case 2:case 3:var ke=3;break;default:ke=F}var pe=F;F=ke;try{return oe()}finally{F=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,ke){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var pe=F;F=oe;try{return ke()}finally{F=pe}},e.unstable_scheduleCallback=function(oe,ke,pe){var Be=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,oe){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=pe+Le,oe={id:I++,callback:ke,priorityLevel:oe,startTime:pe,expirationTime:Le,sortIndex:-1},pe>Be?(oe.sortIndex=pe,t(w,oe),r(E)===null&&oe===r(w)&&(U?(z(le),le=-1):U=!0,De(D,pe-Be))):(oe.sortIndex=Le,t(E,oe),j||W||(j=!0,$e(ue))),oe},e.unstable_shouldYield=He,e.unstable_wrapCallback=function(oe){var ke=F;return function(){var pe=F;F=ke;try{return oe.apply(this,arguments)}finally{F=pe}}}})(G0);Z0.exports=G0;var mx=Z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=ne,Ar=mx;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0=new Set,La={};function Ko(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(La[e]=t,e=0;e<t.length;e++)Y0.add(t[e])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=Object.prototype.hasOwnProperty,xx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pd={},Ld={};function _x(e){return Xc.call(Ld,e)?!0:Xc.call(Pd,e)?!1:xx.test(e)?Ld[e]=!0:(Pd[e]=!0,!1)}function yx(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wx(e,t,r,a){if(t===null||typeof t>"u"||yx(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,r,a,h,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=h,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bn[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bn[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bn[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bn[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bn[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bn[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bn[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bn[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bn[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var of=/[\-:]([a-z])/g;function sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(of,sf);Bn[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(of,sf);Bn[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(of,sf);Bn[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bn[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bn[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function af(e,t,r,a){var h=Bn.hasOwnProperty(t)?Bn[t]:null;(h!==null?h.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wx(t,r,h,a)&&(r=null),a||h===null?_x(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):h.mustUseProperty?e[h.propertyName]=r===null?h.type===3?!1:"":r:(t=h.attributeName,a=h.attributeNamespace,r===null?e.removeAttribute(t):(h=h.type,r=h===3||h===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var Hi=X0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),ls=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),q0=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),qc=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),Q0=Symbol.for("react.offscreen"),Md=Symbol.iterator;function sa(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,dc;function _a(e){if(dc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dc=t&&t[1]||""}return`
`+dc+e}var pc=!1;function gc(e,t){if(!e||pc)return"";pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var a=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){a=w}e.call(t.prototype)}else{try{throw Error()}catch(w){a=w}e()}}catch(w){if(w&&a&&typeof w.stack=="string"){for(var h=w.stack.split(`
`),d=a.stack.split(`
`),m=h.length-1,v=d.length-1;1<=m&&0<=v&&h[m]!==d[v];)v--;for(;1<=m&&0<=v;m--,v--)if(h[m]!==d[v]){if(m!==1||v!==1)do if(m--,v--,0>v||h[m]!==d[v]){var E=`
`+h[m].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=m&&0<=v);break}}}finally{pc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_a(e):""}function vx(e){switch(e.tag){case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return e=gc(e.type,!1),e;case 11:return e=gc(e.type.render,!1),e;case 1:return e=gc(e.type,!0),e;default:return""}}function Qc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case ls:return"Portal";case Yc:return"Profiler";case lf:return"StrictMode";case Kc:return"Suspense";case qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q0:return(e.displayName||"Context")+".Consumer";case K0:return(e._context.displayName||"Context")+".Provider";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cf:return t=e.displayName||null,t!==null?t:Qc(e.type)||"Memo";case io:t=e._payload,e=e._init;try{return Qc(e(t))}catch{}}return null}function Ex(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qc(t);case 8:return t===lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cx(e){var t=J0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(m){a=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vl(e){e._valueTracker||(e._valueTracker=Cx(e))}function $0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=J0(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jc(e,t){var r=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dd(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=wo(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&af(e,"checked",t,!1)}function $c(e,t){ep(e,t);var r=wo(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?eh(e,t.type,r):t.hasOwnProperty("defaultValue")&&eh(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function eh(e,t,r){(t!=="number"||Jl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ya=Array.isArray;function Cs(e,t,r,a){if(e=e.options,t){t={};for(var h=0;h<r.length;h++)t["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=t.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&a&&(e[r].defaultSelected=!0)}else{for(r=""+wo(r),t=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,a&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function th(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(ya(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wo(r)}}function tp(e,t){var r=wo(t.value),a=wo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function zd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,h){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ma(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ax=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(e){Ax.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ea[t]=Ea[e]})});function ip(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ea.hasOwnProperty(e)&&Ea[e]?(""+t).trim():t+"px"}function op(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,h=ip(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,h):e[r]=h}}var Sx=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(e,t){if(t){if(Sx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function ih(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sh=null,As=null,Ss=null;function Ud(e){if(e=rl(e)){if(typeof sh!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=zu(t),sh(e.stateNode,e.type,t))}}function sp(e){As?Ss?Ss.push(e):Ss=[e]:As=e}function ap(){if(As){var e=As,t=Ss;if(Ss=As=null,Ud(e),t)for(e=0;e<t.length;e++)Ud(t[e])}}function lp(e,t){return e(t)}function up(){}var mc=!1;function cp(e,t,r){if(mc)return e(t,r);mc=!0;try{return lp(e,t,r)}finally{mc=!1,(As!==null||Ss!==null)&&(up(),ap())}}function Da(e,t){var r=e.stateNode;if(r===null)return null;var a=zu(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var ah=!1;if(zi)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){ah=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{ah=!1}function Tx(e,t,r,a,h,d,m,v,E){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(I){this.onError(I)}}var Ca=!1,$l=null,eu=!1,lh=null,Ix={onError:function(e){Ca=!0,$l=e}};function bx(e,t,r,a,h,d,m,v,E){Ca=!1,$l=null,Tx.apply(Ix,arguments)}function Rx(e,t,r,a,h,d,m,v,E){if(bx.apply(this,arguments),Ca){if(Ca){var w=$l;Ca=!1,$l=null}else throw Error(_e(198));eu||(eu=!0,lh=w)}}function qo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jd(e){if(qo(e)!==e)throw Error(_e(188))}function Nx(e){var t=e.alternate;if(!t){if(t=qo(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,a=t;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(a=h.return,a!==null){r=a;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return jd(h),e;if(d===a)return jd(h),t;d=d.sibling}throw Error(_e(188))}if(r.return!==a.return)r=h,a=d;else{for(var m=!1,v=h.child;v;){if(v===r){m=!0,r=h,a=d;break}if(v===a){m=!0,a=h,r=d;break}v=v.sibling}if(!m){for(v=d.child;v;){if(v===r){m=!0,r=d,a=h;break}if(v===a){m=!0,a=d,r=h;break}v=v.sibling}if(!m)throw Error(_e(189))}}if(r.alternate!==a)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function fp(e){return e=Nx(e),e!==null?dp(e):null}function dp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dp(e);if(t!==null)return t;e=e.sibling}return null}var pp=Ar.unstable_scheduleCallback,Wd=Ar.unstable_cancelCallback,Ox=Ar.unstable_shouldYield,kx=Ar.unstable_requestPaint,pn=Ar.unstable_now,Px=Ar.unstable_getCurrentPriorityLevel,ff=Ar.unstable_ImmediatePriority,gp=Ar.unstable_UserBlockingPriority,tu=Ar.unstable_NormalPriority,Lx=Ar.unstable_LowPriority,mp=Ar.unstable_IdlePriority,Mu=null,vi=null;function Mx(e){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Mu,e,void 0,(e.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:Fx,Dx=Math.log,Bx=Math.LN2;function Fx(e){return e>>>=0,e===0?32:31-(Dx(e)/Bx|0)|0}var Cl=64,Al=4194304;function wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nu(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,h=e.suspendedLanes,d=e.pingedLanes,m=r&268435455;if(m!==0){var v=m&~h;v!==0?a=wa(v):(d&=m,d!==0&&(a=wa(d)))}else m=r&~h,m!==0?a=wa(m):d!==0&&(a=wa(d));if(a===0)return 0;if(t!==0&&t!==a&&!(t&h)&&(h=a&-a,d=t&-t,h>=d||h===16&&(d&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-si(t),h=1<<r,a|=e[r],t&=~h;return a}function zx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ux(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-si(d),v=1<<m,E=h[m];E===-1?(!(v&r)||v&a)&&(h[m]=zx(v,t)):E<=t&&(e.expiredLanes|=v),d&=~v}}function uh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),e}function xc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-si(t),e[t]=r}function jx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var h=31-si(r),d=1<<h;t[h]=0,a[h]=-1,e[h]=-1,r&=~d}}function df(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-si(r),h=1<<a;h&t|e[a]&t&&(e[a]|=t),r&=~h}}var Pt=0;function _p(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yp,pf,wp,vp,Ep,ch=!1,Sl=[],co=null,ho=null,fo=null,Ba=new Map,Fa=new Map,so=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(e,t){switch(e){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(t.pointerId)}}function la(e,t,r,a,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:d,targetContainers:[h]},t!==null&&(t=rl(t),t!==null&&pf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Hx(e,t,r,a,h){switch(t){case"focusin":return co=la(co,e,t,r,a,h),!0;case"dragenter":return ho=la(ho,e,t,r,a,h),!0;case"mouseover":return fo=la(fo,e,t,r,a,h),!0;case"pointerover":var d=h.pointerId;return Ba.set(d,la(Ba.get(d)||null,e,t,r,a,h)),!0;case"gotpointercapture":return d=h.pointerId,Fa.set(d,la(Fa.get(d)||null,e,t,r,a,h)),!0}return!1}function Cp(e){var t=Bo(e.target);if(t!==null){var r=qo(t);if(r!==null){if(t=r.tag,t===13){if(t=hp(r),t!==null){e.blockedOn=t,Ep(e.priority,function(){wp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);oh=a,r.target.dispatchEvent(a),oh=null}else return t=rl(r),t!==null&&pf(t),e.blockedOn=r,!1;t.shift()}return!0}function Vd(e,t,r){jl(e)&&r.delete(t)}function Vx(){ch=!1,co!==null&&jl(co)&&(co=null),ho!==null&&jl(ho)&&(ho=null),fo!==null&&jl(fo)&&(fo=null),Ba.forEach(Vd),Fa.forEach(Vd)}function ua(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,Vx)))}function za(e){function t(h){return ua(h,e)}if(0<Sl.length){ua(Sl[0],e);for(var r=1;r<Sl.length;r++){var a=Sl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(co!==null&&ua(co,e),ho!==null&&ua(ho,e),fo!==null&&ua(fo,e),Ba.forEach(t),Fa.forEach(t),r=0;r<so.length;r++)a=so[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)Cp(r),r.blockedOn===null&&so.shift()}var Ts=Hi.ReactCurrentBatchConfig,ru=!0;function Zx(e,t,r,a){var h=Pt,d=Ts.transition;Ts.transition=null;try{Pt=1,gf(e,t,r,a)}finally{Pt=h,Ts.transition=d}}function Gx(e,t,r,a){var h=Pt,d=Ts.transition;Ts.transition=null;try{Pt=4,gf(e,t,r,a)}finally{Pt=h,Ts.transition=d}}function gf(e,t,r,a){if(ru){var h=hh(e,t,r,a);if(h===null)Ic(e,t,a,iu,r),Hd(e,a);else if(Hx(h,e,t,r,a))a.stopPropagation();else if(Hd(e,a),t&4&&-1<Wx.indexOf(e)){for(;h!==null;){var d=rl(h);if(d!==null&&yp(d),d=hh(e,t,r,a),d===null&&Ic(e,t,a,iu,r),d===h)break;h=d}h!==null&&a.stopPropagation()}else Ic(e,t,a,null,r)}}var iu=null;function hh(e,t,r,a){if(iu=null,e=hf(a),e=Bo(e),e!==null)if(t=qo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iu=e,null}function Ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Px()){case ff:return 1;case gp:return 4;case tu:case Lx:return 16;case mp:return 536870912;default:return 16}default:return 16}}var lo=null,mf=null,Wl=null;function Sp(){if(Wl)return Wl;var e,t=mf,r=t.length,a,h="value"in lo?lo.value:lo.textContent,d=h.length;for(e=0;e<r&&t[e]===h[e];e++);var m=r-e;for(a=1;a<=m&&t[r-a]===h[d-a];a++);return Wl=h.slice(e,1<a?1-a:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function Zd(){return!1}function Tr(e){function t(r,a,h,d,m){this._reactName=r,this._targetInst=h,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Tl:Zd,this.isPropagationStopped=Zd,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=Tr(Us),nl=sn({},Us,{view:0,detail:0}),Xx=Tr(nl),_c,yc,ca,Du=sn({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ca&&(ca&&e.type==="mousemove"?(_c=e.screenX-ca.screenX,yc=e.screenY-ca.screenY):yc=_c=0,ca=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:yc}}),Gd=Tr(Du),Yx=sn({},Du,{dataTransfer:0}),Kx=Tr(Yx),qx=sn({},nl,{relatedTarget:0}),wc=Tr(qx),Qx=sn({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Jx=Tr(Qx),$x=sn({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e_=Tr($x),t_=sn({},Us,{data:0}),Xd=Tr(t_),n_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i_[e])?!!t[e]:!1}function _f(){return o_}var s_=sn({},nl,{key:function(e){if(e.key){var t=n_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),a_=Tr(s_),l_=sn({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=Tr(l_),u_=sn({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),c_=Tr(u_),h_=sn({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=Tr(h_),d_=sn({},Du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p_=Tr(d_),g_=[9,13,27,32],yf=zi&&"CompositionEvent"in window,Aa=null;zi&&"documentMode"in document&&(Aa=document.documentMode);var m_=zi&&"TextEvent"in window&&!Aa,Tp=zi&&(!yf||Aa&&8<Aa&&11>=Aa),Kd=String.fromCharCode(32),qd=!1;function Ip(e,t){switch(e){case"keyup":return g_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function x_(e,t){switch(e){case"compositionend":return bp(t);case"keypress":return t.which!==32?null:(qd=!0,Kd);case"textInput":return e=t.data,e===Kd&&qd?null:e;default:return null}}function __(e,t){if(cs)return e==="compositionend"||!yf&&Ip(e,t)?(e=Sp(),Wl=mf=lo=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tp&&t.locale!=="ko"?null:t.data;default:return null}}var y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y_[e.type]:t==="textarea"}function Rp(e,t,r,a){sp(a),t=ou(t,"onChange"),0<t.length&&(r=new xf("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Sa=null,Ua=null;function w_(e){Up(e,0)}function Bu(e){var t=ds(e);if($0(t))return e}function v_(e,t){if(e==="change")return t}var Np=!1;if(zi){var vc;if(zi){var Ec="oninput"in document;if(!Ec){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),Ec=typeof Jd.oninput=="function"}vc=Ec}else vc=!1;Np=vc&&(!document.documentMode||9<document.documentMode)}function $d(){Sa&&(Sa.detachEvent("onpropertychange",Op),Ua=Sa=null)}function Op(e){if(e.propertyName==="value"&&Bu(Ua)){var t=[];Rp(t,Ua,e,hf(e)),cp(w_,t)}}function E_(e,t,r){e==="focusin"?($d(),Sa=t,Ua=r,Sa.attachEvent("onpropertychange",Op)):e==="focusout"&&$d()}function C_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(Ua)}function A_(e,t){if(e==="click")return Bu(t)}function S_(e,t){if(e==="input"||e==="change")return Bu(t)}function T_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var li=typeof Object.is=="function"?Object.is:T_;function ja(e,t){if(li(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var h=r[a];if(!Xc.call(t,h)||!li(e[h],t[h]))return!1}return!0}function e1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t1(e,t){var r=e1(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e1(r)}}function kp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pp(){for(var e=window,t=Jl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jl(e.document)}return t}function wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I_(e){var t=Pp(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kp(r.ownerDocument.documentElement,r)){if(a!==null&&wf(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=r.textContent.length,d=Math.min(a.start,h);a=a.end===void 0?d:Math.min(a.end,h),!e.extend&&d>a&&(h=a,a=d,d=h),h=t1(r,d);var m=t1(r,a);h&&m&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b_=zi&&"documentMode"in document&&11>=document.documentMode,hs=null,fh=null,Ta=null,dh=!1;function n1(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||hs==null||hs!==Jl(a)||(a=hs,"selectionStart"in a&&wf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ta&&ja(Ta,a)||(Ta=a,a=ou(fh,"onSelect"),0<a.length&&(t=new xf("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=hs)))}function Il(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fs={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},Cc={},Lp={};zi&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Fu(e){if(Cc[e])return Cc[e];if(!fs[e])return e;var t=fs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Lp)return Cc[e]=t[r];return e}var Mp=Fu("animationend"),Dp=Fu("animationiteration"),Bp=Fu("animationstart"),Fp=Fu("transitionend"),zp=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){zp.set(e,t),Ko(t,[e])}for(var Ac=0;Ac<r1.length;Ac++){var Sc=r1[Ac],R_=Sc.toLowerCase(),N_=Sc[0].toUpperCase()+Sc.slice(1);Eo(R_,"on"+N_)}Eo(Mp,"onAnimationEnd");Eo(Dp,"onAnimationIteration");Eo(Bp,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(Fp,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function i1(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Rx(a,t,void 0,e),e.currentTarget=null}function Up(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],h=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var m=a.length-1;0<=m;m--){var v=a[m],E=v.instance,w=v.currentTarget;if(v=v.listener,E!==d&&h.isPropagationStopped())break e;i1(h,v,w),d=E}else for(m=0;m<a.length;m++){if(v=a[m],E=v.instance,w=v.currentTarget,v=v.listener,E!==d&&h.isPropagationStopped())break e;i1(h,v,w),d=E}}}if(eu)throw e=lh,eu=!1,lh=null,e}function Xt(e,t){var r=t[_h];r===void 0&&(r=t[_h]=new Set);var a=e+"__bubble";r.has(a)||(jp(t,e,2,!1),r.add(a))}function Tc(e,t,r){var a=0;t&&(a|=4),jp(r,e,a,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[bl]){e[bl]=!0,Y0.forEach(function(r){r!=="selectionchange"&&(O_.has(r)||Tc(r,!1,e),Tc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,Tc("selectionchange",!1,t))}}function jp(e,t,r,a){switch(Ap(t)){case 1:var h=Zx;break;case 4:h=Gx;break;default:h=gf}r=h.bind(null,t,r,e),h=void 0,!ah||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),a?h!==void 0?e.addEventListener(t,r,{capture:!0,passive:h}):e.addEventListener(t,r,!0):h!==void 0?e.addEventListener(t,r,{passive:h}):e.addEventListener(t,r,!1)}function Ic(e,t,r,a,h){var d=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var v=a.stateNode.containerInfo;if(v===h||v.nodeType===8&&v.parentNode===h)break;if(m===4)for(m=a.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;m=m.return}for(;v!==null;){if(m=Bo(v),m===null)return;if(E=m.tag,E===5||E===6){a=d=m;continue e}v=v.parentNode}}a=a.return}cp(function(){var w=d,I=hf(r),N=[];e:{var F=zp.get(e);if(F!==void 0){var W=xf,j=e;switch(e){case"keypress":if(Hl(r)===0)break e;case"keydown":case"keyup":W=a_;break;case"focusin":j="focus",W=wc;break;case"focusout":j="blur",W=wc;break;case"beforeblur":case"afterblur":W=wc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=c_;break;case Mp:case Dp:case Bp:W=Jx;break;case Fp:W=f_;break;case"scroll":W=Xx;break;case"wheel":W=p_;break;case"copy":case"cut":case"paste":W=e_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Yd}var U=(t&4)!==0,se=!U&&e==="scroll",z=U?F!==null?F+"Capture":null:F;U=[];for(var M=w,B;M!==null;){B=M;var D=B.stateNode;if(B.tag===5&&D!==null&&(B=D,z!==null&&(D=Da(M,z),D!=null&&U.push(Ha(M,D,B)))),se)break;M=M.return}0<U.length&&(F=new W(F,j,null,r,I),N.push({event:F,listeners:U}))}}if(!(t&7)){e:{if(F=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",F&&r!==oh&&(j=r.relatedTarget||r.fromElement)&&(Bo(j)||j[Ui]))break e;if((W||F)&&(F=I.window===I?I:(F=I.ownerDocument)?F.defaultView||F.parentWindow:window,W?(j=r.relatedTarget||r.toElement,W=w,j=j?Bo(j):null,j!==null&&(se=qo(j),j!==se||j.tag!==5&&j.tag!==6)&&(j=null)):(W=null,j=w),W!==j)){if(U=Gd,D="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(U=Yd,D="onPointerLeave",z="onPointerEnter",M="pointer"),se=W==null?F:ds(W),B=j==null?F:ds(j),F=new U(D,M+"leave",W,r,I),F.target=se,F.relatedTarget=B,D=null,Bo(I)===w&&(U=new U(z,M+"enter",j,r,I),U.target=B,U.relatedTarget=se,D=U),se=D,W&&j)t:{for(U=W,z=j,M=0,B=U;B;B=os(B))M++;for(B=0,D=z;D;D=os(D))B++;for(;0<M-B;)U=os(U),M--;for(;0<B-M;)z=os(z),B--;for(;M--;){if(U===z||z!==null&&U===z.alternate)break t;U=os(U),z=os(z)}U=null}else U=null;W!==null&&o1(N,F,W,U,!1),j!==null&&se!==null&&o1(N,se,j,U,!0)}}e:{if(F=w?ds(w):window,W=F.nodeName&&F.nodeName.toLowerCase(),W==="select"||W==="input"&&F.type==="file")var ue=v_;else if(Qd(F))if(Np)ue=S_;else{ue=C_;var ie=E_}else(W=F.nodeName)&&W.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ue=A_);if(ue&&(ue=ue(e,w))){Rp(N,ue,r,I);break e}ie&&ie(e,F,w),e==="focusout"&&(ie=F._wrapperState)&&ie.controlled&&F.type==="number"&&eh(F,"number",F.value)}switch(ie=w?ds(w):window,e){case"focusin":(Qd(ie)||ie.contentEditable==="true")&&(hs=ie,fh=w,Ta=null);break;case"focusout":Ta=fh=hs=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,n1(N,r,I);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":n1(N,r,I)}var X;if(yf)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else cs?Ip(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Tp&&r.locale!=="ko"&&(cs||le!=="onCompositionStart"?le==="onCompositionEnd"&&cs&&(X=Sp()):(lo=I,mf="value"in lo?lo.value:lo.textContent,cs=!0)),ie=ou(w,le),0<ie.length&&(le=new Xd(le,e,null,r,I),N.push({event:le,listeners:ie}),X?le.data=X:(X=bp(r),X!==null&&(le.data=X)))),(X=m_?x_(e,r):__(e,r))&&(w=ou(w,"onBeforeInput"),0<w.length&&(I=new Xd("onBeforeInput","beforeinput",null,r,I),N.push({event:I,listeners:w}),I.data=X))}Up(N,t)})}function Ha(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ou(e,t){for(var r=t+"Capture",a=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Da(e,r),d!=null&&a.unshift(Ha(e,d,h)),d=Da(e,t),d!=null&&a.push(Ha(e,d,h))),e=e.return}return a}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o1(e,t,r,a,h){for(var d=t._reactName,m=[];r!==null&&r!==a;){var v=r,E=v.alternate,w=v.stateNode;if(E!==null&&E===a)break;v.tag===5&&w!==null&&(v=w,h?(E=Da(r,d),E!=null&&m.unshift(Ha(r,E,v))):h||(E=Da(r,d),E!=null&&m.push(Ha(r,E,v)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var k_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function s1(e){return(typeof e=="string"?e:""+e).replace(k_,`
`).replace(P_,"")}function Rl(e,t,r){if(t=s1(t),s1(e)!==t&&r)throw Error(_e(425))}function su(){}var ph=null,gh=null;function mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,M_=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(e){return a1.resolve(null).then(e).catch(D_)}:xh;function D_(e){setTimeout(function(){throw e})}function bc(e,t){var r=t,a=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(a===0){e.removeChild(h),za(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=h}while(r);za(t)}function po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),yi="__reactFiber$"+js,Va="__reactProps$"+js,Ui="__reactContainer$"+js,_h="__reactEvents$"+js,B_="__reactListeners$"+js,F_="__reactHandles$"+js;function Bo(e){var t=e[yi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ui]||r[yi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=l1(e);e!==null;){if(r=e[yi])return r;e=l1(e)}return t}e=r,r=e.parentNode}return null}function rl(e){return e=e[yi]||e[Ui],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function zu(e){return e[Va]||null}var yh=[],ps=-1;function Co(e){return{current:e}}function Kt(e){0>ps||(e.current=yh[ps],yh[ps]=null,ps--)}function Wt(e,t){ps++,yh[ps]=e.current,e.current=t}var vo={},Xn=Co(vo),fr=Co(!1),Ho=vo;function ks(e,t){var r=e.type.contextTypes;if(!r)return vo;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in r)h[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function dr(e){return e=e.childContextTypes,e!=null}function au(){Kt(fr),Kt(Xn)}function u1(e,t,r){if(Xn.current!==vo)throw Error(_e(168));Wt(Xn,t),Wt(fr,r)}function Wp(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var h in a)if(!(h in t))throw Error(_e(108,Ex(e)||"Unknown",h));return sn({},r,a)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,Ho=Xn.current,Wt(Xn,e),Wt(fr,fr.current),!0}function c1(e,t,r){var a=e.stateNode;if(!a)throw Error(_e(169));r?(e=Wp(e,t,Ho),a.__reactInternalMemoizedMergedChildContext=e,Kt(fr),Kt(Xn),Wt(Xn,e)):Kt(fr),Wt(fr,r)}var Li=null,Uu=!1,Rc=!1;function Hp(e){Li===null?Li=[e]:Li.push(e)}function z_(e){Uu=!0,Hp(e)}function Ao(){if(!Rc&&Li!==null){Rc=!0;var e=0,t=Pt;try{var r=Li;for(Pt=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Li=null,Uu=!1}catch(h){throw Li!==null&&(Li=Li.slice(e+1)),pp(ff,Ao),h}finally{Pt=t,Rc=!1}}return null}var gs=[],ms=0,uu=null,cu=0,Mr=[],Dr=0,Vo=null,Mi=1,Di="";function Mo(e,t){gs[ms++]=cu,gs[ms++]=uu,uu=e,cu=t}function Vp(e,t,r){Mr[Dr++]=Mi,Mr[Dr++]=Di,Mr[Dr++]=Vo,Vo=e;var a=Mi;e=Di;var h=32-si(a)-1;a&=~(1<<h),r+=1;var d=32-si(t)+h;if(30<d){var m=h-h%5;d=(a&(1<<m)-1).toString(32),a>>=m,h-=m,Mi=1<<32-si(t)+h|r<<h|a,Di=d+e}else Mi=1<<d|r<<h|a,Di=e}function vf(e){e.return!==null&&(Mo(e,1),Vp(e,1,0))}function Ef(e){for(;e===uu;)uu=gs[--ms],gs[ms]=null,cu=gs[--ms],gs[ms]=null;for(;e===Vo;)Vo=Mr[--Dr],Mr[Dr]=null,Di=Mr[--Dr],Mr[Dr]=null,Mi=Mr[--Dr],Mr[Dr]=null}var Cr=null,Er=null,Qt=!1,oi=null;function Zp(e,t){var r=Br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function h1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cr=e,Er=po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cr=e,Er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vo!==null?{id:Mi,overflow:Di}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Cr=e,Er=null,!0):!1;default:return!1}}function wh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vh(e){if(Qt){var t=Er;if(t){var r=t;if(!h1(e,t)){if(wh(e))throw Error(_e(418));t=po(r.nextSibling);var a=Cr;t&&h1(e,t)?Zp(a,r):(e.flags=e.flags&-4097|2,Qt=!1,Cr=e)}}else{if(wh(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Qt=!1,Cr=e}}}function f1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cr=e}function Nl(e){if(e!==Cr)return!1;if(!Qt)return f1(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mh(e.type,e.memoizedProps)),t&&(t=Er)){if(wh(e))throw Gp(),Error(_e(418));for(;t;)Zp(e,t),t=po(t.nextSibling)}if(f1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Er=po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Er=null}}else Er=Cr?po(e.stateNode.nextSibling):null;return!0}function Gp(){for(var e=Er;e;)e=po(e.nextSibling)}function Ps(){Er=Cr=null,Qt=!1}function Cf(e){oi===null?oi=[e]:oi.push(e)}var U_=Hi.ReactCurrentBatchConfig;function ni(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var hu=Co(null),fu=null,xs=null,Af=null;function Sf(){Af=xs=fu=null}function Tf(e){var t=hu.current;Kt(hu),e._currentValue=t}function Eh(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Is(e,t){fu=e,Af=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function Ur(e){var t=e._currentValue;if(Af!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(fu===null)throw Error(_e(308));xs=e,fu.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Fo=null;function If(e){Fo===null?Fo=[e]:Fo.push(e)}function Xp(e,t,r,a){var h=t.interleaved;return h===null?(r.next=r,If(t)):(r.next=h.next,h.next=r),t.interleaved=r,ji(e,a)}function ji(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oo=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function go(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ct&2){var h=a.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),a.pending=t,ji(e,r)}return h=a.interleaved,h===null?(t.next=t,If(a)):(t.next=h.next,h.next=t),a.interleaved=t,ji(e,r)}function Vl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,df(e,r)}}function d1(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?h=d=m:d=d.next=m,r=r.next}while(r!==null);d===null?h=d=t:d=d.next=t}else h=d=t;r={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function du(e,t,r,a){var h=e.updateQueue;oo=!1;var d=h.firstBaseUpdate,m=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var E=v,w=E.next;E.next=null,m===null?d=w:m.next=w,m=E;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==m&&(v===null?I.firstBaseUpdate=w:v.next=w,I.lastBaseUpdate=E))}if(d!==null){var N=h.baseState;m=0,I=w=E=null,v=d;do{var F=v.lane,W=v.eventTime;if((a&F)===F){I!==null&&(I=I.next={eventTime:W,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var j=e,U=v;switch(F=t,W=r,U.tag){case 1:if(j=U.payload,typeof j=="function"){N=j.call(W,N,F);break e}N=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=U.payload,F=typeof j=="function"?j.call(W,N,F):j,F==null)break e;N=sn({},N,F);break e;case 2:oo=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,F=h.effects,F===null?h.effects=[v]:F.push(v))}else W={eventTime:W,lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(w=I=W,E=N):I=I.next=W,m|=F;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;F=v,v=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(1);if(I===null&&(E=N),h.baseState=E,h.firstBaseUpdate=w,h.lastBaseUpdate=I,t=h.shared.interleaved,t!==null){h=t;do m|=h.lane,h=h.next;while(h!==t)}else d===null&&(h.shared.lanes=0);Go|=m,e.lanes=m,e.memoizedState=N}}function p1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],h=a.callback;if(h!==null){if(a.callback=null,a=r,typeof h!="function")throw Error(_e(191,h));h.call(a)}}}var Kp=new X0.Component().refs;function Ch(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:sn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ju={isMounted:function(e){return(e=e._reactInternals)?qo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=nr(),h=xo(e),d=Fi(a,h);d.payload=t,r!=null&&(d.callback=r),t=go(e,d,h),t!==null&&(ai(t,e,h,a),Vl(t,e,h))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=nr(),h=xo(e),d=Fi(a,h);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=go(e,d,h),t!==null&&(ai(t,e,h,a),Vl(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nr(),a=xo(e),h=Fi(r,a);h.tag=2,t!=null&&(h.callback=t),t=go(e,h,a),t!==null&&(ai(t,e,a,r),Vl(t,e,a))}};function g1(e,t,r,a,h,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,m):t.prototype&&t.prototype.isPureReactComponent?!ja(r,a)||!ja(h,d):!0}function qp(e,t,r){var a=!1,h=vo,d=t.contextType;return typeof d=="object"&&d!==null?d=Ur(d):(h=dr(t)?Ho:Xn.current,a=t.contextTypes,d=(a=a!=null)?ks(e,h):vo),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ju,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),t}function m1(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function Ah(e,t,r,a){var h=e.stateNode;h.props=r,h.state=e.memoizedState,h.refs=Kp,bf(e);var d=t.contextType;typeof d=="object"&&d!==null?h.context=Ur(d):(d=dr(t)?Ho:Xn.current,h.context=ks(e,d)),h.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ch(e,t,d,r),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&ju.enqueueReplaceState(h,h.state,null),du(e,r,h,a),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ha(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var a=r.stateNode}if(!a)throw Error(_e(147,e));var h=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var v=h.refs;v===Kp&&(v=h.refs={}),m===null?delete v[d]:v[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Ol(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function x1(e){var t=e._init;return t(e._payload)}function Qp(e){function t(z,M){if(e){var B=z.deletions;B===null?(z.deletions=[M],z.flags|=16):B.push(M)}}function r(z,M){if(!e)return null;for(;M!==null;)t(z,M),M=M.sibling;return null}function a(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function h(z,M){return z=_o(z,M),z.index=0,z.sibling=null,z}function d(z,M,B){return z.index=B,e?(B=z.alternate,B!==null?(B=B.index,B<M?(z.flags|=2,M):B):(z.flags|=2,M)):(z.flags|=1048576,M)}function m(z){return e&&z.alternate===null&&(z.flags|=2),z}function v(z,M,B,D){return M===null||M.tag!==6?(M=Dc(B,z.mode,D),M.return=z,M):(M=h(M,B),M.return=z,M)}function E(z,M,B,D){var ue=B.type;return ue===us?I(z,M,B.props.children,D,B.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===io&&x1(ue)===M.type)?(D=h(M,B.props),D.ref=ha(z,M,B),D.return=z,D):(D=ql(B.type,B.key,B.props,null,z.mode,D),D.ref=ha(z,M,B),D.return=z,D)}function w(z,M,B,D){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Bc(B,z.mode,D),M.return=z,M):(M=h(M,B.children||[]),M.return=z,M)}function I(z,M,B,D,ue){return M===null||M.tag!==7?(M=Wo(B,z.mode,D,ue),M.return=z,M):(M=h(M,B),M.return=z,M)}function N(z,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Dc(""+M,z.mode,B),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case wl:return B=ql(M.type,M.key,M.props,null,z.mode,B),B.ref=ha(z,null,M),B.return=z,B;case ls:return M=Bc(M,z.mode,B),M.return=z,M;case io:var D=M._init;return N(z,D(M._payload),B)}if(ya(M)||sa(M))return M=Wo(M,z.mode,B,null),M.return=z,M;Ol(z,M)}return null}function F(z,M,B,D){var ue=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ue!==null?null:v(z,M,""+B,D);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case wl:return B.key===ue?E(z,M,B,D):null;case ls:return B.key===ue?w(z,M,B,D):null;case io:return ue=B._init,F(z,M,ue(B._payload),D)}if(ya(B)||sa(B))return ue!==null?null:I(z,M,B,D,null);Ol(z,B)}return null}function W(z,M,B,D,ue){if(typeof D=="string"&&D!==""||typeof D=="number")return z=z.get(B)||null,v(M,z,""+D,ue);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case wl:return z=z.get(D.key===null?B:D.key)||null,E(M,z,D,ue);case ls:return z=z.get(D.key===null?B:D.key)||null,w(M,z,D,ue);case io:var ie=D._init;return W(z,M,B,ie(D._payload),ue)}if(ya(D)||sa(D))return z=z.get(B)||null,I(M,z,D,ue,null);Ol(M,D)}return null}function j(z,M,B,D){for(var ue=null,ie=null,X=M,le=M=0,re=null;X!==null&&le<B.length;le++){X.index>le?(re=X,X=null):re=X.sibling;var ze=F(z,X,B[le],D);if(ze===null){X===null&&(X=re);break}e&&X&&ze.alternate===null&&t(z,X),M=d(ze,M,le),ie===null?ue=ze:ie.sibling=ze,ie=ze,X=re}if(le===B.length)return r(z,X),Qt&&Mo(z,le),ue;if(X===null){for(;le<B.length;le++)X=N(z,B[le],D),X!==null&&(M=d(X,M,le),ie===null?ue=X:ie.sibling=X,ie=X);return Qt&&Mo(z,le),ue}for(X=a(z,X);le<B.length;le++)re=W(X,z,le,B[le],D),re!==null&&(e&&re.alternate!==null&&X.delete(re.key===null?le:re.key),M=d(re,M,le),ie===null?ue=re:ie.sibling=re,ie=re);return e&&X.forEach(function(He){return t(z,He)}),Qt&&Mo(z,le),ue}function U(z,M,B,D){var ue=sa(B);if(typeof ue!="function")throw Error(_e(150));if(B=ue.call(B),B==null)throw Error(_e(151));for(var ie=ue=null,X=M,le=M=0,re=null,ze=B.next();X!==null&&!ze.done;le++,ze=B.next()){X.index>le?(re=X,X=null):re=X.sibling;var He=F(z,X,ze.value,D);if(He===null){X===null&&(X=re);break}e&&X&&He.alternate===null&&t(z,X),M=d(He,M,le),ie===null?ue=He:ie.sibling=He,ie=He,X=re}if(ze.done)return r(z,X),Qt&&Mo(z,le),ue;if(X===null){for(;!ze.done;le++,ze=B.next())ze=N(z,ze.value,D),ze!==null&&(M=d(ze,M,le),ie===null?ue=ze:ie.sibling=ze,ie=ze);return Qt&&Mo(z,le),ue}for(X=a(z,X);!ze.done;le++,ze=B.next())ze=W(X,z,le,ze.value,D),ze!==null&&(e&&ze.alternate!==null&&X.delete(ze.key===null?le:ze.key),M=d(ze,M,le),ie===null?ue=ze:ie.sibling=ze,ie=ze);return e&&X.forEach(function(Se){return t(z,Se)}),Qt&&Mo(z,le),ue}function se(z,M,B,D){if(typeof B=="object"&&B!==null&&B.type===us&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case wl:e:{for(var ue=B.key,ie=M;ie!==null;){if(ie.key===ue){if(ue=B.type,ue===us){if(ie.tag===7){r(z,ie.sibling),M=h(ie,B.props.children),M.return=z,z=M;break e}}else if(ie.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===io&&x1(ue)===ie.type){r(z,ie.sibling),M=h(ie,B.props),M.ref=ha(z,ie,B),M.return=z,z=M;break e}r(z,ie);break}else t(z,ie);ie=ie.sibling}B.type===us?(M=Wo(B.props.children,z.mode,D,B.key),M.return=z,z=M):(D=ql(B.type,B.key,B.props,null,z.mode,D),D.ref=ha(z,M,B),D.return=z,z=D)}return m(z);case ls:e:{for(ie=B.key;M!==null;){if(M.key===ie)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(z,M.sibling),M=h(M,B.children||[]),M.return=z,z=M;break e}else{r(z,M);break}else t(z,M);M=M.sibling}M=Bc(B,z.mode,D),M.return=z,z=M}return m(z);case io:return ie=B._init,se(z,M,ie(B._payload),D)}if(ya(B))return j(z,M,B,D);if(sa(B))return U(z,M,B,D);Ol(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,M!==null&&M.tag===6?(r(z,M.sibling),M=h(M,B),M.return=z,z=M):(r(z,M),M=Dc(B,z.mode,D),M.return=z,z=M),m(z)):r(z,M)}return se}var Ls=Qp(!0),Jp=Qp(!1),il={},Ei=Co(il),Za=Co(il),Ga=Co(il);function zo(e){if(e===il)throw Error(_e(174));return e}function Rf(e,t){switch(Wt(Ga,t),Wt(Za,e),Wt(Ei,il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nh(t,e)}Kt(Ei),Wt(Ei,t)}function Ms(){Kt(Ei),Kt(Za),Kt(Ga)}function $p(e){zo(Ga.current);var t=zo(Ei.current),r=nh(t,e.type);t!==r&&(Wt(Za,e),Wt(Ei,r))}function Nf(e){Za.current===e&&(Kt(Ei),Kt(Za))}var rn=Co(0);function pu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nc=[];function Of(){for(var e=0;e<Nc.length;e++)Nc[e]._workInProgressVersionPrimary=null;Nc.length=0}var Zl=Hi.ReactCurrentDispatcher,Oc=Hi.ReactCurrentBatchConfig,Zo=0,on=null,Sn=null,kn=null,gu=!1,Ia=!1,Xa=0,j_=0;function Vn(){throw Error(_e(321))}function kf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!li(e[r],t[r]))return!1;return!0}function Pf(e,t,r,a,h,d){if(Zo=d,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=e===null||e.memoizedState===null?Z_:G_,e=r(a,h),Ia){d=0;do{if(Ia=!1,Xa=0,25<=d)throw Error(_e(301));d+=1,kn=Sn=null,t.updateQueue=null,Zl.current=X_,e=r(a,h)}while(Ia)}if(Zl.current=mu,t=Sn!==null&&Sn.next!==null,Zo=0,kn=Sn=on=null,gu=!1,t)throw Error(_e(300));return e}function Lf(){var e=Xa!==0;return Xa=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?on.memoizedState=kn=e:kn=kn.next=e,kn}function jr(){if(Sn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=kn===null?on.memoizedState:kn.next;if(t!==null)kn=t,Sn=e;else{if(e===null)throw Error(_e(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},kn===null?on.memoizedState=kn=e:kn=kn.next=e}return kn}function Ya(e,t){return typeof t=="function"?t(e):t}function kc(e){var t=jr(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var a=Sn,h=a.baseQueue,d=r.pending;if(d!==null){if(h!==null){var m=h.next;h.next=d.next,d.next=m}a.baseQueue=h=d,r.pending=null}if(h!==null){d=h.next,a=a.baseState;var v=m=null,E=null,w=d;do{var I=w.lane;if((Zo&I)===I)E!==null&&(E=E.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),a=w.hasEagerState?w.eagerState:e(a,w.action);else{var N={lane:I,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};E===null?(v=E=N,m=a):E=E.next=N,on.lanes|=I,Go|=I}w=w.next}while(w!==null&&w!==d);E===null?m=a:E.next=v,li(a,t.memoizedState)||(hr=!0),t.memoizedState=a,t.baseState=m,t.baseQueue=E,r.lastRenderedState=a}if(e=r.interleaved,e!==null){h=e;do d=h.lane,on.lanes|=d,Go|=d,h=h.next;while(h!==e)}else h===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pc(e){var t=jr(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var a=r.dispatch,h=r.pending,d=t.memoizedState;if(h!==null){r.pending=null;var m=h=h.next;do d=e(d,m.action),m=m.next;while(m!==h);li(d,t.memoizedState)||(hr=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,a]}function eg(){}function tg(e,t){var r=on,a=jr(),h=t(),d=!li(a.memoizedState,h);if(d&&(a.memoizedState=h,hr=!0),a=a.queue,Mf(ig.bind(null,r,a,e),[e]),a.getSnapshot!==t||d||kn!==null&&kn.memoizedState.tag&1){if(r.flags|=2048,Ka(9,rg.bind(null,r,a,h,t),void 0,null),Pn===null)throw Error(_e(349));Zo&30||ng(r,t,h)}return h}function ng(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rg(e,t,r,a){t.value=r,t.getSnapshot=a,og(t)&&sg(e)}function ig(e,t,r){return r(function(){og(t)&&sg(e)})}function og(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!li(e,r)}catch{return!0}}function sg(e){var t=ji(e,1);t!==null&&ai(t,e,1,-1)}function _1(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=V_.bind(null,on,e),[t.memoizedState,e]}function Ka(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function ag(){return jr().memoizedState}function Gl(e,t,r,a){var h=_i();on.flags|=e,h.memoizedState=Ka(1|t,r,void 0,a===void 0?null:a)}function Wu(e,t,r,a){var h=jr();a=a===void 0?null:a;var d=void 0;if(Sn!==null){var m=Sn.memoizedState;if(d=m.destroy,a!==null&&kf(a,m.deps)){h.memoizedState=Ka(t,r,d,a);return}}on.flags|=e,h.memoizedState=Ka(1|t,r,d,a)}function y1(e,t){return Gl(8390656,8,e,t)}function Mf(e,t){return Wu(2048,8,e,t)}function lg(e,t){return Wu(4,2,e,t)}function ug(e,t){return Wu(4,4,e,t)}function cg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hg(e,t,r){return r=r!=null?r.concat([e]):null,Wu(4,4,cg.bind(null,t,e),r)}function Df(){}function fg(e,t){var r=jr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&kf(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function dg(e,t){var r=jr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&kf(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function pg(e,t,r){return Zo&21?(li(r,t)||(r=xp(),on.lanes|=r,Go|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function W_(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var a=Oc.transition;Oc.transition={};try{e(!1),t()}finally{Pt=r,Oc.transition=a}}function gg(){return jr().memoizedState}function H_(e,t,r){var a=xo(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},mg(e))xg(t,r);else if(r=Xp(e,t,r,a),r!==null){var h=nr();ai(r,e,a,h),_g(r,t,a)}}function V_(e,t,r){var a=xo(e),h={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(mg(e))xg(t,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,v=d(m,r);if(h.hasEagerState=!0,h.eagerState=v,li(v,m)){var E=t.interleaved;E===null?(h.next=h,If(t)):(h.next=E.next,E.next=h),t.interleaved=h;return}}catch{}finally{}r=Xp(e,t,h,a),r!==null&&(h=nr(),ai(r,e,a,h),_g(r,t,a))}}function mg(e){var t=e.alternate;return e===on||t!==null&&t===on}function xg(e,t){Ia=gu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _g(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,df(e,r)}}var mu={readContext:Ur,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},Z_={readContext:Ur,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:Ur,useEffect:y1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gl(4194308,4,cg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gl(4,2,e,t)},useMemo:function(e,t){var r=_i();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=_i();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=H_.bind(null,on,e),[a.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:_1,useDebugValue:Df,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=_1(!1),t=e[0];return e=W_.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=on,h=_i();if(Qt){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),Pn===null)throw Error(_e(349));Zo&30||ng(a,t,r)}h.memoizedState=r;var d={value:r,getSnapshot:t};return h.queue=d,y1(ig.bind(null,a,d,e),[e]),a.flags|=2048,Ka(9,rg.bind(null,a,d,r,t),void 0,null),r},useId:function(){var e=_i(),t=Pn.identifierPrefix;if(Qt){var r=Di,a=Mi;r=(a&~(1<<32-si(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=j_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G_={readContext:Ur,useCallback:fg,useContext:Ur,useEffect:Mf,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:kc,useRef:ag,useState:function(){return kc(Ya)},useDebugValue:Df,useDeferredValue:function(e){var t=jr();return pg(t,Sn.memoizedState,e)},useTransition:function(){var e=kc(Ya)[0],t=jr().memoizedState;return[e,t]},useMutableSource:eg,useSyncExternalStore:tg,useId:gg,unstable_isNewReconciler:!1},X_={readContext:Ur,useCallback:fg,useContext:Ur,useEffect:Mf,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:Pc,useRef:ag,useState:function(){return Pc(Ya)},useDebugValue:Df,useDeferredValue:function(e){var t=jr();return Sn===null?t.memoizedState=e:pg(t,Sn.memoizedState,e)},useTransition:function(){var e=Pc(Ya)[0],t=jr().memoizedState;return[e,t]},useMutableSource:eg,useSyncExternalStore:tg,useId:gg,unstable_isNewReconciler:!1};function Ds(e,t){try{var r="",a=t;do r+=vx(a),a=a.return;while(a);var h=r}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:h,digest:null}}function Lc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y_=typeof WeakMap=="function"?WeakMap:Map;function yg(e,t,r){r=Fi(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){_u||(_u=!0,Mh=a),Sh(e,t)},r}function wg(e,t,r){r=Fi(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var h=t.value;r.payload=function(){return a(h)},r.callback=function(){Sh(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Sh(e,t),typeof a!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function w1(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new Y_;var h=new Set;a.set(t,h)}else h=a.get(t),h===void 0&&(h=new Set,a.set(t,h));h.has(r)||(h.add(r),e=ly.bind(null,e,t,r),t.then(e,e))}function v1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E1(e,t,r,a,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fi(-1,1),t.tag=2,go(r,t,1))),r.lanes|=1),e)}var K_=Hi.ReactCurrentOwner,hr=!1;function tr(e,t,r,a){t.child=e===null?Jp(t,null,r,a):Ls(t,e.child,r,a)}function C1(e,t,r,a,h){r=r.render;var d=t.ref;return Is(t,h),a=Pf(e,t,r,a,d,h),r=Lf(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Wi(e,t,h)):(Qt&&r&&vf(t),t.flags|=1,tr(e,t,a,h),t.child)}function A1(e,t,r,a,h){if(e===null){var d=r.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,vg(e,t,d,a,h)):(e=ql(r.type,null,a,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&h)){var m=d.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(m,a)&&e.ref===t.ref)return Wi(e,t,h)}return t.flags|=1,e=_o(d,a),e.ref=t.ref,e.return=t,t.child=e}function vg(e,t,r,a,h){if(e!==null){var d=e.memoizedProps;if(ja(d,a)&&e.ref===t.ref)if(hr=!1,t.pendingProps=a=d,(e.lanes&h)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,Wi(e,t,h)}return Th(e,t,r,a,h)}function Eg(e,t,r){var a=t.pendingProps,h=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(ys,vr),vr|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(ys,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:r,Wt(ys,vr),vr|=a}else d!==null?(a=d.baseLanes|r,t.memoizedState=null):a=r,Wt(ys,vr),vr|=a;return tr(e,t,h,r),t.child}function Cg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Th(e,t,r,a,h){var d=dr(r)?Ho:Xn.current;return d=ks(t,d),Is(t,h),r=Pf(e,t,r,a,d,h),a=Lf(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Wi(e,t,h)):(Qt&&a&&vf(t),t.flags|=1,tr(e,t,r,h),t.child)}function S1(e,t,r,a,h){if(dr(r)){var d=!0;lu(t)}else d=!1;if(Is(t,h),t.stateNode===null)Xl(e,t),qp(t,r,a),Ah(t,r,a,h),a=!0;else if(e===null){var m=t.stateNode,v=t.memoizedProps;m.props=v;var E=m.context,w=r.contextType;typeof w=="object"&&w!==null?w=Ur(w):(w=dr(r)?Ho:Xn.current,w=ks(t,w));var I=r.getDerivedStateFromProps,N=typeof I=="function"||typeof m.getSnapshotBeforeUpdate=="function";N||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==a||E!==w)&&m1(t,m,a,w),oo=!1;var F=t.memoizedState;m.state=F,du(t,a,m,h),E=t.memoizedState,v!==a||F!==E||fr.current||oo?(typeof I=="function"&&(Ch(t,r,I,a),E=t.memoizedState),(v=oo||g1(t,r,v,a,F,E,w))?(N||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),m.props=a,m.state=E,m.context=w,a=v):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,Yp(e,t),v=t.memoizedProps,w=t.type===t.elementType?v:ni(t.type,v),m.props=w,N=t.pendingProps,F=m.context,E=r.contextType,typeof E=="object"&&E!==null?E=Ur(E):(E=dr(r)?Ho:Xn.current,E=ks(t,E));var W=r.getDerivedStateFromProps;(I=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==N||F!==E)&&m1(t,m,a,E),oo=!1,F=t.memoizedState,m.state=F,du(t,a,m,h);var j=t.memoizedState;v!==N||F!==j||fr.current||oo?(typeof W=="function"&&(Ch(t,r,W,a),j=t.memoizedState),(w=oo||g1(t,r,w,a,F,j,E)||!1)?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,j,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,j,E)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=j),m.props=a,m.state=j,m.context=E,a=w):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return Ih(e,t,r,a,d,h)}function Ih(e,t,r,a,h,d){Cg(e,t);var m=(t.flags&128)!==0;if(!a&&!m)return h&&c1(t,r,!1),Wi(e,t,d);a=t.stateNode,K_.current=t;var v=m&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&m?(t.child=Ls(t,e.child,null,d),t.child=Ls(t,null,v,d)):tr(e,t,v,d),t.memoizedState=a.state,h&&c1(t,r,!0),t.child}function Ag(e){var t=e.stateNode;t.pendingContext?u1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&u1(e,t.context,!1),Rf(e,t.containerInfo)}function T1(e,t,r,a,h){return Ps(),Cf(h),t.flags|=256,tr(e,t,r,a),t.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sg(e,t,r){var a=t.pendingProps,h=rn.current,d=!1,m=(t.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(h&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Wt(rn,h&1),e===null)return vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(m=a.children,e=a.fallback,d?(a=t.mode,d=t.child,m={mode:"hidden",children:m},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=m):d=Zu(m,a,0,null),e=Wo(e,a,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Rh(r),t.memoizedState=bh,e):Bf(t,m));if(h=e.memoizedState,h!==null&&(v=h.dehydrated,v!==null))return q_(e,t,m,a,v,h,r);if(d){d=a.fallback,m=t.mode,h=e.child,v=h.sibling;var E={mode:"hidden",children:a.children};return!(m&1)&&t.child!==h?(a=t.child,a.childLanes=0,a.pendingProps=E,t.deletions=null):(a=_o(h,E),a.subtreeFlags=h.subtreeFlags&14680064),v!==null?d=_o(v,d):(d=Wo(d,m,r,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,m=e.child.memoizedState,m=m===null?Rh(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~r,t.memoizedState=bh,a}return d=e.child,e=d.sibling,a=_o(d,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Bf(e,t){return t=Zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kl(e,t,r,a){return a!==null&&Cf(a),Ls(t,e.child,null,r),e=Bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q_(e,t,r,a,h,d,m){if(r)return t.flags&256?(t.flags&=-257,a=Lc(Error(_e(422))),kl(e,t,m,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,h=t.mode,a=Zu({mode:"visible",children:a.children},h,0,null),d=Wo(d,h,m,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,t.mode&1&&Ls(t,e.child,null,m),t.child.memoizedState=Rh(m),t.memoizedState=bh,d);if(!(t.mode&1))return kl(e,t,m,null);if(h.data==="$!"){if(a=h.nextSibling&&h.nextSibling.dataset,a)var v=a.dgst;return a=v,d=Error(_e(419)),a=Lc(d,a,void 0),kl(e,t,m,a)}if(v=(m&e.childLanes)!==0,hr||v){if(a=Pn,a!==null){switch(m&-m){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(a.suspendedLanes|m)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,ji(e,h),ai(a,e,h,-1))}return Hf(),a=Lc(Error(_e(421))),kl(e,t,m,a)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=uy.bind(null,e),h._reactRetry=t,null):(e=d.treeContext,Er=po(h.nextSibling),Cr=t,Qt=!0,oi=null,e!==null&&(Mr[Dr++]=Mi,Mr[Dr++]=Di,Mr[Dr++]=Vo,Mi=e.id,Di=e.overflow,Vo=t),t=Bf(t,a.children),t.flags|=4096,t)}function I1(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Eh(e.return,t,r)}function Mc(e,t,r,a,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:h}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=r,d.tailMode=h)}function Tg(e,t,r){var a=t.pendingProps,h=a.revealOrder,d=a.tail;if(tr(e,t,a.children,r),a=rn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I1(e,r,t);else if(e.tag===19)I1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Wt(rn,a),!(t.mode&1))t.memoizedState=null;else switch(h){case"forwards":for(r=t.child,h=null;r!==null;)e=r.alternate,e!==null&&pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=t.child,t.child=null):(h=r.sibling,r.sibling=null),Mc(t,!1,h,r,d);break;case"backwards":for(r=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&pu(e)===null){t.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Mc(t,!0,r,null,d);break;case"together":Mc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Go|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=_o(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_o(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q_(e,t,r){switch(t.tag){case 3:Ag(t),Ps();break;case 5:$p(t);break;case 1:dr(t.type)&&lu(t);break;case 4:Rf(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,h=t.memoizedProps.value;Wt(hu,a._currentValue),a._currentValue=h;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Wt(rn,rn.current&1),t.flags|=128,null):r&t.child.childLanes?Sg(e,t,r):(Wt(rn,rn.current&1),e=Wi(e,t,r),e!==null?e.sibling:null);Wt(rn,rn.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Tg(e,t,r);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Wt(rn,rn.current),a)break;return null;case 22:case 23:return t.lanes=0,Eg(e,t,r)}return Wi(e,t,r)}var Ig,Nh,bg,Rg;Ig=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nh=function(){};bg=function(e,t,r,a){var h=e.memoizedProps;if(h!==a){e=t.stateNode,zo(Ei.current);var d=null;switch(r){case"input":h=Jc(e,h),a=Jc(e,a),d=[];break;case"select":h=sn({},h,{value:void 0}),a=sn({},a,{value:void 0}),d=[];break;case"textarea":h=th(e,h),a=th(e,a),d=[];break;default:typeof h.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=su)}rh(r,a);var m;r=null;for(w in h)if(!a.hasOwnProperty(w)&&h.hasOwnProperty(w)&&h[w]!=null)if(w==="style"){var v=h[w];for(m in v)v.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(La.hasOwnProperty(w)?d||(d=[]):(d=d||[]).push(w,null));for(w in a){var E=a[w];if(v=h!=null?h[w]:void 0,a.hasOwnProperty(w)&&E!==v&&(E!=null||v!=null))if(w==="style")if(v){for(m in v)!v.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in E)E.hasOwnProperty(m)&&v[m]!==E[m]&&(r||(r={}),r[m]=E[m])}else r||(d||(d=[]),d.push(w,r)),r=E;else w==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(d=d||[]).push(w,E)):w==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(w,""+E):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(La.hasOwnProperty(w)?(E!=null&&w==="onScroll"&&Xt("scroll",e),d||v===E||(d=[])):(d=d||[]).push(w,E))}r&&(d=d||[]).push("style",r);var w=d;(t.updateQueue=w)&&(t.flags|=4)}};Rg=function(e,t,r,a){r!==a&&(t.flags|=4)};function fa(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags&14680064,a|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function J_(e,t,r){var a=t.pendingProps;switch(Ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(t),null;case 1:return dr(t.type)&&au(),Zn(t),null;case 3:return a=t.stateNode,Ms(),Kt(fr),Kt(Xn),Of(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oi!==null&&(Fh(oi),oi=null))),Nh(e,t),Zn(t),null;case 5:Nf(t);var h=zo(Ga.current);if(r=t.type,e!==null&&t.stateNode!=null)bg(e,t,r,a,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(_e(166));return Zn(t),null}if(e=zo(Ei.current),Nl(t)){a=t.stateNode,r=t.type;var d=t.memoizedProps;switch(a[yi]=t,a[Va]=d,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",a),Xt("close",a);break;case"iframe":case"object":case"embed":Xt("load",a);break;case"video":case"audio":for(h=0;h<va.length;h++)Xt(va[h],a);break;case"source":Xt("error",a);break;case"img":case"image":case"link":Xt("error",a),Xt("load",a);break;case"details":Xt("toggle",a);break;case"input":Dd(a,d),Xt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Xt("invalid",a);break;case"textarea":Fd(a,d),Xt("invalid",a)}rh(r,d),h=null;for(var m in d)if(d.hasOwnProperty(m)){var v=d[m];m==="children"?typeof v=="string"?a.textContent!==v&&(d.suppressHydrationWarning!==!0&&Rl(a.textContent,v,e),h=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Rl(a.textContent,v,e),h=["children",""+v]):La.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Xt("scroll",a)}switch(r){case"input":vl(a),Bd(a,d,!0);break;case"textarea":vl(a),zd(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=su)}a=h,t.updateQueue=a,a!==null&&(t.flags|=4)}else{m=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=np(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(r,{is:a.is}):(e=m.createElement(r),r==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,r),e[yi]=t,e[Va]=a,Ig(e,t,!1,!1),t.stateNode=e;e:{switch(m=ih(r,a),r){case"dialog":Xt("cancel",e),Xt("close",e),h=a;break;case"iframe":case"object":case"embed":Xt("load",e),h=a;break;case"video":case"audio":for(h=0;h<va.length;h++)Xt(va[h],e);h=a;break;case"source":Xt("error",e),h=a;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),h=a;break;case"details":Xt("toggle",e),h=a;break;case"input":Dd(e,a),h=Jc(e,a),Xt("invalid",e);break;case"option":h=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},h=sn({},a,{value:void 0}),Xt("invalid",e);break;case"textarea":Fd(e,a),h=th(e,a),Xt("invalid",e);break;default:h=a}rh(r,h),v=h;for(d in v)if(v.hasOwnProperty(d)){var E=v[d];d==="style"?op(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&rp(e,E)):d==="children"?typeof E=="string"?(r!=="textarea"||E!=="")&&Ma(e,E):typeof E=="number"&&Ma(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(La.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Xt("scroll",e):E!=null&&af(e,d,E,m))}switch(r){case"input":vl(e),Bd(e,a,!1);break;case"textarea":vl(e),zd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+wo(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Cs(e,!!a.multiple,d,!1):a.defaultValue!=null&&Cs(e,!!a.multiple,a.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=su)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zn(t),null;case 6:if(e&&t.stateNode!=null)Rg(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(_e(166));if(r=zo(Ga.current),zo(Ei.current),Nl(t)){if(a=t.stateNode,r=t.memoizedProps,a[yi]=t,(d=a.nodeValue!==r)&&(e=Cr,e!==null))switch(e.tag){case 3:Rl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rl(a.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[yi]=t,t.stateNode=a}return Zn(t),null;case 13:if(Kt(rn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&Er!==null&&t.mode&1&&!(t.flags&128))Gp(),Ps(),t.flags|=98560,d=!1;else if(d=Nl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(_e(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(_e(317));d[yi]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zn(t),d=!1}else oi!==null&&(Fh(oi),oi=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?Tn===0&&(Tn=3):Hf())),t.updateQueue!==null&&(t.flags|=4),Zn(t),null);case 4:return Ms(),Nh(e,t),e===null&&Wa(t.stateNode.containerInfo),Zn(t),null;case 10:return Tf(t.type._context),Zn(t),null;case 17:return dr(t.type)&&au(),Zn(t),null;case 19:if(Kt(rn),d=t.memoizedState,d===null)return Zn(t),null;if(a=(t.flags&128)!==0,m=d.rendering,m===null)if(a)fa(d,!1);else{if(Tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(m=pu(e),m!==null){for(t.flags|=128,fa(d,!1),a=m.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)d=r,e=a,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(rn,rn.current&1|2),t.child}e=e.sibling}d.tail!==null&&pn()>Bs&&(t.flags|=128,a=!0,fa(d,!1),t.lanes=4194304)}else{if(!a)if(e=pu(m),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fa(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Qt)return Zn(t),null}else 2*pn()-d.renderingStartTime>Bs&&r!==1073741824&&(t.flags|=128,a=!0,fa(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(r=d.last,r!==null?r.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=pn(),t.sibling=null,r=rn.current,Wt(rn,a?r&1|2:r&1),t):(Zn(t),null);case 22:case 23:return Wf(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?vr&1073741824&&(Zn(t),t.subtreeFlags&6&&(t.flags|=8192)):Zn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function $_(e,t){switch(Ef(t),t.tag){case 1:return dr(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),Kt(fr),Kt(Xn),Of(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nf(t),null;case 13:if(Kt(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(rn),null;case 4:return Ms(),null;case 10:return Tf(t.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var Pl=!1,Gn=!1,ey=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function _s(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){cn(e,t,a)}else r.current=null}function Oh(e,t,r){try{r()}catch(a){cn(e,t,a)}}var b1=!1;function ty(e,t){if(ph=ru,e=Pp(),wf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var h=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var m=0,v=-1,E=-1,w=0,I=0,N=e,F=null;t:for(;;){for(var W;N!==r||h!==0&&N.nodeType!==3||(v=m+h),N!==d||a!==0&&N.nodeType!==3||(E=m+a),N.nodeType===3&&(m+=N.nodeValue.length),(W=N.firstChild)!==null;)F=N,N=W;for(;;){if(N===e)break t;if(F===r&&++w===h&&(v=m),F===d&&++I===a&&(E=m),(W=N.nextSibling)!==null)break;N=F,F=N.parentNode}N=W}r=v===-1||E===-1?null:{start:v,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(gh={focusedElem:e,selectionRange:r},ru=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var U=j.memoizedProps,se=j.memoizedState,z=t.stateNode,M=z.getSnapshotBeforeUpdate(t.elementType===t.type?U:ni(t.type,U),se);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(D){cn(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return j=b1,b1=!1,j}function ba(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&Oh(t,r,d)}h=h.next}while(h!==a)}}function Hu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function kh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ng(e){var t=e.alternate;t!==null&&(e.alternate=null,Ng(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yi],delete t[Va],delete t[_h],delete t[B_],delete t[F_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Og(e){return e.tag===5||e.tag===3||e.tag===4}function R1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Og(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ph(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=su));else if(a!==4&&(e=e.child,e!==null))for(Ph(e,t,r),e=e.sibling;e!==null;)Ph(e,t,r),e=e.sibling}function Lh(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}var Mn=null,ri=!1;function ro(e,t,r){for(r=r.child;r!==null;)kg(e,t,r),r=r.sibling}function kg(e,t,r){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Mu,r)}catch{}switch(r.tag){case 5:Gn||_s(r,t);case 6:var a=Mn,h=ri;Mn=null,ro(e,t,r),Mn=a,ri=h,Mn!==null&&(ri?(e=Mn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mn.removeChild(r.stateNode));break;case 18:Mn!==null&&(ri?(e=Mn,r=r.stateNode,e.nodeType===8?bc(e.parentNode,r):e.nodeType===1&&bc(e,r),za(e)):bc(Mn,r.stateNode));break;case 4:a=Mn,h=ri,Mn=r.stateNode.containerInfo,ri=!0,ro(e,t,r),Mn=a,ri=h;break;case 0:case 11:case 14:case 15:if(!Gn&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){h=a=a.next;do{var d=h,m=d.destroy;d=d.tag,m!==void 0&&(d&2||d&4)&&Oh(r,t,m),h=h.next}while(h!==a)}ro(e,t,r);break;case 1:if(!Gn&&(_s(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(v){cn(r,t,v)}ro(e,t,r);break;case 21:ro(e,t,r);break;case 22:r.mode&1?(Gn=(a=Gn)||r.memoizedState!==null,ro(e,t,r),Gn=a):ro(e,t,r);break;default:ro(e,t,r)}}function N1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ey),t.forEach(function(a){var h=cy.bind(null,e,a);r.has(a)||(r.add(a),a.then(h,h))})}}function ti(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var h=r[a];try{var d=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 5:Mn=v.stateNode,ri=!1;break e;case 3:Mn=v.stateNode.containerInfo,ri=!0;break e;case 4:Mn=v.stateNode.containerInfo,ri=!0;break e}v=v.return}if(Mn===null)throw Error(_e(160));kg(d,m,h),Mn=null,ri=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(w){cn(h,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pg(t,e),t=t.sibling}function Pg(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),xi(e),a&4){try{ba(3,e,e.return),Hu(3,e)}catch(U){cn(e,e.return,U)}try{ba(5,e,e.return)}catch(U){cn(e,e.return,U)}}break;case 1:ti(t,e),xi(e),a&512&&r!==null&&_s(r,r.return);break;case 5:if(ti(t,e),xi(e),a&512&&r!==null&&_s(r,r.return),e.flags&32){var h=e.stateNode;try{Ma(h,"")}catch(U){cn(e,e.return,U)}}if(a&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,m=r!==null?r.memoizedProps:d,v=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&ep(h,d),ih(v,m);var w=ih(v,d);for(m=0;m<E.length;m+=2){var I=E[m],N=E[m+1];I==="style"?op(h,N):I==="dangerouslySetInnerHTML"?rp(h,N):I==="children"?Ma(h,N):af(h,I,N,w)}switch(v){case"input":$c(h,d);break;case"textarea":tp(h,d);break;case"select":var F=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?Cs(h,!!d.multiple,W,!1):F!==!!d.multiple&&(d.defaultValue!=null?Cs(h,!!d.multiple,d.defaultValue,!0):Cs(h,!!d.multiple,d.multiple?[]:"",!1))}h[Va]=d}catch(U){cn(e,e.return,U)}}break;case 6:if(ti(t,e),xi(e),a&4){if(e.stateNode===null)throw Error(_e(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(U){cn(e,e.return,U)}}break;case 3:if(ti(t,e),xi(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{za(t.containerInfo)}catch(U){cn(e,e.return,U)}break;case 4:ti(t,e),xi(e);break;case 13:ti(t,e),xi(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(Uf=pn())),a&4&&N1(e);break;case 22:if(I=r!==null&&r.memoizedState!==null,e.mode&1?(Gn=(w=Gn)||I,ti(t,e),Gn=w):ti(t,e),xi(e),a&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!I&&e.mode&1)for(Oe=e,I=e.child;I!==null;){for(N=Oe=I;Oe!==null;){switch(F=Oe,W=F.child,F.tag){case 0:case 11:case 14:case 15:ba(4,F,F.return);break;case 1:_s(F,F.return);var j=F.stateNode;if(typeof j.componentWillUnmount=="function"){a=F,r=F.return;try{t=a,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(U){cn(a,r,U)}}break;case 5:_s(F,F.return);break;case 22:if(F.memoizedState!==null){k1(N);continue}}W!==null?(W.return=F,Oe=W):k1(N)}I=I.sibling}e:for(I=null,N=e;;){if(N.tag===5){if(I===null){I=N;try{h=N.stateNode,w?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=N.stateNode,E=N.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=ip("display",m))}catch(U){cn(e,e.return,U)}}}else if(N.tag===6){if(I===null)try{N.stateNode.nodeValue=w?"":N.memoizedProps}catch(U){cn(e,e.return,U)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;I===N&&(I=null),N=N.return}I===N&&(I=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:ti(t,e),xi(e),a&4&&N1(e);break;case 21:break;default:ti(t,e),xi(e)}}function xi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Og(r)){var a=r;break e}r=r.return}throw Error(_e(160))}switch(a.tag){case 5:var h=a.stateNode;a.flags&32&&(Ma(h,""),a.flags&=-33);var d=R1(e);Lh(e,d,h);break;case 3:case 4:var m=a.stateNode.containerInfo,v=R1(e);Ph(e,v,m);break;default:throw Error(_e(161))}}catch(E){cn(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ny(e,t,r){Oe=e,Lg(e)}function Lg(e,t,r){for(var a=(e.mode&1)!==0;Oe!==null;){var h=Oe,d=h.child;if(h.tag===22&&a){var m=h.memoizedState!==null||Pl;if(!m){var v=h.alternate,E=v!==null&&v.memoizedState!==null||Gn;v=Pl;var w=Gn;if(Pl=m,(Gn=E)&&!w)for(Oe=h;Oe!==null;)m=Oe,E=m.child,m.tag===22&&m.memoizedState!==null?P1(h):E!==null?(E.return=m,Oe=E):P1(h);for(;d!==null;)Oe=d,Lg(d),d=d.sibling;Oe=h,Pl=v,Gn=w}O1(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,Oe=d):O1(e)}}function O1(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gn||Hu(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Gn)if(r===null)a.componentDidMount();else{var h=t.elementType===t.type?r.memoizedProps:ni(t.type,r.memoizedProps);a.componentDidUpdate(h,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&p1(t,d,a);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}p1(t,m,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&r.focus();break;case"img":E.src&&(r.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var I=w.memoizedState;if(I!==null){var N=I.dehydrated;N!==null&&za(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Gn||t.flags&512&&kh(t)}catch(F){cn(t,t.return,F)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function k1(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function P1(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hu(4,t)}catch(E){cn(t,r,E)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var h=t.return;try{a.componentDidMount()}catch(E){cn(t,h,E)}}var d=t.return;try{kh(t)}catch(E){cn(t,d,E)}break;case 5:var m=t.return;try{kh(t)}catch(E){cn(t,m,E)}}}catch(E){cn(t,t.return,E)}if(t===e){Oe=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Oe=v;break}Oe=t.return}}var ry=Math.ceil,xu=Hi.ReactCurrentDispatcher,Ff=Hi.ReactCurrentOwner,zr=Hi.ReactCurrentBatchConfig,Ct=0,Pn=null,yn=null,Dn=0,vr=0,ys=Co(0),Tn=0,qa=null,Go=0,Vu=0,zf=0,Ra=null,cr=null,Uf=0,Bs=1/0,Pi=null,_u=!1,Mh=null,mo=null,Ll=!1,uo=null,yu=0,Na=0,Dh=null,Yl=-1,Kl=0;function nr(){return Ct&6?pn():Yl!==-1?Yl:Yl=pn()}function xo(e){return e.mode&1?Ct&2&&Dn!==0?Dn&-Dn:U_.transition!==null?(Kl===0&&(Kl=xp()),Kl):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:Ap(e.type)),e):1}function ai(e,t,r,a){if(50<Na)throw Na=0,Dh=null,Error(_e(185));tl(e,r,a),(!(Ct&2)||e!==Pn)&&(e===Pn&&(!(Ct&2)&&(Vu|=r),Tn===4&&ao(e,Dn)),pr(e,a),r===1&&Ct===0&&!(t.mode&1)&&(Bs=pn()+500,Uu&&Ao()))}function pr(e,t){var r=e.callbackNode;Ux(e,t);var a=nu(e,e===Pn?Dn:0);if(a===0)r!==null&&Wd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&Wd(r),t===1)e.tag===0?z_(L1.bind(null,e)):Hp(L1.bind(null,e)),M_(function(){!(Ct&6)&&Ao()}),r=null;else{switch(_p(a)){case 1:r=ff;break;case 4:r=gp;break;case 16:r=tu;break;case 536870912:r=mp;break;default:r=tu}r=Wg(r,Mg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mg(e,t){if(Yl=-1,Kl=0,Ct&6)throw Error(_e(327));var r=e.callbackNode;if(bs()&&e.callbackNode!==r)return null;var a=nu(e,e===Pn?Dn:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=wu(e,a);else{t=a;var h=Ct;Ct|=2;var d=Bg();(Pn!==e||Dn!==t)&&(Pi=null,Bs=pn()+500,jo(e,t));do try{sy();break}catch(v){Dg(e,v)}while(1);Sf(),xu.current=d,Ct=h,yn!==null?t=0:(Pn=null,Dn=0,t=Tn)}if(t!==0){if(t===2&&(h=uh(e),h!==0&&(a=h,t=Bh(e,h))),t===1)throw r=qa,jo(e,0),ao(e,a),pr(e,pn()),r;if(t===6)ao(e,a);else{if(h=e.current.alternate,!(a&30)&&!iy(h)&&(t=wu(e,a),t===2&&(d=uh(e),d!==0&&(a=d,t=Bh(e,d))),t===1))throw r=qa,jo(e,0),ao(e,a),pr(e,pn()),r;switch(e.finishedWork=h,e.finishedLanes=a,t){case 0:case 1:throw Error(_e(345));case 2:Do(e,cr,Pi);break;case 3:if(ao(e,a),(a&130023424)===a&&(t=Uf+500-pn(),10<t)){if(nu(e,0)!==0)break;if(h=e.suspendedLanes,(h&a)!==a){nr(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=xh(Do.bind(null,e,cr,Pi),t);break}Do(e,cr,Pi);break;case 4:if(ao(e,a),(a&4194240)===a)break;for(t=e.eventTimes,h=-1;0<a;){var m=31-si(a);d=1<<m,m=t[m],m>h&&(h=m),a&=~d}if(a=h,a=pn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ry(a/1960))-a,10<a){e.timeoutHandle=xh(Do.bind(null,e,cr,Pi),a);break}Do(e,cr,Pi);break;case 5:Do(e,cr,Pi);break;default:throw Error(_e(329))}}}return pr(e,pn()),e.callbackNode===r?Mg.bind(null,e):null}function Bh(e,t){var r=Ra;return e.current.memoizedState.isDehydrated&&(jo(e,t).flags|=256),e=wu(e,t),e!==2&&(t=cr,cr=r,t!==null&&Fh(t)),e}function Fh(e){cr===null?cr=e:cr.push.apply(cr,e)}function iy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var h=r[a],d=h.getSnapshot;h=h.value;try{if(!li(d(),h))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ao(e,t){for(t&=~zf,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-si(t),a=1<<r;e[r]=-1,t&=~a}}function L1(e){if(Ct&6)throw Error(_e(327));bs();var t=nu(e,0);if(!(t&1))return pr(e,pn()),null;var r=wu(e,t);if(e.tag!==0&&r===2){var a=uh(e);a!==0&&(t=a,r=Bh(e,a))}if(r===1)throw r=qa,jo(e,0),ao(e,t),pr(e,pn()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,cr,Pi),pr(e,pn()),null}function jf(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(Bs=pn()+500,Uu&&Ao())}}function Xo(e){uo!==null&&uo.tag===0&&!(Ct&6)&&bs();var t=Ct;Ct|=1;var r=zr.transition,a=Pt;try{if(zr.transition=null,Pt=1,e)return e()}finally{Pt=a,zr.transition=r,Ct=t,!(Ct&6)&&Ao()}}function Wf(){vr=ys.current,Kt(ys)}function jo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,L_(r)),yn!==null)for(r=yn.return;r!==null;){var a=r;switch(Ef(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&au();break;case 3:Ms(),Kt(fr),Kt(Xn),Of();break;case 5:Nf(a);break;case 4:Ms();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:Tf(a.type._context);break;case 22:case 23:Wf()}r=r.return}if(Pn=e,yn=e=_o(e.current,null),Dn=vr=t,Tn=0,qa=null,zf=Vu=Go=0,cr=Ra=null,Fo!==null){for(t=0;t<Fo.length;t++)if(r=Fo[t],a=r.interleaved,a!==null){r.interleaved=null;var h=a.next,d=r.pending;if(d!==null){var m=d.next;d.next=h,a.next=m}r.pending=a}Fo=null}return e}function Dg(e,t){do{var r=yn;try{if(Sf(),Zl.current=mu,gu){for(var a=on.memoizedState;a!==null;){var h=a.queue;h!==null&&(h.pending=null),a=a.next}gu=!1}if(Zo=0,kn=Sn=on=null,Ia=!1,Xa=0,Ff.current=null,r===null||r.return===null){Tn=1,qa=t,yn=null;break}e:{var d=e,m=r.return,v=r,E=t;if(t=Dn,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var w=E,I=v,N=I.tag;if(!(I.mode&1)&&(N===0||N===11||N===15)){var F=I.alternate;F?(I.updateQueue=F.updateQueue,I.memoizedState=F.memoizedState,I.lanes=F.lanes):(I.updateQueue=null,I.memoizedState=null)}var W=v1(m);if(W!==null){W.flags&=-257,E1(W,m,v,d,t),W.mode&1&&w1(d,w,t),t=W,E=w;var j=t.updateQueue;if(j===null){var U=new Set;U.add(E),t.updateQueue=U}else j.add(E);break e}else{if(!(t&1)){w1(d,w,t),Hf();break e}E=Error(_e(426))}}else if(Qt&&v.mode&1){var se=v1(m);if(se!==null){!(se.flags&65536)&&(se.flags|=256),E1(se,m,v,d,t),Cf(Ds(E,v));break e}}d=E=Ds(E,v),Tn!==4&&(Tn=2),Ra===null?Ra=[d]:Ra.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var z=yg(d,E,t);d1(d,z);break e;case 1:v=E;var M=d.type,B=d.stateNode;if(!(d.flags&128)&&(typeof M.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(mo===null||!mo.has(B)))){d.flags|=65536,t&=-t,d.lanes|=t;var D=wg(d,v,t);d1(d,D);break e}}d=d.return}while(d!==null)}zg(r)}catch(ue){t=ue,yn===r&&r!==null&&(yn=r=r.return);continue}break}while(1)}function Bg(){var e=xu.current;return xu.current=mu,e===null?mu:e}function Hf(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Pn===null||!(Go&268435455)&&!(Vu&268435455)||ao(Pn,Dn)}function wu(e,t){var r=Ct;Ct|=2;var a=Bg();(Pn!==e||Dn!==t)&&(Pi=null,jo(e,t));do try{oy();break}catch(h){Dg(e,h)}while(1);if(Sf(),Ct=r,xu.current=a,yn!==null)throw Error(_e(261));return Pn=null,Dn=0,Tn}function oy(){for(;yn!==null;)Fg(yn)}function sy(){for(;yn!==null&&!Ox();)Fg(yn)}function Fg(e){var t=jg(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?zg(e):yn=t,Ff.current=null}function zg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$_(r,t),r!==null){r.flags&=32767,yn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tn=6,yn=null;return}}else if(r=J_(r,t,vr),r!==null){yn=r;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);Tn===0&&(Tn=5)}function Do(e,t,r){var a=Pt,h=zr.transition;try{zr.transition=null,Pt=1,ay(e,t,r,a)}finally{zr.transition=h,Pt=a}return null}function ay(e,t,r,a){do bs();while(uo!==null);if(Ct&6)throw Error(_e(327));r=e.finishedWork;var h=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(jx(e,d),e===Pn&&(yn=Pn=null,Dn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ll||(Ll=!0,Wg(tu,function(){return bs(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=zr.transition,zr.transition=null;var m=Pt;Pt=1;var v=Ct;Ct|=4,Ff.current=null,ty(e,r),Pg(r,e),I_(gh),ru=!!ph,gh=ph=null,e.current=r,ny(r),kx(),Ct=v,Pt=m,zr.transition=d}else e.current=r;if(Ll&&(Ll=!1,uo=e,yu=h),d=e.pendingLanes,d===0&&(mo=null),Mx(r.stateNode),pr(e,pn()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)h=t[r],a(h.value,{componentStack:h.stack,digest:h.digest});if(_u)throw _u=!1,e=Mh,Mh=null,e;return yu&1&&e.tag!==0&&bs(),d=e.pendingLanes,d&1?e===Dh?Na++:(Na=0,Dh=e):Na=0,Ao(),null}function bs(){if(uo!==null){var e=_p(yu),t=zr.transition,r=Pt;try{if(zr.transition=null,Pt=16>e?16:e,uo===null)var a=!1;else{if(e=uo,uo=null,yu=0,Ct&6)throw Error(_e(331));var h=Ct;for(Ct|=4,Oe=e.current;Oe!==null;){var d=Oe,m=d.child;if(Oe.flags&16){var v=d.deletions;if(v!==null){for(var E=0;E<v.length;E++){var w=v[E];for(Oe=w;Oe!==null;){var I=Oe;switch(I.tag){case 0:case 11:case 15:ba(8,I,d)}var N=I.child;if(N!==null)N.return=I,Oe=N;else for(;Oe!==null;){I=Oe;var F=I.sibling,W=I.return;if(Ng(I),I===w){Oe=null;break}if(F!==null){F.return=W,Oe=F;break}Oe=W}}}var j=d.alternate;if(j!==null){var U=j.child;if(U!==null){j.child=null;do{var se=U.sibling;U.sibling=null,U=se}while(U!==null)}}Oe=d}}if(d.subtreeFlags&2064&&m!==null)m.return=d,Oe=m;else e:for(;Oe!==null;){if(d=Oe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ba(9,d,d.return)}var z=d.sibling;if(z!==null){z.return=d.return,Oe=z;break e}Oe=d.return}}var M=e.current;for(Oe=M;Oe!==null;){m=Oe;var B=m.child;if(m.subtreeFlags&2064&&B!==null)B.return=m,Oe=B;else e:for(m=M;Oe!==null;){if(v=Oe,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Hu(9,v)}}catch(ue){cn(v,v.return,ue)}if(v===m){Oe=null;break e}var D=v.sibling;if(D!==null){D.return=v.return,Oe=D;break e}Oe=v.return}}if(Ct=h,Ao(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Mu,e)}catch{}a=!0}return a}finally{Pt=r,zr.transition=t}}return!1}function M1(e,t,r){t=Ds(r,t),t=yg(e,t,1),e=go(e,t,1),t=nr(),e!==null&&(tl(e,1,t),pr(e,t))}function cn(e,t,r){if(e.tag===3)M1(e,e,r);else for(;t!==null;){if(t.tag===3){M1(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(mo===null||!mo.has(a))){e=Ds(r,e),e=wg(t,e,1),t=go(t,e,1),e=nr(),t!==null&&(tl(t,1,e),pr(t,e));break}}t=t.return}}function ly(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&r,Pn===e&&(Dn&r)===r&&(Tn===4||Tn===3&&(Dn&130023424)===Dn&&500>pn()-Uf?jo(e,0):zf|=r),pr(e,t)}function Ug(e,t){t===0&&(e.mode&1?(t=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):t=1);var r=nr();e=ji(e,t),e!==null&&(tl(e,t,r),pr(e,r))}function uy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ug(e,r)}function cy(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(_e(314))}a!==null&&a.delete(t),Ug(e,r)}var jg;jg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||fr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,Q_(e,t,r);hr=!!(e.flags&131072)}else hr=!1,Qt&&t.flags&1048576&&Vp(t,cu,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Xl(e,t),e=t.pendingProps;var h=ks(t,Xn.current);Is(t,r),h=Pf(null,t,a,e,h,r);var d=Lf();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dr(a)?(d=!0,lu(t)):d=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,bf(t),h.updater=ju,t.stateNode=h,h._reactInternals=t,Ah(t,a,e,r),t=Ih(null,t,a,!0,d,r)):(t.tag=0,Qt&&d&&vf(t),tr(null,t,h,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Xl(e,t),e=t.pendingProps,h=a._init,a=h(a._payload),t.type=a,h=t.tag=fy(a),e=ni(a,e),h){case 0:t=Th(null,t,a,e,r);break e;case 1:t=S1(null,t,a,e,r);break e;case 11:t=C1(null,t,a,e,r);break e;case 14:t=A1(null,t,a,ni(a.type,e),r);break e}throw Error(_e(306,a,""))}return t;case 0:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:ni(a,h),Th(e,t,a,h,r);case 1:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:ni(a,h),S1(e,t,a,h,r);case 3:e:{if(Ag(t),e===null)throw Error(_e(387));a=t.pendingProps,d=t.memoizedState,h=d.element,Yp(e,t),du(t,a,null,r);var m=t.memoizedState;if(a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){h=Ds(Error(_e(423)),t),t=T1(e,t,a,r,h);break e}else if(a!==h){h=Ds(Error(_e(424)),t),t=T1(e,t,a,r,h);break e}else for(Er=po(t.stateNode.containerInfo.firstChild),Cr=t,Qt=!0,oi=null,r=Jp(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ps(),a===h){t=Wi(e,t,r);break e}tr(e,t,a,r)}t=t.child}return t;case 5:return $p(t),e===null&&vh(t),a=t.type,h=t.pendingProps,d=e!==null?e.memoizedProps:null,m=h.children,mh(a,h)?m=null:d!==null&&mh(a,d)&&(t.flags|=32),Cg(e,t),tr(e,t,m,r),t.child;case 6:return e===null&&vh(t),null;case 13:return Sg(e,t,r);case 4:return Rf(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ls(t,null,a,r):tr(e,t,a,r),t.child;case 11:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:ni(a,h),C1(e,t,a,h,r);case 7:return tr(e,t,t.pendingProps,r),t.child;case 8:return tr(e,t,t.pendingProps.children,r),t.child;case 12:return tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,h=t.pendingProps,d=t.memoizedProps,m=h.value,Wt(hu,a._currentValue),a._currentValue=m,d!==null)if(li(d.value,m)){if(d.children===h.children&&!fr.current){t=Wi(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){m=d.child;for(var E=v.firstContext;E!==null;){if(E.context===a){if(d.tag===1){E=Fi(-1,r&-r),E.tag=2;var w=d.updateQueue;if(w!==null){w=w.shared;var I=w.pending;I===null?E.next=E:(E.next=I.next,I.next=E),w.pending=E}}d.lanes|=r,E=d.alternate,E!==null&&(E.lanes|=r),Eh(d.return,r,t),v.lanes|=r;break}E=E.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(_e(341));m.lanes|=r,v=m.alternate,v!==null&&(v.lanes|=r),Eh(m,r,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}tr(e,t,h.children,r),t=t.child}return t;case 9:return h=t.type,a=t.pendingProps.children,Is(t,r),h=Ur(h),a=a(h),t.flags|=1,tr(e,t,a,r),t.child;case 14:return a=t.type,h=ni(a,t.pendingProps),h=ni(a.type,h),A1(e,t,a,h,r);case 15:return vg(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:ni(a,h),Xl(e,t),t.tag=1,dr(a)?(e=!0,lu(t)):e=!1,Is(t,r),qp(t,a,h),Ah(t,a,h,r),Ih(null,t,a,!0,e,r);case 19:return Tg(e,t,r);case 22:return Eg(e,t,r)}throw Error(_e(156,t.tag))};function Wg(e,t){return pp(e,t)}function hy(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,r,a){return new hy(e,t,r,a)}function Vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fy(e){if(typeof e=="function")return Vf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uf)return 11;if(e===cf)return 14}return 2}function _o(e,t){var r=e.alternate;return r===null?(r=Br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ql(e,t,r,a,h,d){var m=2;if(a=e,typeof e=="function")Vf(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case us:return Wo(r.children,h,d,t);case lf:m=8,h|=8;break;case Yc:return e=Br(12,r,t,h|2),e.elementType=Yc,e.lanes=d,e;case Kc:return e=Br(13,r,t,h),e.elementType=Kc,e.lanes=d,e;case qc:return e=Br(19,r,t,h),e.elementType=qc,e.lanes=d,e;case Q0:return Zu(r,h,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K0:m=10;break e;case q0:m=9;break e;case uf:m=11;break e;case cf:m=14;break e;case io:m=16,a=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Br(m,r,t,h),t.elementType=e,t.type=a,t.lanes=d,t}function Wo(e,t,r,a){return e=Br(7,e,a,t),e.lanes=r,e}function Zu(e,t,r,a){return e=Br(22,e,a,t),e.elementType=Q0,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return e=Br(6,e,null,t),e.lanes=r,e}function Bc(e,t,r){return t=Br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dy(e,t,r,a,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=a,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Zf(e,t,r,a,h,d,m,v,E){return e=new dy(e,t,r,v,E),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Br(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(d),e}function py(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Hg(e){if(!e)return vo;e=e._reactInternals;e:{if(qo(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(dr(r))return Wp(e,r,t)}return t}function Vg(e,t,r,a,h,d,m,v,E){return e=Zf(r,a,!0,e,h,d,m,v,E),e.context=Hg(null),r=e.current,a=nr(),h=xo(r),d=Fi(a,h),d.callback=t??null,go(r,d,h),e.current.lanes=h,tl(e,h,a),pr(e,a),e}function Gu(e,t,r,a){var h=t.current,d=nr(),m=xo(h);return r=Hg(r),t.context===null?t.context=r:t.pendingContext=r,t=Fi(d,m),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=go(h,t,m),e!==null&&(ai(e,h,m,d),Vl(e,h,m)),m}function vu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gf(e,t){D1(e,t),(e=e.alternate)&&D1(e,t)}function gy(){return null}var Zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xf(e){this._internalRoot=e}Xu.prototype.render=Xf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Gu(e,t,null,null)};Xu.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xo(function(){Gu(null,e,null,null)}),t[Ui]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<so.length&&t!==0&&t<so[r].priority;r++);so.splice(r,0,e),r===0&&Cp(e)}};function Yf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B1(){}function my(e,t,r,a,h){if(h){if(typeof a=="function"){var d=a;a=function(){var w=vu(m);d.call(w)}}var m=Vg(t,a,e,0,null,!1,!1,"",B1);return e._reactRootContainer=m,e[Ui]=m.current,Wa(e.nodeType===8?e.parentNode:e),Xo(),m}for(;h=e.lastChild;)e.removeChild(h);if(typeof a=="function"){var v=a;a=function(){var w=vu(E);v.call(w)}}var E=Zf(e,0,!1,null,null,!1,!1,"",B1);return e._reactRootContainer=E,e[Ui]=E.current,Wa(e.nodeType===8?e.parentNode:e),Xo(function(){Gu(t,E,r,a)}),E}function Ku(e,t,r,a,h){var d=r._reactRootContainer;if(d){var m=d;if(typeof h=="function"){var v=h;h=function(){var E=vu(m);v.call(E)}}Gu(t,m,e,h)}else m=my(r,t,e,h,a);return vu(m)}yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wa(t.pendingLanes);r!==0&&(df(t,r|1),pr(t,pn()),!(Ct&6)&&(Bs=pn()+500,Ao()))}break;case 13:Xo(function(){var a=ji(e,1);if(a!==null){var h=nr();ai(a,e,1,h)}}),Gf(e,1)}};pf=function(e){if(e.tag===13){var t=ji(e,134217728);if(t!==null){var r=nr();ai(t,e,134217728,r)}Gf(e,134217728)}};wp=function(e){if(e.tag===13){var t=xo(e),r=ji(e,t);if(r!==null){var a=nr();ai(r,e,t,a)}Gf(e,t)}};vp=function(){return Pt};Ep=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};sh=function(e,t,r){switch(t){case"input":if($c(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var h=zu(a);if(!h)throw Error(_e(90));$0(a),$c(a,h)}}}break;case"textarea":tp(e,r);break;case"select":t=r.value,t!=null&&Cs(e,!!r.multiple,t,!1)}};lp=jf;up=Xo;var xy={usingClientEntryPoint:!1,Events:[rl,ds,zu,sp,ap,jf]},da={findFiberByHostInstance:Bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_y={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fp(e),e===null?null:e.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Mu=Ml.inject(_y),vi=Ml}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xy;Sr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(t))throw Error(_e(200));return py(e,t,null,r)};Sr.createRoot=function(e,t){if(!Yf(e))throw Error(_e(299));var r=!1,a="",h=Zg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Zf(e,1,!1,null,null,r,!1,a,h),e[Ui]=t.current,Wa(e.nodeType===8?e.parentNode:e),new Xf(t)};Sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=fp(t),e=e===null?null:e.stateNode,e};Sr.flushSync=function(e){return Xo(e)};Sr.hydrate=function(e,t,r){if(!Yu(t))throw Error(_e(200));return Ku(null,e,t,!0,r)};Sr.hydrateRoot=function(e,t,r){if(!Yf(e))throw Error(_e(405));var a=r!=null&&r.hydratedSources||null,h=!1,d="",m=Zg;if(r!=null&&(r.unstable_strictMode===!0&&(h=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=Vg(t,null,e,1,r??null,h,!1,d,m),e[Ui]=t.current,Wa(e),a)for(e=0;e<a.length;e++)r=a[e],h=r._getVersion,h=h(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,h]:t.mutableSourceEagerHydrationData.push(r,h);return new Xu(t)};Sr.render=function(e,t,r){if(!Yu(t))throw Error(_e(200));return Ku(null,e,t,!1,r)};Sr.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(_e(40));return e._reactRootContainer?(Xo(function(){Ku(null,null,e,!1,function(){e._reactRootContainer=null,e[Ui]=null})}),!0):!1};Sr.unstable_batchedUpdates=jf;Sr.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Yu(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return Ku(e,t,r,!1,a)};Sr.version="18.2.0-next-9e3b772b8-20220608";function Gg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gg)}catch(e){console.error(e)}}Gg(),V0.exports=Sr;var Xg=V0.exports,F1=Xg;Gc.createRoot=F1.createRoot,Gc.hydrateRoot=F1.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nn.apply(this,arguments)}var fn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fn||(fn={}));const z1="popstate";function yy(e){e===void 0&&(e={});function t(a,h){let{pathname:d,search:m,hash:v}=a.location;return Qa("",{pathname:d,search:m,hash:v},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function r(a,h){return typeof h=="string"?h:ol(h)}return vy(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wy(){return Math.random().toString(36).substr(2,8)}function U1(e,t){return{usr:e.state,key:e.key,idx:t}}function Qa(e,t,r,a){return r===void 0&&(r=null),nn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vi(t):t,{state:r,key:t&&t.key||a||wy()})}function ol(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Vi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function vy(e,t,r,a){a===void 0&&(a={});let{window:h=document.defaultView,v5Compat:d=!1}=a,m=h.history,v=fn.Pop,E=null,w=I();w==null&&(w=0,m.replaceState(nn({},m.state,{idx:w}),""));function I(){return(m.state||{idx:null}).idx}function N(){v=fn.Pop;let se=I(),z=se==null?null:se-w;w=se,E&&E({action:v,location:U.location,delta:z})}function F(se,z){v=fn.Push;let M=Qa(U.location,se,z);r&&r(M,se),w=I()+1;let B=U1(M,w),D=U.createHref(M);try{m.pushState(B,"",D)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;h.location.assign(D)}d&&E&&E({action:v,location:U.location,delta:1})}function W(se,z){v=fn.Replace;let M=Qa(U.location,se,z);r&&r(M,se),w=I();let B=U1(M,w),D=U.createHref(M);m.replaceState(B,"",D),d&&E&&E({action:v,location:U.location,delta:0})}function j(se){let z=h.location.origin!=="null"?h.location.origin:h.location.href,M=typeof se=="string"?se:ol(se);return ht(z,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,z)}let U={get action(){return v},get location(){return e(h,m)},listen(se){if(E)throw new Error("A history only accepts one active listener");return h.addEventListener(z1,N),E=se,()=>{h.removeEventListener(z1,N),E=null}},createHref(se){return t(h,se)},createURL:j,encodeLocation(se){let z=j(se);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:F,replace:W,go(se){return m.go(se)}};return U}var dn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dn||(dn={}));const Ey=new Set(["lazy","caseSensitive","path","id","index","children"]);function Cy(e){return e.index===!0}function zh(e,t,r,a){return r===void 0&&(r=[]),a===void 0&&(a={}),e.map((h,d)=>{let m=[...r,d],v=typeof h.id=="string"?h.id:m.join("-");if(ht(h.index!==!0||!h.children,"Cannot specify children on an index route"),ht(!a[v],'Found a route id collision on id "'+v+`".  Route id's must be globally unique within Data Router usages`),Cy(h)){let E=nn({},h,t(h),{id:v});return a[v]=E,E}else{let E=nn({},h,t(h),{id:v,children:void 0});return a[v]=E,h.children&&(E.children=zh(h.children,t,m,a)),E}})}function ws(e,t,r){r===void 0&&(r="/");let a=typeof t=="string"?Vi(t):t,h=sl(a.pathname||"/",r);if(h==null)return null;let d=Yg(e);Sy(d);let m=null;for(let v=0;m==null&&v<d.length;++v)m=Ly(d[v],By(h));return m}function Ay(e,t){let{route:r,pathname:a,params:h}=e;return{id:r.id,pathname:a,params:h,data:t[r.id],handle:r.handle}}function Yg(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let h=(d,m,v)=>{let E={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};E.relativePath.startsWith("/")&&(ht(E.relativePath.startsWith(a),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(a.length));let w=yo([a,E.relativePath]),I=r.concat(E);d.children&&d.children.length>0&&(ht(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Yg(d.children,t,I,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:ky(w,d.index),routesMeta:I})};return e.forEach((d,m)=>{var v;if(d.path===""||!((v=d.path)!=null&&v.includes("?")))h(d,m);else for(let E of Kg(d.path))h(d,m,E)}),t}function Kg(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,h=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return h?[d,""]:[d];let m=Kg(a.join("/")),v=[];return v.push(...m.map(E=>E===""?d:[d,E].join("/"))),h&&v.push(...m),v.map(E=>e.startsWith("/")&&E===""?"/":E)}function Sy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Py(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Ty=/^:\w+$/,Iy=3,by=2,Ry=1,Ny=10,Oy=-2,j1=e=>e==="*";function ky(e,t){let r=e.split("/"),a=r.length;return r.some(j1)&&(a+=Oy),t&&(a+=by),r.filter(h=>!j1(h)).reduce((h,d)=>h+(Ty.test(d)?Iy:d===""?Ry:Ny),a)}function Py(e,t){return e.length===t.length&&e.slice(0,-1).every((a,h)=>a===t[h])?e[e.length-1]-t[t.length-1]:0}function Ly(e,t){let{routesMeta:r}=e,a={},h="/",d=[];for(let m=0;m<r.length;++m){let v=r[m],E=m===r.length-1,w=h==="/"?t:t.slice(h.length)||"/",I=My({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},w);if(!I)return null;Object.assign(a,I.params);let N=v.route;d.push({params:a,pathname:yo([h,I.pathname]),pathnameBase:jy(yo([h,I.pathnameBase])),route:N}),I.pathnameBase!=="/"&&(h=yo([h,I.pathnameBase]))}return d}function My(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Dy(e.path,e.caseSensitive,e.end),h=t.match(r);if(!h)return null;let d=h[0],m=d.replace(/(.)\/+$/,"$1"),v=h.slice(1);return{params:a.reduce((w,I,N)=>{if(I==="*"){let F=v[N]||"";m=d.slice(0,d.length-F.length).replace(/(.)\/+$/,"$1")}return w[I]=Fy(v[N]||"",I),w},{}),pathname:d,pathnameBase:m,pattern:e}}function Dy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],h="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(m,v)=>(a.push(v),"/([^\\/]+)"));return e.endsWith("*")?(a.push("*"),h+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?h+="\\/*$":e!==""&&e!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,t?void 0:"i"),a]}function By(e){try{return decodeURI(e)}catch(t){return Yo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fy(e,t){try{return decodeURIComponent(e)}catch(r){return Yo(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function sl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function zy(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:h=""}=typeof e=="string"?Vi(e):e;return{pathname:r?r.startsWith("/")?r:Uy(r,t):t,search:Wy(a),hash:Hy(h)}}function Uy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(h=>{h===".."?r.length>1&&r.pop():h!=="."&&r.push(h)}),r.length>1?r.join("/"):"/"}function Fc(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qu(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kf(e,t,r,a){a===void 0&&(a=!1);let h;typeof e=="string"?h=Vi(e):(h=nn({},e),ht(!h.pathname||!h.pathname.includes("?"),Fc("?","pathname","search",h)),ht(!h.pathname||!h.pathname.includes("#"),Fc("#","pathname","hash",h)),ht(!h.search||!h.search.includes("#"),Fc("#","search","hash",h)));let d=e===""||h.pathname==="",m=d?"/":h.pathname,v;if(a||m==null)v=r;else{let N=t.length-1;if(m.startsWith("..")){let F=m.split("/");for(;F[0]==="..";)F.shift(),N-=1;h.pathname=F.join("/")}v=N>=0?t[N]:"/"}let E=zy(h,v),w=m&&m!=="/"&&m.endsWith("/"),I=(d||m===".")&&r.endsWith("/");return!E.pathname.endsWith("/")&&(w||I)&&(E.pathname+="/"),E}const yo=e=>e.join("/").replace(/\/\/+/g,"/"),jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class qf{constructor(t,r,a,h){h===void 0&&(h=!1),this.status=t,this.statusText=r||"",this.internal=h,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function qg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qg=["post","put","patch","delete"],Vy=new Set(Qg),Zy=["get",...Qg],Gy=new Set(Zy),Xy=new Set([301,302,303,307,308]),Yy=new Set([307,308]),zc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ky={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qy=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),$g="remix-router-transitions";function Qy(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!r;ht(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let h;if(e.mapRouteProperties)h=e.mapRouteProperties;else if(e.detectErrorBoundary){let G=e.detectErrorBoundary;h=te=>({hasErrorBoundary:G(te)})}else h=qy;let d={},m=zh(e.routes,h,void 0,d),v,E=e.basename||"/",w=nn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),I=null,N=new Set,F=null,W=null,j=null,U=e.hydrationData!=null,se=ws(m,e.history.location,E),z=null;if(se==null){let G=Lr(404,{pathname:e.history.location.pathname}),{matches:te,route:ce}=K1(m);se=te,z={[ce.id]:G}}let M=!se.some(G=>G.route.lazy)&&(!se.some(G=>G.route.loader)||e.hydrationData!=null),B,D={historyAction:e.history.action,location:e.history.location,matches:se,initialized:M,navigation:zc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||z,fetchers:new Map,blockers:new Map},ue=fn.Pop,ie=!1,X,le=!1,re=new Map,ze=null,He=!1,Se=!1,Je=[],ft=[],Q=new Map,$e=0,De=-1,oe=new Map,ke=new Set,pe=new Map,Be=new Map,Le=new Map,Tt=!1;function Ge(){if(I=e.history.listen(G=>{let{action:te,location:ce,delta:Te}=G;if(Tt){Tt=!1;return}Yo(Le.size===0||Te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=Gi({currentLocation:D.location,nextLocation:ce,historyAction:te});if(we&&Te!=null){Tt=!0,e.history.go(Te*-1),an(we,{state:"blocked",location:ce,proceed(){an(we,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),e.history.go(Te)},reset(){let Fe=new Map(D.blockers);Fe.set(we,pa),at({blockers:Fe})}});return}return Bt(te,ce)}),r){lw(t,re);let G=()=>uw(t,re);t.addEventListener("pagehide",G),ze=()=>t.removeEventListener("pagehide",G)}return D.initialized||Bt(fn.Pop,D.location),B}function rt(){I&&I(),ze&&ze(),N.clear(),X&&X.abort(),D.fetchers.forEach((G,te)=>Gr(te)),D.blockers.forEach((G,te)=>ar(te))}function ge(G){return N.add(G),()=>N.delete(G)}function at(G,te){D=nn({},D,G),N.forEach(ce=>ce(D,{unstable_viewTransitionOpts:te}))}function wt(G,te){var ce,Te;let we=D.actionData!=null&&D.navigation.formMethod!=null&&ii(D.navigation.formMethod)&&D.navigation.state==="loading"&&((ce=G.state)==null?void 0:ce._isRedirect)!==!0,Fe;te.actionData?Object.keys(te.actionData).length>0?Fe=te.actionData:Fe=null:we?Fe=D.actionData:Fe=null;let Ze=te.loaderData?Y1(D.loaderData,te.loaderData,te.matches||[],te.errors):D.loaderData,je=D.blockers;je.size>0&&(je=new Map(je),je.forEach((Qe,Ke)=>je.set(Ke,pa)));let Re=ie===!0||D.navigation.formMethod!=null&&ii(D.navigation.formMethod)&&((Te=G.state)==null?void 0:Te._isRedirect)!==!0;v&&(m=v,v=void 0),He||ue===fn.Pop||(ue===fn.Push?e.history.push(G,G.state):ue===fn.Replace&&e.history.replace(G,G.state));let vt;if(ue===fn.Pop){let Qe=re.get(D.location.pathname);Qe&&Qe.has(G.pathname)?vt={currentLocation:D.location,nextLocation:G}:re.has(G.pathname)&&(vt={currentLocation:G,nextLocation:D.location})}else if(le){let Qe=re.get(D.location.pathname);Qe?Qe.add(G.pathname):(Qe=new Set([G.pathname]),re.set(D.location.pathname,Qe)),vt={currentLocation:D.location,nextLocation:G}}at(nn({},te,{actionData:Fe,loaderData:Ze,historyAction:ue,location:G,initialized:!0,navigation:zc,revalidation:"idle",restoreScrollPosition:Ht(G,te.matches||D.matches),preventScrollReset:Re,blockers:je}),vt),ue=fn.Pop,ie=!1,le=!1,He=!1,Se=!1,Je=[],ft=[]}async function Wr(G,te){if(typeof G=="number"){e.history.go(G);return}let ce=Uh(D.location,D.matches,E,w.v7_prependBasename,G,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:Te,submission:we,error:Fe}=W1(w.v7_normalizeFormMethod,!1,ce,te),Ze=D.location,je=Qa(D.location,Te,te&&te.state);je=nn({},je,e.history.encodeLocation(je));let Re=te&&te.replace!=null?te.replace:void 0,vt=fn.Push;Re===!0?vt=fn.Replace:Re===!1||we!=null&&ii(we.formMethod)&&we.formAction===D.location.pathname+D.location.search&&(vt=fn.Replace);let Qe=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Ke=Gi({currentLocation:Ze,nextLocation:je,historyAction:vt});if(Ke){an(Ke,{state:"blocked",location:je,proceed(){an(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Wr(G,te)},reset(){let dt=new Map(D.blockers);dt.set(Ke,pa),at({blockers:dt})}});return}return await Bt(vt,je,{submission:we,pendingError:Fe,preventScrollReset:Qe,replace:te&&te.replace,enableViewTransition:te&&te.unstable_viewTransition})}function Hr(){if(Zr(),at({revalidation:"loading"}),D.navigation.state!=="submitting"){if(D.navigation.state==="idle"){Bt(D.historyAction,D.location,{startUninterruptedRevalidation:!0});return}Bt(ue||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation})}}async function Bt(G,te,ce){X&&X.abort(),X=null,ue=G,He=(ce&&ce.startUninterruptedRevalidation)===!0,ye(D.location,D.matches),ie=(ce&&ce.preventScrollReset)===!0,le=(ce&&ce.enableViewTransition)===!0;let Te=v||m,we=ce&&ce.overrideNavigation,Fe=ws(Te,te,E);if(!Fe){let dt=Lr(404,{pathname:te.pathname}),{matches:xt,route:Yr}=K1(Te);Xr(),wt(te,{matches:xt,loaderData:{},errors:{[Yr.id]:dt}});return}if(D.initialized&&!Se&&nw(D.location,te)&&!(ce&&ce.submission&&ii(ce.submission.formMethod))){wt(te,{matches:Fe});return}X=new AbortController;let Ze=ma(e.history,te,X.signal,ce&&ce.submission),je,Re;if(ce&&ce.pendingError)Re={[vs(Fe).route.id]:ce.pendingError};else if(ce&&ce.submission&&ii(ce.submission.formMethod)){let dt=await Ir(Ze,te,ce.submission,Fe,{replace:ce.replace});if(dt.shortCircuited)return;je=dt.pendingActionData,Re=dt.pendingActionError,we=Uc(te,ce.submission),Ze=new Request(Ze.url,{signal:Ze.signal})}let{shortCircuited:vt,loaderData:Qe,errors:Ke}=await lt(Ze,te,Fe,we,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,je,Re);vt||(X=null,wt(te,nn({matches:Fe},je?{actionData:je}:{},{loaderData:Qe,errors:Ke})))}async function Ir(G,te,ce,Te,we){we===void 0&&(we={}),Zr();let Fe=sw(te,ce);at({navigation:Fe});let Ze,je=Wh(Te,te);if(!je.route.action&&!je.route.lazy)Ze={type:dn.error,error:Lr(405,{method:G.method,pathname:te.pathname,routeId:je.route.id})};else if(Ze=await ga("action",G,je,Te,d,h,E),G.signal.aborted)return{shortCircuited:!0};if(Rs(Ze)){let Re;return we&&we.replace!=null?Re=we.replace:Re=Ze.location===D.location.pathname+D.location.search,await ut(D,Ze,{submission:ce,replace:Re}),{shortCircuited:!0}}if(Oa(Ze)){let Re=vs(Te,je.route.id);return(we&&we.replace)!==!0&&(ue=fn.Push),{pendingActionData:{},pendingActionError:{[Re.route.id]:Ze.error}}}if(Uo(Ze))throw Lr(400,{type:"defer-action"});return{pendingActionData:{[je.route.id]:Ze.data}}}async function lt(G,te,ce,Te,we,Fe,Ze,je,Re){let vt=Te||Uc(te,we),Qe=we||Fe||J1(vt),Ke=v||m,[dt,xt]=H1(e.history,D,ce,Qe,te,Se,Je,ft,pe,ke,Ke,E,je,Re);if(Xr(ot=>!(ce&&ce.some($t=>$t.route.id===ot))||dt&&dt.some($t=>$t.route.id===ot)),De=++$e,dt.length===0&&xt.length===0){let ot=Zi();return wt(te,nn({matches:ce,loaderData:{},errors:Re||null},je?{actionData:je}:{},ot?{fetchers:new Map(D.fetchers)}:{})),{shortCircuited:!0}}if(!He){xt.forEach($t=>{let Fn=D.fetchers.get($t.key),zn=xa(void 0,Fn?Fn.data:void 0);D.fetchers.set($t.key,zn)});let ot=je||D.actionData;at(nn({navigation:vt},ot?Object.keys(ot).length===0?{actionData:null}:{actionData:ot}:{},xt.length>0?{fetchers:new Map(D.fetchers)}:{}))}xt.forEach(ot=>{Q.has(ot.key)&&or(ot.key),ot.controller&&Q.set(ot.key,ot.controller)});let Yr=()=>xt.forEach(ot=>or(ot.key));X&&X.signal.addEventListener("abort",Yr);let{results:Ln,loaderResults:Kr,fetcherResults:Ot}=await it(D.matches,ce,dt,xt,G);if(G.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",Yr),xt.forEach(ot=>Q.delete(ot.key));let Ae=q1(Ln);if(Ae){if(Ae.idx>=dt.length){let ot=xt[Ae.idx-dt.length].key;ke.add(ot)}return await ut(D,Ae.result,{replace:Ze}),{shortCircuited:!0}}let{loaderData:Vt,errors:Ce}=X1(D,ce,dt,Kr,Re,xt,Ot,Be);Be.forEach((ot,$t)=>{ot.subscribe(Fn=>{(Fn||ot.done)&&Be.delete($t)})});let gr=Zi(),ci=In(De),ln=gr||ci||xt.length>0;return nn({loaderData:Vt,errors:Ce},ln?{fetchers:new Map(D.fetchers)}:{})}function Vr(G){return D.fetchers.get(G)||Ky}function Yn(G,te,ce,Te){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Q.has(G)&&or(G);let we=v||m,Fe=Uh(D.location,D.matches,E,w.v7_prependBasename,ce,te,Te==null?void 0:Te.relative),Ze=ws(we,Fe,E);if(!Ze){Ie(G,te,Lr(404,{pathname:Fe}));return}let{path:je,submission:Re,error:vt}=W1(w.v7_normalizeFormMethod,!0,Fe,Te);if(vt){Ie(G,te,vt);return}let Qe=Wh(Ze,je);if(ie=(Te&&Te.preventScrollReset)===!0,Re&&ii(Re.formMethod)){ui(G,te,je,Qe,Ze,Re);return}pe.set(G,{routeId:te,path:je}),Jt(G,te,je,Qe,Ze,Re)}async function ui(G,te,ce,Te,we,Fe){if(Zr(),pe.delete(G),!Te.route.action&&!Te.route.lazy){let en=Lr(405,{method:Fe.formMethod,pathname:ce,routeId:te});Ie(G,te,en);return}let Ze=D.fetchers.get(G),je=aw(Fe,Ze);D.fetchers.set(G,je),at({fetchers:new Map(D.fetchers)});let Re=new AbortController,vt=ma(e.history,ce,Re.signal,Fe);Q.set(G,Re);let Qe=$e,Ke=await ga("action",vt,Te,we,d,h,E);if(vt.signal.aborted){Q.get(G)===Re&&Q.delete(G);return}if(Rs(Ke))if(Q.delete(G),De>Qe){let en=as(void 0);D.fetchers.set(G,en),at({fetchers:new Map(D.fetchers)});return}else{ke.add(G);let en=xa(Fe);return D.fetchers.set(G,en),at({fetchers:new Map(D.fetchers)}),ut(D,Ke,{fetcherSubmission:Fe})}if(Oa(Ke)){Ie(G,te,Ke.error);return}if(Uo(Ke))throw Lr(400,{type:"defer-action"});let dt=D.navigation.location||D.location,xt=ma(e.history,dt,Re.signal),Yr=v||m,Ln=D.navigation.state!=="idle"?ws(Yr,D.navigation.location,E):D.matches;ht(Ln,"Didn't find any matches after fetcher action");let Kr=++$e;oe.set(G,Kr);let Ot=xa(Fe,Ke.data);D.fetchers.set(G,Ot);let[Ae,Vt]=H1(e.history,D,Ln,Fe,dt,Se,Je,ft,pe,ke,Yr,E,{[Te.route.id]:Ke.data},void 0);Vt.filter(en=>en.key!==G).forEach(en=>{let Si=en.key,Kn=D.fetchers.get(Si),gn=xa(void 0,Kn?Kn.data:void 0);D.fetchers.set(Si,gn),Q.has(Si)&&or(Si),en.controller&&Q.set(Si,en.controller)}),at({fetchers:new Map(D.fetchers)});let Ce=()=>Vt.forEach(en=>or(en.key));Re.signal.addEventListener("abort",Ce);let{results:gr,loaderResults:ci,fetcherResults:ln}=await it(D.matches,Ln,Ae,Vt,xt);if(Re.signal.aborted)return;Re.signal.removeEventListener("abort",Ce),oe.delete(G),Q.delete(G),Vt.forEach(en=>Q.delete(en.key));let ot=q1(gr);if(ot){if(ot.idx>=Ae.length){let en=Vt[ot.idx-Ae.length].key;ke.add(en)}return ut(D,ot.result)}let{loaderData:$t,errors:Fn}=X1(D,D.matches,Ae,ci,void 0,Vt,ln,Be);if(D.fetchers.has(G)){let en=as(Ke.data);D.fetchers.set(G,en)}let zn=In(Kr);D.navigation.state==="loading"&&Kr>De?(ht(ue,"Expected pending action"),X&&X.abort(),wt(D.navigation.location,{matches:Ln,loaderData:$t,errors:Fn,fetchers:new Map(D.fetchers)})):(at(nn({errors:Fn,loaderData:Y1(D.loaderData,$t,Ln,Fn)},zn||Vt.length>0?{fetchers:new Map(D.fetchers)}:{})),Se=!1)}async function Jt(G,te,ce,Te,we,Fe){let Ze=D.fetchers.get(G),je=xa(Fe,Ze?Ze.data:void 0);D.fetchers.set(G,je),at({fetchers:new Map(D.fetchers)});let Re=new AbortController,vt=ma(e.history,ce,Re.signal);Q.set(G,Re);let Qe=$e,Ke=await ga("loader",vt,Te,we,d,h,E);if(Uo(Ke)&&(Ke=await nm(Ke,vt.signal,!0)||Ke),Q.get(G)===Re&&Q.delete(G),vt.signal.aborted)return;if(Rs(Ke))if(De>Qe){let xt=as(void 0);D.fetchers.set(G,xt),at({fetchers:new Map(D.fetchers)});return}else{ke.add(G),await ut(D,Ke);return}if(Oa(Ke)){let xt=vs(D.matches,te);D.fetchers.delete(G),at({fetchers:new Map(D.fetchers),errors:{[xt.route.id]:Ke.error}});return}ht(!Uo(Ke),"Unhandled fetcher deferred data");let dt=as(Ke.data);D.fetchers.set(G,dt),at({fetchers:new Map(D.fetchers)})}async function ut(G,te,ce){let{submission:Te,fetcherSubmission:we,replace:Fe}=ce===void 0?{}:ce;te.revalidate&&(Se=!0);let Ze=Qa(G.location,te.location,{_isRedirect:!0});if(ht(Ze,"Expected a location on the redirect navigation"),r){let dt=!1;if(te.reloadDocument)dt=!0;else if(Jg.test(te.location)){const xt=e.history.createURL(te.location);dt=xt.origin!==t.location.origin||sl(xt.pathname,E)==null}if(dt){Fe?t.location.replace(te.location):t.location.assign(te.location);return}}X=null;let je=Fe===!0?fn.Replace:fn.Push,{formMethod:Re,formAction:vt,formEncType:Qe}=G.navigation;!Te&&!we&&Re&&vt&&Qe&&(Te=J1(G.navigation));let Ke=Te||we;if(Yy.has(te.status)&&Ke&&ii(Ke.formMethod))await Bt(je,Ze,{submission:nn({},Ke,{formAction:te.location}),preventScrollReset:ie});else{let dt=Uc(Ze,Te);await Bt(je,Ze,{overrideNavigation:dt,fetcherSubmission:we,preventScrollReset:ie})}}async function it(G,te,ce,Te,we){let Fe=await Promise.all([...ce.map(Re=>ga("loader",we,Re,te,d,h,E)),...Te.map(Re=>Re.matches&&Re.match&&Re.controller?ga("loader",ma(e.history,Re.path,Re.controller.signal),Re.match,Re.matches,d,h,E):{type:dn.error,error:Lr(404,{pathname:Re.path})})]),Ze=Fe.slice(0,ce.length),je=Fe.slice(ce.length);return await Promise.all([Q1(G,ce,Ze,Ze.map(()=>we.signal),!1,D.loaderData),Q1(G,Te.map(Re=>Re.match),je,Te.map(Re=>Re.controller?Re.controller.signal:null),!0)]),{results:Fe,loaderResults:Ze,fetcherResults:je}}function Zr(){Se=!0,Je.push(...Xr()),pe.forEach((G,te)=>{Q.has(te)&&(ft.push(te),or(te))})}function Ie(G,te,ce){let Te=vs(D.matches,te);Gr(G),at({errors:{[Te.route.id]:ce},fetchers:new Map(D.fetchers)})}function Gr(G){let te=D.fetchers.get(G);Q.has(G)&&!(te&&te.state==="loading"&&oe.has(G))&&or(G),pe.delete(G),oe.delete(G),ke.delete(G),D.fetchers.delete(G)}function or(G){let te=Q.get(G);ht(te,"Expected fetch controller: "+G),te.abort(),Q.delete(G)}function sr(G){for(let te of G){let ce=Vr(te),Te=as(ce.data);D.fetchers.set(te,Te)}}function Zi(){let G=[],te=!1;for(let ce of ke){let Te=D.fetchers.get(ce);ht(Te,"Expected fetcher: "+ce),Te.state==="loading"&&(ke.delete(ce),G.push(ce),te=!0)}return sr(G),te}function In(G){let te=[];for(let[ce,Te]of oe)if(Te<G){let we=D.fetchers.get(ce);ht(we,"Expected fetcher: "+ce),we.state==="loading"&&(or(ce),oe.delete(ce),te.push(ce))}return sr(te),te.length>0}function So(G,te){let ce=D.blockers.get(G)||pa;return Le.get(G)!==te&&Le.set(G,te),ce}function ar(G){D.blockers.delete(G),Le.delete(G)}function an(G,te){let ce=D.blockers.get(G)||pa;ht(ce.state==="unblocked"&&te.state==="blocked"||ce.state==="blocked"&&te.state==="blocked"||ce.state==="blocked"&&te.state==="proceeding"||ce.state==="blocked"&&te.state==="unblocked"||ce.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+ce.state+" -> "+te.state);let Te=new Map(D.blockers);Te.set(G,te),at({blockers:Te})}function Gi(G){let{currentLocation:te,nextLocation:ce,historyAction:Te}=G;if(Le.size===0)return;Le.size>1&&Yo(!1,"A router only supports one blocker at a time");let we=Array.from(Le.entries()),[Fe,Ze]=we[we.length-1],je=D.blockers.get(Fe);if(!(je&&je.state==="proceeding")&&Ze({currentLocation:te,nextLocation:ce,historyAction:Te}))return Fe}function Xr(G){let te=[];return Be.forEach((ce,Te)=>{(!G||G(Te))&&(ce.cancel(),te.push(Te),Be.delete(Te))}),te}function Hs(G,te,ce){if(F=G,j=te,W=ce||null,!U&&D.navigation===zc){U=!0;let Te=Ht(D.location,D.matches);Te!=null&&at({restoreScrollPosition:Te})}return()=>{F=null,j=null,W=null}}function Ft(G,te){return W&&W(G,te.map(Te=>Ay(Te,D.loaderData)))||G.key}function ye(G,te){if(F&&j){let ce=Ft(G,te);F[ce]=j()}}function Ht(G,te){if(F){let ce=Ft(G,te),Te=F[ce];if(typeof Te=="number")return Te}return null}function It(G){d={},v=zh(G,h,void 0,d)}return B={get basename(){return E},get state(){return D},get routes(){return m},get window(){return t},initialize:Ge,subscribe:ge,enableScrollRestoration:Hs,navigate:Wr,fetch:Yn,revalidate:Hr,createHref:G=>e.history.createHref(G),encodeLocation:G=>e.history.encodeLocation(G),getFetcher:Vr,deleteFetcher:Gr,dispose:rt,getBlocker:So,deleteBlocker:ar,_internalFetchControllers:Q,_internalActiveDeferreds:Be,_internalSetRoutes:It},B}function Jy(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Uh(e,t,r,a,h,d,m){let v,E;if(d!=null&&m!=="path"){v=[];for(let I of t)if(v.push(I),I.route.id===d){E=I;break}}else v=t,E=t[t.length-1];let w=Kf(h||".",qu(v).map(I=>I.pathnameBase),sl(e.pathname,r)||e.pathname,m==="path");return h==null&&(w.search=e.search,w.hash=e.hash),(h==null||h===""||h===".")&&E&&E.route.index&&!Qf(w.search)&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),a&&r!=="/"&&(w.pathname=w.pathname==="/"?r:yo([r,w.pathname])),ol(w)}function W1(e,t,r,a){if(!a||!Jy(a))return{path:r};if(a.formMethod&&!ow(a.formMethod))return{path:r,error:Lr(405,{method:a.formMethod})};let h=()=>({path:r,error:Lr(400,{type:"invalid-body"})}),d=a.formMethod||"get",m=e?d.toUpperCase():d.toLowerCase(),v=tm(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!ii(m))return h();let F=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((W,j)=>{let[U,se]=j;return""+W+U+"="+se+`
`},""):String(a.body);return{path:r,submission:{formMethod:m,formAction:v,formEncType:a.formEncType,formData:void 0,json:void 0,text:F}}}else if(a.formEncType==="application/json"){if(!ii(m))return h();try{let F=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:m,formAction:v,formEncType:a.formEncType,formData:void 0,json:F,text:void 0}}}catch{return h()}}}ht(typeof FormData=="function","FormData is not available in this environment");let E,w;if(a.formData)E=jh(a.formData),w=a.formData;else if(a.body instanceof FormData)E=jh(a.body),w=a.body;else if(a.body instanceof URLSearchParams)E=a.body,w=G1(E);else if(a.body==null)E=new URLSearchParams,w=new FormData;else try{E=new URLSearchParams(a.body),w=G1(E)}catch{return h()}let I={formMethod:m,formAction:v,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:w,json:void 0,text:void 0};if(ii(I.formMethod))return{path:r,submission:I};let N=Vi(r);return t&&N.search&&Qf(N.search)&&E.append("index",""),N.search="?"+E,{path:ol(N),submission:I}}function $y(e,t){let r=e;if(t){let a=e.findIndex(h=>h.route.id===t);a>=0&&(r=e.slice(0,a))}return r}function H1(e,t,r,a,h,d,m,v,E,w,I,N,F,W){let j=W?Object.values(W)[0]:F?Object.values(F)[0]:void 0,U=e.createURL(t.location),se=e.createURL(h),z=W?Object.keys(W)[0]:void 0,B=$y(r,z).filter((ue,ie)=>{if(ue.route.lazy)return!0;if(ue.route.loader==null)return!1;if(ew(t.loaderData,t.matches[ie],ue)||m.some(re=>re===ue.route.id))return!0;let X=t.matches[ie],le=ue;return V1(ue,nn({currentUrl:U,currentParams:X.params,nextUrl:se,nextParams:le.params},a,{actionResult:j,defaultShouldRevalidate:d||U.pathname+U.search===se.pathname+se.search||U.search!==se.search||em(X,le)}))}),D=[];return E.forEach((ue,ie)=>{if(!r.some(He=>He.route.id===ue.routeId))return;let X=ws(I,ue.path,N);if(!X){D.push({key:ie,routeId:ue.routeId,path:ue.path,matches:null,match:null,controller:null});return}let le=t.fetchers.get(ie),re=Wh(X,ue.path),ze=!1;w.has(ie)?ze=!1:v.includes(ie)?ze=!0:le&&le.state!=="idle"&&le.data===void 0?ze=d:ze=V1(re,nn({currentUrl:U,currentParams:t.matches[t.matches.length-1].params,nextUrl:se,nextParams:r[r.length-1].params},a,{actionResult:j,defaultShouldRevalidate:d})),ze&&D.push({key:ie,routeId:ue.routeId,path:ue.path,matches:X,match:re,controller:new AbortController})}),[B,D]}function ew(e,t,r){let a=!t||r.route.id!==t.route.id,h=e[r.route.id]===void 0;return a||h}function em(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function V1(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Z1(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let h=r[e.id];ht(h,"No route found in manifest");let d={};for(let m in a){let E=h[m]!==void 0&&m!=="hasErrorBoundary";Yo(!E,'Route "'+h.id+'" has a static property "'+m+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+m+'" will be ignored.')),!E&&!Ey.has(m)&&(d[m]=a[m])}Object.assign(h,d),Object.assign(h,nn({},t(h),{lazy:void 0}))}async function ga(e,t,r,a,h,d,m,v){v===void 0&&(v={});let E,w,I,N=j=>{let U,se=new Promise((z,M)=>U=M);return I=()=>U(),t.signal.addEventListener("abort",I),Promise.race([j({request:t,params:r.params,context:v.requestContext}),se])};try{let j=r.route[e];if(r.route.lazy)if(j){let U,se=await Promise.all([N(j).catch(z=>{U=z}),Z1(r.route,d,h)]);if(U)throw U;w=se[0]}else if(await Z1(r.route,d,h),j=r.route[e],j)w=await N(j);else if(e==="action"){let U=new URL(t.url),se=U.pathname+U.search;throw Lr(405,{method:t.method,pathname:se,routeId:r.route.id})}else return{type:dn.data,data:void 0};else if(j)w=await N(j);else{let U=new URL(t.url),se=U.pathname+U.search;throw Lr(404,{pathname:se})}ht(w!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(j){E=dn.error,w=j}finally{I&&t.signal.removeEventListener("abort",I)}if(iw(w)){let j=w.status;if(Xy.has(j)){let z=w.headers.get("Location");if(ht(z,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jg.test(z))z=Uh(new URL(t.url),a.slice(0,a.indexOf(r)+1),m,!0,z);else if(!v.isStaticRequest){let M=new URL(t.url),B=z.startsWith("//")?new URL(M.protocol+z):new URL(z),D=sl(B.pathname,m)!=null;B.origin===M.origin&&D&&(z=B.pathname+B.search+B.hash)}if(v.isStaticRequest)throw w.headers.set("Location",z),w;return{type:dn.redirect,status:j,location:z,revalidate:w.headers.get("X-Remix-Revalidate")!==null,reloadDocument:w.headers.get("X-Remix-Reload-Document")!==null}}if(v.isRouteRequest)throw{type:E===dn.error?dn.error:dn.data,response:w};let U,se=w.headers.get("Content-Type");return se&&/\bapplication\/json\b/.test(se)?U=await w.json():U=await w.text(),E===dn.error?{type:E,error:new qf(j,w.statusText,U),headers:w.headers}:{type:dn.data,data:U,statusCode:w.status,headers:w.headers}}if(E===dn.error)return{type:E,error:w};if(rw(w)){var F,W;return{type:dn.deferred,deferredData:w,statusCode:(F=w.init)==null?void 0:F.status,headers:((W=w.init)==null?void 0:W.headers)&&new Headers(w.init.headers)}}return{type:dn.data,data:w}}function ma(e,t,r,a){let h=e.createURL(tm(t)).toString(),d={signal:r};if(a&&ii(a.formMethod)){let{formMethod:m,formEncType:v}=a;d.method=m.toUpperCase(),v==="application/json"?(d.headers=new Headers({"Content-Type":v}),d.body=JSON.stringify(a.json)):v==="text/plain"?d.body=a.text:v==="application/x-www-form-urlencoded"&&a.formData?d.body=jh(a.formData):d.body=a.formData}return new Request(h,d)}function jh(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,typeof a=="string"?a:a.name);return t}function G1(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function tw(e,t,r,a,h){let d={},m=null,v,E=!1,w={};return r.forEach((I,N)=>{let F=t[N].route.id;if(ht(!Rs(I),"Cannot handle redirect results in processLoaderData"),Oa(I)){let W=vs(e,F),j=I.error;a&&(j=Object.values(a)[0],a=void 0),m=m||{},m[W.route.id]==null&&(m[W.route.id]=j),d[F]=void 0,E||(E=!0,v=qg(I.error)?I.error.status:500),I.headers&&(w[F]=I.headers)}else Uo(I)?(h.set(F,I.deferredData),d[F]=I.deferredData.data):d[F]=I.data,I.statusCode!=null&&I.statusCode!==200&&!E&&(v=I.statusCode),I.headers&&(w[F]=I.headers)}),a&&(m=a,d[Object.keys(a)[0]]=void 0),{loaderData:d,errors:m,statusCode:v||200,loaderHeaders:w}}function X1(e,t,r,a,h,d,m,v){let{loaderData:E,errors:w}=tw(t,r,a,h,v);for(let I=0;I<d.length;I++){let{key:N,match:F,controller:W}=d[I];ht(m!==void 0&&m[I]!==void 0,"Did not find corresponding fetcher result");let j=m[I];if(!(W&&W.signal.aborted))if(Oa(j)){let U=vs(e.matches,F==null?void 0:F.route.id);w&&w[U.route.id]||(w=nn({},w,{[U.route.id]:j.error})),e.fetchers.delete(N)}else if(Rs(j))ht(!1,"Unhandled fetcher revalidation redirect");else if(Uo(j))ht(!1,"Unhandled fetcher deferred data");else{let U=as(j.data);e.fetchers.set(N,U)}}return{loaderData:E,errors:w}}function Y1(e,t,r,a){let h=nn({},t);for(let d of r){let m=d.route.id;if(t.hasOwnProperty(m)?t[m]!==void 0&&(h[m]=t[m]):e[m]!==void 0&&d.route.loader&&(h[m]=e[m]),a&&a.hasOwnProperty(m))break}return h}function vs(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function K1(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Lr(e,t){let{pathname:r,routeId:a,method:h,type:d}=t===void 0?{}:t,m="Unknown Server Error",v="Unknown @remix-run/router error";return e===400?(m="Bad Request",h&&r&&a?v="You made a "+h+' request to "'+r+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":d==="defer-action"?v="defer() is not supported in actions":d==="invalid-body"&&(v="Unable to encode submission body")):e===403?(m="Forbidden",v='Route "'+a+'" does not match URL "'+r+'"'):e===404?(m="Not Found",v='No route matches URL "'+r+'"'):e===405&&(m="Method Not Allowed",h&&r&&a?v="You made a "+h.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":h&&(v='Invalid request method "'+h.toUpperCase()+'"')),new qf(e||500,m,new Error(v),!0)}function q1(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Rs(r))return{result:r,idx:t}}}function tm(e){let t=typeof e=="string"?Vi(e):e;return ol(nn({},t,{hash:""}))}function nw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Uo(e){return e.type===dn.deferred}function Oa(e){return e.type===dn.error}function Rs(e){return(e&&e.type)===dn.redirect}function rw(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function iw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ow(e){return Gy.has(e.toLowerCase())}function ii(e){return Vy.has(e.toLowerCase())}async function Q1(e,t,r,a,h,d){for(let m=0;m<r.length;m++){let v=r[m],E=t[m];if(!E)continue;let w=e.find(N=>N.route.id===E.route.id),I=w!=null&&!em(w,E)&&(d&&d[E.route.id])!==void 0;if(Uo(v)&&(h||I)){let N=a[m];ht(N,"Expected an AbortSignal for revalidating fetcher deferred result"),await nm(v,N,h).then(F=>{F&&(r[m]=F||r[m])})}}}async function nm(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:dn.data,data:e.deferredData.unwrappedData}}catch(h){return{type:dn.error,error:h}}return{type:dn.data,data:e.deferredData.data}}}function Qf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Wh(e,t){let r=typeof t=="string"?Vi(t).search:t.search;if(e[e.length-1].route.index&&Qf(r||""))return e[e.length-1];let a=qu(e);return a[a.length-1]}function J1(e){let{formMethod:t,formAction:r,formEncType:a,text:h,formData:d,json:m}=e;if(!(!t||!r||!a)){if(h!=null)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:h};if(d!=null)return{formMethod:t,formAction:r,formEncType:a,formData:d,json:void 0,text:void 0};if(m!==void 0)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:m,text:void 0}}}function Uc(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sw(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function xa(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aw(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function as(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lw(e,t){try{let r=e.sessionStorage.getItem($g);if(r){let a=JSON.parse(r);for(let[h,d]of Object.entries(a||{}))d&&Array.isArray(d)&&t.set(h,new Set(d||[]))}}catch{}}function uw(e,t){if(t.size>0){let r={};for(let[a,h]of t)r[a]=[...h];try{e.sessionStorage.setItem($g,JSON.stringify(r))}catch(a){Yo(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eu.apply(this,arguments)}const Qu=ne.createContext(null),rm=ne.createContext(null),Ju=ne.createContext(null),$u=ne.createContext(null),Qo=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),im=ne.createContext(null);function al(){return ne.useContext($u)!=null}function Jf(){return al()||ht(!1),ne.useContext($u).location}function om(e){ne.useContext(Ju).static||ne.useLayoutEffect(e)}function Ai(){let{isDataRoute:e}=ne.useContext(Qo);return e?vw():cw()}function cw(){al()||ht(!1);let e=ne.useContext(Qu),{basename:t,navigator:r}=ne.useContext(Ju),{matches:a}=ne.useContext(Qo),{pathname:h}=Jf(),d=JSON.stringify(qu(a).map(E=>E.pathnameBase)),m=ne.useRef(!1);return om(()=>{m.current=!0}),ne.useCallback(function(E,w){if(w===void 0&&(w={}),!m.current)return;if(typeof E=="number"){r.go(E);return}let I=Kf(E,JSON.parse(d),h,w.relative==="path");e==null&&t!=="/"&&(I.pathname=I.pathname==="/"?t:yo([t,I.pathname])),(w.replace?r.replace:r.push)(I,w.state,w)},[t,r,d,h,e])}function hw(e,t,r){al()||ht(!1);let{navigator:a}=ne.useContext(Ju),{matches:h}=ne.useContext(Qo),d=h[h.length-1],m=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let E=Jf(),w;if(t){var I;let U=typeof t=="string"?Vi(t):t;v==="/"||(I=U.pathname)!=null&&I.startsWith(v)||ht(!1),w=U}else w=E;let N=w.pathname||"/",F=v==="/"?N:N.slice(v.length)||"/",W=ws(e,{pathname:F}),j=mw(W&&W.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:yo([v,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:yo([v,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),h,r);return t&&j?ne.createElement($u.Provider,{value:{location:Eu({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:fn.Pop}},j):j}function fw(){let e=ww(),t=qg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},d=null;return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),r?ne.createElement("pre",{style:h},r):null,d)}const dw=ne.createElement(fw,null);class pw extends ne.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?ne.createElement(Qo.Provider,{value:this.props.routeContext},ne.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gw(e){let{routeContext:t,match:r,children:a}=e,h=ne.useContext(Qu);return h&&h.static&&h.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=r.route.id),ne.createElement(Qo.Provider,{value:t},a)}function mw(e,t,r){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var h;if((h=r)!=null&&h.errors)e=r.matches;else return null}let d=e,m=(a=r)==null?void 0:a.errors;if(m!=null){let v=d.findIndex(E=>E.route.id&&(m==null?void 0:m[E.route.id]));v>=0||ht(!1),d=d.slice(0,Math.min(d.length,v+1))}return d.reduceRight((v,E,w)=>{let I=E.route.id?m==null?void 0:m[E.route.id]:null,N=null;r&&(N=E.route.errorElement||dw);let F=t.concat(d.slice(0,w+1)),W=()=>{let j;return I?j=N:E.route.Component?j=ne.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=v,ne.createElement(gw,{match:E,routeContext:{outlet:v,matches:F,isDataRoute:r!=null},children:j})};return r&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?ne.createElement(pw,{location:r.location,revalidation:r.revalidation,component:N,error:I,children:W(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):W()},null)}var sm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sm||{}),Cu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cu||{});function xw(e){let t=ne.useContext(Qu);return t||ht(!1),t}function _w(e){let t=ne.useContext(rm);return t||ht(!1),t}function yw(e){let t=ne.useContext(Qo);return t||ht(!1),t}function am(e){let t=yw(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function ww(){var e;let t=ne.useContext(im),r=_w(Cu.UseRouteError),a=am(Cu.UseRouteError);return t||((e=r.errors)==null?void 0:e[a])}function vw(){let{router:e}=xw(sm.UseNavigateStable),t=am(Cu.UseNavigateStable),r=ne.useRef(!1);return om(()=>{r.current=!0}),ne.useCallback(function(h,d){d===void 0&&(d={}),r.current&&(typeof h=="number"?e.navigate(h):e.navigate(h,Eu({fromRouteId:t},d)))},[e,t])}function Au(e){let{to:t,replace:r,state:a,relative:h}=e;al()||ht(!1);let{matches:d}=ne.useContext(Qo),{pathname:m}=Jf(),v=Ai(),E=Kf(t,qu(d).map(I=>I.pathnameBase),m,h==="path"),w=JSON.stringify(E);return ne.useEffect(()=>v(JSON.parse(w),{replace:r,state:a,relative:h}),[v,w,h,r,a]),null}function Ew(e){let{basename:t="/",children:r=null,location:a,navigationType:h=fn.Pop,navigator:d,static:m=!1}=e;al()&&ht(!1);let v=t.replace(/^\/*/,"/"),E=ne.useMemo(()=>({basename:v,navigator:d,static:m}),[v,d,m]);typeof a=="string"&&(a=Vi(a));let{pathname:w="/",search:I="",hash:N="",state:F=null,key:W="default"}=a,j=ne.useMemo(()=>{let U=sl(w,v);return U==null?null:{location:{pathname:U,search:I,hash:N,state:F,key:W},navigationType:h}},[v,w,I,N,F,W,h]);return j==null?null:ne.createElement(Ju.Provider,{value:E},ne.createElement($u.Provider,{children:r,value:j}))}new Promise(()=>{});function Cw(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:ne.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:ne.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Su.apply(this,arguments)}function Aw(e,t){return Qy({basename:t==null?void 0:t.basename,future:Su({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:yy({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Sw(),routes:e,mapRouteProperties:Cw,window:t==null?void 0:t.window}).initialize()}function Sw(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Su({},t,{errors:Tw(t.errors)})),t}function Tw(e){if(!e)return null;let t=Object.entries(e),r={};for(let[a,h]of t)if(h&&h.__type==="RouteErrorResponse")r[a]=new qf(h.status,h.statusText,h.data,h.internal===!0);else if(h&&h.__type==="Error"){if(h.__subType){let d=window[h.__subType];if(typeof d=="function")try{let m=new d(h.message);m.stack="",r[a]=m}catch{}}if(r[a]==null){let d=new Error(h.message);d.stack="",r[a]=d}}else r[a]=h;return r}const Iw=ne.createContext({isTransitioning:!1}),bw="startTransition",$1=ux[bw];function Rw(e){$1?$1(e):e()}class Nw{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",r(a))}})}}function Ow(e){let{fallbackElement:t,router:r,future:a}=e,[h,d]=ne.useState(r.state),[m,v]=ne.useState(),[E,w]=ne.useState({isTransitioning:!1}),[I,N]=ne.useState(),[F,W]=ne.useState(),[j,U]=ne.useState(),{v7_startTransition:se}=a||{},z=ne.useCallback(ie=>{se?Rw(ie):ie()},[se]),M=ne.useCallback((ie,X)=>{let{unstable_viewTransitionOpts:le}=X;!le||r.window==null||typeof r.window.document.startViewTransition!="function"?z(()=>d(ie)):F&&I?(I.resolve(),F.skipTransition(),U({state:ie,currentLocation:le.currentLocation,nextLocation:le.nextLocation})):(v(ie),w({isTransitioning:!0,currentLocation:le.currentLocation,nextLocation:le.nextLocation}))},[z,F,I,r.window]);ne.useLayoutEffect(()=>r.subscribe(M),[r,M]),ne.useEffect(()=>{E.isTransitioning&&N(new Nw)},[E.isTransitioning]),ne.useEffect(()=>{if(I&&m&&r.window){let ie=m,X=I.promise,le=r.window.document.startViewTransition(async()=>{z(()=>d(ie)),await X});le.finished.finally(()=>{N(void 0),W(void 0),v(void 0),w({isTransitioning:!1})}),W(le)}},[z,m,I,r.window]),ne.useEffect(()=>{I&&m&&h.location.key===m.location.key&&I.resolve()},[I,F,h.location,m]),ne.useEffect(()=>{!E.isTransitioning&&j&&(v(j.state),w({isTransitioning:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),U(void 0))},[E.isTransitioning,j]);let B=ne.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ie=>r.navigate(ie),push:(ie,X,le)=>r.navigate(ie,{state:X,preventScrollReset:le==null?void 0:le.preventScrollReset}),replace:(ie,X,le)=>r.navigate(ie,{replace:!0,state:X,preventScrollReset:le==null?void 0:le.preventScrollReset})}),[r]),D=r.basename||"/",ue=ne.useMemo(()=>({router:r,navigator:B,static:!1,basename:D}),[r,B,D]);return ne.createElement(ne.Fragment,null,ne.createElement(Qu.Provider,{value:ue},ne.createElement(rm.Provider,{value:h},ne.createElement(Iw.Provider,{value:E},ne.createElement(Ew,{basename:D,location:h.location,navigationType:h.historyAction,navigator:B},h.initialized?ne.createElement(kw,{routes:r.routes,state:h}):t)))),null)}function kw(e){let{routes:t,state:r}=e;return hw(t,void 0,r)}var e0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(e0||(e0={}));var t0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(t0||(t0={}));var Ne;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var n0=new Map([[Ne.QR_CODE,"QR_CODE"],[Ne.AZTEC,"AZTEC"],[Ne.CODABAR,"CODABAR"],[Ne.CODE_39,"CODE_39"],[Ne.CODE_93,"CODE_93"],[Ne.CODE_128,"CODE_128"],[Ne.DATA_MATRIX,"DATA_MATRIX"],[Ne.MAXICODE,"MAXICODE"],[Ne.ITF,"ITF"],[Ne.EAN_13,"EAN_13"],[Ne.EAN_8,"EAN_8"],[Ne.PDF_417,"PDF_417"],[Ne.RSS_14,"RSS_14"],[Ne.RSS_EXPANDED,"RSS_EXPANDED"],[Ne.UPC_A,"UPC_A"],[Ne.UPC_E,"UPC_E"],[Ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),r0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(r0||(r0={}));function Pw(e){return Object.values(Ne).includes(e)}var Tu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Tu||(Tu={}));var Lw=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Tu.SCAN_TYPE_CAMERA,Tu.SCAN_TYPE_FILE],e}(),lm=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!n0.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,n0.get(t))},e}(),i0=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Hh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Hh||(Hh={}));var Mw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Hh.UNKWOWN_ERROR}},e}(),Dw=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ki(e){return typeof e>"u"||e===null}var Es=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),um=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var a=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(h),m=Object.keys(t),v=0,E=m;v<E.length;v++){var w=E[v];if(d.has(w))return r.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},e}(),Vh={exports:{}};(function(e,t){(function(r,a){a(t)})(ss,function(r){function a(S){return S==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,n){S.__proto__=n}||function(S,n){for(var i in n)n.hasOwnProperty(i)&&(S[i]=n[i])};function d(S,n){h(S,n);function i(){this.constructor=S}S.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function m(S,n){var i=Object.setPrototypeOf;i?i(S,n):S.__proto__=n}function v(S,n){n===void 0&&(n=S.constructor);var i=Error.captureStackTrace;i&&i(S,n)}var E=function(S){d(n,S);function n(i){var s=this.constructor,l=S.call(this,i)||this;return Object.defineProperty(l,"name",{value:s.name,enumerable:!1}),m(l,s.prototype),v(l),l}return n}(Error);class w extends E{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}w.kind="Exception";class I extends w{}I.kind="ArgumentException";class N extends w{}N.kind="IllegalArgumentException";class F{constructor(n){if(this.binarizer=n,n===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,l){const u=this.binarizer.getLuminanceSource().crop(n,i,s,l);return new F(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new F(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new F(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends w{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class j{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class U{static arraycopy(n,i,s,l,u){for(;u--;)s[l++]=n[i++]}static currentTimeMillis(){return Date.now()}}class se extends w{}se.kind="IndexOutOfBoundsException";class z extends se{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}z.kind="ArrayIndexOutOfBoundsException";class M{static fill(n,i){for(let s=0,l=n.length;s<l;s++)n[s]=i}static fillWithin(n,i,s,l){M.rangeCheck(n.length,i,s);for(let u=i;u<s;u++)n[u]=l}static rangeCheck(n,i,s){if(i>s)throw new N("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new z(i);if(s>n)throw new z(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(u=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(u=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,l=n.length;s<l;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const l=s-i,u=new Int32Array(l);return U.arraycopy(n,i,u,0,l),u}static binarySearch(n,i,s){s===void 0&&(s=M.numberComparator);let l=0,u=n.length-1;for(;l<=u;){const f=u+l>>1,p=s(i,n[f]);if(p>0)l=f+1;else if(p<0)u=f-1;else return f}return-l-1}static numberComparator(n,i){return n-i}}class B{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=D.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=D.makeArray(n);U.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let l=Math.floor(n/32),u=s[l];u&=~((1<<(n&31))-1);const f=s.length;for(;u===0;){if(++l===f)return i;u=s[l]}const p=l*32+B.numberOfTrailingZeros(u);return p>i?i:p}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let l=Math.floor(n/32),u=~s[l];u&=~((1<<(n&31))-1);const f=s.length;for(;u===0;){if(++l===f)return i;u=~s[l]}const p=l*32+B.numberOfTrailingZeros(u);return p>i?i:p}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new N;if(i===n)return;i--;const s=Math.floor(n/32),l=Math.floor(i/32),u=this.bits;for(let f=s;f<=l;f++){const p=f>s?0:n&31,_=(2<<(f<l?31:i&31))-(1<<p);u[f]|=_}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new N;if(i===n)return!0;i--;const l=Math.floor(n/32),u=Math.floor(i/32),f=this.bits;for(let p=l;p<=u;p++){const x=p>l?0:n&31,C=(2<<(p<u?31:i&31))-(1<<x)&4294967295;if((f[p]&C)!==(s?C:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new N("Sizes don't match");const i=this.bits;for(let s=0,l=i.length;s<l;s++)i[s]^=n.bits[s]}toBytes(n,i,s,l){for(let u=0;u<l;u++){let f=0;for(let p=0;p<8;p++)this.get(n)&&(f|=1<<7-p),n++;i[s+u]=f}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,l=this.bits;for(let u=0;u<s;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,n[i-u]=f}if(this.size!==s*32){const u=s*32-this.size;let f=n[0]>>>u;for(let p=1;p<s;p++){const x=n[p];f|=x<<32-u,n[p-1]=f,f=x>>>u}n[s-1]=f}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof D))return!1;const i=n;return this.size===i.size&&M.equals(this.bits,i.bits)}hashCode(){return 31*this.size+M.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new D(this.size,this.bits.slice())}}var ue;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ue||(ue={}));var ie=ue;class X extends w{static getFormatInstance(){return new X}}X.kind="FormatException";var le;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(le||(le={}));class re{constructor(n,i,s,...l){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,re.VALUE_IDENTIFIER_TO_ECI.set(n,this),re.NAME_TO_ECI.set(s,this);const u=this.values;for(let f=0,p=u.length;f!==p;f++){const x=u[f];re.VALUES_TO_ECI.set(x,this)}for(const f of l)re.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new X("incorect value");const i=re.VALUES_TO_ECI.get(n);if(i===void 0)throw new X("incorect value");return i}static getCharacterSetECIByName(n){const i=re.NAME_TO_ECI.get(n);if(i===void 0)throw new X("incorect value");return i}equals(n){if(!(n instanceof re))return!1;const i=n;return this.getName()===i.getName()}}re.VALUE_IDENTIFIER_TO_ECI=new Map,re.VALUES_TO_ECI=new Map,re.NAME_TO_ECI=new Map,re.Cp437=new re(le.Cp437,Int32Array.from([0,2]),"Cp437"),re.ISO8859_1=new re(le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),re.ISO8859_2=new re(le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),re.ISO8859_3=new re(le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),re.ISO8859_4=new re(le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),re.ISO8859_5=new re(le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),re.ISO8859_6=new re(le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),re.ISO8859_7=new re(le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),re.ISO8859_8=new re(le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),re.ISO8859_9=new re(le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),re.ISO8859_10=new re(le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),re.ISO8859_11=new re(le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),re.ISO8859_13=new re(le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),re.ISO8859_14=new re(le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),re.ISO8859_15=new re(le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),re.ISO8859_16=new re(le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),re.SJIS=new re(le.SJIS,20,"SJIS","Shift_JIS"),re.Cp1250=new re(le.Cp1250,21,"Cp1250","windows-1250"),re.Cp1251=new re(le.Cp1251,22,"Cp1251","windows-1251"),re.Cp1252=new re(le.Cp1252,23,"Cp1252","windows-1252"),re.Cp1256=new re(le.Cp1256,24,"Cp1256","windows-1256"),re.UnicodeBigUnmarked=new re(le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),re.UTF8=new re(le.UTF8,26,"UTF8","UTF-8"),re.ASCII=new re(le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),re.Big5=new re(le.Big5,28,"Big5"),re.GB18030=new re(le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),re.EUC_KR=new re(le.EUC_KR,30,"EUC_KR","EUC-KR");class ze extends w{}ze.kind="UnsupportedOperationException";class He{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!He.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof re?n:re.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(He.isDecodeFallbackSupported(s)){let l="";for(let u=0,f=n.length;u<f;u++){let p=n[u].toString(16);p.length<2&&(p="0"+p),l+="%"+p}return decodeURIComponent(l)}if(s.equals(re.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new ze(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(re.UTF8)||n.equals(re.ISO8859_1)||n.equals(re.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),l=[];for(let u=0;u<s.length;u++)l.push(s[u].charCodeAt(0));return new Uint8Array(l)}}class Se{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return He.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(ie.CHARACTER_SET)!==void 0)return i.get(ie.CHARACTER_SET).toString();const s=n.length;let l=!0,u=!0,f=!0,p=0,x=0,_=0,C=0,T=0,b=0,P=0,V=0,Z=0,Y=0,J=0;const me=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let xe=0;xe<s&&(l||u||f);xe++){const de=n[xe]&255;f&&(p>0?de&128?p--:f=!1:de&128&&(de&64?(p++,de&32?(p++,de&16?(p++,de&8?f=!1:C++):_++):x++):f=!1)),l&&(de>127&&de<160?l=!1:de>159&&(de<192||de===215||de===247)&&J++),u&&(T>0?de<64||de===127||de>252?u=!1:T--:de===128||de===160||de>239?u=!1:de>160&&de<224?(b++,V=0,P++,P>Z&&(Z=P)):de>127?(T++,P=0,V++,V>Y&&(Y=V)):(P=0,V=0))}return f&&p>0&&(f=!1),u&&T>0&&(u=!1),f&&(me||x+_+C>0)?Se.UTF8:u&&(Se.ASSUME_SHIFT_JIS||Z>=3||Y>=3)?Se.SHIFT_JIS:l&&u?Z===2&&b===2||J*10>=s?Se.SHIFT_JIS:Se.ISO88591:l?Se.ISO88591:u?Se.SHIFT_JIS:f?Se.UTF8:Se.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function l(f,p,x,_,C,T){if(f==="%%")return"%";if(i[++s]===void 0)return;f=_?parseInt(_.substr(1)):void 0;let b=C?parseInt(C.substr(1)):void 0,P;switch(T){case"s":P=i[s];break;case"c":P=i[s][0];break;case"f":P=parseFloat(i[s]).toFixed(f);break;case"p":P=parseFloat(i[s]).toPrecision(f);break;case"e":P=parseFloat(i[s]).toExponential(f);break;case"x":P=parseInt(i[s]).toString(b||16);break;case"d":P=parseFloat(parseInt(i[s],b||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(b);let V=parseInt(x),Z=x&&x[0]+""=="0"?"0":" ";for(;P.length<V;)P=p!==void 0?P+Z:Z+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}static getBytes(n,i){return He.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}Se.SHIFT_JIS=re.SJIS.getName(),Se.GB2312="GB2312",Se.ISO88591=re.ISO8859_1.getName(),Se.EUC_JP="EUC_JP",Se.UTF8=re.UTF8.getName(),Se.PLATFORM_DEFAULT_ENCODING=Se.UTF8,Se.ASSUME_SHIFT_JIS=!1;class Je{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=Se.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let l=i;i<i+s;l++)this.append(n[l]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class ft{constructor(n,i,s,l){if(this.width=n,this.height=i,this.rowSize=s,this.bits=l,i==null&&(i=n),this.height=i,n<1||i<1)throw new N("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,l=new ft(s,i);for(let u=0;u<i;u++){const f=n[u];for(let p=0;p<s;p++)f[p]&&l.set(p,u)}return l}static parseFromString(n,i,s){if(n===null)throw new N("stringRepresentation cannot be null");const l=new Array(n.length);let u=0,f=0,p=-1,x=0,_=0;for(;_<n.length;)if(n.charAt(_)===`
`||n.charAt(_)==="\r"){if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new N("row lengths do not match");f=u,x++}_++}else if(n.substring(_,_+i.length)===i)_+=i.length,l[u]=!0,u++;else if(n.substring(_,_+s.length)===s)_+=s.length,l[u]=!1,u++;else throw new N("illegal character encountered: "+n.substring(_));if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new N("row lengths do not match");x++}const C=new ft(p,x);for(let T=0;T<u;T++)l[T]&&C.set(Math.floor(T%p),Math.floor(T/p));return C}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new N("input matrix dimensions do not match");const i=new D(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const p=u*s,x=n.getRow(u,i).getBitArray();for(let _=0;_<s;_++)l[p+_]^=x[_]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,l){if(i<0||n<0)throw new N("Left and top must be nonnegative");if(l<1||s<1)throw new N("Height and width must be at least 1");const u=n+s,f=i+l;if(f>this.height||u>this.width)throw new N("The region must fit inside the matrix");const p=this.rowSize,x=this.bits;for(let _=i;_<f;_++){const C=_*p;for(let T=n;T<u;T++)x[C+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new D(this.width):i.clear();const s=this.rowSize,l=this.bits,u=n*s;for(let f=0;f<s;f++)i.setBulk(f*32,l[u+f]);return i}setRow(n,i){U.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new D(n),l=new D(n);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)s=this.getRow(u,s),l=this.getRow(i-1-u,l),s.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,l=this.bits;let u=n,f=i,p=-1,x=-1;for(let _=0;_<i;_++)for(let C=0;C<s;C++){const T=l[_*s+C];if(T!==0){if(_<f&&(f=_),_>x&&(x=_),C*32<u){let b=0;for(;!(T<<31-b&4294967295);)b++;C*32+b<u&&(u=C*32+b)}if(C*32+31>p){let b=31;for(;!(T>>>b);)b--;C*32+b>p&&(p=C*32+b)}}}return p<u||x<f?null:Int32Array.from([u,f,p-u+1,x-f+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const l=s/n;let u=s%n*32;const f=i[s];let p=0;for(;!(f<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,l])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const l=Math.floor(s/n);let u=Math.floor(s%n)*32;const f=i[s];let p=31;for(;!(f>>>p);)p--;return u+=p,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof ft))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&M.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+M.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let l=new Je;for(let u=0,f=this.height;u<f;u++){for(let p=0,x=this.width;p<x;p++)l.append(this.get(p,u)?n:i);l.append(s)}return l.toString()}clone(){return new ft(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends w{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class $e extends j{constructor(n){super(n),this.luminances=$e.EMPTY,this.buckets=new Int32Array($e.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),l=s.getWidth();i==null||i.getSize()<l?i=new D(l):i.clear(),this.initArrays(l);const u=s.getRow(n,this.luminances),f=this.buckets;for(let x=0;x<l;x++)f[(u[x]&255)>>$e.LUMINANCE_SHIFT]++;const p=$e.estimateBlackPoint(f);if(l<3)for(let x=0;x<l;x++)(u[x]&255)<p&&i.set(x);else{let x=u[0]&255,_=u[1]&255;for(let C=1;C<l-1;C++){const T=u[C+1]&255;(_*4-x-T)/2<p&&i.set(C),x=_,_=T}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),l=new ft(i,s);this.initArrays(i);const u=this.buckets;for(let x=1;x<5;x++){const _=Math.floor(s*x/5),C=n.getRow(_,this.luminances),T=Math.floor(i*4/5);for(let b=Math.floor(i/5);b<T;b++){const P=C[b]&255;u[P>>$e.LUMINANCE_SHIFT]++}}const f=$e.estimateBlackPoint(u),p=n.getMatrix();for(let x=0;x<s;x++){const _=x*i;for(let C=0;C<i;C++)(p[_+C]&255)<f&&l.set(C,x)}return l}createBinarizer(n){return new $e(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<$e.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,l=0,u=0;for(let C=0;C<i;C++)n[C]>u&&(l=C,u=n[C]),n[C]>s&&(s=n[C]);let f=0,p=0;for(let C=0;C<i;C++){const T=C-l,b=n[C]*T*T;b>p&&(f=C,p=b)}if(l>f){const C=l;l=f,f=C}if(f-l<=i/16)throw new Q;let x=f-1,_=-1;for(let C=f-1;C>l;C--){const T=C-l,b=T*T*(f-C)*(s-n[C]);b>_&&(x=C,_=b)}return x<<$e.LUMINANCE_SHIFT}}$e.LUMINANCE_BITS=5,$e.LUMINANCE_SHIFT=8-$e.LUMINANCE_BITS,$e.LUMINANCE_BUCKETS=1<<$e.LUMINANCE_BITS,$e.EMPTY=Uint8ClampedArray.from([0]);class De extends $e{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=De.MINIMUM_DIMENSION&&s>=De.MINIMUM_DIMENSION){const l=n.getMatrix();let u=i>>De.BLOCK_SIZE_POWER;i&De.BLOCK_SIZE_MASK&&u++;let f=s>>De.BLOCK_SIZE_POWER;s&De.BLOCK_SIZE_MASK&&f++;const p=De.calculateBlackPoints(l,u,f,i,s),x=new ft(i,s);De.calculateThresholdForBlock(l,u,f,i,s,p,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new De(n)}static calculateThresholdForBlock(n,i,s,l,u,f,p){const x=u-De.BLOCK_SIZE,_=l-De.BLOCK_SIZE;for(let C=0;C<s;C++){let T=C<<De.BLOCK_SIZE_POWER;T>x&&(T=x);const b=De.cap(C,2,s-3);for(let P=0;P<i;P++){let V=P<<De.BLOCK_SIZE_POWER;V>_&&(V=_);const Z=De.cap(P,2,i-3);let Y=0;for(let me=-2;me<=2;me++){const xe=f[b+me];Y+=xe[Z-2]+xe[Z-1]+xe[Z]+xe[Z+1]+xe[Z+2]}const J=Y/25;De.thresholdBlock(n,V,T,J,l,p)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,l,u,f){for(let p=0,x=s*u+i;p<De.BLOCK_SIZE;p++,x+=u)for(let _=0;_<De.BLOCK_SIZE;_++)(n[x+_]&255)<=l&&f.set(i+_,s+p)}static calculateBlackPoints(n,i,s,l,u){const f=u-De.BLOCK_SIZE,p=l-De.BLOCK_SIZE,x=new Array(s);for(let _=0;_<s;_++){x[_]=new Int32Array(i);let C=_<<De.BLOCK_SIZE_POWER;C>f&&(C=f);for(let T=0;T<i;T++){let b=T<<De.BLOCK_SIZE_POWER;b>p&&(b=p);let P=0,V=255,Z=0;for(let J=0,me=C*l+b;J<De.BLOCK_SIZE;J++,me+=l){for(let xe=0;xe<De.BLOCK_SIZE;xe++){const de=n[me+xe]&255;P+=de,de<V&&(V=de),de>Z&&(Z=de)}if(Z-V>De.MIN_DYNAMIC_RANGE)for(J++,me+=l;J<De.BLOCK_SIZE;J++,me+=l)for(let xe=0;xe<De.BLOCK_SIZE;xe++)P+=n[me+xe]&255}let Y=P>>De.BLOCK_SIZE_POWER*2;if(Z-V<=De.MIN_DYNAMIC_RANGE&&(Y=V/2,_>0&&T>0)){const J=(x[_-1][T]+2*x[_][T-1]+x[_-1][T-1])/4;V<J&&(Y=J)}x[_][T]=Y}}return x}}De.BLOCK_SIZE_POWER=3,De.BLOCK_SIZE=1<<De.BLOCK_SIZE_POWER,De.BLOCK_SIZE_MASK=De.BLOCK_SIZE-1,De.MINIMUM_DIMENSION=De.BLOCK_SIZE*5,De.MIN_DYNAMIC_RANGE=24;class oe{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,l){throw new ze("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ze("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ze("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new Je;for(let s=0;s<this.height;s++){const l=this.getRow(s,n);for(let u=0;u<this.width;u++){const f=l[u]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class ke extends oe{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),l=this.getWidth();for(let u=0;u<l;u++)s[u]=255-(s[u]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let l=0;l<i;l++)s[l]=255-(n[l]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,l){return new ke(this.delegate.crop(n,i,s,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ke(this.delegate.rotateCounterClockwise45())}}class pe extends oe{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return pe.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const l=new Uint8ClampedArray(i*s);for(let u=0,f=0,p=n.length;u<p;u+=4,f++){let x;if(n[u+3]===0)x=255;else{const C=n[u],T=n[u+1],b=n[u+2];x=306*C+601*T+117*b+512>>10}l[f]=x}return l}getRow(n,i){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const s=this.getWidth(),l=n*s;return i===null?i=this.buffer.slice(l,l+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(l,l+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,l){return super.crop(n,i,s,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),l=n*pe.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),x=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return i.width=p,i.height=x,s.translate(p/2,x/2),s.rotate(l),s.drawImage(this.canvas,u/-2,f/-2),this.buffer=pe.makeBufferFromCanvasImageData(i),this}invert(){return new ke(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Be{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Le=(globalThis||ss||self||window||void 0)&&(globalThis||ss||self||window||void 0).__awaiter||function(S,n,i,s){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(C){try{_(s.next(C))}catch(T){f(T)}}function x(C){try{_(s.throw(C))}catch(T){f(T)}}function _(C){C.done?u(C.value):l(C.value).then(p,x)}_((s=s.apply(S,n||[])).next())})};class Tt{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const l=s.kind==="video"?"videoinput":s.kind;if(l!=="videoinput")continue;const u=s.deviceId||s.id,f=s.label||`Video device ${i.length+1}`,p=s.groupId,x={deviceId:u,label:f,kind:l,groupId:p};i.push(x)}return i})}getVideoInputDevices(){return Le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Be(i.deviceId,i.label))})}findDeviceById(n){return Le(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Le(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(n,i){return Le(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return Le(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return Le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return Le(this,void 0,void 0,function*(){let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,s)})}decodeFromConstraints(n,i,s){return Le(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(l,i,s)})}decodeFromStream(n,i,s){return Le(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(l,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Le(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Le(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new I(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,i);return s.src=n,l}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(n);u(p)}catch(p){const x=i&&p instanceof Q,C=(p instanceof W||p instanceof X)&&s;if(x||C)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(p)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(n);i(l,null),setTimeout(s,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof W||l instanceof X,f=l instanceof Q;(u||f)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new pe(i),l=new De(s);return new F(l)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=l+"px",i.width=s,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(n,i,s=i==null?0:8*i.length,l,u,f=U.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=U.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);U.arraycopy(i,0,s,0,i.length),U.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var rt;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var ge=rt,at;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(at||(at={}));var wt=at;class Wr{constructor(n,i,s,l,u=-1,f=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Hr{exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Bt{constructor(n,i){if(i.length===0)throw new N;this.field=n;const s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),U.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let f=0,p=i.length;f!==p;f++){const x=i[f];s=Hr.addOrSubtract(s,x)}return s}s=i[0];const l=i.length,u=this.field;for(let f=1;f<l;f++)s=Hr.addOrSubtract(u.multiply(n,s),i[f]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const f=i;i=s,s=f}let l=new Int32Array(s.length);const u=s.length-i.length;U.arraycopy(s,0,l,0,u);for(let f=u;f<s.length;f++)l[f]=Hr.addOrSubtract(i[f-u],s[f]);return new Bt(this.field,l)}multiply(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,l=n.coefficients,u=l.length,f=new Int32Array(s+u-1),p=this.field;for(let x=0;x<s;x++){const _=i[x];for(let C=0;C<u;C++)f[x+C]=Hr.addOrSubtract(f[x+C],p.multiply(_,l[C]))}return new Bt(p,f)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,l=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)l[f]=s.multiply(u[f],n);return new Bt(s,l)}multiplyByMonomial(n,i){if(n<0)throw new N;if(i===0)return this.field.getZero();const s=this.coefficients,l=s.length,u=new Int32Array(l+n),f=this.field;for(let p=0;p<l;p++)u[p]=f.multiply(s[p],i);return new Bt(f,u)}divide(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new N("Divide by 0");const i=this.field;let s=i.getZero(),l=this;const u=n.getCoefficient(n.getDegree()),f=i.inverse(u);for(;l.getDegree()>=n.getDegree()&&!l.isZero();){const p=l.getDegree()-n.getDegree(),x=i.multiply(l.getCoefficient(l.getDegree()),f),_=n.multiplyByMonomial(p,x),C=i.buildMonomial(p,x);s=s.addOrSubtract(C),l=l.addOrSubtract(_)}return[s,l]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const l=this.field.log(s);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Ir extends w{}Ir.kind="ArithmeticException";class lt extends Hr{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const l=new Int32Array(i);let u=1;for(let p=0;p<i;p++)l[p]=u,u*=2,u>=i&&(u^=n,u&=i-1);this.expTable=l;const f=new Int32Array(i);for(let p=0;p<i-1;p++)f[l[p]]=p;this.logTable=f,this.zero=new Bt(this,Int32Array.from([0])),this.one=new Bt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new N;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new Bt(this,s)}inverse(n){if(n===0)throw new Ir;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class Vr extends w{}Vr.kind="ReedSolomonException";class Yn extends w{}Yn.kind="IllegalStateException";class ui{constructor(n){this.field=n}decode(n,i){const s=this.field,l=new Bt(s,n),u=new Int32Array(i);let f=!0;for(let P=0;P<i;P++){const V=l.evaluateAt(s.exp(P+s.getGeneratorBase()));u[u.length-1-P]=V,V!==0&&(f=!1)}if(f)return;const p=new Bt(s,u),x=this.runEuclideanAlgorithm(s.buildMonomial(i,1),p,i),_=x[0],C=x[1],T=this.findErrorLocations(_),b=this.findErrorMagnitudes(C,T);for(let P=0;P<T.length;P++){const V=n.length-1-s.log(T[P]);if(V<0)throw new Vr("Bad error location");n[V]=lt.addOrSubtract(n[V],b[P])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const P=n;n=i,i=P}const l=this.field;let u=n,f=i,p=l.getZero(),x=l.getOne();for(;f.getDegree()>=(s/2|0);){let P=u,V=p;if(u=f,p=x,u.isZero())throw new Vr("r_{i-1} was zero");f=P;let Z=l.getZero();const Y=u.getCoefficient(u.getDegree()),J=l.inverse(Y);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const me=f.getDegree()-u.getDegree(),xe=l.multiply(f.getCoefficient(f.getDegree()),J);Z=Z.addOrSubtract(l.buildMonomial(me,xe)),f=f.addOrSubtract(u.multiplyByMonomial(me,xe))}if(x=Z.multiply(p).addOrSubtract(V),f.getDegree()>=u.getDegree())throw new Yn("Division algorithm failed to reduce polynomial?")}const _=x.getCoefficient(0);if(_===0)throw new Vr("sigmaTilde(0) was zero");const C=l.inverse(_),T=x.multiplyScalar(C),b=f.multiplyScalar(C);return[T,b]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<i;f++)n.evaluateAt(f)===0&&(s[l]=u.inverse(f),l++);if(l!==i)throw new Vr("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,l=new Int32Array(s),u=this.field;for(let f=0;f<s;f++){const p=u.inverse(i[f]);let x=1;for(let _=0;_<s;_++)if(f!==_){const C=u.multiply(i[_],p),T=C&1?C&-2:C|1;x=u.multiply(x,T)}l[f]=u.multiply(n.evaluateAt(p),u.inverse(x)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],p))}return l}}var Jt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Jt||(Jt={}));class ut{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),l=this.correctBits(s),u=ut.convertBoolArrayToByteArray(l),f=ut.getEncodedData(l),p=new Wr(u,f,null,null);return p.setNumBits(l.length),p}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=Jt.UPPER,l=Jt.UPPER,u="",f=0;for(;f<i;)if(l===Jt.BINARY){if(i-f<5)break;let p=ut.readCode(n,f,5);if(f+=5,p===0){if(i-f<11)break;p=ut.readCode(n,f,11)+31,f+=11}for(let x=0;x<p;x++){if(i-f<8){f=i;break}const _=ut.readCode(n,f,8);u+=Se.castAsNonUtf8Char(_),f+=8}l=s}else{let p=l===Jt.DIGIT?4:5;if(i-f<p)break;let x=ut.readCode(n,f,p);f+=p;let _=ut.getCharacter(l,x);_.startsWith("CTRL_")?(s=l,l=ut.getTable(_.charAt(5)),_.charAt(6)==="L"&&(s=l)):(u+=_,l=s)}return u}static getTable(n){switch(n){case"L":return Jt.LOWER;case"P":return Jt.PUNCT;case"M":return Jt.MIXED;case"D":return Jt.DIGIT;case"B":return Jt.BINARY;case"U":default:return Jt.UPPER}}static getCharacter(n,i){switch(n){case Jt.UPPER:return ut.UPPER_TABLE[i];case Jt.LOWER:return ut.LOWER_TABLE[i];case Jt.MIXED:return ut.MIXED_TABLE[i];case Jt.PUNCT:return ut.PUNCT_TABLE[i];case Jt.DIGIT:return ut.DIGIT_TABLE[i];default:throw new Yn("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=lt.AZTEC_DATA_10):(s=12,i=lt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=n.length/s;if(u<l)throw new X;let f=n.length%s,p=new Int32Array(u);for(let b=0;b<u;b++,f+=s)p[b]=ut.readCode(n,f,s);try{new ui(i).decode(p,u-l)}catch(b){throw new X(b)}let x=(1<<s)-1,_=0;for(let b=0;b<l;b++){let P=p[b];if(P===0||P===x)throw new X;(P===1||P===x-1)&&_++}let C=new Array(l*s-_),T=0;for(let b=0;b<l;b++){let P=p[b];if(P===1||P===x-1)C.fill(P>1,T,T+s-1),T+=s-1;else for(let V=s-1;V>=0;--V)C[T++]=(P&1<<V)!==0}return C}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),l=(i?11:14)+s*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(s,i));if(i)for(let p=0;p<u.length;p++)u[p]=p;else{let p=l+1+2*B.truncDivision(B.truncDivision(l,2)-1,15),x=l/2,_=B.truncDivision(p,2);for(let C=0;C<x;C++){let T=C+B.truncDivision(C,15);u[x-C-1]=_-T-1,u[x+C]=_+T+1}}for(let p=0,x=0;p<s;p++){let _=(s-p)*4+(i?9:12),C=p*2,T=l-1-C;for(let b=0;b<_;b++){let P=b*2;for(let V=0;V<2;V++)f[x+P+V]=n.get(u[C+V],u[C+b]),f[x+2*_+P+V]=n.get(u[C+b],u[T-V]),f[x+4*_+P+V]=n.get(u[T-V],u[T-b]),f[x+6*_+P+V]=n.get(u[T-b],u[C+V])}x+=_*8}return f}static readCode(n,i,s){let l=0;for(let u=i;u<i+s;u++)l<<=1,n[u]&&(l|=1);return l}static readByte(n,i){let s=n.length-i;return s>=8?ut.readCode(n,i,8):ut.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=ut.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}ut.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ut.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ut.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ut.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ut.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,l){const u=n-s,f=i-l;return Math.sqrt(u*u+f*f)}static sum(n){let i=0;for(let s=0,l=n.length;s!==l;s++){const u=n[s];i+=u}return i}}class Zr{static floatToIntBits(n){return n}}Zr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof Ie){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Zr.floatToIntBits(this.x)+Zr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]);let u,f,p;if(s>=i&&s>=l?(f=n[0],u=n[1],p=n[2]):l>=s&&l>=i?(f=n[1],u=n[0],p=n[2]):(f=n[2],u=n[0],p=n[1]),this.crossProductZ(u,f,p)<0){const x=u;u=p,p=x}n[0]=u,n[1]=f,n[2]=p}static distance(n,i){return it.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const l=i.x,u=i.y;return(s.x-l)*(n.y-u)-(s.y-u)*(n.x-l)}}class Gr{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class or extends Gr{constructor(n,i,s,l,u){super(n,i),this.compact=s,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class sr{constructor(n,i,s,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=sr.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);const u=i/2|0;if(this.leftInit=s-u,this.rightInit=s+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,l=this.downInit,u=!1,f=!0,p=!1,x=!1,_=!1,C=!1,T=!1;const b=this.width,P=this.height;for(;f;){f=!1;let V=!0;for(;(V||!x)&&i<b;)V=this.containsBlackPoint(s,l,i,!1),V?(i++,f=!0,x=!0):x||i++;if(i>=b){u=!0;break}let Z=!0;for(;(Z||!_)&&l<P;)Z=this.containsBlackPoint(n,i,l,!0),Z?(l++,f=!0,_=!0):_||l++;if(l>=P){u=!0;break}let Y=!0;for(;(Y||!C)&&n>=0;)Y=this.containsBlackPoint(s,l,n,!1),Y?(n--,f=!0,C=!0):C||n--;if(n<0){u=!0;break}let J=!0;for(;(J||!T)&&s>=0;)J=this.containsBlackPoint(n,i,s,!0),J?(s--,f=!0,T=!0):T||s--;if(s<0){u=!0;break}f&&(p=!0)}if(!u&&p){const V=i-n;let Z=null;for(let xe=1;Z===null&&xe<V;xe++)Z=this.getBlackPointOnSegment(n,l-xe,n+xe,l);if(Z==null)throw new Q;let Y=null;for(let xe=1;Y===null&&xe<V;xe++)Y=this.getBlackPointOnSegment(n,s+xe,n+xe,s);if(Y==null)throw new Q;let J=null;for(let xe=1;J===null&&xe<V;xe++)J=this.getBlackPointOnSegment(i,s+xe,i-xe,s);if(J==null)throw new Q;let me=null;for(let xe=1;me===null&&xe<V;xe++)me=this.getBlackPointOnSegment(i,l-xe,i-xe,l);if(me==null)throw new Q;return this.centerEdges(me,Z,J,Y)}else throw new Q}getBlackPointOnSegment(n,i,s,l){const u=it.round(it.distance(n,i,s,l)),f=(s-n)/u,p=(l-i)/u,x=this.image;for(let _=0;_<u;_++){const C=it.round(n+_*f),T=it.round(i+_*p);if(x.get(C,T))return new Ie(C,T)}return null}centerEdges(n,i,s,l){const u=n.getX(),f=n.getY(),p=i.getX(),x=i.getY(),_=s.getX(),C=s.getY(),T=l.getX(),b=l.getY(),P=sr.CORR;return u<this.width/2?[new Ie(T-P,b+P),new Ie(p+P,x+P),new Ie(_-P,C-P),new Ie(u+P,f-P)]:[new Ie(T+P,b+P),new Ie(p+P,x-P),new Ie(_-P,C+P),new Ie(u-P,f-P)]}containsBlackPoint(n,i,s,l){const u=this.image;if(l){for(let f=n;f<=i;f++)if(u.get(f,s))return!0}else for(let f=n;f<=i;f++)if(u.get(s,f))return!0;return!1}}sr.INIT_SIZE=10,sr.CORR=1;class Zi{static checkAndNudgePoints(n,i){const s=n.getWidth(),l=n.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const p=Math.floor(i[f]),x=Math.floor(i[f+1]);if(p<-1||p>s||x<-1||x>l)throw new Q;u=!1,p===-1?(i[f]=0,u=!0):p===s&&(i[f]=s-1,u=!0),x===-1?(i[f+1]=0,u=!0):x===l&&(i[f+1]=l-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const p=Math.floor(i[f]),x=Math.floor(i[f+1]);if(p<-1||p>s||x<-1||x>l)throw new Q;u=!1,p===-1?(i[f]=0,u=!0):p===s&&(i[f]=s-1,u=!0),x===-1?(i[f+1]=0,u=!0):x===l&&(i[f+1]=l-1,u=!0)}}}class In{constructor(n,i,s,l,u,f,p,x,_){this.a11=n,this.a21=i,this.a31=s,this.a12=l,this.a22=u,this.a32=f,this.a13=p,this.a23=x,this.a33=_}static quadrilateralToQuadrilateral(n,i,s,l,u,f,p,x,_,C,T,b,P,V,Z,Y){const J=In.quadrilateralToSquare(n,i,s,l,u,f,p,x);return In.squareToQuadrilateral(_,C,T,b,P,V,Z,Y).times(J)}transformPoints(n){const i=n.length,s=this.a11,l=this.a12,u=this.a13,f=this.a21,p=this.a22,x=this.a23,_=this.a31,C=this.a32,T=this.a33;for(let b=0;b<i;b+=2){const P=n[b],V=n[b+1],Z=u*P+x*V+T;n[b]=(s*P+f*V+_)/Z,n[b+1]=(l*P+p*V+C)/Z}}transformPointsWithValues(n,i){const s=this.a11,l=this.a12,u=this.a13,f=this.a21,p=this.a22,x=this.a23,_=this.a31,C=this.a32,T=this.a33,b=n.length;for(let P=0;P<b;P++){const V=n[P],Z=i[P],Y=u*V+x*Z+T;n[P]=(s*V+f*Z+_)/Y,i[P]=(l*V+p*Z+C)/Y}}static squareToQuadrilateral(n,i,s,l,u,f,p,x){const _=n-s+u-p,C=i-l+f-x;if(_===0&&C===0)return new In(s-n,u-s,n,l-i,f-l,i,0,0,1);{const T=s-u,b=p-u,P=l-f,V=x-f,Z=T*V-b*P,Y=(_*V-b*C)/Z,J=(T*C-_*P)/Z;return new In(s-n+Y*s,p-n+J*p,n,l-i+Y*l,x-i+J*x,i,Y,J,1)}}static quadrilateralToSquare(n,i,s,l,u,f,p,x){return In.squareToQuadrilateral(n,i,s,l,u,f,p,x).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new In(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class So extends Zi{sampleGrid(n,i,s,l,u,f,p,x,_,C,T,b,P,V,Z,Y,J,me,xe){const de=In.quadrilateralToQuadrilateral(l,u,f,p,x,_,C,T,b,P,V,Z,Y,J,me,xe);return this.sampleGridWithTransform(n,i,s,de)}sampleGridWithTransform(n,i,s,l){if(i<=0||s<=0)throw new Q;const u=new ft(i,s),f=new Float32Array(2*i);for(let p=0;p<s;p++){const x=f.length,_=p+.5;for(let C=0;C<x;C+=2)f[C]=C/2+.5,f[C+1]=_;l.transformPoints(f),Zi.checkAndNudgePoints(n,f);try{for(let C=0;C<x;C+=2)n.get(Math.floor(f[C]),Math.floor(f[C+1]))&&u.set(C/2,p)}catch{throw new Q}}return u}}class ar{static setGridSampler(n){ar.gridSampler=n}static getInstance(){return ar.gridSampler}}ar.gridSampler=new So;class an{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Gi{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let f=s[0];s[0]=s[2],s[2]=f}this.extractParameters(s);let l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),u=this.getMatrixCornerPoints(s);return new or(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Q;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let l=0;for(let f=0;f<4;f++){let p=s[(this.shift+f)%4];this.compact?(l<<=7,l+=p>>1&127):(l<<=10,l+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,i){let s=0;n.forEach((l,u,f)=>{let p=(l>>i-2<<1)+(l&1);s=(s<<3)+p}),s=((s&1)<<11)+(s>>1);for(let l=0;l<4;l++)if(B.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Q}getCorrectedParameterData(n,i){let s,l;i?(s=7,l=2):(s=10,l=4);let u=s-l,f=new Int32Array(s);for(let x=s-1;x>=0;--x)f[x]=n&15,n>>=4;try{new ui(lt.AZTEC_PARAM).decode(f,u)}catch{throw new Q}let p=0;for(let x=0;x<l;x++)p=(p<<4)+f[x];return p}getBullsEyeCorners(n){let i=n,s=n,l=n,u=n,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,f,1,-1),b=this.getFirstDifferent(s,f,1,1),P=this.getFirstDifferent(l,f,-1,1),V=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let Z=this.distancePoint(V,T)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(Z<.75||Z>1.25||!this.isWhiteOrBlackRectangle(T,b,P,V))break}i=T,s=b,l=P,u=V,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let p=new Ie(i.getX()+.5,i.getY()-.5),x=new Ie(s.getX()+.5,s.getY()+.5),_=new Ie(l.getX()-.5,l.getY()+.5),C=new Ie(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,x,_,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,l;try{let p=new sr(this.image).detect();n=p[0],i=p[1],s=p[2],l=p[3]}catch{let x=this.image.getWidth()/2,_=this.image.getHeight()/2;n=this.getFirstDifferent(new an(x+7,_-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new an(x+7,_+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new an(x-7,_+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new an(x-7,_-7),!1,-1,-1).toResultPoint()}let u=it.round((n.getX()+l.getX()+i.getX()+s.getX())/4),f=it.round((n.getY()+l.getY()+i.getY()+s.getY())/4);try{let p=new sr(this.image,15,u,f).detect();n=p[0],i=p[1],s=p[2],l=p[3]}catch{n=this.getFirstDifferent(new an(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new an(u+7,f+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new an(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new an(u-7,f-7),!1,-1,-1).toResultPoint()}return u=it.round((n.getX()+l.getX()+i.getX()+s.getX())/4),f=it.round((n.getY()+l.getY()+i.getY()+s.getY())/4),new an(u,f)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,l,u){let f=ar.getInstance(),p=this.getDimension(),x=p/2-this.nbCenterLayers,_=p/2+this.nbCenterLayers;return f.sampleGrid(n,p,p,x,x,_,x,_,_,x,_,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(n,i,s){let l=0,u=this.distanceResultPoint(n,i),f=u/s,p=n.getX(),x=n.getY(),_=f*(i.getX()-n.getX())/u,C=f*(i.getY()-n.getY())/u;for(let T=0;T<s;T++)this.image.get(it.round(p+T*_),it.round(x+T*C))&&(l|=1<<s-T-1);return l}isWhiteOrBlackRectangle(n,i,s,l){let u=3;n=new an(n.getX()-u,n.getY()+u),i=new an(i.getX()-u,i.getY()-u),s=new an(s.getX()+u,s.getY()-u),l=new an(l.getX()+u,l.getY()+u);let f=this.getColor(l,n);if(f===0)return!1;let p=this.getColor(n,i);return p!==f||(p=this.getColor(i,s),p!==f)?!1:(p=this.getColor(s,l),p===f)}getColor(n,i){let s=this.distancePoint(n,i),l=(i.getX()-n.getX())/s,u=(i.getY()-n.getY())/s,f=0,p=n.getX(),x=n.getY(),_=this.image.get(n.getX(),n.getY()),C=Math.ceil(s);for(let b=0;b<C;b++)p+=l,x+=u,this.image.get(it.round(p),it.round(x))!==_&&f++;let T=f/s;return T>.1&&T<.9?0:T<=.1===_?1:-1}getFirstDifferent(n,i,s,l){let u=n.getX()+s,f=n.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=s,f+=l;for(u-=s,f-=l;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=s;for(u-=s;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=l;return f-=l,new an(u,f)}expandSquare(n,i,s){let l=s/(2*i),u=n[0].getX()-n[2].getX(),f=n[0].getY()-n[2].getY(),p=(n[0].getX()+n[2].getX())/2,x=(n[0].getY()+n[2].getY())/2,_=new Ie(p+l*u,x+l*f),C=new Ie(p-l*u,x-l*f);u=n[1].getX()-n[3].getX(),f=n[1].getY()-n[3].getY(),p=(n[1].getX()+n[3].getX())/2,x=(n[1].getY()+n[3].getY())/2;let T=new Ie(p+l*u,x+l*f),b=new Ie(p-l*u,x-l*f);return[_,T,C,b]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=it.round(n.getX()),s=it.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return it.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return it.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Xr{decode(n,i=null){let s=null,l=new Gi(n.getBlackMatrix()),u=null,f=null;try{let C=l.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(i,u),f=new ut().decode(C)}catch(C){s=C}if(f==null)try{let C=l.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(i,u),f=new ut().decode(C)}catch(C){throw s??C}let p=new Ge(f.getText(),f.getRawBytes(),f.getNumBits(),u,ge.AZTEC,U.currentTimeMillis()),x=f.getByteSegments();x!=null&&p.putMetadata(wt.BYTE_SEGMENTS,x);let _=f.getECLevel();return _!=null&&p.putMetadata(wt.ERROR_CORRECTION_LEVEL,_),p}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(ie.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((l,u,f)=>{s.foundPossibleResultPoint(l)})}}reset(){}}class Hs extends Tt{constructor(n=500){super(new Xr,n)}}class Ft{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(ie.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),f=this.doDecode(u,i),p=f.getResultMetadata();let x=270;p!==null&&p.get(wt.ORIENTATION)===!0&&(x=x+p.get(wt.ORIENTATION)%360),f.putMetadata(wt.ORIENTATION,x);const _=f.getResultPoints();if(_!==null){const C=u.getHeight();for(let T=0;T<_.length;T++)_[T]=new Ie(C-_[T].getY()-1,_[T].getX())}return f}else throw new Q}}reset(){}doDecode(n,i){const s=n.getWidth(),l=n.getHeight();let u=new D(s);const f=i&&i.get(ie.TRY_HARDER)===!0,p=Math.max(1,l>>(f?8:5));let x;f?x=l:x=15;const _=Math.trunc(l/2);for(let C=0;C<x;C++){const T=Math.trunc((C+1)/2),b=(C&1)===0,P=_+p*(b?T:-T);if(P<0||P>=l)break;try{u=n.getBlackRow(P,u)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(u.reverse(),i&&i.get(ie.NEED_RESULT_POINT_CALLBACK)===!0)){const Z=new Map;i.forEach((Y,J)=>Z.set(J,Y)),Z.delete(ie.NEED_RESULT_POINT_CALLBACK),i=Z}try{const Z=this.decodeRow(P,u,i);if(V===1){Z.putMetadata(wt.ORIENTATION,180);const Y=Z.getResultPoints();Y!==null&&(Y[0]=new Ie(s-Y[0].getX()-1,Y[0].getY()),Y[1]=new Ie(s-Y[1].getX()-1,Y[1].getY()))}return Z}catch{}}}throw new Q}static recordPattern(n,i,s){const l=s.length;for(let _=0;_<l;_++)s[_]=0;const u=n.getSize();if(i>=u)throw new Q;let f=!n.get(i),p=0,x=i;for(;x<u;){if(n.get(x)!==f)s[p]++;else{if(++p===l)break;s[p]=1,f=!f}x++}if(!(p===l||p===l-1&&x===u))throw new Q}static recordPatternInReverse(n,i,s){let l=s.length,u=n.get(i);for(;i>0&&l>=0;)n.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new Q;Ft.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const l=n.length;let u=0,f=0;for(let _=0;_<l;_++)u+=n[_],f+=i[_];if(u<f)return Number.POSITIVE_INFINITY;const p=u/f;s*=p;let x=0;for(let _=0;_<l;_++){const C=n[_],T=i[_]*p,b=C>T?C-T:T-C;if(b>s)return Number.POSITIVE_INFINITY;x+=b}return x/u}}class ye extends Ft{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=s,p=!1;const x=6;for(let _=s;_<i;_++)if(n.get(_)!==p)u[l]++;else{if(l===x-1){let C=ye.MAX_AVG_VARIANCE,T=-1;for(let b=ye.CODE_START_A;b<=ye.CODE_START_C;b++){const P=Ft.patternMatchVariance(u,ye.CODE_PATTERNS[b],ye.MAX_INDIVIDUAL_VARIANCE);P<C&&(C=P,T=b)}if(T>=0&&n.isRange(Math.max(0,f-(_-f)/2),f,!1))return Int32Array.from([f,_,T]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,p=!p}throw new Q}static decodeCode(n,i,s){Ft.recordPattern(n,s,i);let l=ye.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<ye.CODE_PATTERNS.length;f++){const p=ye.CODE_PATTERNS[f],x=this.patternMatchVariance(i,p,ye.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,u=f)}if(u>=0)return u;throw new Q}decodeRow(n,i,s){const l=s&&s.get(ie.ASSUME_GS1)===!0,u=ye.findStartPattern(i),f=u[2];let p=0;const x=new Uint8Array(20);x[p++]=f;let _;switch(f){case ye.CODE_START_A:_=ye.CODE_CODE_A;break;case ye.CODE_START_B:_=ye.CODE_CODE_B;break;case ye.CODE_START_C:_=ye.CODE_CODE_C;break;default:throw new X}let C=!1,T=!1,b="",P=u[0],V=u[1];const Z=Int32Array.from([0,0,0,0,0,0]);let Y=0,J=0,me=f,xe=0,de=!0,nt=!1,Ye=!1;for(;!C;){const kr=T;switch(T=!1,Y=J,J=ye.decodeCode(i,Z,V),x[p++]=J,J!==ye.CODE_STOP&&(de=!0),J!==ye.CODE_STOP&&(xe++,me+=xe*J),P=V,V+=Z.reduce((sc,to)=>sc+to,0),J){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new X}switch(_){case ye.CODE_CODE_A:if(J<64)Ye===nt?b+=String.fromCharCode(" ".charCodeAt(0)+J):b+=String.fromCharCode(" ".charCodeAt(0)+J+128),Ye=!1;else if(J<96)Ye===nt?b+=String.fromCharCode(J-64):b+=String.fromCharCode(J+64),Ye=!1;else switch(J!==ye.CODE_STOP&&(de=!1),J){case ye.CODE_FNC_1:l&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!nt&&Ye?(nt=!0,Ye=!1):nt&&Ye?(nt=!1,Ye=!1):Ye=!0;break;case ye.CODE_SHIFT:T=!0,_=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:_=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:_=ye.CODE_CODE_C;break;case ye.CODE_STOP:C=!0;break}break;case ye.CODE_CODE_B:if(J<96)Ye===nt?b+=String.fromCharCode(" ".charCodeAt(0)+J):b+=String.fromCharCode(" ".charCodeAt(0)+J+128),Ye=!1;else switch(J!==ye.CODE_STOP&&(de=!1),J){case ye.CODE_FNC_1:l&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!nt&&Ye?(nt=!0,Ye=!1):nt&&Ye?(nt=!1,Ye=!1):Ye=!0;break;case ye.CODE_SHIFT:T=!0,_=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:_=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:_=ye.CODE_CODE_C;break;case ye.CODE_STOP:C=!0;break}break;case ye.CODE_CODE_C:if(J<100)J<10&&(b+="0"),b+=J;else switch(J!==ye.CODE_STOP&&(de=!1),J){case ye.CODE_FNC_1:l&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ye.CODE_CODE_A:_=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:_=ye.CODE_CODE_B;break;case ye.CODE_STOP:C=!0;break}break}kr&&(_=_===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Gt=V-P;if(V=i.getNextUnset(V),!i.isRange(V,Math.min(i.getSize(),V+(V-P)/2),!1))throw new Q;if(me-=xe*Y,me%103!==Y)throw new W;const jn=b.length;if(jn===0)throw new Q;jn>0&&de&&(_===ye.CODE_CODE_C?b=b.substring(0,jn-2):b=b.substring(0,jn-1));const Wn=(u[1]+u[0])/2,At=P+Gt/2,An=x.length,Hn=new Uint8Array(An);for(let kr=0;kr<An;kr++)Hn[kr]=x[kr];const eo=[new Ie(Wn,n),new Ie(At,n)];return new Ge(b,Hn,0,eo,ge.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Ht extends Ft{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Ht.findAsteriskPattern(i,l),f=i.getNextSet(u[1]),p=i.getSize(),x,_;do{Ht.recordPattern(i,f,l);let Z=Ht.toNarrowWidePattern(l);if(Z<0)throw new Q;x=Ht.patternToChar(Z),this.decodeRowResult+=x,_=f;for(let Y of l)f+=Y;f=i.getNextSet(f)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let Z of l)C+=Z;let T=f-_-C;if(f!==p&&T*2<C)throw new Q;if(this.usingCheckDigit){let Z=this.decodeRowResult.length-1,Y=0;for(let J=0;J<Z;J++)Y+=Ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(Z)!==Ht.ALPHABET_STRING.charAt(Y%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,Z)}if(this.decodeRowResult.length===0)throw new Q;let b;this.extendedMode?b=Ht.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let P=(u[1]+u[0])/2,V=_+C/2;return new Ge(b,null,0,[new Ie(P,n),new Ie(V,n)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),l=n.getNextSet(0),u=0,f=l,p=!1,x=i.length;for(let _=l;_<s;_++)if(n.get(_)!==p)i[u]++;else{if(u===x-1){if(this.toNarrowWidePattern(i)===Ht.ASTERISK_ENCODING&&n.isRange(Math.max(0,f-Math.floor((_-f)/2)),f,!1))return[f,_];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,p=!p}throw new Q}static toNarrowWidePattern(n){let i=n.length,s=0,l;do{let u=2147483647;for(let x of n)x<u&&x>s&&(u=x);s=u,l=0;let f=0,p=0;for(let x=0;x<i;x++){let _=n[x];_>s&&(p|=1<<i-1-x,l++,f+=_)}if(l===3){for(let x=0;x<i&&l>0;x++){let _=n[x];if(_>s&&(l--,_*2>=f))return-1}return p}}while(l>3);return-1}static patternToChar(n){for(let i=0;i<Ht.CHARACTER_ENCODINGS.length;i++)if(Ht.CHARACTER_ENCODINGS[i]===n)return Ht.ALPHABET_STRING.charAt(i);if(n===Ht.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(n){let i=n.length,s="";for(let l=0;l<i;l++){let u=n.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=n.charAt(l+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new X;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new X;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="";else throw new X;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new X;break}s+=p,l++}else s+=u}return s}}Ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ht.ASTERISK_ENCODING=148;class It extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let l=this.decodeStart(i),u=this.decodeEnd(i),f=new Je;It.decodeMiddle(i,l[1],u[0],f);let p=f.toString(),x=null;s!=null&&(x=s.get(ie.ALLOWED_LENGTHS)),x==null&&(x=It.DEFAULT_ALLOWED_LENGTHS);let _=p.length,C=!1,T=0;for(let V of x){if(_===V){C=!0;break}V>T&&(T=V)}if(!C&&_>T&&(C=!0),!C)throw new X;const b=[new Ie(l[1],n),new Ie(u[0],n)];return new Ge(p,null,0,b,ge.ITF,new Date().getTime())}static decodeMiddle(n,i,s,l){let u=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),f.fill(0),p.fill(0);i<s;){Ft.recordPattern(n,i,u);for(let _=0;_<5;_++){let C=2*_;f[_]=u[C],p[_]=u[C+1]}let x=It.decodeDigit(f);l.append(x.toString()),x=this.decodeDigit(p),l.append(x.toString()),u.forEach(function(_){i+=_})}}decodeStart(n){let i=It.skipWhiteSpace(n),s=It.findGuardPattern(n,i,It.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let l=i-1;s>0&&l>=0&&!n.get(l);l--)s--;if(s!==0)throw new Q}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new Q;return s}decodeEnd(n){n.reverse();try{let i=It.skipWhiteSpace(n),s;try{s=It.findGuardPattern(n,i,It.END_PATTERN_REVERSED[0])}catch(u){u instanceof Q&&(s=It.findGuardPattern(n,i,It.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let l=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-l,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let l=s.length,u=new Int32Array(l),f=n.getSize(),p=!1,x=0,_=i;u.fill(0);for(let C=i;C<f;C++)if(n.get(C)!==p)u[x]++;else{if(x===l-1){if(Ft.patternMatchVariance(u,s,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return[_,C];_+=u[0]+u[1],U.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,p=!p}throw new Q}static decodeDigit(n){let i=It.MAX_AVG_VARIANCE,s=-1,l=It.PATTERNS.length;for(let u=0;u<l;u++){let f=It.PATTERNS[u],p=Ft.patternMatchVariance(n,f,It.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,s=u):p===i&&(s=-1)}if(s>=0)return s%10;throw new Q}}It.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],It.MAX_AVG_VARIANCE=.38,It.MAX_INDIVIDUAL_VARIANCE=.5,It.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],It.START_PATTERN=Int32Array.from([1,1,1,1]),It.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class G extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),s=G.findGuardPattern(n,l,!1,this.START_END_PATTERN,u);let f=s[0];l=s[1];let p=f-(l-f);p>=0&&(i=n.isRange(p,f,!1))}return s}static checkChecksum(n){return G.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return G.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let l=i-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}s*=3;for(let l=i-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}return(1e3-s)%10}static decodeEnd(n,i){return G.findGuardPattern(n,i,!1,G.START_END_PATTERN,new Int32Array(G.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,l){return this.findGuardPattern(n,i,s,l,new Int32Array(l.length))}static findGuardPattern(n,i,s,l,u){let f=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let p=0,x=i,_=l.length,C=s;for(let T=i;T<f;T++)if(n.get(T)!==C)u[p]++;else{if(p===_-1){if(Ft.patternMatchVariance(u,l,G.MAX_INDIVIDUAL_VARIANCE)<G.MAX_AVG_VARIANCE)return Int32Array.from([x,T]);x+=u[0]+u[1];let b=u.slice(2,u.length-1);for(let P=0;P<p-1;P++)u[P]=b[P];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,C=!C}throw new Q}static decodeDigit(n,i,s,l){this.recordPattern(n,s,i);let u=this.MAX_AVG_VARIANCE,f=-1,p=l.length;for(let x=0;x<p;x++){let _=l[x],C=Ft.patternMatchVariance(i,_,G.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,f=x)}if(f>=0)return f;throw new Q}}G.MAX_AVG_VARIANCE=.48,G.MAX_INDIVIDUAL_VARIANCE=.7,G.START_END_PATTERN=Int32Array.from([1,1,1]),G.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),G.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),G.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class te{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,l),f=l.toString(),p=te.parseExtensionString(f),x=[new Ie((s[0]+s[1])/2,n),new Ie(u,n)],_=new Ge(f,null,0,x,ge.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&_.putAllMetadata(p),_}decodeMiddle(n,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=i[1],p=0;for(let _=0;_<5&&f<u;_++){let C=G.decodeDigit(n,l,f,G.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of l)f+=T;C>=10&&(p|=1<<4-_),_!==4&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(s.length!==5)throw new Q;let x=this.determineCheckDigit(p);if(te.extensionChecksum(s.toString())!==x)throw new Q;return f}static extensionChecksum(n){let i=n.length,s=0;for(let l=i-2;l>=0;l-=2)s+=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);s*=3;for(let l=i-1;l>=0;l-=2)s+=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new Q}static parseExtensionString(n){if(n.length!==5)return null;let i=te.parseExtension5String(n);return i==null?null:new Map([[wt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),l=(s/100).toString(),u=s%100,f=u<10?"0"+u:u.toString();return i+l+"."+f}}class ce{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,l),f=l.toString(),p=ce.parseExtensionString(f),x=[new Ie((s[0]+s[1])/2,n),new Ie(u,n)],_=new Ge(f,null,0,x,ge.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&_.putAllMetadata(p),_}decodeMiddle(n,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=i[1],p=0;for(let x=0;x<2&&f<u;x++){let _=G.decodeDigit(n,l,f,G.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let C of l)f+=C;_>=10&&(p|=1<<1-x),x!==1&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(s.length!==2)throw new Q;if(parseInt(s.toString())%4!==p)throw new Q;return f}static parseExtensionString(n){return n.length!==2?null:new Map([[wt.ISSUE_NUMBER,parseInt(n)]])}}class Te{static decodeRow(n,i,s){let l=G.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new te().decodeRow(n,i,l)}catch{return new ce().decodeRow(n,i,l)}}}Te.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class we extends G{constructor(){super(),this.decodeRowStringBuffer="",we.L_AND_G_PATTERNS=we.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=we.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let l=0;l<i.length;l++)s[l]=i[i.length-l-1];we.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let l=we.findStartGuardPattern(i),u=s==null?null:s.get(ie.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new Ie((l[0]+l[1])/2,n);u.foundPossibleResultPoint(de)}let f=this.decodeMiddle(i,l,this.decodeRowStringBuffer),p=f.rowOffset,x=f.resultString;if(u!=null){const de=new Ie(p,n);u.foundPossibleResultPoint(de)}let _=this.decodeEnd(i,p);if(u!=null){const de=new Ie((_[0]+_[1])/2,n);u.foundPossibleResultPoint(de)}let C=_[1],T=C+(C-_[0]);if(T>=i.getSize()||!i.isRange(C,T,!1))throw new Q;let b=x.toString();if(b.length<8)throw new X;if(!we.checkChecksum(b))throw new W;let P=(l[1]+l[0])/2,V=(_[1]+_[0])/2,Z=this.getBarcodeFormat(),Y=[new Ie(P,n),new Ie(V,n)],J=new Ge(b,null,0,Y,Z,new Date().getTime()),me=0;try{let de=Te.decodeRow(n,i,_[1]);J.putMetadata(wt.UPC_EAN_EXTENSION,de.getText()),J.putAllMetadata(de.getResultMetadata()),J.addResultPoints(de.getResultPoints()),me=de.getText().length}catch{}let xe=s==null?null:s.get(ie.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let de=!1;for(let nt in xe)if(me.toString()===nt){de=!0;break}if(!de)throw new Q}return J}decodeEnd(n,i){return we.findGuardPattern(n,i,!1,we.START_END_PATTERN,new Int32Array(we.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return we.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return we.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let l=i-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}s*=3;for(let l=i-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new X;s+=u}return(1e3-s)%10}}class Fe extends we{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=i[1],p=0;for(let _=0;_<6&&f<u;_++){let C=we.decodeDigit(n,l,f,we.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of l)f+=T;C>=10&&(p|=1<<5-_)}s=Fe.determineFirstDigit(s,p),f=we.findGuardPattern(n,f,!0,we.MIDDLE_PATTERN,new Int32Array(we.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&f<u;_++){let C=we.decodeDigit(n,l,f,we.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C);for(let T of l)f+=T}return{rowOffset:f,resultString:s}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode("0".charCodeAt(0)+s)+n,n;throw new Q}}Fe.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ze extends we{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=i[1];for(let x=0;x<4&&f<u;x++){let _=we.decodeDigit(n,l,f,we.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+_);for(let C of l)f+=C}f=we.findGuardPattern(n,f,!0,we.MIDDLE_PATTERN,new Int32Array(we.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&f<u;x++){let _=we.decodeDigit(n,l,f,we.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+_);for(let C of l)f+=C}return{rowOffset:f,resultString:s}}getBarcodeFormat(){return ge.EAN_8}}class je extends we{constructor(){super(...arguments),this.ean13Reader=new Fe}getBarcodeFormat(){return ge.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new Ge(i.substring(1),null,null,n.getResultPoints(),ge.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new Q}reset(){this.ean13Reader.reset()}}class Re extends we{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const l=this.decodeMiddleCounters.map(_=>_);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=n.getSize();let f=i[1],p=0;for(let _=0;_<6&&f<u;_++){const C=Re.decodeDigit(n,l,f,Re.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of l)f+=T;C>=10&&(p|=1<<5-_)}let x=Re.determineNumSysAndCheckDigit(s,p);return{rowOffset:f,resultString:x}}decodeEnd(n,i){return Re.findGuardPatternWithoutCounters(n,i,!0,Re.MIDDLE_END_PATTERN)}checkChecksum(n){return we.checkChecksum(Re.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][l]){let u=String.fromCharCode("0".charCodeAt(0)+s),f=String.fromCharCode("0".charCodeAt(0)+l);return u+n+f}throw Q.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),s=new Je;s.append(n.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(l),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(l);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Re.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Re.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class vt extends Ft{constructor(n){super();let i=n==null?null:n.get(ie.POSSIBLE_FORMATS),s=[];a(i)?(s.push(new Fe),s.push(new je),s.push(new Ze),s.push(new Re)):(i.indexOf(ge.EAN_13)>-1&&s.push(new Fe),i.indexOf(ge.UPC_A)>-1&&s.push(new je),i.indexOf(ge.EAN_8)>-1&&s.push(new Ze),i.indexOf(ge.UPC_E)>-1&&s.push(new Re)),this.readers=s}decodeRow(n,i,s){for(let l of this.readers)try{const u=l.decodeRow(n,i,s),f=u.getBarcodeFormat()===ge.EAN_13&&u.getText().charAt(0)==="0",p=s==null?null:s.get(ie.POSSIBLE_FORMATS),x=p==null||p.includes(ge.UPC_A);if(f&&x){const _=u.getRawBytes(),C=new Ge(u.getText().substring(1),_,_?_.length:null,u.getResultPoints(),ge.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new Q}reset(){for(let n of this.readers)n.reset()}}class Qe extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(Ft.patternMatchVariance(n,i[s],Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return s;throw new Q}static count(n){return it.sum(new Int32Array(n))}static increment(n,i){let s=0,l=i[0];for(let u=1;u<n.length;u++)i[u]>l&&(l=i[u],s=u);n[s]++}static decrement(n,i){let s=0,l=i[0];for(let u=1;u<n.length;u++)i[u]<l&&(l=i[u],s=u);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],l=i/s;if(l>=Qe.MIN_FINDER_PATTERN_RATIO&&l<=Qe.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of n)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}Qe.MAX_AVG_VARIANCE=.2,Qe.MAX_INDIVIDUAL_VARIANCE=.45,Qe.MIN_FINDER_PATTERN_RATIO=9.5/12,Qe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ke{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ke))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class dt{constructor(n,i,s,l,u){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ie(s,u)),this.resultPoints.push(new Ie(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof dt))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class xt{constructor(){}static getRSSvalue(n,i,s){let l=0;for(let x of n)l+=x;let u=0,f=0,p=n.length;for(let x=0;x<p-1;x++){let _;for(_=1,f|=1<<x;_<n[x];_++,f&=~(1<<x)){let C=xt.combins(l-_-1,p-x-2);if(s&&f===0&&l-_-(p-x-1)>=p-x-1&&(C-=xt.combins(l-_-(p-x),p-x-2)),p-x-1>1){let T=0;for(let b=l-_-(p-x-2);b>i;b--)T+=xt.combins(l-_-b-1,p-x-3);C-=T*(p-1-x)}else l-_>i&&C--;u+=C}l-=_}return u}static combins(n,i){let s,l;n-i>i?(l=i,s=n-i):(l=n-i,s=i);let u=1,f=1;for(let p=n;p>s;p--)u*=p,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class Yr{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,l=new D(s),u=0,p=n[0].getRightChar().getValue();for(let x=11;x>=0;--x)p&1<<x&&l.set(u),u++;for(let x=1;x<n.length;++x){let _=n[x],C=_.getLeftChar().getValue();for(let T=11;T>=0;--T)C&1<<T&&l.set(u),u++;if(_.getRightChar()!=null){let T=_.getRightChar().getValue();for(let b=11;b>=0;--b)T&1<<b&&l.set(u),u++}}return l}}class Ln{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Kr{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Ot extends Kr{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Ot.FNC1}}Ot.FNC1="$";class Ae extends Kr{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Vt extends Kr{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new X;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Vt.FNC1}isSecondDigitFNC1(){return this.secondDigit===Vt.FNC1}isAnyFNC1(){return this.firstDigit===Vt.FNC1||this.secondDigit===Vt.FNC1}}Vt.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Q;let i=n.substring(0,2);for(let u of Ce.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,u[2],n):Ce.processFixedAI(2,u[1],n);if(n.length<3)throw new Q;let s=n.substring(0,3);for(let u of Ce.THREE_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,u[2],n):Ce.processFixedAI(3,u[1],n);for(let u of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,u[2],n):Ce.processFixedAI(4,u[1],n);if(n.length<4)throw new Q;let l=n.substring(0,4);for(let u of Ce.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,u[2],n):Ce.processFixedAI(4,u[1],n);throw new Q}static processFixedAI(n,i,s){if(s.length<n)throw new Q;let l=s.substring(0,n);if(s.length<n+i)throw new Q;let u=s.substring(n,n+i),f=s.substring(n+i),p="("+l+")"+u,x=Ce.parseFieldsInGeneralPurpose(f);return x==null?p:p+x}static processVariableAI(n,i,s){let l=s.substring(0,n),u;s.length<n+i?u=s.length:u=n+i;let f=s.substring(n,u),p=s.substring(u),x="("+l+")"+f,_=Ce.parseFieldsInGeneralPurpose(p);return _==null?x:x+_}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class gr{constructor(n){this.buffer=new Je,this.information=n}decodeAllCodes(n,i){let s=i,l=null;do{let u=this.decodeGeneralPurposeField(s,l),f=Ce.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&n.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,s===u.getNewPosition())break;s=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new Vt(this.information.getSize(),Vt.FNC1,Vt.FNC1):new Vt(this.information.getSize(),u-1,Vt.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,l=(i-8)%11;return new Vt(n+7,s,l)}extractNumericValueFromBitArray(n,i){return gr.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let l=0;for(let u=0;u<s;++u)n.get(i+u)&&(l|=1<<s-u-1);return l}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Ae(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Ae(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new Ae(this.current.getPosition(),this.buffer.toString()):i=new Ae(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Ln(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new Ae(this.current.getPosition(),this.buffer.toString());return new Ln(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ln(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Ae(this.current.getPosition(),this.buffer.toString());return new Ln(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ln(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Ae(this.current.getPosition(),this.buffer.toString());return new Ln(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ln(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Ot(n+5,Ot.FNC1);if(i>=5&&i<15)return new Ot(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Ot(n+7,""+(s+1));if(s>=90&&s<116)return new Ot(n+7,""+(s+7));let l=this.extractNumericValueFromBitArray(n,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new X}return new Ot(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Ot(n+5,Ot.FNC1);if(i>=5&&i<15)return new Ot(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Ot(n+6,""+(s+33));let l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Yn("Decoding invalid alphanumeric value: "+s)}return new Ot(n+6,l)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class ci{constructor(n){this.information=n,this.generalDecoder=new gr(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ln extends ci{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}ln.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let l=0;l<13;l++){let u=n.charAt(l+i).charCodeAt(0)-"0".charCodeAt(0);s+=l&1?u:3*u}s=10-s%10,s===10&&(s=0),n.append(s)}}ln.GTIN_SIZE=40;class ot extends ln{constructor(n){super(n)}parseInformation(){let n=new Je;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(ot.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,ot.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,ot.HEADER_SIZE+44)}}ot.HEADER_SIZE=1+1+2;class $t extends ci{constructor(n){super(n)}parseInformation(){let n=new Je;return this.getGeneralDecoder().decodeAllCodes(n,$t.HEADER_SIZE)}}$t.HEADER_SIZE=2+1+2;class Fn extends ln{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,l);let u=this.checkWeight(l),f=1e5;for(let p=0;p<5;++p)u/f===0&&n.append("0"),f/=10;n.append(u)}}class zn extends Fn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=zn.HEADER_SIZE+Fn.GTIN_SIZE+zn.WEIGHT_SIZE)throw new Q;let n=new Je;return this.encodeCompressedGtin(n,zn.HEADER_SIZE),this.encodeCompressedWeight(n,zn.HEADER_SIZE+Fn.GTIN_SIZE,zn.WEIGHT_SIZE),n.toString()}}zn.HEADER_SIZE=4+1,zn.WEIGHT_SIZE=15;class en extends zn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class Si extends zn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Kn extends ln{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+ln.GTIN_SIZE)throw new Q;let n=new Je;this.encodeCompressedGtin(n,Kn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+ln.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+ln.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Kn.HEADER_SIZE=5+1+2,Kn.LAST_DIGIT_SIZE=2;class gn extends ln{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<gn.HEADER_SIZE+ln.GTIN_SIZE)throw new Q;let n=new Je;this.encodeCompressedGtin(n,gn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+ln.GTIN_SIZE,gn.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+ln.GTIN_SIZE+gn.LAST_DIGIT_SIZE,gn.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let l=this.getGeneralDecoder().decodeGeneralPurposeField(gn.HEADER_SIZE+ln.GTIN_SIZE+gn.LAST_DIGIT_SIZE+gn.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()}}gn.HEADER_SIZE=5+1+2,gn.LAST_DIGIT_SIZE=2,gn.FIRST_THREE_DIGITS_SIZE=10;class zt extends Fn{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new Q;let n=new Je;return this.encodeCompressedGtin(n,zt.HEADER_SIZE),this.encodeCompressedWeight(n,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(n,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,zt.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let l=s%32;s/=32;let u=s%12+1;s/=12;let f=s;f/10==0&&n.append("0"),n.append(f),u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}zt.HEADER_SIZE=7+1,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function To(S){try{if(S.get(1))return new ot(S);if(!S.get(2))return new $t(S);switch(gr.extractNumericValueFromBitArray(S,1,4)){case 4:return new en(S);case 5:return new Si(S)}switch(gr.extractNumericValueFromBitArray(S,1,5)){case 12:return new Kn(S);case 13:return new gn(S)}switch(gr.extractNumericValueFromBitArray(S,1,7)){case 56:return new zt(S,"310","11");case 57:return new zt(S,"320","11");case 58:return new zt(S,"310","13");case 59:return new zt(S,"320","13");case 60:return new zt(S,"310","15");case 61:return new zt(S,"320","15");case 62:return new zt(S,"310","17");case 63:return new zt(S,"320","17")}}catch(n){throw console.log(n),new Yn("unknown decoder: "+S)}}class hi{constructor(n,i,s,l){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof hi?hi.equalsOrNull(n.leftchar,i.leftchar)&&hi.equalsOrNull(n.rightchar,i.rightchar)&&hi.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:hi.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Vs{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Vs?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((l,u)=>{i.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(s=!0)})}),s}}class he extends Qe{constructor(n){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(n,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(u){if(u instanceof Q){if(!this.pairs.length)throw new Q;s=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(n,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Q}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let l=this.rows[s];this.pairs.length=0;for(let f of n)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(l);try{return this.checkRows(u,s+1)}catch(f){this.verbose&&console.log(f)}}throw new Q}static isValidSequence(n){for(let i of he.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=i[l]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,l=!1,u=!1;for(;s<this.rows.length;){let f=this.rows[s];if(f.getRowNumber()>n){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),s++}u||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Vs(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let l of s.getPairs())for(let u of n)if(hi.equals(l,u))break}}static isPartialRow(n,i){for(let s of i){let l=!0;for(let u of n){let f=!1;for(let p of s.getPairs())if(u.equals(p)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=Yr.buildBitArray(n),l=To(i).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),f=n[n.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],f[0],f[1]];return new Ge(l,null,null,p,ge.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let l=s.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let x=this.pairs.get(p);l+=x.getLeftChar().getChecksumPortion(),u++;let _=x.getRightChar();_!=null&&(l+=_.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,p=-1;do this.findNextPair(n,i,p),u=this.parseFoundFinderPattern(n,s,l),u==null?p=he.getNextSecondBar(n,this.startEnd[0]):f=!1;while(f);let x=this.decodeDataCharacter(n,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new Q;let _;try{_=this.decodeDataCharacter(n,u,l,!1)}catch(C){_=null,this.verbose&&console.log(C)}return new hi(x,_,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f;s>=0?f=s:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let x=!1;for(;f<u&&(x=!n.get(f),!!x);)f++;let _=0,C=f;for(let T=f;T<u;T++)if(n.get(T)!=x)l[_]++;else{if(_==3){if(p&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=C,this.startEnd[1]=T;return}p&&he.reverseCounters(l),C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,_--}else _++;l[_]=1,x=!x}throw new Q}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let l=n[s];n[s]=n[i-s-1],n[i-s-1]=l}}parseFoundFinderPattern(n,i,s){let l,u,f;if(s){let _=this.startEnd[0]-1;for(;_>=0&&!n.get(_);)_--;_++,l=this.startEnd[0]-_,u=_,f=this.startEnd[1]}else u=this.startEnd[0],f=n.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let p=this.getDecodeFinderCounters();U.arraycopy(p,0,p,1,p.length-1),p[0]=l;let x;try{x=this.parseFinderValue(p,he.FINDER_PATTERNS)}catch{return null}return new dt(x,[u,f],u,f,i)}decodeDataCharacter(n,i,s,l){let u=this.getDataCharacterCounters();for(let At=0;At<u.length;At++)u[At]=0;if(l)he.recordPatternInReverse(n,i.getStartEnd()[0],u);else{he.recordPattern(n,i.getStartEnd()[1],u);for(let At=0,An=u.length-1;At<An;At++,An--){let Hn=u[At];u[At]=u[An],u[An]=Hn}}let f=17,p=it.sum(new Int32Array(u))/f,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-x)/x>.3)throw new Q;let _=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let At=0;At<u.length;At++){let An=1*u[At]/p,Hn=An+.5;if(Hn<1){if(An<.3)throw new Q;Hn=1}else if(Hn>8){if(An>8.7)throw new Q;Hn=8}let eo=At/2;At&1?(C[eo]=Hn,b[eo]=An-Hn):(_[eo]=Hn,T[eo]=An-Hn)}this.adjustOddEvenCounts(f);let P=4*i.getValue()+(s?0:2)+(l?0:1)-1,V=0,Z=0;for(let At=_.length-1;At>=0;At--){if(he.isNotA1left(i,s,l)){let An=he.WEIGHTS[P][2*At];Z+=_[At]*An}V+=_[At]}let Y=0;for(let At=C.length-1;At>=0;At--)if(he.isNotA1left(i,s,l)){let An=he.WEIGHTS[P][2*At+1];Y+=C[At]*An}let J=Z+Y;if(V&1||V>13||V<4)throw new Q;let me=(13-V)/2,xe=he.SYMBOL_WIDEST[me],de=9-xe,nt=xt.getRSSvalue(_,xe,!0),Ye=xt.getRSSvalue(C,de,!1),Gt=he.EVEN_TOTAL_SUBSET[me],jn=he.GSUM[me],Wn=nt*Gt+Ye+jn;return new Ke(Wn,J)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=it.sum(new Int32Array(this.getOddCounts())),s=it.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let f=!1,p=!1;s>13?p=!0:s<4&&(f=!0);let x=i+s-n,_=(i&1)==1,C=(s&1)==0;if(x==1)if(_){if(C)throw new Q;u=!0}else{if(!C)throw new Q;p=!0}else if(x==-1)if(_){if(C)throw new Q;l=!0}else{if(!C)throw new Q;f=!0}else if(x==0){if(_){if(!C)throw new Q;i<s?(l=!0,p=!0):(u=!0,f=!0)}else if(C)throw new Q}else throw new Q;if(l){if(u)throw new Q;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new Q;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class ec extends Ke{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class qt extends Qe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const l=this.decodePair(i,!1,n,s);qt.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,n,s);qt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&qt.checkChecksum(f,p))return qt.constructResult(f,p)}throw new Q}static addOrTally(n,i){if(i==null)return;let s=!1;for(let l of n)if(l.getValue()===i.getValue()){l.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),l=new String(s).toString(),u=new Je;for(let _=13-l.length;_>0;_--)u.append("0");u.append(l);let f=0;for(let _=0;_<13;_++){let C=u.charAt(_).charCodeAt(0)-"0".charCodeAt(0);f+=_&1?C:3*C}f=10-f%10,f===10&&(f=0),u.append(f.toString());let p=n.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new Ge(u.toString(),null,0,[p[0],p[1],x[0],x[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,s===l}decodePair(n,i,s,l){try{let u=this.findFinderPattern(n,i),f=this.parseFoundFinderPattern(n,s,i,u),p=l==null?null:l.get(ie.NEED_RESULT_POINT_CALLBACK);if(p!=null){let C=(u[0]+u[1])/2;i&&(C=n.getSize()-1-C),p.foundPossibleResultPoint(new Ie(C,s))}let x=this.decodeDataCharacter(n,f,!0),_=this.decodeDataCharacter(n,f,!1);return new ec(1597*x.getValue()+_.getValue(),x.getChecksumPortion()+4*_.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(n,i,s){let l=this.getDataCharacterCounters();for(let Y=0;Y<l.length;Y++)l[Y]=0;if(s)Ft.recordPatternInReverse(n,i.getStartEnd()[0],l);else{Ft.recordPattern(n,i.getStartEnd()[1]+1,l);for(let Y=0,J=l.length-1;Y<J;Y++,J--){let me=l[Y];l[Y]=l[J],l[J]=me}}let u=s?16:15,f=it.sum(new Int32Array(l))/u,p=this.getOddCounts(),x=this.getEvenCounts(),_=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Y=0;Y<l.length;Y++){let J=l[Y]/f,me=Math.floor(J+.5);me<1?me=1:me>8&&(me=8);let xe=Math.floor(Y/2);Y&1?(x[xe]=me,C[xe]=J-me):(p[xe]=me,_[xe]=J-me)}this.adjustOddEvenCounts(s,u);let T=0,b=0;for(let Y=p.length-1;Y>=0;Y--)b*=9,b+=p[Y],T+=p[Y];let P=0,V=0;for(let Y=x.length-1;Y>=0;Y--)P*=9,P+=x[Y],V+=x[Y];let Z=b+3*P;if(s){if(T&1||T>12||T<4)throw new Q;let Y=(12-T)/2,J=qt.OUTSIDE_ODD_WIDEST[Y],me=9-J,xe=xt.getRSSvalue(p,J,!1),de=xt.getRSSvalue(x,me,!0),nt=qt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Ye=qt.OUTSIDE_GSUM[Y];return new Ke(xe*nt+de+Ye,Z)}else{if(V&1||V>10||V<4)throw new Q;let Y=(10-V)/2,J=qt.INSIDE_ODD_WIDEST[Y],me=9-J,xe=xt.getRSSvalue(p,J,!0),de=xt.getRSSvalue(x,me,!1),nt=qt.INSIDE_ODD_TOTAL_SUBSET[Y],Ye=qt.INSIDE_GSUM[Y];return new Ke(de*nt+xe+Ye,Z)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=!1,f=0;for(;f<l&&(u=!n.get(f),i!==u);)f++;let p=0,x=f;for(let _=f;_<l;_++)if(n.get(_)!==u)s[p]++;else{if(p===3){if(Qe.isFinderPattern(s))return[x,_];x+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,u=!u}throw new Q}parseFoundFinderPattern(n,i,s,l){let u=n.get(l[0]),f=l[0]-1;for(;f>=0&&u!==n.get(f);)f--;f++;const p=l[0]-f,x=this.getDecodeFinderCounters(),_=new Int32Array(x.length);U.arraycopy(x,0,_,1,x.length-1),_[0]=p;const C=this.parseFinderValue(_,qt.FINDER_PATTERNS);let T=f,b=l[1];return s&&(T=n.getSize()-1-T,b=n.getSize()-1-b),new dt(C,[f,l[1]],T,b,i)}adjustOddEvenCounts(n,i){let s=it.sum(new Int32Array(this.getOddCounts())),l=it.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,p=!1,x=!1;n?(s>12?f=!0:s<4&&(u=!0),l>12?x=!0:l<4&&(p=!0)):(s>11?f=!0:s<5&&(u=!0),l>10?x=!0:l<4&&(p=!0));let _=s+l-i,C=(s&1)===(n?1:0),T=(l&1)===1;if(_===1)if(C){if(T)throw new Q;f=!0}else{if(!T)throw new Q;x=!0}else if(_===-1)if(C){if(T)throw new Q;u=!0}else{if(!T)throw new Q;p=!0}else if(_===0){if(C){if(!T)throw new Q;s<l?(u=!0,x=!0):(f=!0,p=!0)}else if(T)throw new Q}else throw new Q;if(u){if(f)throw new Q;Qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(x)throw new Q;Qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}qt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],qt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],qt.OUTSIDE_GSUM=[0,161,961,2015,2715],qt.INSIDE_GSUM=[0,336,1036,1516],qt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],qt.INSIDE_ODD_WIDEST=[2,4,6,8],qt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class fi extends Ft{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(ie.POSSIBLE_FORMATS):null,l=n&&n.get(ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ge.EAN_13)||s.includes(ge.UPC_A)||s.includes(ge.EAN_8)||s.includes(ge.UPC_E))&&this.readers.push(new vt(n)),s.includes(ge.CODE_39)&&this.readers.push(new Ht(l)),s.includes(ge.CODE_128)&&this.readers.push(new ye),s.includes(ge.ITF)&&this.readers.push(new It),s.includes(ge.RSS_14)&&this.readers.push(new qt),s.includes(ge.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new vt(n)),this.readers.push(new Ht),this.readers.push(new vt(n)),this.readers.push(new ye),this.readers.push(new It),this.readers.push(new qt),this.readers.push(new he(this.verbose)))}decodeRow(n,i,s){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,i,s)}catch{}throw new Q}reset(){this.readers.forEach(n=>n.reset())}}class Io extends Tt{constructor(n=500,i){super(new fi(i),n,i)}}class Et{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _t{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(n,i,s,l,u,f){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let p=0;const x=f.getECCodewords(),_=f.getECBlocks();for(let C of _)p+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new X;for(let s of et.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new et(1,10,10,8,8,new Et(5,new _t(1,3))),new et(2,12,12,10,10,new Et(7,new _t(1,5))),new et(3,14,14,12,12,new Et(10,new _t(1,8))),new et(4,16,16,14,14,new Et(12,new _t(1,12))),new et(5,18,18,16,16,new Et(14,new _t(1,18))),new et(6,20,20,18,18,new Et(18,new _t(1,22))),new et(7,22,22,20,20,new Et(20,new _t(1,30))),new et(8,24,24,22,22,new Et(24,new _t(1,36))),new et(9,26,26,24,24,new Et(28,new _t(1,44))),new et(10,32,32,14,14,new Et(36,new _t(1,62))),new et(11,36,36,16,16,new Et(42,new _t(1,86))),new et(12,40,40,18,18,new Et(48,new _t(1,114))),new et(13,44,44,20,20,new Et(56,new _t(1,144))),new et(14,48,48,22,22,new Et(68,new _t(1,174))),new et(15,52,52,24,24,new Et(42,new _t(2,102))),new et(16,64,64,14,14,new Et(56,new _t(2,140))),new et(17,72,72,16,16,new Et(36,new _t(4,92))),new et(18,80,80,18,18,new Et(48,new _t(4,114))),new et(19,88,88,20,20,new Et(56,new _t(4,144))),new et(20,96,96,22,22,new Et(68,new _t(4,174))),new et(21,104,104,24,24,new Et(56,new _t(6,136))),new et(22,120,120,18,18,new Et(68,new _t(6,175))),new et(23,132,132,20,20,new Et(62,new _t(8,163))),new et(24,144,144,22,22,new Et(62,new _t(8,156),new _t(2,155))),new et(25,8,18,6,16,new Et(7,new _t(1,5))),new et(26,8,32,6,14,new Et(11,new _t(1,10))),new et(27,12,26,10,24,new Et(14,new _t(1,16))),new et(28,12,36,10,16,new Et(18,new _t(1,22))),new et(29,16,36,14,16,new Et(24,new _t(1,32))),new et(30,16,48,14,22,new Et(28,new _t(1,49)))]}}et.VERSIONS=et.buildVersions();class pt{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new X;this.version=pt.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new ft(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return et.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,x=!1,_=!1,C=!1;do if(s===u&&l===0&&!p)n[i++]=this.readCorner1(u,f)&255,s-=2,l+=2,p=!0;else if(s===u-2&&l===0&&f&3&&!x)n[i++]=this.readCorner2(u,f)&255,s-=2,l+=2,x=!0;else if(s===u+4&&l===2&&!(f&7)&&!_)n[i++]=this.readCorner3(u,f)&255,s-=2,l+=2,_=!0;else if(s===u-2&&l===0&&(f&7)===4&&!C)n[i++]=this.readCorner4(u,f)&255,s-=2,l+=2,C=!0;else{do s<u&&l>=0&&!this.readMappingMatrix.get(l,s)&&(n[i++]=this.readUtah(s,l,u,f)&255),s-=2,l+=2;while(s>=0&&l<f);s+=1,l+=3;do s>=0&&l<f&&!this.readMappingMatrix.get(l,s)&&(n[i++]=this.readUtah(s,l,u,f)&255),s+=2,l-=2;while(s<u&&l>=0);s+=3,l+=1}while(s<u||l<f);if(i!==this.version.getTotalCodewords())throw new X;return n}readModule(n,i,s,l){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,l){let u=0;return this.readModule(n-2,i-2,s,l)&&(u|=1),u<<=1,this.readModule(n-2,i-1,s,l)&&(u|=1),u<<=1,this.readModule(n-1,i-2,s,l)&&(u|=1),u<<=1,this.readModule(n-1,i-1,s,l)&&(u|=1),u<<=1,this.readModule(n-1,i,s,l)&&(u|=1),u<<=1,this.readModule(n,i-2,s,l)&&(u|=1),u<<=1,this.readModule(n,i-1,s,l)&&(u|=1),u<<=1,this.readModule(n,i,s,l)&&(u|=1),u}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new N("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/l|0,p=s/u|0,x=f*l,_=p*u,C=new ft(_,x);for(let T=0;T<f;++T){const b=T*l;for(let P=0;P<p;++P){const V=P*u;for(let Z=0;Z<l;++Z){const Y=T*(l+2)+1+Z,J=b+Z;for(let me=0;me<u;++me){const xe=P*(u+2)+1+me;if(n.get(xe,Y)){const de=V+me;C.set(de,J)}}}}}return C}}class Mt{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let l=0;const u=s.getECBlocks();for(let Z of u)l+=Z.getCount();const f=new Array(l);let p=0;for(let Z of u)for(let Y=0;Y<Z.getCount();Y++){const J=Z.getDataCodewords(),me=s.getECCodewords()+J;f[p++]=new Mt(J,new Uint8Array(me))}const _=f[0].codewords.length-s.getECCodewords(),C=_-1;let T=0;for(let Z=0;Z<C;Z++)for(let Y=0;Y<p;Y++)f[Y].codewords[Z]=n[T++];const b=i.getVersionNumber()===24,P=b?8:p;for(let Z=0;Z<P;Z++)f[Z].codewords[_-1]=n[T++];const V=f[0].codewords.length;for(let Z=_;Z<V;Z++)for(let Y=0;Y<p;Y++){const J=b?(Y+8)%p:Y,me=b&&J>7?Z-1:Z;f[J].codewords[me]=n[T++]}if(T!==n.length)throw new N;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xi{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new N(""+n);let i=0,s=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(s>0){const f=8-s,p=n<f?n:f,x=f-p,_=255>>8-p<<x;i=(u[l]&_)>>x,n-=p,s+=p,s===8&&(s=0,l++)}if(n>0){for(;n>=8;)i=i<<8|u[l]&255,l++,n-=8;if(n>0){const f=8-n,p=255>>f<<f;i=i<<n|(u[l]&p)>>f,s+=n}}return this.bitOffset=s,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ut;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ut||(Ut={}));class qn{static decode(n){const i=new Xi(n),s=new Je,l=new Je,u=new Array;let f=Ut.ASCII_ENCODE;do if(f===Ut.ASCII_ENCODE)f=this.decodeAsciiSegment(i,s,l);else{switch(f){case Ut.C40_ENCODE:this.decodeC40Segment(i,s);break;case Ut.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case Ut.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case Ut.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case Ut.BASE256_ENCODE:this.decodeBase256Segment(i,s,u);break;default:throw new X}f=Ut.ASCII_ENCODE}while(f!==Ut.PAD_ENCODE&&i.available()>0);return l.length()>0&&s.append(l.toString()),new Wr(n,s.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,i,s){let l=!1;do{let u=n.readBits(8);if(u===0)throw new X;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),Ut.ASCII_ENCODE;if(u===129)return Ut.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return Ut.C40_ENCODE;case 231:return Ut.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return Ut.ANSIX12_ENCODE;case 239:return Ut.TEXT_ENCODE;case 240:return Ut.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new X;break}}while(n.available()>0);return Ut.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const l=[];let u=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(let p=0;p<3;p++){const x=l[p];switch(u){case 0:if(x<3)u=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[x];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else throw new X;break;case 1:s?(i.append(String.fromCharCode(x+128)),s=!1):i.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[x];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else switch(x){case 27:i.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new X}u=0;break;case 3:s?(i.append(String.fromCharCode(x+224)),s=!1):i.append(String.fromCharCode(x+96)),u=0;break;default:throw new X}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,l=[],u=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(let p=0;p<3;p++){const x=l[p];switch(u){case 0:if(x<3)u=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[x];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else throw new X;break;case 1:s?(i.append(String.fromCharCode(x+128)),s=!1):i.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[x];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_)}else switch(x){case 27:i.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new X}u=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[x];s?(i.append(String.fromCharCode(_.charCodeAt(0)+128)),s=!1):i.append(_),u=0}else throw new X;break;default:throw new X}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new X;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let l=(n<<8)+i-1,u=Math.floor(l/1600);s[0]=u,l-=u*1600,u=Math.floor(l/40),s[1]=u,s[2]=l-u*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let l=n.readBits(6);if(l===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let l=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),l++);let f;if(u===0?f=n.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(n.readBits(8),l++),f<0)throw new X;const p=new Uint8Array(f);for(let x=0;x<f;x++){if(n.available()<8)throw new X;p[x]=this.unrandomize255State(n.readBits(8),l++)}s.push(p);try{i.append(He.decode(p,Se.ISO88591))}catch(x){throw new Yn("Platform does not support required encoding: "+x.message)}}static unrandomize255State(n,i){const s=149*i%255+1,l=n-s;return l>=0?l:l+256}}qn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],qn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],qn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],qn.TEXT_SHIFT2_SET_CHARS=qn.C40_SHIFT2_SET_CHARS,qn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Zs{constructor(){this.rsDecoder=new ui(lt.DATA_MATRIX_FIELD_256)}decode(n){const i=new pt(n),s=i.getVersion(),l=i.readCodewords(),u=Mt.getDataBlocks(l,s);let f=0;for(let _ of u)f+=_.getNumDataCodewords();const p=new Uint8Array(f),x=u.length;for(let _=0;_<x;_++){const C=u[_],T=C.getCodewords(),b=C.getNumDataCodewords();this.correctErrors(T,b);for(let P=0;P<b;P++)p[P*x+_]=T[P]}return qn.decode(p)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new W}for(let l=0;l<i;l++)n[l]=s[l]}}class Pe{constructor(n){this.image=n,this.rectangleDetector=new sr(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new Q;i=this.shiftToModuleCenter(i);const s=i[0],l=i[1],u=i[2],f=i[3];let p=this.transitionsBetween(s,f)+1,x=this.transitionsBetween(u,f)+1;(p&1)===1&&(p+=1),(x&1)===1&&(x+=1),4*p<7*x&&4*x<7*p&&(p=x=Math.max(p,x));let _=Pe.sampleGrid(this.image,s,l,u,f,p,x);return new Gr(_,[s,l,u,f])}static shiftPoint(n,i,s){let l=(i.getX()-n.getX())/(s+1),u=(i.getY()-n.getY())/(s+1);return new Ie(n.getX()+l,n.getY()+u)}static moveAway(n,i,s){let l=n.getX(),u=n.getY();return l<i?l-=1:l+=1,u<s?u-=1:u+=1,new Ie(l,u)}detectSolid1(n){let i=n[0],s=n[1],l=n[3],u=n[2],f=this.transitionsBetween(i,s),p=this.transitionsBetween(s,l),x=this.transitionsBetween(l,u),_=this.transitionsBetween(u,i),C=f,T=[u,i,s,l];return C>p&&(C=p,T[0]=i,T[1]=s,T[2]=l,T[3]=u),C>x&&(C=x,T[0]=s,T[1]=l,T[2]=u,T[3]=i),C>_&&(T[0]=l,T[1]=u,T[2]=i,T[3]=s),T}detectSolid2(n){let i=n[0],s=n[1],l=n[2],u=n[3],f=this.transitionsBetween(i,u),p=Pe.shiftPoint(s,l,(f+1)*4),x=Pe.shiftPoint(l,s,(f+1)*4),_=this.transitionsBetween(p,i),C=this.transitionsBetween(x,u);return _<C?(n[0]=i,n[1]=s,n[2]=l,n[3]=u):(n[0]=s,n[1]=l,n[2]=u,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],l=n[2],u=n[3],f=this.transitionsBetween(i,u),p=this.transitionsBetween(s,u),x=Pe.shiftPoint(i,s,(p+1)*4),_=Pe.shiftPoint(l,s,(f+1)*4);f=this.transitionsBetween(x,u),p=this.transitionsBetween(_,u);let C=new Ie(u.getX()+(l.getX()-s.getX())/(f+1),u.getY()+(l.getY()-s.getY())/(f+1)),T=new Ie(u.getX()+(i.getX()-s.getX())/(p+1),u.getY()+(i.getY()-s.getY())/(p+1));if(!this.isValid(C))return this.isValid(T)?T:null;if(!this.isValid(T))return C;let b=this.transitionsBetween(x,C)+this.transitionsBetween(_,C),P=this.transitionsBetween(x,T)+this.transitionsBetween(_,T);return b>P?C:T}shiftToModuleCenter(n){let i=n[0],s=n[1],l=n[2],u=n[3],f=this.transitionsBetween(i,u)+1,p=this.transitionsBetween(l,u)+1,x=Pe.shiftPoint(i,s,p*4),_=Pe.shiftPoint(l,s,f*4);f=this.transitionsBetween(x,u)+1,p=this.transitionsBetween(_,u)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let C=(i.getX()+s.getX()+l.getX()+u.getX())/4,T=(i.getY()+s.getY()+l.getY()+u.getY())/4;i=Pe.moveAway(i,C,T),s=Pe.moveAway(s,C,T),l=Pe.moveAway(l,C,T),u=Pe.moveAway(u,C,T);let b,P;return x=Pe.shiftPoint(i,s,p*4),x=Pe.shiftPoint(x,u,f*4),b=Pe.shiftPoint(s,i,p*4),b=Pe.shiftPoint(b,l,f*4),_=Pe.shiftPoint(l,u,p*4),_=Pe.shiftPoint(_,s,f*4),P=Pe.shiftPoint(u,l,p*4),P=Pe.shiftPoint(P,i,f*4),[x,b,_,P]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,l,u,f,p){return ar.getInstance().sampleGrid(n,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),p=Math.abs(f-l)>Math.abs(u-s);if(p){let Z=s;s=l,l=Z,Z=u,u=f,f=Z}let x=Math.abs(u-s),_=Math.abs(f-l),C=-x/2,T=l<f?1:-1,b=s<u?1:-1,P=0,V=this.image.get(p?l:s,p?s:l);for(let Z=s,Y=l;Z!==u;Z+=b){let J=this.image.get(p?Y:Z,p?Z:Y);if(J!==V&&(P++,V=J),C+=_,C>0){if(Y===f)break;Y+=T,C-=x}}return P}}class bt{constructor(){this.decoder=new Zs}decode(n,i=null){let s,l;if(i!=null&&i.has(ie.PURE_BARCODE)){const _=bt.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(_),l=bt.NO_POINTS}else{const _=new Pe(n.getBlackMatrix()).detect();s=this.decoder.decode(_.getBits()),l=_.getPoints()}const u=s.getRawBytes(),f=new Ge(s.getText(),u,8*u.length,l,ge.DATA_MATRIX,U.currentTimeMillis()),p=s.getByteSegments();p!=null&&f.putMetadata(wt.BYTE_SEGMENTS,p);const x=s.getECLevel();return x!=null&&f.putMetadata(wt.ERROR_CORRECTION_LEVEL,x),f}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new Q;const l=this.moduleSize(i,n);let u=i[1];const f=s[1];let p=i[0];const _=(s[0]-p+1)/l,C=(f-u+1)/l;if(_<=0||C<=0)throw new Q;const T=l/2;u+=T,p+=T;const b=new ft(_,C);for(let P=0;P<C;P++){const V=u+P*l;for(let Z=0;Z<_;Z++)n.get(p+Z*l,V)&&b.set(Z,P)}return b}static moduleSize(n,i){const s=i.getWidth();let l=n[0];const u=n[1];for(;l<s&&i.get(l,u);)l++;if(l===s)throw new Q;const f=l-n[0];if(f===0)throw new Q;return f}}bt.NO_POINTS=[];class Gs extends Tt{constructor(n=500){super(new bt,n)}}var qr;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(qr||(qr={}));class tt{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,tt.FOR_BITS.set(s,this),tt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new I(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof tt))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=tt.FOR_BITS.size)throw new N;return tt.FOR_BITS.get(n)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(qr.L,"L",1),tt.M=new tt(qr.M,"M",0),tt.Q=new tt(qr.Q,"Q",3),tt.H=new tt(qr.H,"H",2);class bn{constructor(n){this.errorCorrectionLevel=tt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return B.bitCount(n^i)}static decodeFormatInformation(n,i){const s=bn.doDecodeFormatInformation(n,i);return s!==null?s:bn.doDecodeFormatInformation(n^bn.FORMAT_INFO_MASK_QR,i^bn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,l=0;for(const u of bn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===n||f===i)return new bn(u[1]);let p=bn.numBitsDiffering(n,f);p<s&&(l=u[1],s=p),n!==i&&(p=bn.numBitsDiffering(i,f),p<s&&(l=u[1],s=p))}return s<=3?new bn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof bn))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}bn.FORMAT_INFO_MASK_QR=21522,bn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let l=0;const u=s[0].getECCodewordsPerBlock(),f=s[0].getECBlocks();for(const p of f)l+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new X;try{return this.getVersionForNumber((n-17)/4)}catch{throw new X}}static getVersionForNumber(n){if(n<1||n>40)throw new N;return ve.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let l=0;l<ve.VERSION_DECODE_INFO.length;l++){const u=ve.VERSION_DECODE_INFO[l];if(u===n)return ve.getVersionForNumber(l+7);const f=bn.numBitsDiffering(n,u);f<i&&(s=l+7,i=f)}return i<=3?ve.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new ft(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let l=0;l<s;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<s;f++)l===0&&(f===0||f===s-1)||l===s-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ve.VERSIONS=[new ve(1,new Int32Array(0),new K(7,new k(1,19)),new K(10,new k(1,16)),new K(13,new k(1,13)),new K(17,new k(1,9))),new ve(2,Int32Array.from([6,18]),new K(10,new k(1,34)),new K(16,new k(1,28)),new K(22,new k(1,22)),new K(28,new k(1,16))),new ve(3,Int32Array.from([6,22]),new K(15,new k(1,55)),new K(26,new k(1,44)),new K(18,new k(2,17)),new K(22,new k(2,13))),new ve(4,Int32Array.from([6,26]),new K(20,new k(1,80)),new K(18,new k(2,32)),new K(26,new k(2,24)),new K(16,new k(4,9))),new ve(5,Int32Array.from([6,30]),new K(26,new k(1,108)),new K(24,new k(2,43)),new K(18,new k(2,15),new k(2,16)),new K(22,new k(2,11),new k(2,12))),new ve(6,Int32Array.from([6,34]),new K(18,new k(2,68)),new K(16,new k(4,27)),new K(24,new k(4,19)),new K(28,new k(4,15))),new ve(7,Int32Array.from([6,22,38]),new K(20,new k(2,78)),new K(18,new k(4,31)),new K(18,new k(2,14),new k(4,15)),new K(26,new k(4,13),new k(1,14))),new ve(8,Int32Array.from([6,24,42]),new K(24,new k(2,97)),new K(22,new k(2,38),new k(2,39)),new K(22,new k(4,18),new k(2,19)),new K(26,new k(4,14),new k(2,15))),new ve(9,Int32Array.from([6,26,46]),new K(30,new k(2,116)),new K(22,new k(3,36),new k(2,37)),new K(20,new k(4,16),new k(4,17)),new K(24,new k(4,12),new k(4,13))),new ve(10,Int32Array.from([6,28,50]),new K(18,new k(2,68),new k(2,69)),new K(26,new k(4,43),new k(1,44)),new K(24,new k(6,19),new k(2,20)),new K(28,new k(6,15),new k(2,16))),new ve(11,Int32Array.from([6,30,54]),new K(20,new k(4,81)),new K(30,new k(1,50),new k(4,51)),new K(28,new k(4,22),new k(4,23)),new K(24,new k(3,12),new k(8,13))),new ve(12,Int32Array.from([6,32,58]),new K(24,new k(2,92),new k(2,93)),new K(22,new k(6,36),new k(2,37)),new K(26,new k(4,20),new k(6,21)),new K(28,new k(7,14),new k(4,15))),new ve(13,Int32Array.from([6,34,62]),new K(26,new k(4,107)),new K(22,new k(8,37),new k(1,38)),new K(24,new k(8,20),new k(4,21)),new K(22,new k(12,11),new k(4,12))),new ve(14,Int32Array.from([6,26,46,66]),new K(30,new k(3,115),new k(1,116)),new K(24,new k(4,40),new k(5,41)),new K(20,new k(11,16),new k(5,17)),new K(24,new k(11,12),new k(5,13))),new ve(15,Int32Array.from([6,26,48,70]),new K(22,new k(5,87),new k(1,88)),new K(24,new k(5,41),new k(5,42)),new K(30,new k(5,24),new k(7,25)),new K(24,new k(11,12),new k(7,13))),new ve(16,Int32Array.from([6,26,50,74]),new K(24,new k(5,98),new k(1,99)),new K(28,new k(7,45),new k(3,46)),new K(24,new k(15,19),new k(2,20)),new K(30,new k(3,15),new k(13,16))),new ve(17,Int32Array.from([6,30,54,78]),new K(28,new k(1,107),new k(5,108)),new K(28,new k(10,46),new k(1,47)),new K(28,new k(1,22),new k(15,23)),new K(28,new k(2,14),new k(17,15))),new ve(18,Int32Array.from([6,30,56,82]),new K(30,new k(5,120),new k(1,121)),new K(26,new k(9,43),new k(4,44)),new K(28,new k(17,22),new k(1,23)),new K(28,new k(2,14),new k(19,15))),new ve(19,Int32Array.from([6,30,58,86]),new K(28,new k(3,113),new k(4,114)),new K(26,new k(3,44),new k(11,45)),new K(26,new k(17,21),new k(4,22)),new K(26,new k(9,13),new k(16,14))),new ve(20,Int32Array.from([6,34,62,90]),new K(28,new k(3,107),new k(5,108)),new K(26,new k(3,41),new k(13,42)),new K(30,new k(15,24),new k(5,25)),new K(28,new k(15,15),new k(10,16))),new ve(21,Int32Array.from([6,28,50,72,94]),new K(28,new k(4,116),new k(4,117)),new K(26,new k(17,42)),new K(28,new k(17,22),new k(6,23)),new K(30,new k(19,16),new k(6,17))),new ve(22,Int32Array.from([6,26,50,74,98]),new K(28,new k(2,111),new k(7,112)),new K(28,new k(17,46)),new K(30,new k(7,24),new k(16,25)),new K(24,new k(34,13))),new ve(23,Int32Array.from([6,30,54,78,102]),new K(30,new k(4,121),new k(5,122)),new K(28,new k(4,47),new k(14,48)),new K(30,new k(11,24),new k(14,25)),new K(30,new k(16,15),new k(14,16))),new ve(24,Int32Array.from([6,28,54,80,106]),new K(30,new k(6,117),new k(4,118)),new K(28,new k(6,45),new k(14,46)),new K(30,new k(11,24),new k(16,25)),new K(30,new k(30,16),new k(2,17))),new ve(25,Int32Array.from([6,32,58,84,110]),new K(26,new k(8,106),new k(4,107)),new K(28,new k(8,47),new k(13,48)),new K(30,new k(7,24),new k(22,25)),new K(30,new k(22,15),new k(13,16))),new ve(26,Int32Array.from([6,30,58,86,114]),new K(28,new k(10,114),new k(2,115)),new K(28,new k(19,46),new k(4,47)),new K(28,new k(28,22),new k(6,23)),new K(30,new k(33,16),new k(4,17))),new ve(27,Int32Array.from([6,34,62,90,118]),new K(30,new k(8,122),new k(4,123)),new K(28,new k(22,45),new k(3,46)),new K(30,new k(8,23),new k(26,24)),new K(30,new k(12,15),new k(28,16))),new ve(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new k(3,117),new k(10,118)),new K(28,new k(3,45),new k(23,46)),new K(30,new k(4,24),new k(31,25)),new K(30,new k(11,15),new k(31,16))),new ve(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new k(7,116),new k(7,117)),new K(28,new k(21,45),new k(7,46)),new K(30,new k(1,23),new k(37,24)),new K(30,new k(19,15),new k(26,16))),new ve(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new k(5,115),new k(10,116)),new K(28,new k(19,47),new k(10,48)),new K(30,new k(15,24),new k(25,25)),new K(30,new k(23,15),new k(25,16))),new ve(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new k(13,115),new k(3,116)),new K(28,new k(2,46),new k(29,47)),new K(30,new k(42,24),new k(1,25)),new K(30,new k(23,15),new k(28,16))),new ve(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new k(17,115)),new K(28,new k(10,46),new k(23,47)),new K(30,new k(10,24),new k(35,25)),new K(30,new k(19,15),new k(35,16))),new ve(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new k(17,115),new k(1,116)),new K(28,new k(14,46),new k(21,47)),new K(30,new k(29,24),new k(19,25)),new K(30,new k(11,15),new k(46,16))),new ve(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new k(13,115),new k(6,116)),new K(28,new k(14,46),new k(23,47)),new K(30,new k(44,24),new k(7,25)),new K(30,new k(59,16),new k(1,17))),new ve(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new k(12,121),new k(7,122)),new K(28,new k(12,47),new k(26,48)),new K(30,new k(39,24),new k(14,25)),new K(30,new k(22,15),new k(41,16))),new ve(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new k(6,121),new k(14,122)),new K(28,new k(6,47),new k(34,48)),new K(30,new k(46,24),new k(10,25)),new K(30,new k(2,15),new k(64,16))),new ve(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new k(17,122),new k(4,123)),new K(28,new k(29,46),new k(14,47)),new K(30,new k(49,24),new k(10,25)),new K(30,new k(24,15),new k(46,16))),new ve(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new k(4,122),new k(18,123)),new K(28,new k(13,46),new k(32,47)),new K(30,new k(48,24),new k(14,25)),new K(30,new k(42,15),new k(32,16))),new ve(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new k(20,117),new k(4,118)),new K(28,new k(40,47),new k(7,48)),new K(30,new k(43,24),new k(22,25)),new K(30,new k(10,15),new k(67,16))),new ve(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new k(19,118),new k(6,119)),new K(28,new k(18,47),new k(31,48)),new K(30,new k(34,24),new k(34,25)),new K(30,new k(20,15),new k(61,16)))];var jt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(jt||(jt={}));class Rn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let l=0;l<i;l++)this.isMasked(s,l)&&n.flip(l,s)}}Rn.values=new Map([[jt.DATA_MASK_000,new Rn(jt.DATA_MASK_000,(S,n)=>(S+n&1)===0)],[jt.DATA_MASK_001,new Rn(jt.DATA_MASK_001,(S,n)=>(S&1)===0)],[jt.DATA_MASK_010,new Rn(jt.DATA_MASK_010,(S,n)=>n%3===0)],[jt.DATA_MASK_011,new Rn(jt.DATA_MASK_011,(S,n)=>(S+n)%3===0)],[jt.DATA_MASK_100,new Rn(jt.DATA_MASK_100,(S,n)=>(Math.floor(S/2)+Math.floor(n/3)&1)===0)],[jt.DATA_MASK_101,new Rn(jt.DATA_MASK_101,(S,n)=>S*n%6===0)],[jt.DATA_MASK_110,new Rn(jt.DATA_MASK_110,(S,n)=>S*n%6<3)],[jt.DATA_MASK_111,new Rn(jt.DATA_MASK_111,(S,n)=>(S+n+S*n%3&1)===0)]]);class bo{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new X;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const i=this.bitMatrix.getHeight();let s=0;const l=i-7;for(let u=i-1;u>=l;u--)s=this.copyBit(8,u,s);for(let u=i-8;u<i;u++)s=this.copyBit(u,8,s);if(this.parsedFormatInfo=bn.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return ve.getVersionForNumber(i);let s=0;const l=n-11;for(let f=5;f>=0;f--)for(let p=n-9;p>=l;p--)s=this.copyBit(p,f,s);let u=ve.decodeVersionInformation(s);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;s=0;for(let f=5;f>=0;f--)for(let p=n-9;p>=l;p--)s=this.copyBit(f,p,s);if(u=ve.decodeVersionInformation(s),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new X}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=Rn.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let f=!0;const p=new Uint8Array(i.getTotalCodewords());let x=0,_=0,C=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let b=0;b<l;b++){const P=f?l-1-b:b;for(let V=0;V<2;V++)u.get(T-V,P)||(C++,_<<=1,this.bitMatrix.get(T-V,P)&&(_|=1),C===8&&(p[x++]=_,C=0,_=0))}f=!f}if(x!==i.getTotalCodewords())throw new X;return p}remask(){if(this.parsedFormatInfo===null)return;const n=Rn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let l=i+1,u=n.getHeight();l<u;l++)n.get(i,l)!==n.get(l,i)&&(n.flip(l,i),n.flip(i,l))}}class Ro{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new N;const l=i.getECBlocksForLevel(s);let u=0;const f=l.getECBlocks();for(const V of f)u+=V.getCount();const p=new Array(u);let x=0;for(const V of f)for(let Z=0;Z<V.getCount();Z++){const Y=V.getDataCodewords(),J=l.getECCodewordsPerBlock()+Y;p[x++]=new Ro(Y,new Uint8Array(J))}const _=p[0].codewords.length;let C=p.length-1;for(;C>=0&&p[C].codewords.length!==_;)C--;C++;const T=_-l.getECCodewordsPerBlock();let b=0;for(let V=0;V<T;V++)for(let Z=0;Z<x;Z++)p[Z].codewords[V]=n[b++];for(let V=C;V<x;V++)p[V].codewords[T]=n[b++];const P=p[0].codewords.length;for(let V=T;V<P;V++)for(let Z=0;Z<x;Z++){const Y=Z<C?V:V+1;p[Z].codewords[Y]=n[b++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Nn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Nn||(Nn={}));class Me{constructor(n,i,s,l){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=l,Me.FOR_BITS.set(l,this),Me.FOR_VALUE.set(n,this)}static forBits(n){const i=Me.FOR_BITS.get(n);if(i===void 0)throw new N;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Me))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(Nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(Nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(Nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(Nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(Nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(Nn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(Nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(Nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(Nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(Nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Dt{static decode(n,i,s,l){const u=new Xi(n);let f=new Je;const p=new Array;let x=-1,_=-1;try{let C=null,T=!1,b;do{if(u.available()<4)b=Me.TERMINATOR;else{const P=u.readBits(4);b=Me.forBits(P)}switch(b){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:T=!0;break;case Me.STRUCTURED_APPEND:if(u.available()<16)throw new X;x=u.readBits(8),_=u.readBits(8);break;case Me.ECI:const P=Dt.parseECIValue(u);if(C=re.getCharacterSetECIByValue(P),C===null)throw new X;break;case Me.HANZI:const V=u.readBits(4),Z=u.readBits(b.getCharacterCountBits(i));V===Dt.GB2312_SUBSET&&Dt.decodeHanziSegment(u,f,Z);break;default:const Y=u.readBits(b.getCharacterCountBits(i));switch(b){case Me.NUMERIC:Dt.decodeNumericSegment(u,f,Y);break;case Me.ALPHANUMERIC:Dt.decodeAlphanumericSegment(u,f,Y,T);break;case Me.BYTE:Dt.decodeByteSegment(u,f,Y,C,p,l);break;case Me.KANJI:Dt.decodeKanjiSegment(u,f,Y);break;default:throw new X}break}}while(b!==Me.TERMINATOR)}catch{throw new X}return new Wr(n,f.toString(),p.length===0?null:p,s===null?null:s.toString(),x,_)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new X;const l=new Uint8Array(2*s);let u=0;for(;s>0;){const f=n.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,l[u]=p>>8&255,l[u+1]=p&255,u+=2,s--}try{i.append(He.decode(l,Se.GB2312))}catch(f){throw new X(f)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new X;const l=new Uint8Array(2*s);let u=0;for(;s>0;){const f=n.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,l[u]=p>>8,l[u+1]=p,u+=2,s--}try{i.append(He.decode(l,Se.SHIFT_JIS))}catch(f){throw new X(f)}}static decodeByteSegment(n,i,s,l,u,f){if(8*s>n.available())throw new X;const p=new Uint8Array(s);for(let _=0;_<s;_++)p[_]=n.readBits(8);let x;l===null?x=Se.guessEncoding(p,f):x=l.getName();try{i.append(He.decode(p,x))}catch(_){throw new X(_)}u.push(p)}static toAlphaNumericChar(n){if(n>=Dt.ALPHANUMERIC_CHARS.length)throw new X;return Dt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,l){const u=i.length();for(;s>1;){if(n.available()<11)throw new X;const f=n.readBits(11);i.append(Dt.toAlphaNumericChar(Math.floor(f/45))),i.append(Dt.toAlphaNumericChar(f%45)),s-=2}if(s===1){if(n.available()<6)throw new X;i.append(Dt.toAlphaNumericChar(n.readBits(6)))}if(l)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new X;const l=n.readBits(10);if(l>=1e3)throw new X;i.append(Dt.toAlphaNumericChar(Math.floor(l/100))),i.append(Dt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Dt.toAlphaNumericChar(l%10)),s-=3}if(s===2){if(n.available()<7)throw new X;const l=n.readBits(7);if(l>=100)throw new X;i.append(Dt.toAlphaNumericChar(Math.floor(l/10))),i.append(Dt.toAlphaNumericChar(l%10))}else if(s===1){if(n.available()<4)throw new X;const l=n.readBits(4);if(l>=10)throw new X;i.append(Dt.toAlphaNumericChar(l))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new X}}Dt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Dt.GB2312_SUBSET=1;class No{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class Xs{constructor(){this.rsDecoder=new ui(lt.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(ft.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new bo(n);let l=null;try{return this.decodeBitMatrixParser(s,i)}catch(u){l=u}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const u=this.decodeBitMatrixParser(s,i);return u.setOther(new No(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(n,i){const s=n.readVersion(),l=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),f=Ro.getDataBlocks(u,s,l);let p=0;for(const C of f)p+=C.getNumDataCodewords();const x=new Uint8Array(p);let _=0;for(const C of f){const T=C.getCodewords(),b=C.getNumDataCodewords();this.correctErrors(T,b);for(let P=0;P<b;P++)x[_++]=T[P]}return Dt.decode(x,s,l,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new W}for(let l=0;l<i;l++)n[l]=s[l]}}class Oo extends Ie{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const l=(this.getX()+i)/2,u=(this.getY()+n)/2,f=(this.estimatedModuleSize+s)/2;return new Oo(l,u,f)}}class Ti{constructor(n,i,s,l,u,f,p){this.image=n,this.startX=i,this.startY=s,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,l=n+s,u=this.startY+i/2,f=new Int32Array(3),p=this.image;for(let x=0;x<i;x++){const _=u+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=n;for(;C<l&&!p.get(C,_);)C++;let T=0;for(;C<l;){if(p.get(C,_))if(T===1)f[1]++;else if(T===2){if(this.foundPatternCross(f)){const b=this.handlePossibleCenter(f,_,C);if(b!==null)return b}f[0]=f[2],f[1]=1,f[2]=0,T=1}else f[++T]++;else T===1&&T++,f[T]++;C++}if(this.foundPatternCross(f)){const b=this.handlePossibleCenter(f,_,l);if(b!==null)return b}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let l=0;l<3;l++)if(Math.abs(i-n[l])>=s)return!1;return!0}crossCheckVertical(n,i,s,l){const u=this.image,f=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let x=n;for(;x>=0&&u.get(i,x)&&p[1]<=s;)p[1]++,x--;if(x<0||p[1]>s)return NaN;for(;x>=0&&!u.get(i,x)&&p[0]<=s;)p[0]++,x--;if(p[0]>s)return NaN;for(x=n+1;x<f&&u.get(i,x)&&p[1]<=s;)p[1]++,x++;if(x===f||p[1]>s)return NaN;for(;x<f&&!u.get(i,x)&&p[2]<=s;)p[2]++,x++;if(p[2]>s)return NaN;const _=p[0]+p[1]+p[2];return 5*Math.abs(_-l)>=2*l?NaN:this.foundPatternCross(p)?Ti.centerFromEnd(p,x):NaN}handlePossibleCenter(n,i,s){const l=n[0]+n[1]+n[2],u=Ti.centerFromEnd(n,s),f=this.crossCheckVertical(i,u,2*n[1],l);if(!isNaN(f)){const p=(n[0]+n[1]+n[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(p,f,u))return _.combineEstimate(f,u,p);const x=new Oo(u,f,p);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Jo extends Ie{constructor(n,i,s,l){super(n,i),this.estimatedModuleSize=s,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const l=this.count+1,u=(this.count*this.getX()+i)/l,f=(this.count*this.getY()+n)/l,p=(this.count*this.estimatedModuleSize+s)/l;return new Jo(u,f,p,l)}}class Ys{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class mn{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(ie.TRY_HARDER)!==void 0,s=n!=null&&n.get(ie.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let p=Math.floor(3*u/(4*mn.MAX_MODULES));(p<mn.MIN_SKIP||i)&&(p=mn.MIN_SKIP);let x=!1;const _=new Int32Array(5);for(let T=p-1;T<u&&!x;T+=p){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let b=0;for(let P=0;P<f;P++)if(l.get(P,T))(b&1)===1&&b++,_[b]++;else if(b&1)_[b]++;else if(b===4)if(mn.foundPatternCross(_)){if(this.handlePossibleCenter(_,T,P,s)===!0)if(p=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const Z=this.findRowSkip();Z>_[2]&&(T+=Z-_[2]-p,P=f-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,b=3;continue}b=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,b=3;else _[++b]++;mn.foundPatternCross(_)&&this.handlePossibleCenter(_,T,f,s)===!0&&(p=_[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ie.orderBestPatterns(C),new Ys(C)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let u=0;u<5;u++){const f=n[u];if(f===0)return!1;i+=f}if(i<7)return!1;const s=i/7,l=s/2;return Math.abs(s-n[0])<l&&Math.abs(s-n[1])<l&&Math.abs(3*s-n[2])<3*l&&Math.abs(s-n[3])<l&&Math.abs(s-n[4])<l}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,l){const u=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;n>=f&&i>=f&&p.get(i-f,n-f);)u[2]++,f++;if(n<f||i<f)return!1;for(;n>=f&&i>=f&&!p.get(i-f,n-f)&&u[1]<=s;)u[1]++,f++;if(n<f||i<f||u[1]>s)return!1;for(;n>=f&&i>=f&&p.get(i-f,n-f)&&u[0]<=s;)u[0]++,f++;if(u[0]>s)return!1;const x=p.getHeight(),_=p.getWidth();for(f=1;n+f<x&&i+f<_&&p.get(i+f,n+f);)u[2]++,f++;if(n+f>=x||i+f>=_)return!1;for(;n+f<x&&i+f<_&&!p.get(i+f,n+f)&&u[3]<s;)u[3]++,f++;if(n+f>=x||i+f>=_||u[3]>=s)return!1;for(;n+f<x&&i+f<_&&p.get(i+f,n+f)&&u[4]<s;)u[4]++,f++;if(u[4]>=s)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-l)<2*l&&mn.foundPatternCross(u)}crossCheckVertical(n,i,s,l){const u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount();let x=n;for(;x>=0&&u.get(i,x);)p[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(i,x)&&p[1]<=s;)p[1]++,x--;if(x<0||p[1]>s)return NaN;for(;x>=0&&u.get(i,x)&&p[0]<=s;)p[0]++,x--;if(p[0]>s)return NaN;for(x=n+1;x<f&&u.get(i,x);)p[2]++,x++;if(x===f)return NaN;for(;x<f&&!u.get(i,x)&&p[3]<s;)p[3]++,x++;if(x===f||p[3]>=s)return NaN;for(;x<f&&u.get(i,x)&&p[4]<s;)p[4]++,x++;if(p[4]>=s)return NaN;const _=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(_-l)>=2*l?NaN:mn.foundPatternCross(p)?mn.centerFromEnd(p,x):NaN}crossCheckHorizontal(n,i,s,l){const u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount();let x=n;for(;x>=0&&u.get(x,i);)p[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(x,i)&&p[1]<=s;)p[1]++,x--;if(x<0||p[1]>s)return NaN;for(;x>=0&&u.get(x,i)&&p[0]<=s;)p[0]++,x--;if(p[0]>s)return NaN;for(x=n+1;x<f&&u.get(x,i);)p[2]++,x++;if(x===f)return NaN;for(;x<f&&!u.get(x,i)&&p[3]<s;)p[3]++,x++;if(x===f||p[3]>=s)return NaN;for(;x<f&&u.get(x,i)&&p[4]<s;)p[4]++,x++;if(p[4]>=s)return NaN;const _=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(_-l)>=l?NaN:mn.foundPatternCross(p)?mn.centerFromEnd(p,x):NaN}handlePossibleCenter(n,i,s,l){const u=n[0]+n[1]+n[2]+n[3]+n[4];let f=mn.centerFromEnd(n,s),p=this.crossCheckVertical(i,Math.floor(f),n[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),n[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),n[2],u)))){const x=u/7;let _=!1;const C=this.possibleCenters;for(let T=0,b=C.length;T<b;T++){const P=C[T];if(P.aboutEquals(x,p,f)){C[T]=P.combineEstimate(p,f,x),_=!0;break}}if(!_){const T=new Jo(f,p,x);C.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=mn.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=mn.CENTER_QUORUM&&(n++,i+=f.getEstimatedModuleSize());if(n<3)return!1;const l=i/s;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Q;const i=this.possibleCenters;let s;if(n>3){let l=0,u=0;for(const x of this.possibleCenters){const _=x.getEstimatedModuleSize();l+=_,u+=_*_}s=l/n;let f=Math.sqrt(u/n-s*s);i.sort((x,_)=>{const C=Math.abs(_.getEstimatedModuleSize()-s),T=Math.abs(x.getEstimatedModuleSize()-s);return C<T?-1:C>T?1:0});const p=Math.max(.2*s,f);for(let x=0;x<i.length&&i.length>3;x++){const _=i[x];Math.abs(_.getEstimatedModuleSize()-s)>p&&(i.splice(x,1),x--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();s=l/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-s),x=Math.abs(u.getEstimatedModuleSize()-s);return p<x?1:p>x?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}mn.CENTER_QUORUM=2,mn.MIN_SKIP=3,mn.MAX_MODULES=57;class Ve{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(ie.NEED_RESULT_POINT_CALLBACK);const s=new mn(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),l=n.getBottomLeft(),u=this.calculateModuleSize(i,s,l);if(u<1)throw new Q("No pattern found in proccess finder.");const f=Ve.computeDimension(i,s,l,u),p=ve.getProvisionalVersionForDimension(f),x=p.getDimensionForVersion()-7;let _=null;if(p.getAlignmentPatternCenters().length>0){const P=s.getX()-i.getX()+l.getX(),V=s.getY()-i.getY()+l.getY(),Z=1-3/x,Y=Math.floor(i.getX()+Z*(P-i.getX())),J=Math.floor(i.getY()+Z*(V-i.getY()));for(let me=4;me<=16;me<<=1)try{_=this.findAlignmentInRegion(u,Y,J,me);break}catch(xe){if(!(xe instanceof Q))throw xe}}const C=Ve.createTransform(i,s,l,_,f),T=Ve.sampleGrid(this.image,C,f);let b;return _===null?b=[l,i,s]:b=[l,i,s,_],new Gr(T,b)}static createTransform(n,i,s,l,u){const f=u-3.5;let p,x,_,C;return l!==null?(p=l.getX(),x=l.getY(),_=f-3,C=_):(p=i.getX()-n.getX()+s.getX(),x=i.getY()-n.getY()+s.getY(),_=f,C=f),In.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,_,C,3.5,f,n.getX(),n.getY(),i.getX(),i.getY(),p,x,s.getX(),s.getY())}static sampleGrid(n,i,s){return ar.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,l){const u=it.round(Ie.distance(n,i)/l),f=it.round(Ie.distance(n,s)/l);let p=Math.floor((u+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new Q("Dimensions could be not found.")}return p}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,l){let u=this.sizeOfBlackWhiteBlackRun(n,i,s,l),f=1,p=n-(s-n);p<0?(f=n/(n-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-n)/(p-n),p=this.image.getWidth()-1);let x=Math.floor(i-(l-i)*f);return f=1,x<0?(f=i/(i-x),x=0):x>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),p=Math.floor(n+(p-n)*f),u+=this.sizeOfBlackWhiteBlackRun(n,i,p,x),u-1}sizeOfBlackWhiteBlackRun(n,i,s,l){const u=Math.abs(l-i)>Math.abs(s-n);if(u){let P=n;n=i,i=P,P=s,s=l,l=P}const f=Math.abs(s-n),p=Math.abs(l-i);let x=-f/2;const _=n<s?1:-1,C=i<l?1:-1;let T=0;const b=s+_;for(let P=n,V=i;P!==b;P+=_){const Z=u?V:P,Y=u?P:V;if(T===1===this.image.get(Z,Y)){if(T===2)return it.distance(P,V,n,i);T++}if(x+=p,x>0){if(V===l)break;V+=C,x-=f}}return T===2?it.distance(s+_,l,n,i):NaN}findAlignmentInRegion(n,i,s,l){const u=Math.floor(l*n),f=Math.max(0,i-u),p=Math.min(this.image.getWidth()-1,i+u);if(p-f<n*3)throw new Q("Alignment top exceeds estimated module size.");const x=Math.max(0,s-u),_=Math.min(this.image.getHeight()-1,s+u);if(_-x<n*3)throw new Q("Alignment bottom exceeds estimated module size.");return new Ti(this.image,f,x,p-f,_-x,n,this.resultPointCallback).find()}}class vn{constructor(){this.decoder=new Xs}getDecoder(){return this.decoder}decode(n,i){let s,l;if(i!=null&&i.get(ie.PURE_BARCODE)!==void 0){const x=vn.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(x,i),l=vn.NO_POINTS}else{const x=new Ve(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(x.getBits(),i),l=x.getPoints()}s.getOther()instanceof No&&s.getOther().applyMirroredCorrection(l);const u=new Ge(s.getText(),s.getRawBytes(),void 0,l,ge.QR_CODE,void 0),f=s.getByteSegments();f!==null&&u.putMetadata(wt.BYTE_SEGMENTS,f);const p=s.getECLevel();return p!==null&&u.putMetadata(wt.ERROR_CORRECTION_LEVEL,p),s.hasStructuredAppend()&&(u.putMetadata(wt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),u.putMetadata(wt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new Q;const l=this.moduleSize(i,n);let u=i[1],f=s[1],p=i[0],x=s[0];if(p>=x||u>=f)throw new Q;if(f-u!==x-p&&(x=p+(f-u),x>=n.getWidth()))throw new Q;const _=Math.round((x-p+1)/l),C=Math.round((f-u+1)/l);if(_<=0||C<=0)throw new Q;if(C!==_)throw new Q;const T=Math.floor(l/2);u+=T,p+=T;const b=p+Math.floor((_-1)*l)-x;if(b>0){if(b>T)throw new Q;p-=b}const P=u+Math.floor((C-1)*l)-f;if(P>0){if(P>T)throw new Q;u-=P}const V=new ft(_,C);for(let Z=0;Z<C;Z++){const Y=u+Math.floor(Z*l);for(let J=0;J<_;J++)n.get(p+Math.floor(J*l),Y)&&V.set(J,Z)}return V}static moduleSize(n,i){const s=i.getHeight(),l=i.getWidth();let u=n[0],f=n[1],p=!0,x=0;for(;u<l&&f<s;){if(p!==i.get(u,f)){if(++x===5)break;p=!p}u++,f++}if(u===l||f===s)throw new Q;return(u-n[0])/7}}vn.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(n){return it.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ee.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const l of n)i[s++]=l;return i}static getCodeword(n){const i=M.binarySearch(Ee.SYMBOL_TABLE,n&262143);return i<0?-1:(Ee.CODEWORD_TABLE[i]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ul{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Xe{static detectMultiple(n,i,s){let l=n.getBlackMatrix(),u=Xe.detect(s,l);return u.length||(l=l.clone(),l.rotate180(),u=Xe.detect(s,l)),new ul(l,u)}static detect(n,i){const s=new Array;let l=0,u=0,f=!1;for(;l<i.getHeight();){const p=Xe.findVertices(i,l,u);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,u=0;for(const x of s)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=Xe.ROW_STEP;continue}if(f=!0,s.push(p),!n)break;p[2]!=null?(u=Math.trunc(p[2].getX()),l=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY()))}return s}static findVertices(n,i,s){const l=n.getHeight(),u=n.getWidth(),f=new Array(8);return Xe.copyToResult(f,Xe.findRowsWithPattern(n,l,u,i,s,Xe.START_PATTERN),Xe.INDEXES_START_PATTERN),f[4]!=null&&(s=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),Xe.copyToResult(f,Xe.findRowsWithPattern(n,l,u,i,s,Xe.STOP_PATTERN),Xe.INDEXES_STOP_PATTERN),f}static copyToResult(n,i,s){for(let l=0;l<s.length;l++)n[s[l]]=i[l]}static findRowsWithPattern(n,i,s,l,u,f){const p=new Array(4);let x=!1;const _=new Int32Array(f.length);for(;l<i;l+=Xe.ROW_STEP){let T=Xe.findGuardPattern(n,u,l,s,!1,f,_);if(T!=null){for(;l>0;){const b=Xe.findGuardPattern(n,u,--l,s,!1,f,_);if(b!=null)T=b;else{l++;break}}p[0]=new Ie(T[0],l),p[1]=new Ie(T[1],l),x=!0;break}}let C=l+1;if(x){let T=0,b=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;C<i;C++){const P=Xe.findGuardPattern(n,b[0],C,s,!1,f,_);if(P!=null&&Math.abs(b[0]-P[0])<Xe.MAX_PATTERN_DRIFT&&Math.abs(b[1]-P[1])<Xe.MAX_PATTERN_DRIFT)b=P,T=0;else{if(T>Xe.SKIPPED_ROW_COUNT_MAX)break;T++}}C-=T+1,p[2]=new Ie(b[0],C),p[3]=new Ie(b[1],C)}return C-l<Xe.BARCODE_MIN_HEIGHT&&M.fill(p,null),p}static findGuardPattern(n,i,s,l,u,f,p){M.fillWithin(p,0,p.length,0);let x=i,_=0;for(;n.get(x,s)&&x>0&&_++<Xe.MAX_PIXEL_DRIFT;)x--;let C=x,T=0,b=f.length;for(let P=u;C<l;C++)if(n.get(C,s)!==P)p[T]++;else{if(T===b-1){if(Xe.patternMatchVariance(p,f,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return new Int32Array([x,C]);x+=p[0]+p[1],U.arraycopy(p,2,p,0,T-1),p[T-1]=0,p[T]=0,T--}else T++;p[T]=1,P=!P}return T===b-1&&Xe.patternMatchVariance(p,f,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE?new Int32Array([x,C-1]):null}static patternMatchVariance(n,i,s){let l=n.length,u=0,f=0;for(let _=0;_<l;_++)u+=n[_],f+=i[_];if(u<f)return 1/0;let p=u/f;s*=p;let x=0;for(let _=0;_<l;_++){let C=n[_],T=i[_]*p,b=C>T?C-T:T-C;if(b>s)return 1/0;x+=b}return x/u}}Xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Xe.MAX_AVG_VARIANCE=.42,Xe.MAX_INDIVIDUAL_VARIANCE=.8,Xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Xe.MAX_PIXEL_DRIFT=3,Xe.MAX_PATTERN_DRIFT=5,Xe.SKIPPED_ROW_COUNT_MAX=25,Xe.ROW_STEP=5,Xe.BARCODE_MIN_HEIGHT=10;class hn{constructor(n,i){if(i.length===0)throw new N;this.field=n;let s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),U.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],s=this.coefficients.length;for(let l=1;l<s;l++)i=this.field.add(this.field.multiply(n,i),this.coefficients[l]);return i}add(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let f=i;i=s,s=f}let l=new Int32Array(s.length),u=s.length-i.length;U.arraycopy(s,0,l,0,u);for(let f=u;f<s.length;f++)l[f]=this.field.add(i[f-u],s[f]);return new hn(this.field,l)}subtract(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof hn?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new hn(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,l=n.coefficients,u=l.length,f=new Int32Array(s+u-1);for(let p=0;p<s;p++){let x=i[p];for(let _=0;_<u;_++)f[p+_]=this.field.add(f[p+_],this.field.multiply(x,l[_]))}return new hn(this.field,f)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new hn(this.field,i)}multiplyScalar(n){if(n===0)return new hn(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=this.field.multiply(this.coefficients[l],n);return new hn(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new N;if(i===0)return new hn(this.field,new Int32Array([0]));let s=this.coefficients.length,l=new Int32Array(s+n);for(let u=0;u<s;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new hn(this.field,l)}toString(){let n=new Je;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class Ks{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}inverse(n){if(n===0)throw new Ir;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Qr extends Ks{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let l=0;l<n;l++)this.expTable[l]=s,s=s*i%n;for(let l=0;l<n-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new hn(this,new Int32Array([0])),this.one=new hn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new N;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new hn(this,s)}}Qr.PDF417_GF=new Qr(Ee.NUMBER_OF_CODEWORDS,3);class $o{constructor(){this.field=Qr.PDF417_GF}decode(n,i,s){let l=new hn(this.field,n),u=new Int32Array(i),f=!1;for(let V=i;V>0;V--){let Z=l.evaluateAt(this.field.exp(V));u[i-V]=Z,Z!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(s!=null)for(const V of s){let Z=this.field.exp(n.length-1-V),Y=new hn(this.field,new Int32Array([this.field.subtract(0,Z),1]));p=p.multiply(Y)}let x=new hn(this.field,u),_=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),C=_[0],T=_[1],b=this.findErrorLocations(C),P=this.findErrorMagnitudes(T,C,b);for(let V=0;V<b.length;V++){let Z=n.length-1-this.field.log(b[V]);if(Z<0)throw W.getChecksumInstance();n[Z]=this.field.subtract(n[Z],P[V])}return b.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let b=n;n=i,i=b}let l=n,u=i,f=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(s/2);){let b=l,P=f;if(l=u,f=p,l.isZero())throw W.getChecksumInstance();u=b;let V=this.field.getZero(),Z=l.getCoefficient(l.getDegree()),Y=this.field.inverse(Z);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let J=u.getDegree()-l.getDegree(),me=this.field.multiply(u.getCoefficient(u.getDegree()),Y);V=V.add(this.field.buildMonomial(J,me)),u=u.subtract(l.multiplyByMonomial(J,me))}p=V.multiply(f).subtract(P).negative()}let x=p.getCoefficient(0);if(x===0)throw W.getChecksumInstance();let _=this.field.inverse(x),C=p.multiply(_),T=u.multiply(_);return[C,T]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)n.evaluateAt(u)===0&&(s[l]=this.field.inverse(u),l++);if(l!==i)throw W.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let l=i.getDegree(),u=new Int32Array(l);for(let _=1;_<=l;_++)u[l-_]=this.field.multiply(_,i.getCoefficient(_));let f=new hn(this.field,u),p=s.length,x=new Int32Array(p);for(let _=0;_<p;_++){let C=this.field.inverse(s[_]),T=this.field.subtract(0,n.evaluateAt(C)),b=this.field.inverse(f.evaluateAt(C));x[_]=this.field.multiply(T,b)}return x}}class mr{constructor(n,i,s,l,u){n instanceof mr?this.constructor_2(n):this.constructor_1(n,i,s,l,u)}constructor_1(n,i,s,l,u){const f=i==null||s==null,p=l==null||u==null;if(f&&p)throw new Q;f?(i=new Ie(0,l.getY()),s=new Ie(0,u.getY())):p&&(l=new Ie(n.getWidth()-1,i.getY()),u=new Ie(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new mr(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(n>0){let x=s?this.topLeft:this.topRight,_=Math.trunc(x.getY()-n);_<0&&(_=0);let C=new Ie(x.getX(),_);s?l=C:f=C}if(i>0){let x=s?this.bottomLeft:this.bottomRight,_=Math.trunc(x.getY()+i);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let C=new Ie(x.getX(),_);s?u=C:p=C}return new mr(this.image,l,u,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class En{constructor(n,i,s,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xr{constructor(){this.buffer=""}static form(n,i){let s=-1;function l(f,p,x,_,C,T){if(f==="%%")return"%";if(i[++s]===void 0)return;f=_?parseInt(_.substr(1)):void 0;let b=C?parseInt(C.substr(1)):void 0,P;switch(T){case"s":P=i[s];break;case"c":P=i[s][0];break;case"f":P=parseFloat(i[s]).toFixed(f);break;case"p":P=parseFloat(i[s]).toPrecision(f);break;case"e":P=parseFloat(i[s]).toExponential(f);break;case"x":P=parseInt(i[s]).toString(b||16);break;case"d":P=parseFloat(parseInt(i[s],b||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(b);let V=parseInt(x),Z=x&&x[0]+""=="0"?"0":" ";for(;P.length<V;)P=p!==void 0?P+Z:Z+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}format(n,...i){this.buffer+=xr.form(n,i)}toString(){return this.buffer}}class Yi{constructor(n){this.boundingBox=new mr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<Yi.MAX_NEARBY_DISTANCE;s++){let l=this.imageRowToCodewordIndex(n)-s;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(n)+s,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new xr;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}Yi.MAX_NEARBY_DISTANCE=5;class Ki{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,l]of this.values.entries()){const u={getKey:()=>s,getValue:()=>l};u.getValue()>n?(n=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===n&&i.push(u.getKey())}return Ee.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class cl extends Yi{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=-1,_=1,C=0;for(let T=f;T<p;T++){if(i[T]==null)continue;let b=i[T],P=b.getRowNumber()-x;if(P===0)C++;else if(P===1)_=Math.max(_,C),C=1,x=b.getRowNumber();else if(P<0||b.getRowNumber()>=n.getRowCount()||P>T)i[T]=null;else{let V;_>2?V=(_-2)*P:V=P;let Z=V>=T;for(let Y=1;Y<=V&&!Z;Y++)Z=i[T-Y]!=null;Z?i[T]=null:(x=b.getRowNumber(),C=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let l=s.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.getCodewords(),x=-1;for(let _=u;_<f;_++){if(p[_]==null)continue;let C=p[_];C.setRowNumberAsRowIndicatorColumn();let T=C.getRowNumber()-x;T===0||(T===1?x=C.getRowNumber():C.getRowNumber()>=n.getRowCount()?p[_]=null:x=C.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Ki,s=new Ki,l=new Ki,u=new Ki;for(let p of n){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let x=p.getValue()%30,_=p.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(x*3+1);break;case 1:u.setValue(x/3),l.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let f=new En(i.getValue()[0],s.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,f),f}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let l=n[s];if(n[s]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:u+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qi{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ee.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[s];u!=null&&(u.setRowNumber(n[s].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[s];p!=null&&(u=qi.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[s];p!=null&&(u=qi.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let l=s[i],u=this.detectionResultColumns[n-1].getCodewords(),f=u;this.detectionResultColumns[n+1]!=null&&(f=this.detectionResultColumns[n+1].getCodewords());let p=new Array(14);p[2]=u[i],p[3]=f[i],i>0&&(p[0]=s[i-1],p[4]=u[i-1],p[5]=f[i-1]),i>1&&(p[8]=s[i-2],p[10]=u[i-2],p[11]=f[i-2]),i<s.length-1&&(p[1]=s[i+1],p[6]=u[i+1],p[7]=f[i+1]),i<s.length-2&&(p[9]=s[i+2],p[12]=u[i+2],p[13]=f[i+2]);for(let x of p)if(qi.adjustRowNumber(l,x))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new xr;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[s];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ii{constructor(n,i,s,l){this.rowNumber=Ii.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ii.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ii.BARCODE_ROW_UNKNOWN=-1;class Un{static initialize(){for(let n=0;n<Ee.SYMBOL_TABLE.length;n++){let i=Ee.SYMBOL_TABLE[n],s=i&1;for(let l=0;l<Ee.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===s;)u+=1,i>>=1;s=i&1,Un.RATIOS_TABLE[n]||(Un.RATIOS_TABLE[n]=new Array(Ee.BARS_IN_MODULE)),Un.RATIOS_TABLE[n][Ee.BARS_IN_MODULE-l-1]=Math.fround(u/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Un.getDecodedCodewordValue(Un.sampleBitCounts(n));return i!==-1?i:Un.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=it.sum(n),s=new Int32Array(Ee.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<Ee.MODULES_IN_CODEWORD;f++){let p=i/(2*Ee.MODULES_IN_CODEWORD)+f*i/Ee.MODULES_IN_CODEWORD;u+n[l]<=p&&(u+=n[l],l++),s[l]++}return s}static getDecodedCodewordValue(n){let i=Un.getBitValue(n);return Ee.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let l=0;l<n[s];l++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=it.sum(n),s=new Array(Ee.BARS_IN_MODULE);if(i>1)for(let f=0;f<s.length;f++)s[f]=Math.fround(n[f]/i);let l=Zr.MAX_VALUE,u=-1;this.bSymbolTableReady||Un.initialize();for(let f=0;f<Un.RATIOS_TABLE.length;f++){let p=0,x=Un.RATIOS_TABLE[f];for(let _=0;_<Ee.BARS_IN_MODULE;_++){let C=Math.fround(x[_]-s[_]);if(p+=Math.fround(C*C),p>=l)break}p<l&&(l=p,u=Ee.SYMBOL_TABLE[f])}return u}}Un.bSymbolTableReady=!1,Un.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(S=>new Array(Ee.BARS_IN_MODULE));class qs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class ct{static parseLong(n,i=void 0){return parseInt(n,i)}}class hl extends w{}hl.kind="NullPointerException";class _r{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new hl;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new se;if(s===0)return;for(let l=0;l<s;l++)this.write(n[i+l])}flush(){}close(){}}class ko extends w{}class fl extends _r{constructor(n=32){if(super(),this.count=0,n<0)throw new N("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new ko;s=B.MAX_VALUE}this.buf=M.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new se;this.ensureCapacity(this.count+s),U.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return M.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Rt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Rt||(Rt={}));function es(){if(typeof window<"u")return window.BigInt||null;if(typeof ss<"u")return ss.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ts;function Jr(S){if(typeof ts>"u"&&(ts=es()),ts===null)throw new Error("BigInt is not supported!");return ts(S)}function tc(){let S=[];S[0]=Jr(1);let n=Jr(900);S[1]=n;for(let i=2;i<16;i++)S[i]=S[i-1]*n;return S}class ${static decode(n,i){let s=new Je(""),l=re.ISO8859_1;s.enableDecoding(l);let u=1,f=n[u++],p=new qs;for(;u<n[0];){switch(f){case $.TEXT_COMPACTION_MODE_LATCH:u=$.textCompaction(n,u,s);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:u=$.byteCompaction(f,n,l,u,s);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:u=$.numericCompaction(n,u,s);break;case $.ECI_CHARSET:re.getCharacterSetECIByValue(n[u++]);break;case $.ECI_GENERAL_PURPOSE:u+=2;break;case $.ECI_USER_DEFINED:u++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=$.decodeMacroBlock(n,u,p);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new X;default:u--,u=$.textCompaction(n,u,s);break}if(u<n.length)f=n[u++];else throw X.getFormatInstance()}if(s.length()===0)throw X.getFormatInstance();let x=new Wr(null,s.toString(),null,i);return x.setOther(p),x}static decodeMacroBlock(n,i,s){if(i+$.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw X.getFormatInstance();let l=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<$.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)l[p]=n[i];s.setSegmentIndex(B.parseInt($.decodeBase900toBase10(l,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Je;i=$.textCompaction(n,i,u),s.setFileId(u.toString());let f=-1;for(n[i]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<n[0];)switch(n[i]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new Je;i=$.textCompaction(n,i+1,p),s.setFileName(p.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Je;i=$.textCompaction(n,i+1,x),s.setSender(x.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new Je;i=$.textCompaction(n,i+1,_),s.setAddressee(_.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Je;i=$.numericCompaction(n,i+1,C),s.setSegmentCount(B.parseInt(C.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Je;i=$.numericCompaction(n,i+1,T),s.setTimestamp(ct.parseLong(T.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new Je;i=$.numericCompaction(n,i+1,b),s.setChecksum(B.parseInt(b.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new Je;i=$.numericCompaction(n,i+1,P),s.setFileSize(ct.parseLong(P.toString()));break;default:throw X.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(f!==-1){let p=i-f;s.isLastSegment()&&p--,s.setOptionalData(M.copyOfRange(n,f,f+p))}return i}static textCompaction(n,i,s){let l=new Int32Array((n[0]-i)*2),u=new Int32Array((n[0]-i)*2),f=0,p=!1;for(;i<n[0]&&!p;){let x=n[i++];if(x<$.TEXT_COMPACTION_MODE_LATCH)l[f]=x/30,l[f+1]=x%30,f+=2;else switch(x){case $.TEXT_COMPACTION_MODE_LATCH:l[f++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=n[i++],u[f]=x,f++;break}}return $.decodeTextCompaction(l,u,f,s),i}static decodeTextCompaction(n,i,s,l){let u=Rt.ALPHA,f=Rt.ALPHA,p=0;for(;p<s;){let x=n[p],_="";switch(u){case Rt.ALPHA:if(x<26)_=String.fromCharCode(65+x);else switch(x){case 26:_=" ";break;case $.LL:u=Rt.LOWER;break;case $.ML:u=Rt.MIXED;break;case $.PS:f=u,u=Rt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=Rt.ALPHA;break}break;case Rt.LOWER:if(x<26)_=String.fromCharCode(97+x);else switch(x){case 26:_=" ";break;case $.AS:f=u,u=Rt.ALPHA_SHIFT;break;case $.ML:u=Rt.MIXED;break;case $.PS:f=u,u=Rt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=Rt.ALPHA;break}break;case Rt.MIXED:if(x<$.PL)_=$.MIXED_CHARS[x];else switch(x){case $.PL:u=Rt.PUNCT;break;case 26:_=" ";break;case $.LL:u=Rt.LOWER;break;case $.AL:u=Rt.ALPHA;break;case $.PS:f=u,u=Rt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=Rt.ALPHA;break}break;case Rt.PUNCT:if(x<$.PAL)_=$.PUNCT_CHARS[x];else switch(x){case $.PAL:u=Rt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=Rt.ALPHA;break}break;case Rt.ALPHA_SHIFT:if(u=f,x<26)_=String.fromCharCode(65+x);else switch(x){case 26:_=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:u=Rt.ALPHA;break}break;case Rt.PUNCT_SHIFT:if(u=f,x<$.PAL)_=$.PUNCT_CHARS[x];else switch(x){case $.PAL:u=Rt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case $.TEXT_COMPACTION_MODE_LATCH:u=Rt.ALPHA;break}break}_!==""&&l.append(_),p++}}static byteCompaction(n,i,s,l,u){let f=new fl,p=0,x=0,_=!1;switch(n){case $.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),T=i[l++];for(;l<i[0]&&!_;)switch(C[p++]=T,x=900*x+T,T=i[l++],T){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:l--,_=!0;break;default:if(p%5===0&&p>0){for(let b=0;b<6;++b)f.write(Number(Jr(x)>>Jr(8*(5-b))));x=0,p=0}break}l===i[0]&&T<$.TEXT_COMPACTION_MODE_LATCH&&(C[p++]=T);for(let b=0;b<p;b++)f.write(C[b]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!_;){let b=i[l++];if(b<$.TEXT_COMPACTION_MODE_LATCH)p++,x=900*x+b;else switch(b){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:l--,_=!0;break}if(p%5===0&&p>0){for(let P=0;P<6;++P)f.write(Number(Jr(x)>>Jr(8*(5-P))));x=0,p=0}}break}return u.append(He.decode(f.toByteArray(),s)),l}static numericCompaction(n,i,s){let l=0,u=!1,f=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!u;){let p=n[i++];if(i===n[0]&&(u=!0),p<$.TEXT_COMPACTION_MODE_LATCH)f[l]=p,l++;else switch(p){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%$.MAX_NUMERIC_CODEWORDS===0||p===$.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(s.append($.decodeBase900toBase10(f,l)),l=0)}return i}static decodeBase900toBase10(n,i){let s=Jr(0);for(let u=0;u<i;u++)s+=$.EXP900[i-u-1]*Jr(n[u]);let l=s.toString();if(l.charAt(0)!=="1")throw new X;return l.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$.EXP900=es()?tc():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(n,i,s,l,u,f,p){let x=new mr(n,i,s,l,u),_=null,C=null,T;for(let V=!0;;V=!1){if(i!=null&&(_=qe.getRowIndicatorColumn(n,x,i,!0,f,p)),l!=null&&(C=qe.getRowIndicatorColumn(n,x,l,!1,f,p)),T=qe.merge(_,C),T==null)throw Q.getNotFoundInstance();let Z=T.getBoundingBox();if(V&&Z!=null&&(Z.getMinY()<x.getMinY()||Z.getMaxY()>x.getMaxY()))x=Z;else break}T.setBoundingBox(x);let b=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,_),T.setDetectionResultColumn(b,C);let P=_!=null;for(let V=1;V<=b;V++){let Z=P?V:b-V;if(T.getDetectionResultColumn(Z)!==void 0)continue;let Y;Z===0||Z===b?Y=new cl(x,Z===0):Y=new Yi(x),T.setDetectionResultColumn(Z,Y);let J=-1,me=J;for(let xe=x.getMinY();xe<=x.getMaxY();xe++){if(J=qe.getStartColumn(T,Z,xe,P),J<0||J>x.getMaxX()){if(me===-1)continue;J=me}let de=qe.detectCodeword(n,x.getMinX(),x.getMaxX(),P,J,xe,f,p);de!=null&&(Y.setCodeword(xe,de),me=J,f=Math.min(f,de.getWidth()),p=Math.max(p,de.getWidth()))}}return qe.createDecoderResult(T)}static merge(n,i){if(n==null&&i==null)return null;let s=qe.getBarcodeMetadata(n,i);if(s==null)return null;let l=mr.merge(qe.adjustBoundingBox(n),qe.adjustBoundingBox(i));return new qi(s,l)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=qe.getMax(i),l=0;for(let p of i)if(l+=s-p,p>0)break;let u=n.getCodewords();for(let p=0;l>0&&u[p]==null;p++)l--;let f=0;for(let p=i.length-1;p>=0&&(f+=s-i[p],!(i[p]>0));p--);for(let p=u.length-1;f>0&&u[p]==null;p--)f--;return n.getBoundingBox().addMissingRows(l,f,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,l,u,f){let p=new cl(i,l);for(let x=0;x<2;x++){let _=x===0?1:-1,C=Math.trunc(Math.trunc(s.getX()));for(let T=Math.trunc(Math.trunc(s.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=_){let b=qe.detectCodeword(n,0,n.getWidth(),l,C,T,u,f);b!=null&&(p.setCodeword(T,b),l?C=b.getStartX():C=b.getEndX())}}return p}static adjustCodewordCount(n,i){let s=i[0][1],l=s.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-qe.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(u<1||u>Ee.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();s.setValue(u)}else l[0]!==u&&s.setValue(u)}static createDecoderResult(n){let i=qe.createBarcodeMatrix(n);qe.adjustCodewordCount(n,i);let s=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],f=new Array;for(let x=0;x<n.getBarcodeRowCount();x++)for(let _=0;_<n.getBarcodeColumnCount();_++){let C=i[x][_+1].getValue(),T=x*n.getBarcodeColumnCount()+_;C.length===0?s.push(T):C.length===1?l[T]=C[0]:(f.push(T),u.push(C))}let p=new Array(u.length);for(let x=0;x<p.length;x++)p[x]=u[x];return qe.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,Ee.toIntArray(s),Ee.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(n,i,s,l,u){let f=new Int32Array(l.length),p=100;for(;p-- >0;){for(let x=0;x<f.length;x++)i[l[x]]=u[x][f[x]];try{return qe.decodeCodewords(i,n,s)}catch(x){if(!(x instanceof W))throw x}if(f.length===0)throw W.getChecksumInstance();for(let x=0;x<f.length;x++)if(f[x]<u[x].length-1){f[x]++;break}else if(f[x]=0,x===f.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new Ki;let s=0;for(let l of n.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][s].setValue(u.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,l){let u=l?1:-1,f=null;if(qe.isValidBarcodeColumn(n,i-u)&&(f=n.getDetectionResultColumn(i-u).getCodeword(s)),f!=null)return l?f.getEndX():f.getStartX();if(f=n.getDetectionResultColumn(i).getCodewordNearby(s),f!=null)return l?f.getStartX():f.getEndX();if(qe.isValidBarcodeColumn(n,i-u)&&(f=n.getDetectionResultColumn(i-u).getCodewordNearby(s)),f!=null)return l?f.getEndX():f.getStartX();let p=0;for(;qe.isValidBarcodeColumn(n,i-u);){i-=u;for(let x of n.getDetectionResultColumn(i).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+u*p*(x.getEndX()-x.getStartX());p++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,l,u,f,p,x){u=qe.adjustCodewordStartColumn(n,i,s,l,u,f);let _=qe.getModuleBitCount(n,i,s,l,u,f);if(_==null)return null;let C,T=it.sum(_);if(l)C=u+T;else{for(let V=0;V<_.length/2;V++){let Z=_[V];_[V]=_[_.length-1-V],_[_.length-1-V]=Z}C=u,u=C-T}if(!qe.checkCodewordSkew(T,p,x))return null;let b=Un.getDecodedValue(_),P=Ee.getCodeword(b);return P===-1?null:new Ii(u,C,qe.getCodewordBucketNumber(b),P)}static getModuleBitCount(n,i,s,l,u,f){let p=u,x=new Int32Array(8),_=0,C=l?1:-1,T=l;for(;(l?p<s:p>=i)&&_<x.length;)n.get(p,f)===T?(x[_]++,p+=C):(_++,T=!T);return _===x.length||p===(l?s:i)&&_===x.length-1?x:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,l,u,f){let p=u,x=l?-1:1;for(let _=0;_<2;_++){for(;(l?p>=i:p<s)&&l===n.get(p,f);){if(Math.abs(u-p)>qe.CODEWORD_SKEW_SIZE)return u;p+=x}x=-x,l=!l}return p}static checkCodewordSkew(n,i,s){return i-qe.CODEWORD_SKEW_SIZE<=n&&n<=s+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw X.getFormatInstance();let l=1<<i+1,u=qe.correctErrors(n,s,l);qe.verifyCodewordCount(n,l);let f=$.decode(n,""+i);return f.setErrorsCorrected(u),f.setErasures(s.length),f}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+qe.MAX_ERRORS||s<0||s>qe.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return qe.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw X.getFormatInstance();let s=n[0];if(s>n.length)throw X.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw X.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,l=i.length-1;for(;!((n&1)!==s&&(s=n&1,l--,l<0));)i[l]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new xr;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let l=0;l<n[s].length;l++){let u=n[s][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new $o;class Cn{decode(n,i=null){let s=Cn.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw Q.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return Cn.decode(n,i,!0)}catch(s){throw s instanceof X||s instanceof W?Q.getNotFoundInstance():s}}static decode(n,i,s){const l=new Array,u=Xe.detectMultiple(n,i,s);for(const f of u.getPoints()){const p=qe.decode(u.getBits(),f[4],f[5],f[6],f[7],Cn.getMinCodewordWidth(f),Cn.getMaxCodewordWidth(f)),x=new Ge(p.getText(),p.getRawBytes(),void 0,f,ge.PDF_417);x.putMetadata(wt.ERROR_CORRECTION_LEVEL,p.getECLevel());const _=p.getOther();_!=null&&x.putMetadata(wt.PDF417_EXTRA_METADATA,_),l.push(x)}return l.map(f=>f)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?B.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Cn.getMaxWidth(n[0],n[4]),Cn.getMaxWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(Cn.getMaxWidth(n[1],n[5]),Cn.getMaxWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Cn.getMinWidth(n[0],n[4]),Cn.getMinWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(Cn.getMinWidth(n[1],n[5]),Cn.getMinWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qn extends w{}Qn.kind="ReaderException";class dl{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!a(n)&&n.get(ie.TRY_HARDER)===!0,s=a(n)?null:n.get(ie.POSSIBLE_FORMATS),l=new Array;if(!a(s)){const u=s.some(f=>f===ge.UPC_A||f===ge.UPC_E||f===ge.EAN_13||f===ge.EAN_8||f===ge.CODABAR||f===ge.CODE_39||f===ge.CODE_93||f===ge.CODE_128||f===ge.ITF||f===ge.RSS_14||f===ge.RSS_EXPANDED);u&&!i&&l.push(new fi(n,this.verbose)),s.includes(ge.QR_CODE)&&l.push(new vn),s.includes(ge.DATA_MATRIX)&&l.push(new bt),s.includes(ge.AZTEC)&&l.push(new Xr),s.includes(ge.PDF_417)&&l.push(new Cn),u&&i&&l.push(new fi(n,this.verbose))}l.length===0&&(i||l.push(new fi(n,this.verbose)),l.push(new vn),l.push(new bt),l.push(new Xr),l.push(new Cn),i&&l.push(new fi(n,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Qn("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof Qn)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class pl extends Tt{constructor(n=null,i=500){const s=new dl;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class di extends Tt{constructor(n=500){super(new Cn,n)}}class gl extends Tt{constructor(n=500){super(new vn,n)}}var ns;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(ns||(ns={}));var tn=ns;class Qs{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Bt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const l=this.field;for(let u=i.length;u<=n;u++){const f=s.multiply(new Bt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(f),s=f}}return i[n]}encode(n,i){if(i===0)throw new N("No error correction bytes");const s=n.length-i;if(s<=0)throw new N("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(s);U.arraycopy(n,0,u,0,s);let f=new Bt(this.field,u);f=f.multiplyByMonomial(i,1);const x=f.divide(l)[1].getCoefficients(),_=i-x.length;for(let C=0;C<_;C++)n[s+C]=0;U.arraycopy(x,0,n,s+_,x.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(n){return Zt.applyMaskPenaltyRule1Internal(n,!0)+Zt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let f=0;f<u-1;f++){const p=s[f];for(let x=0;x<l-1;x++){const _=p[x];_===p[x+1]&&_===s[f+1][x]&&_===s[f+1][x+1]&&i++}}return Zt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let f=0;f<u;f++)for(let p=0;p<l;p++){const x=s[f];p+6<l&&x[p]===1&&x[p+1]===0&&x[p+2]===1&&x[p+3]===1&&x[p+4]===1&&x[p+5]===0&&x[p+6]===1&&(Zt.isWhiteHorizontal(x,p-4,p)||Zt.isWhiteHorizontal(x,p+7,p+11))&&i++,f+6<u&&s[f][p]===1&&s[f+1][p]===0&&s[f+2][p]===1&&s[f+3][p]===1&&s[f+4][p]===1&&s[f+5][p]===0&&s[f+6][p]===1&&(Zt.isWhiteVertical(s,p,f-4,f)||Zt.isWhiteVertical(s,p,f+7,f+11))&&i++}return i*Zt.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let l=i;l<s;l++)if(n[l]===1)return!1;return!0}static isWhiteVertical(n,i,s,l){s=Math.max(s,0),l=Math.min(l,n.length);for(let u=s;u<l;u++)if(n[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let x=0;x<u;x++){const _=s[x];for(let C=0;C<l;C++)_[C]===1&&i++}const f=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Zt.N4}static getDataMaskBit(n,i,s){let l,u;switch(n){case 0:l=s+i&1;break;case 1:l=s&1;break;case 2:l=i%3;break;case 3:l=(s+i)%3;break;case 4:l=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:u=s*i,l=(u&1)+u%3;break;case 6:u=s*i,l=(u&1)+u%3&1;break;case 7:u=s*i,l=u%3+(s+i&1)&1;break;default:throw new N("Invalid mask pattern: "+n)}return l===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const l=i?n.getHeight():n.getWidth(),u=i?n.getWidth():n.getHeight(),f=n.getArray();for(let p=0;p<l;p++){let x=0,_=-1;for(let C=0;C<u;C++){const T=i?f[p][C]:f[C][p];T===_?x++:(x>=5&&(s+=Zt.N1+(x-5)),x=1,_=T)}x>=5&&(s+=Zt.N1+(x-5))}return s}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class Po{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let l=0;l!==i;l++)s[l]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)M.fill(i,n)}equals(n){if(!(n instanceof Po))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,l=this.height;s<l;++s){const u=this.bytes[s],f=i.bytes[s];for(let p=0,x=this.width;p<x;++p)if(u[p]!==f[p])return!1}return!0}toString(){const n=new Je;for(let i=0,s=this.height;i<s;++i){const l=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class bi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Je;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<bi.NUM_MASK_PATTERNS}}bi.NUM_MASK_PATTERNS=8;class kt extends w{}kt.kind="WriterException";class Ue{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,l,u){Ue.clearMatrix(u),Ue.embedBasicPatterns(s,u),Ue.embedTypeInfo(i,l,u),Ue.maybeEmbedVersionInfo(s,u),Ue.embedDataBits(n,l,u)}static embedBasicPatterns(n,i){Ue.embedPositionDetectionPatternsAndSeparators(i),Ue.embedDarkDotAtLeftBottomCorner(i),Ue.maybeEmbedPositionAdjustmentPatterns(n,i),Ue.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const l=new D;Ue.makeTypeInfoBits(n,i,l);for(let u=0,f=l.getSize();u<f;++u){const p=l.get(l.getSize()-1-u),x=Ue.TYPE_INFO_COORDINATES[u],_=x[0],C=x[1];if(s.setBoolean(_,C,p),u<8){const T=s.getWidth()-u-1,b=8;s.setBoolean(T,b,p)}else{const b=s.getHeight()-7+(u-8);s.setBoolean(8,b,p)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new D;Ue.makeVersionInfoBits(n,s);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const p=s.get(l);l--,i.setBoolean(u,i.getHeight()-11+f,p),i.setBoolean(i.getHeight()-11+f,u,p)}}static embedDataBits(n,i,s){let l=0,u=-1,f=s.getWidth()-1,p=s.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<s.getHeight();){for(let x=0;x<2;++x){const _=f-x;if(!Ue.isEmpty(s.get(_,p)))continue;let C;l<n.getSize()?(C=n.get(l),++l):C=!1,i!==255&&Zt.getDataMaskBit(i,_,p)&&(C=!C),s.setBoolean(_,p,C)}p+=u}u=-u,p+=u,f-=2}if(l!==n.getSize())throw new kt("Not all bits consumed: "+l+"/"+n.getSize())}static findMSBSet(n){return 32-B.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new N("0 polynomial");const s=Ue.findMSBSet(i);for(n<<=s-1;Ue.findMSBSet(n)>=s;)n^=i<<Ue.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!bi.isValidMaskPattern(i))throw new kt("Invalid mask pattern");const l=n.getBits()<<3|i;s.appendBits(l,5);const u=Ue.calculateBCHCode(l,Ue.TYPE_INFO_POLY);s.appendBits(u,10);const f=new D;if(f.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),s.xor(f),s.getSize()!==15)throw new kt("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=Ue.calculateBCHCode(n.getVersionNumber(),Ue.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new kt("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;Ue.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),Ue.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new kt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let l=0;l<8;++l){if(!Ue.isEmpty(s.get(n+l,i)))throw new kt;s.setNumber(n+l,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let l=0;l<7;++l){if(!Ue.isEmpty(s.get(n,i+l)))throw new kt;s.setNumber(n,i+l,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let l=0;l<5;++l){const u=Ue.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)s.setNumber(n+f,i+l,u[f])}}static embedPositionDetectionPattern(n,i,s){for(let l=0;l<7;++l){const u=Ue.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)s.setNumber(n+f,i+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(n){const i=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,n),Ue.embedPositionDetectionPattern(n.getWidth()-i,0,n),Ue.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;Ue.embedHorizontalSeparationPattern(0,s-1,n),Ue.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),Ue.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const l=7;Ue.embedVerticalSeparationPattern(l,0,n),Ue.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),Ue.embedVerticalSeparationPattern(l,n.getHeight()-l,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,l=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let u=0,f=l.length;u!==f;u++){const p=l[u];if(p>=0)for(let x=0;x!==f;x++){const _=l[x];_>=0&&Ue.isEmpty(i.get(_,p))&&Ue.embedPositionAdjustmentPattern(_-2,p-2,i)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class nc{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Lt{constructor(){}static calculateMaskPenalty(n){return Zt.applyMaskPenaltyRule1(n)+Zt.applyMaskPenaltyRule2(n)+Zt.applyMaskPenaltyRule3(n)+Zt.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let l=Lt.DEFAULT_BYTE_MODE_ENCODING;const u=s!==null&&s.get(tn.CHARACTER_SET)!==void 0;u&&(l=s.get(tn.CHARACTER_SET).toString());const f=this.chooseMode(n,l),p=new D;if(f===Me.BYTE&&(u||Lt.DEFAULT_BYTE_MODE_ENCODING!==l)){const xe=re.getCharacterSetECIByName(l);xe!==void 0&&this.appendECI(xe,p)}this.appendModeInfo(f,p);const x=new D;this.appendBytes(n,f,x,l);let _;if(s!==null&&s.get(tn.QR_VERSION)!==void 0){const xe=Number.parseInt(s.get(tn.QR_VERSION).toString(),10);_=ve.getVersionForNumber(xe);const de=this.calculateBitsNeeded(f,p,x,_);if(!this.willFit(de,_,i))throw new kt("Data too big for requested version")}else _=this.recommendVersion(i,f,p,x);const C=new D;C.appendBitArray(p);const T=f===Me.BYTE?x.getSizeInBytes():n.length;this.appendLengthInfo(T,_,f,C),C.appendBitArray(x);const b=_.getECBlocksForLevel(i),P=_.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(P,C);const V=this.interleaveWithECBytes(C,_.getTotalCodewords(),P,b.getNumBlocks()),Z=new bi;Z.setECLevel(i),Z.setMode(f),Z.setVersion(_);const Y=_.getDimensionForVersion(),J=new Po(Y,Y),me=this.chooseMaskPattern(V,i,_,J);return Z.setMaskPattern(me),Ue.buildMatrix(V,i,_,me,J),Z.setMatrix(J),Z}static recommendVersion(n,i,s,l){const u=this.calculateBitsNeeded(i,s,l,ve.getVersionForNumber(1)),f=this.chooseVersion(u,n),p=this.calculateBitsNeeded(i,s,l,f);return this.chooseVersion(p,n)}static calculateBitsNeeded(n,i,s,l){return i.getSize()+n.getCharacterCountBits(l)+s.getSize()}static getAlphanumericCode(n){return n<Lt.ALPHANUMERIC_TABLE.length?Lt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(re.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return Me.KANJI;let s=!1,l=!1;for(let u=0,f=n.length;u<f;++u){const p=n.charAt(u);if(Lt.isDigit(p))s=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)l=!0;else return Me.BYTE}return l?Me.ALPHANUMERIC:s?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=He.encode(n,re.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let l=0;l<s;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,i,s,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<bi.NUM_MASK_PATTERNS;p++){Ue.buildMatrix(n,i,s,p,l);let x=this.calculateMaskPenalty(l);x<u&&(u=x,f=p)}return f}static chooseVersion(n,i){for(let s=1;s<=40;s++){const l=ve.getVersionForNumber(s);if(Lt.willFit(n,l,i))return l}throw new kt("Data too big")}static willFit(n,i,s){const l=i.getTotalCodewords(),f=i.getECBlocksForLevel(s).getTotalECCodewords(),p=l-f,x=(n+7)/8;return p>=x}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new kt("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let f=0;f<4&&i.getSize()<s;++f)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let f=l;f<8;f++)i.appendBit(!1);const u=n-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==s)throw new kt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,l,u,f){if(l>=s)throw new kt("Block ID too large");const p=n%s,x=s-p,_=Math.floor(n/s),C=_+1,T=Math.floor(i/s),b=T+1,P=_-T,V=C-b;if(P!==V)throw new kt("EC bytes mismatch");if(s!==x+p)throw new kt("RS blocks mismatch");if(n!==(T+P)*x+(b+V)*p)throw new kt("Total bytes mismatch");l<x?(u[0]=T,f[0]=P):(u[0]=b,f[0]=V)}static interleaveWithECBytes(n,i,s,l){if(n.getSizeInBytes()!==s)throw new kt("Number of bits and data bytes does not match");let u=0,f=0,p=0;const x=new Array;for(let C=0;C<l;++C){const T=new Int32Array(1),b=new Int32Array(1);Lt.getNumDataBytesAndNumECBytesForBlockID(i,s,l,C,T,b);const P=T[0],V=new Uint8Array(P);n.toBytes(8*u,V,0,P);const Z=Lt.generateECBytes(V,b[0]);x.push(new nc(V,Z)),f=Math.max(f,P),p=Math.max(p,Z.length),u+=T[0]}if(s!==u)throw new kt("Data bytes does not match offset");const _=new D;for(let C=0;C<f;++C)for(const T of x){const b=T.getDataBytes();C<b.length&&_.appendBits(b[C],8)}for(let C=0;C<p;++C)for(const T of x){const b=T.getErrorCorrectionBytes();C<b.length&&_.appendBits(b[C],8)}if(i!==_.getSizeInBytes())throw new kt("Interleaving error: "+i+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(n,i){const s=n.length,l=new Int32Array(s+i);for(let f=0;f<s;f++)l[f]=n[f]&255;new Qs(lt.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=l[s+f];return u}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,l){const u=s.getCharacterCountBits(i);if(n>=1<<u)throw new kt(n+" is bigger than "+((1<<u)-1));l.appendBits(n,u)}static appendBytes(n,i,s,l){switch(i){case Me.NUMERIC:Lt.appendNumericBytes(n,s);break;case Me.ALPHANUMERIC:Lt.appendAlphanumericBytes(n,s);break;case Me.BYTE:Lt.append8BitBytes(n,s,l);break;case Me.KANJI:Lt.appendKanjiBytes(n,s);break;default:throw new kt("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Lt.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let l=0;for(;l<s;){const u=Lt.getDigit(n.charAt(l));if(l+2<s){const f=Lt.getDigit(n.charAt(l+1)),p=Lt.getDigit(n.charAt(l+2));i.appendBits(u*100+f*10+p,10),l+=3}else if(l+1<s){const f=Lt.getDigit(n.charAt(l+1));i.appendBits(u*10+f,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(n,i){const s=n.length;let l=0;for(;l<s;){const u=Lt.getAlphanumericCode(n.charCodeAt(l));if(u===-1)throw new kt;if(l+1<s){const f=Lt.getAlphanumericCode(n.charCodeAt(l+1));if(f===-1)throw new kt;i.appendBits(u*45+f,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(n,i,s){let l;try{l=He.encode(n,s)}catch(u){throw new kt(u)}for(let u=0,f=l.length;u!==f;u++){const p=l[u];i.appendBits(p,8)}}static appendKanjiBytes(n,i){let s;try{s=He.encode(n,re.SJIS)}catch(u){throw new kt(u)}const l=s.length;for(let u=0;u<l;u+=2){const f=s[u]&255,p=s[u+1]&255,x=f<<8&4294967295|p;let _=-1;if(x>=33088&&x<=40956?_=x-33088:x>=57408&&x<=60351&&(_=x-49472),_===-1)throw new kt("Invalid byte sequence");const C=(_>>8)*192+(_&255);i.appendBits(C,13)}}static appendECI(n,i){i.appendBits(Me.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Lt.DEFAULT_BYTE_MODE_ENCODING=re.UTF8.getName();class pi{write(n,i,s,l=null){if(n.length===0)throw new N("Found empty contents");if(i<0||s<0)throw new N("Requested dimensions are too small: "+i+"x"+s);let u=tt.L,f=pi.QUIET_ZONE_SIZE;l!==null&&(l.get(tn.ERROR_CORRECTION)!==void 0&&(u=tt.fromString(l.get(tn.ERROR_CORRECTION).toString())),l.get(tn.MARGIN)!==void 0&&(f=Number.parseInt(l.get(tn.MARGIN).toString(),10)));const p=Lt.encode(n,u,l);return this.renderResult(p,i,s,f)}writeToDom(n,i,s,l,u=null){typeof n=="string"&&(n=document.querySelector(n));const f=this.write(i,s,l,u);n&&n.appendChild(f)}renderResult(n,i,s,l){const u=n.getMatrix();if(u===null)throw new Yn;const f=u.getWidth(),p=u.getHeight(),x=f+l*2,_=p+l*2,C=Math.max(i,x),T=Math.max(s,_),b=Math.min(Math.floor(C/x),Math.floor(T/_)),P=Math.floor((C-f*b)/2),V=Math.floor((T-p*b)/2),Z=this.createSVGElement(C,T);for(let Y=0,J=V;Y<p;Y++,J+=b)for(let me=0,xe=P;me<f;me++,xe+=b)if(u.get(me,Y)===1){const de=this.createSvgRectElement(xe,J,b,b);Z.appendChild(de)}return Z}createSVGElement(n,i){const s=document.createElementNS(pi.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,l){const u=document.createElementNS(pi.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}pi.QUIET_ZONE_SIZE=4,pi.SVG_NS="http://www.w3.org/2000/svg";class $r{encode(n,i,s,l,u){if(n.length===0)throw new N("Found empty contents");if(i!==ge.QR_CODE)throw new N("Can only encode QR_CODE, but got "+i);if(s<0||l<0)throw new N(`Requested dimensions are too small: ${s}x${l}`);let f=tt.L,p=$r.QUIET_ZONE_SIZE;u!==null&&(u.get(tn.ERROR_CORRECTION)!==void 0&&(f=tt.fromString(u.get(tn.ERROR_CORRECTION).toString())),u.get(tn.MARGIN)!==void 0&&(p=Number.parseInt(u.get(tn.MARGIN).toString(),10)));const x=Lt.encode(n,f,u);return $r.renderResult(x,s,l,p)}static renderResult(n,i,s,l){const u=n.getMatrix();if(u===null)throw new Yn;const f=u.getWidth(),p=u.getHeight(),x=f+l*2,_=p+l*2,C=Math.max(i,x),T=Math.max(s,_),b=Math.min(Math.floor(C/x),Math.floor(T/_)),P=Math.floor((C-f*b)/2),V=Math.floor((T-p*b)/2),Z=new ft(C,T);for(let Y=0,J=V;Y<p;Y++,J+=b)for(let me=0,xe=P;me<f;me++,xe+=b)u.get(me,Y)===1&&Z.setRegion(xe,J,b,b);return Z}}$r.QUIET_ZONE_SIZE=4;class Ri{encode(n,i,s,l,u){let f;switch(i){case ge.QR_CODE:f=new $r;break;default:throw new N("No encoder available for format "+i)}return f.encode(n,i,s,l,u)}}class br extends oe{constructor(n,i,s,l,u,f,p,x){if(super(f,p),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=l,this.top=u,l+f>i||u+p>s)throw new N("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(f,p)}getRow(n,i){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(n+this.top)*this.dataWidth+this.left;return U.arraycopy(this.yuvData,l,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,l=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return U.arraycopy(this.yuvData,u,l,0,s),l;for(let f=0;f<i;f++){const p=f*n;U.arraycopy(this.yuvData,u,l,p,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,s,l){return new br(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,l,!1)}renderThumbnail(){const n=this.getWidth()/br.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/br.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const p=f*n;for(let x=0;x<n;x++){const _=l[u+x*br.THUMBNAIL_SCALE_FACTOR]&255;s[p+x]=4278190080|_*65793}u+=this.dataWidth*br.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/br.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/br.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const f=u+n/2;for(let p=u,x=u+n-1;p<f;p++,x--){const _=s[p];s[p]=s[x],s[x]=_}}}invert(){return new ke(this)}}br.THUMBNAIL_SCALE_FACTOR=2;class Ni extends oe{constructor(n,i,s,l,u,f,p){if(super(i,s),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=p,n.BYTES_PER_ELEMENT===4){const x=i*s,_=new Uint8ClampedArray(x);for(let C=0;C<x;C++){const T=n[C],b=T>>16&255,P=T>>7&510,V=T&255;_[C]=(b+P+V)/4&255}this.luminances=_}else this.luminances=n;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=s),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(n+this.top)*this.dataWidth+this.left;return U.arraycopy(this.luminances,l,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,l=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return U.arraycopy(this.luminances,u,l,0,s),l;for(let f=0;f<i;f++){const p=f*n;U.arraycopy(this.luminances,u,l,p,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,s,l){return new Ni(this.luminances,s,l,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new ke(this)}}class Jn extends re{static forName(n){return this.getCharacterSetECIByName(n)}}class rs{}rs.ISO_8859_1=re.ISO8859_1;class Js{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class ml{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class $s{constructor(n){this.previous=n}getPrevious(){return this.previous}}class gi extends $s{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new gi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new gi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+B.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class ea extends gi{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new ea(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function rc(S,n,i){return new ea(S,n,i)}function Qi(S,n,i){return new gi(S,n,i)}const ic=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xn=0,ei=1,lr=2,Rr=3,Nr=4,Ji=new gi(null,0,0),ta=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Lo(S){for(let n of S)M.fill(n,-1);return S[xn][Nr]=0,S[ei][Nr]=0,S[ei][xn]=28,S[Rr][Nr]=0,S[lr][Nr]=0,S[lr][xn]=15,S}const na=Lo(M.createInt32Array(6,6));class $n{constructor(n,i,s,l){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,l=this.token;if(n!==this.mode){let f=ta[this.mode][n];l=Qi(l,f&65535,f>>16),s+=f>>16}let u=n===lr?4:5;return l=Qi(l,i,u),new $n(l,n,0,s+u)}shiftAndAppend(n,i){let s=this.token,l=this.mode===lr?4:5;return s=Qi(s,na[this.mode][n],l),s=Qi(s,i,5),new $n(s,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,l=this.bitCount;if(this.mode===Nr||this.mode===lr){let p=ta[s][xn];i=Qi(i,p&65535,p>>16),l+=p>>16,s=xn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new $n(i,s,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(n+1)),f}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=rc(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new $n(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(ta[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=$n.calculateBinaryShiftCost(n)-$n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let l=this.endBinaryShift(n.length).token;l!==null;l=l.getPrevious())i.unshift(l);let s=new D;for(const l of i)l.appendTo(s,n);return s}toString(){return Se.format("%s bits=%d bytes=%d",ic[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}$n.INITIAL_STATE=new $n(Ji,xn,0,0);function oc(S){const n=Se.getCharCode(" "),i=Se.getCharCode("."),s=Se.getCharCode(",");S[xn][n]=1;const l=Se.getCharCode("Z"),u=Se.getCharCode("A");for(let b=u;b<=l;b++)S[xn][b]=b-u+2;S[ei][n]=1;const f=Se.getCharCode("z"),p=Se.getCharCode("a");for(let b=p;b<=f;b++)S[ei][b]=b-p+2;S[lr][n]=1;const x=Se.getCharCode("9"),_=Se.getCharCode("0");for(let b=_;b<=x;b++)S[lr][b]=b-_+2;S[lr][s]=12,S[lr][i]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let b=0;b<C.length;b++)S[Rr][Se.getCharCode(C[b])]=b;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<T.length;b++)Se.getCharCode(T[b])>0&&(S[Nr][Se.getCharCode(T[b])]=b);return S}const Or=oc(M.createInt32Array(5,256));class mi{constructor(n){this.text=n}encode(){const n=Se.getCharCode(" "),i=Se.getCharCode(`
`);let s=ml.singletonList($n.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Se.getCharCode("\r"):f=p===i?2:0;break;case Se.getCharCode("."):f=p===n?3:0;break;case Se.getCharCode(","):f=p===n?4:0;break;case Se.getCharCode(":"):f=p===n?5:0;break;default:f=0}f>0?(s=mi.updateStateListForPair(s,u,f),u++):s=this.updateStateListForChar(s,u)}return ml.min(s,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let l of n)this.updateStateForChar(l,i,s);return mi.simplifyStates(s)}updateStateForChar(n,i,s){let l=this.text[i]&255,u=Or[n.getMode()][l]>0,f=null;for(let p=0;p<=Nr;p++){let x=Or[p][l];if(x>0){if(f==null&&(f=n.endBinaryShift(i)),!u||p===n.getMode()||p===lr){const _=f.latchAndAppend(p,x);s.push(_)}if(!u&&na[n.getMode()][p]>=0){const _=f.shiftAndAppend(p,x);s.push(_)}}}if(n.getBinaryShiftByteCount()>0||Or[n.getMode()][l]===0){let p=n.addBinaryShiftChar(i);s.push(p)}}static updateStateListForPair(n,i,s){const l=[];for(let u of n)this.updateStateForPair(u,i,s,l);return this.simplifyStates(l)}static updateStateForPair(n,i,s,l){let u=n.endBinaryShift(i);if(l.push(u.latchAndAppend(Nr,s)),n.getMode()!==Nr&&l.push(u.shiftAndAppend(Nr,s)),s===3||s===4){let f=u.latchAndAppend(lr,16-s).latchAndAppend(lr,1);l.push(f)}if(n.getBinaryShiftByteCount()>0){let f=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(f)}}static simplifyStates(n){let i=[];for(const s of n){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(s)){l=!1;break}s.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}l&&i.push(s)}return i}}class mt{constructor(){}static encodeBytes(n){return mt.encode(n,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let l=new mi(n).encode(),u=B.truncDivision(l.getSize()*i,100)+11,f=l.getSize()+u,p,x,_,C,T;if(s!==mt.DEFAULT_AZTEC_LAYERS){if(p=s<0,x=Math.abs(s),x>(p?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new N(Se.format("Illegal value %s for layers",s));_=mt.totalBitsInLayer(x,p),C=mt.WORD_SIZE[x];let de=_-_%C;if(T=mt.stuffBits(l,C),T.getSize()+u>de)throw new N("Data to large for user specified layer");if(p&&T.getSize()>C*64)throw new N("Data to large for user specified layer")}else{C=0,T=null;for(let de=0;;de++){if(de>mt.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(p=de<=3,x=p?de+1:de,_=mt.totalBitsInLayer(x,p),f>_)continue;(T==null||C!==mt.WORD_SIZE[x])&&(C=mt.WORD_SIZE[x],T=mt.stuffBits(l,C));let nt=_-_%C;if(!(p&&T.getSize()>C*64)&&T.getSize()+u<=nt)break}}let b=mt.generateCheckWords(T,_,C),P=T.getSize()/C,V=mt.generateModeMessage(p,x,P),Z=(p?11:14)+x*4,Y=new Int32Array(Z),J;if(p){J=Z;for(let de=0;de<Y.length;de++)Y[de]=de}else{J=Z+1+2*B.truncDivision(B.truncDivision(Z,2)-1,15);let de=B.truncDivision(Z,2),nt=B.truncDivision(J,2);for(let Ye=0;Ye<de;Ye++){let Gt=Ye+B.truncDivision(Ye,15);Y[de-Ye-1]=nt-Gt-1,Y[de+Ye]=nt+Gt+1}}let me=new ft(J);for(let de=0,nt=0;de<x;de++){let Ye=(x-de)*4+(p?9:12);for(let Gt=0;Gt<Ye;Gt++){let jn=Gt*2;for(let Wn=0;Wn<2;Wn++)b.get(nt+jn+Wn)&&me.set(Y[de*2+Wn],Y[de*2+Gt]),b.get(nt+Ye*2+jn+Wn)&&me.set(Y[de*2+Gt],Y[Z-1-de*2-Wn]),b.get(nt+Ye*4+jn+Wn)&&me.set(Y[Z-1-de*2-Wn],Y[Z-1-de*2-Gt]),b.get(nt+Ye*6+jn+Wn)&&me.set(Y[Z-1-de*2-Gt],Y[de*2+Wn])}nt+=Ye*8}if(mt.drawModeMessage(me,p,J,V),p)mt.drawBullsEye(me,B.truncDivision(J,2),5);else{mt.drawBullsEye(me,B.truncDivision(J,2),7);for(let de=0,nt=0;de<B.truncDivision(Z,2)-1;de+=15,nt+=16)for(let Ye=B.truncDivision(J,2)&1;Ye<J;Ye+=2)me.set(B.truncDivision(J,2)-nt,Ye),me.set(B.truncDivision(J,2)+nt,Ye),me.set(Ye,B.truncDivision(J,2)-nt),me.set(Ye,B.truncDivision(J,2)+nt)}let xe=new Js;return xe.setCompact(p),xe.setSize(J),xe.setLayers(x),xe.setCodeWords(P),xe.setMatrix(me),xe}static drawBullsEye(n,i,s){for(let l=0;l<s;l+=2)for(let u=i-l;u<=i+l;u++)n.set(u,i-l),n.set(u,i+l),n.set(i-l,u),n.set(i+l,u);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let l=new D;return n?(l.appendBits(i-1,2),l.appendBits(s-1,6),l=mt.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(s-1,11),l=mt.generateCheckWords(l,40,4)),l}static drawModeMessage(n,i,s,l){let u=B.truncDivision(s,2);if(i)for(let f=0;f<7;f++){let p=u-3+f;l.get(f)&&n.set(p,u-5),l.get(f+7)&&n.set(u+5,p),l.get(20-f)&&n.set(p,u+5),l.get(27-f)&&n.set(u-5,p)}else for(let f=0;f<10;f++){let p=u-5+f+B.truncDivision(f,5);l.get(f)&&n.set(p,u-7),l.get(f+10)&&n.set(u+7,p),l.get(29-f)&&n.set(p,u+7),l.get(39-f)&&n.set(u-7,p)}}static generateCheckWords(n,i,s){let l=n.getSize()/s,u=new Qs(mt.getGF(s)),f=B.truncDivision(i,s),p=mt.bitsToWords(n,s,f);u.encode(p,f-l);let x=i%s,_=new D;_.appendBits(0,x);for(const C of Array.from(p))_.appendBits(C,s);return _}static bitsToWords(n,i,s){let l=new Int32Array(s),u,f;for(u=0,f=n.getSize()/i;u<f;u++){let p=0;for(let x=0;x<i;x++)p|=n.get(u*i+x)?1<<i-x-1:0;l[u]=p}return l}static getGF(n){switch(n){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new N("Unsupported word size "+n)}}static stuffBits(n,i){let s=new D,l=n.getSize(),u=(1<<i)-2;for(let f=0;f<l;f+=i){let p=0;for(let x=0;x<i;x++)(f+x>=l||n.get(f+x))&&(p|=1<<i-1-x);(p&u)===u?(s.appendBits(p&u,i),f--):p&u?s.appendBits(p,i):(s.appendBits(p|1,i),f--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $i{encode(n,i,s,l){return this.encodeWithHints(n,i,s,l,null)}encodeWithHints(n,i,s,l,u){let f=rs.ISO_8859_1,p=mt.DEFAULT_EC_PERCENT,x=mt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(tn.CHARACTER_SET)&&(f=Jn.forName(u.get(tn.CHARACTER_SET).toString())),u.has(tn.ERROR_CORRECTION)&&(p=B.parseInt(u.get(tn.ERROR_CORRECTION).toString())),u.has(tn.AZTEC_LAYERS)&&(x=B.parseInt(u.get(tn.AZTEC_LAYERS).toString()))),$i.encodeLayers(n,i,s,l,f,p,x)}static encodeLayers(n,i,s,l,u,f,p){if(i!==ge.AZTEC)throw new N("Can only encode AZTEC, but got "+i);let x=mt.encode(Se.getBytes(n,u),f,p);return $i.renderResult(x,s,l)}static renderResult(n,i,s){let l=n.getMatrix();if(l==null)throw new Yn;let u=l.getWidth(),f=l.getHeight(),p=Math.max(i,u),x=Math.max(s,f),_=Math.min(p/u,x/f),C=(p-u*_)/2,T=(x-f*_)/2,b=new ft(p,x);for(let P=0,V=T;P<f;P++,V+=_)for(let Z=0,Y=C;Z<u;Z++,Y+=_)l.get(Z,P)&&b.setRegion(Y,V,_,_);return b}}r.AbstractExpandedDecoder=ci,r.ArgumentException=I,r.ArithmeticException=Ir,r.AztecCode=Js,r.AztecCodeReader=Xr,r.AztecCodeWriter=$i,r.AztecDecoder=ut,r.AztecDetector=Gi,r.AztecDetectorResult=or,r.AztecEncoder=mt,r.AztecHighLevelEncoder=mi,r.AztecPoint=an,r.BarcodeFormat=ge,r.Binarizer=j,r.BinaryBitmap=F,r.BitArray=D,r.BitMatrix=ft,r.BitSource=Xi,r.BrowserAztecCodeReader=Hs,r.BrowserBarcodeReader=Io,r.BrowserCodeReader=Tt,r.BrowserDatamatrixCodeReader=Gs,r.BrowserMultiFormatReader=pl,r.BrowserPDF417Reader=di,r.BrowserQRCodeReader=gl,r.BrowserQRCodeSvgWriter=pi,r.CharacterSetECI=re,r.ChecksumException=W,r.Code128Reader=ye,r.Code39Reader=Ht,r.DataMatrixDecodedBitStreamParser=qn,r.DataMatrixReader=bt,r.DecodeHintType=ie,r.DecoderResult=Wr,r.DefaultGridSampler=So,r.DetectorResult=Gr,r.EAN13Reader=Fe,r.EncodeHintType=tn,r.Exception=w,r.FormatException=X,r.GenericGF=lt,r.GenericGFPoly=Bt,r.GlobalHistogramBinarizer=$e,r.GridSampler=Zi,r.GridSamplerInstance=ar,r.HTMLCanvasElementLuminanceSource=pe,r.HybridBinarizer=De,r.ITFReader=It,r.IllegalArgumentException=N,r.IllegalStateException=Yn,r.InvertedLuminanceSource=ke,r.LuminanceSource=oe,r.MathUtils=it,r.MultiFormatOneDReader=fi,r.MultiFormatReader=dl,r.MultiFormatWriter=Ri,r.NotFoundException=Q,r.OneDReader=Ft,r.PDF417DecodedBitStreamParser=$,r.PDF417DecoderErrorCorrection=$o,r.PDF417Reader=Cn,r.PDF417ResultMetadata=qs,r.PerspectiveTransform=In,r.PlanarYUVLuminanceSource=br,r.QRCodeByteMatrix=Po,r.QRCodeDataMask=Rn,r.QRCodeDecodedBitStreamParser=Dt,r.QRCodeDecoderErrorCorrectionLevel=tt,r.QRCodeDecoderFormatInformation=bn,r.QRCodeEncoder=Lt,r.QRCodeEncoderQRCode=bi,r.QRCodeMaskUtil=Zt,r.QRCodeMatrixUtil=Ue,r.QRCodeMode=Me,r.QRCodeReader=vn,r.QRCodeVersion=ve,r.QRCodeWriter=$r,r.RGBLuminanceSource=Ni,r.RSS14Reader=qt,r.RSSExpandedReader=he,r.ReaderException=Qn,r.ReedSolomonDecoder=ui,r.ReedSolomonEncoder=Qs,r.ReedSolomonException=Vr,r.Result=Ge,r.ResultMetadataType=wt,r.ResultPoint=Ie,r.StringUtils=Se,r.UnsupportedOperationException=ze,r.VideoInputDevice=Be,r.WhiteRectangleDetector=sr,r.WriterException=kt,r.ZXingArrays=M,r.ZXingCharset=Jn,r.ZXingInteger=B,r.ZXingStandardCharsets=rs,r.ZXingStringBuilder=Je,r.ZXingStringEncoding=He,r.ZXingSystem=U,r.createAbstractExpandedDecoder=To,Object.defineProperty(r,"__esModule",{value:!0})})})(Vh,Vh.exports);var Yt=Vh.exports;const Bw=$h(Yt),Fw=f0({__proto__:null,default:Bw},[Yt]);var o0=function(){function e(t,r,a){if(this.formatMap=new Map([[Ne.QR_CODE,Yt.BarcodeFormat.QR_CODE],[Ne.AZTEC,Yt.BarcodeFormat.AZTEC],[Ne.CODABAR,Yt.BarcodeFormat.CODABAR],[Ne.CODE_39,Yt.BarcodeFormat.CODE_39],[Ne.CODE_93,Yt.BarcodeFormat.CODE_93],[Ne.CODE_128,Yt.BarcodeFormat.CODE_128],[Ne.DATA_MATRIX,Yt.BarcodeFormat.DATA_MATRIX],[Ne.MAXICODE,Yt.BarcodeFormat.MAXICODE],[Ne.ITF,Yt.BarcodeFormat.ITF],[Ne.EAN_13,Yt.BarcodeFormat.EAN_13],[Ne.EAN_8,Yt.BarcodeFormat.EAN_8],[Ne.PDF_417,Yt.BarcodeFormat.PDF_417],[Ne.RSS_14,Yt.BarcodeFormat.RSS_14],[Ne.RSS_EXPANDED,Yt.BarcodeFormat.RSS_EXPANDED],[Ne.UPC_A,Yt.BarcodeFormat.UPC_A],[Ne.UPC_E,Yt.BarcodeFormat.UPC_E],[Ne.UPC_EAN_EXTENSION,Yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Fw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=a;var h=this.createZXingFormats(t),d=new Map;d.set(Yt.DecodeHintType.POSSIBLE_FORMATS,h),d.set(Yt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(a,h){try{a(r.decode(t))}catch(d){h(d)}})},e.prototype.decode=function(t){var r=new Yt.MultiFormatReader(this.verbose,this.hints),a=new Yt.HTMLCanvasElementLuminanceSource(t),h=new Yt.BinaryBitmap(new Yt.HybridBinarizer(a)),d=r.decode(h);return{text:d.text,format:lm.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,h){t.set(r,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],a=0,h=t;a<h.length;a++){var d=h[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),zw=globalThis&&globalThis.__awaiter||function(e,t,r,a){function h(d){return d instanceof r?d:new r(function(m){m(d)})}return new(r||(r=Promise))(function(d,m){function v(I){try{w(a.next(I))}catch(N){m(N)}}function E(I){try{w(a.throw(I))}catch(N){m(N)}}function w(I){I.done?d(I.value):h(I.value).then(v,E)}w((a=a.apply(e,t||[])).next())})},Uw=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(I){return E([w,I])}}function E(w){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(r=0)),r;)try{if(a=1,h&&(d=w[0]&2?h.return:w[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,w[1])).done)return d;switch(h=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,h=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){r.label=w[1];break}if(w[0]===6&&r.label<d[1]){r.label=d[1],d=w;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(w);break}d[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(I){w=[6,I],h=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},s0=function(){function e(t,r,a){if(this.formatMap=new Map([[Ne.QR_CODE,"qr_code"],[Ne.AZTEC,"aztec"],[Ne.CODABAR,"codabar"],[Ne.CODE_39,"code_39"],[Ne.CODE_93,"code_93"],[Ne.CODE_128,"code_128"],[Ne.DATA_MATRIX,"data_matrix"],[Ne.ITF,"itf"],[Ne.EAN_13,"ean_13"],[Ne.EAN_8,"ean_8"],[Ne.PDF_417,"pdf417"],[Ne.UPC_A,"upc_a"],[Ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=a;var h=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return zw(this,void 0,void 0,function(){var r,a;return Uw(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=h.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(r),[2,{text:a.rawValue,format:lm.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,a=0,h=0,d=t;h<d.length;h++){var m=d[h],v=m.boundingBox.width*m.boundingBox.height;v>a&&(a=v,r=m)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],a=0,h=t;a<h.length;a++){var d=h[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,h){t.set(r,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),a0=globalThis&&globalThis.__awaiter||function(e,t,r,a){function h(d){return d instanceof r?d:new r(function(m){m(d)})}return new(r||(r=Promise))(function(d,m){function v(I){try{w(a.next(I))}catch(N){m(N)}}function E(I){try{w(a.throw(I))}catch(N){m(N)}}function w(I){I.done?d(I.value):h(I.value).then(v,E)}w((a=a.apply(e,t||[])).next())})},l0=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(I){return E([w,I])}}function E(w){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(r=0)),r;)try{if(a=1,h&&(d=w[0]&2?h.return:w[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,w[1])).done)return d;switch(h=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,h=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){r.label=w[1];break}if(w[0]===6&&r.label<d[1]){r.label=d[1],d=w;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(w);break}d[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(I){w=[6,I],h=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},jw=function(){function e(t,r,a,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,r&&s0.isSupported()?(this.primaryDecoder=new s0(t,a,h),this.secondaryDecoder=new o0(t,a,h)):this.primaryDecoder=new o0(t,a,h)}return e.prototype.decodeAsync=function(t){return a0(this,void 0,void 0,function(){var r;return l0(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return a0(this,void 0,void 0,function(){var r,a;return l0(this,function(h){switch(h.label){case 0:r=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,h.sent()];case 3:if(a=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,a=this.executionResults;r<a.length;r++){var h=a[r];t+=h}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$f=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Iu=globalThis&&globalThis.__awaiter||function(e,t,r,a){function h(d){return d instanceof r?d:new r(function(m){m(d)})}return new(r||(r=Promise))(function(d,m){function v(I){try{w(a.next(I))}catch(N){m(N)}}function E(I){try{w(a.throw(I))}catch(N){m(N)}}function w(I){I.done?d(I.value):h(I.value).then(v,E)}w((a=a.apply(e,t||[])).next())})},bu=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(I){return E([w,I])}}function E(w){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(r=0)),r;)try{if(a=1,h&&(d=w[0]&2?h.return:w[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,w[1])).done)return d;switch(h=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,h=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){r.label=w[1];break}if(w[0]===6&&r.label<d[1]){r.label=d[1],d=w;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(w);break}d[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(I){w=[6,I],h=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},cm=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Ww=function(e){$f(t,e);function t(r,a){return e.call(this,r,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var a={};a[this.name]=r;var h={advanced:[a]};return this.track.applyConstraints(h)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),a=r[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(cm),Hw=function(e){$f(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Ww),Vw=function(e){$f(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(cm),Zw=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Hw(this.track)},e.prototype.torchFeature=function(){return new Vw(this.track)},e}(),Gw=function(){function e(t,r,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var a=t.surface.clientWidth,h=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,h),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,a,h){return Iu(this,void 0,void 0,function(){var d,m;return bu(this,function(v){switch(v.label){case 0:return d=new e(t,r,h),a.aspectRatio?(m={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:v.sent(),v.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,a=function(){setTimeout(t,200),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Iu(this,void 0,void 0,function(){return bu(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,a){var h=t.mediaStream.getVideoTracks(),d=h.length,m=0;t.mediaStream.getVideoTracks().forEach(function(v){t.mediaStream.removeTrack(v),v.stop(),++m,m>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Zw(this.getFirstTrackOrFail())},e}(),Xw=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,a){return Iu(this,void 0,void 0,function(){return bu(this,function(h){return[2,Gw.create(t,this.mediaStream,r,a)]})})},e.create=function(t){return Iu(this,void 0,void 0,function(){var r,a;return bu(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return a=h.sent(),[2,new e(a)]}})})},e}(),u0=globalThis&&globalThis.__awaiter||function(e,t,r,a){function h(d){return d instanceof r?d:new r(function(m){m(d)})}return new(r||(r=Promise))(function(d,m){function v(I){try{w(a.next(I))}catch(N){m(N)}}function E(I){try{w(a.throw(I))}catch(N){m(N)}}function w(I){I.done?d(I.value):h(I.value).then(v,E)}w((a=a.apply(e,t||[])).next())})},c0=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(I){return E([w,I])}}function E(w){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(r=0)),r;)try{if(a=1,h&&(d=w[0]&2?h.return:w[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,w[1])).done)return d;switch(h=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,h=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){r.label=w[1];break}if(w[0]===6&&r.label<d[1]){r.label=d[1],d=w;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(w);break}d[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(I){w=[6,I],h=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Yw=function(){function e(){}return e.failIfNotSupported=function(){return u0(this,void 0,void 0,function(){return c0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return u0(this,void 0,void 0,function(){return c0(this,function(r){return[2,Xw.create(t)]})})},e}(),Kw=globalThis&&globalThis.__awaiter||function(e,t,r,a){function h(d){return d instanceof r?d:new r(function(m){m(d)})}return new(r||(r=Promise))(function(d,m){function v(I){try{w(a.next(I))}catch(N){m(N)}}function E(I){try{w(a.throw(I))}catch(N){m(N)}}function w(I){I.done?d(I.value):h(I.value).then(v,E)}w((a=a.apply(e,t||[])).next())})},qw=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(I){return E([w,I])}}function E(w){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(r=0)),r;)try{if(a=1,h&&(d=w[0]&2?h.return:w[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,w[1])).done)return d;switch(h=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,h=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){r.label=w[1];break}if(w[0]===6&&r.label<d[1]){r.label=d[1],d=w;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(w);break}d[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(I){w=[6,I],h=0}finally{a=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Qw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Es.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Es.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Kw(this,void 0,void 0,function(){var t,r,a,h,d,m,v;return qw(this,function(E){switch(E.label){case 0:return t=function(w){for(var I=w.getVideoTracks(),N=0,F=I;N<F.length;N++){var W=F[N];W.enabled=!1,W.stop(),w.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=E.sent(),h=[],d=0,m=a;d<m.length;d++)v=m[d],v.kind==="videoinput"&&h.push({id:v.deviceId,label:v.label});return t(r),[2,h]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var a=function(d){for(var m=[],v=0,E=d;v<E.length;v++){var w=E[v];w.kind==="video"&&m.push({id:w.id,label:w.label})}t(m)},h=MediaStreamTrack;h.getSources(a)})},e}(),un;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(un||(un={}));var Jw=function(){function e(){this.state=un.NOT_STARTED,this.onGoingTransactionNewState=un.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=un.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=un.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==un.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case un.UNKNOWN:throw"Transition from unknown is not allowed";case un.NOT_STARTED:this.failIfNewStateIs(t,[un.PAUSED]);break;case un.SCANNING:break;case un.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var a=0,h=r;a<h.length;a++){var d=h[a];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),$w=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===un.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==un.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===un.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===un.PAUSED},e}(),ev=function(){function e(){}return e.create=function(){return new $w(new Jw)},e}(),tv=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),wr=function(e){tv(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Lw),nv=function(){function e(t,r){this.logger=r,this.fps=wr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=wr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?um.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ki(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),hm=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof r=="boolean"?this.verbose=r===!0:r&&(a=r,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Dw(this.verbose),this.qrcode=new jw(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ev.create()}return e.prototype.start=function(t,r,a,h){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;h?m=h:m=this.verbose?this.logger.log:function(){};var v=nv.create(r,this.logger);this.clearElement();var E=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=E,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:wr.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var N=this,F=this.stateManagerProxy.startTransition(un.SCANNING);return new Promise(function(W,j){var U=w?v.videoConstraints:N.createVideoConstraints(t);if(!U){F.cancel(),j("videoConstraints should be defined");return}var se={};(!w||v.aspectRatio)&&(se.aspectRatio=v.aspectRatio);var z={onRenderSurfaceReady:function(M,B){N.setupUi(M,B,v),N.isScanning=!0,N.foreverScan(v,a,m)}};Yw.failIfNotSupported().then(function(M){M.create(U).then(function(B){return B.render(d.element,se,z).then(function(D){N.renderedCamera=D,F.execute(),W(null)}).catch(function(D){F.cancel(),j(D)})}).catch(function(B){F.cancel(),j(Es.errorGettingUserMedia(B))})}).catch(function(M){F.cancel(),j(Es.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(un.PAUSED),this.showPausedState(),(ki(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(un.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(un.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var d=document.getElementById(wr.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),a(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),r.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,r){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ki(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var m=new Image;m.onload=function(){var v=m.width,E=m.height,w=document.getElementById(a.elementId),I=w.clientWidth?w.clientWidth:wr.DEFAULT_WIDTH,N=Math.max(w.clientHeight?w.clientHeight:E,wr.FILE_SCAN_MIN_HEIGHT),F=a.computeCanvasDrawConfig(v,E,I,N);if(r){var W=a.createCanvasElement(I,N,"qr-canvas-visible");W.style.display="inline-block",w.appendChild(W);var j=W.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=I,j.canvas.height=N,j.drawImage(m,0,0,v,E,F.x,F.y,F.width,F.height)}var U=wr.FILE_SCAN_HIDDEN_CANVAS_PADDING,se=Math.max(m.width,F.width),z=Math.max(m.height,F.height),M=se+2*U,B=z+2*U,D=a.createCanvasElement(M,B);w.appendChild(D);var ue=D.getContext("2d");if(!ue)throw"Unable to get 2d context from canvas";ue.canvas.width=M,ue.canvas.height=B,ue.drawImage(m,0,0,v,E,U,U,se,z);try{a.qrcode.decodeRobustlyAsync(D).then(function(ie){h(i0.createFromQrcodeResult(ie))}).catch(d)}catch(ie){d("QR code parse error, error = ".concat(ie))}},m.onerror=d,m.onabort=d,m.onstalled=d,m.onsuspend=d,m.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Qw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!um.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ne.QR_CODE,Ne.AZTEC,Ne.CODABAR,Ne.CODE_39,Ne.CODE_93,Ne.CODE_128,Ne.DATA_MATRIX,Ne.MAXICODE,Ne.ITF,Ne.EAN_13,Ne.EAN_8,Ne.PDF_417,Ne.RSS_14,Ne.RSS_EXPANDED,Ne.UPC_A,Ne.UPC_E,Ne.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],h=0,d=t.formatsToSupport;h<d.length;h++){var m=d[h];Pw(m)?a.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ki(t))return!0;if(!ki(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ki(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ki(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,a){var h=this,d=a.qrbox;this.validateQrboxConfig(d);var m=this.toQrdimensions(t,r,d),v=function(w){if(w<wr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wr.MIN_QR_BOX_SIZE,"px.")},E=function(w){return w>t&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=t),w};v(m.width),v(m.height),m.width=E(m.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,r)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return a},e.prototype.setupUi=function(t,r,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,a);var h=ki(a.qrbox)?{width:t,height:r}:a.qrbox;this.validateQrboxConfig(h);var d=this.toQrdimensions(t,r,h);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=a.isShadedBoxEnabled()&&d.height<=r,v={x:0,y:0,width:t,height:r},E=m?this.getShadedRegionBounds(t,r,d):v,w=this.createCanvasElement(E.width,E.height),I={willReadFrequently:!0},N=w.getContext("2d",I);N.canvas.width=E.width,N.canvas.height=E.height,this.element.append(w),m&&this.possiblyInsertShadingElement(this.element,t,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=N,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Es.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return t(h.text,i0.createFromQrcodeResult(h)),a.possiblyUpdateShaders(!0),!0}).catch(function(h){a.possiblyUpdateShaders(!1);var d=Es.codeParseError(h);return r(d,Mw.createFrom(d)),!1})},e.prototype.foreverScan=function(t,r,a){var h=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),m=d.videoWidth/d.clientWidth,v=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*m,w=this.qrRegion.height*v,I=this.qrRegion.x*m,N=this.qrRegion.y*v;this.context.drawImage(d,I,N,E,w,0,0,this.qrRegion.width,this.qrRegion.height);var F=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(t,r,a)},h.getTimeoutFps(t.fps))};this.scanContext(r,a).then(function(W){!W&&t.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(r,a).finally(function(){F()})):F()}).catch(function(W){h.logger.logError("Error happend while scanning context",W),F()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",a="deviceId",h={user:!0,environment:!0},d="exact",m=function(j){if(j in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},v=Object.keys(t);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var E=Object.keys(t)[0];if(E!==r&&E!==a)throw"Only '".concat(r,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(E===r){var w=t.facingMode;if(typeof w=="string"){if(m(w))return{facingMode:w}}else if(typeof w=="object")if(d in w){if(m(w["".concat(d)]))return{facingMode:{exact:w["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var I=typeof w;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var N=t.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(d in N)return{deviceId:{exact:N["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var F=typeof N;throw"Invalid type of 'deviceId' = ".concat(F)}}}var W=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},e.prototype.computeCanvasDrawConfig=function(t,r,a,h){if(t<=a&&r<=h){var d=(a-t)/2,m=(h-r)/2;return{x:d,y:m,width:t,height:r}}else{var v=t,E=r;return t>a&&(r=a/t*r,t=a),r>h&&(t=h/r*t,r=h),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(E)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,a,h)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?wr.BORDER_SHADER_MATCH_COLOR:wr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,a){var h=t,d=r,m=document.createElement("canvas");return m.style.width="".concat(h,"px"),m.style.height="".concat(d,"px"),m.style.display="none",m.id=ki(a)?"qr-canvas":a,m},e.prototype.getShadedRegionBounds=function(t,r,a){if(a.width>t||a.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(r-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,r,a,h){if(!(r-h.width<1||a-h.height<1)){var d=document.createElement("div");d.style.position="absolute";var m=(r-h.width)/2,v=(a-h.height)/2;if(d.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(wr.SHADED_REGION_ELEMENT_ID),r-h.width<11||a-h.height<11)this.hasBorderShaders=!1;else{var E=5,w=40;this.insertShaderBorders(d,w,E,-E,null,0,!0),this.insertShaderBorders(d,w,E,-E,null,0,!1),this.insertShaderBorders(d,w,E,null,-E,0,!0),this.insertShaderBorders(d,w,E,null,-E,0,!1),this.insertShaderBorders(d,E,w+E,-E,null,-E,!0),this.insertShaderBorders(d,E,w+E,null,-E,-E,!0),this.insertShaderBorders(d,E,w+E,-E,null,-E,!1),this.insertShaderBorders(d,E,w+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,r,a,h,d,m,v){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=wr.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(r,"px"),E.style.height="".concat(a,"px"),h!==null&&(E.style.top="".concat(h,"px")),d!==null&&(E.style.bottom="".concat(d,"px")),v?E.style.left="".concat(m,"px"):E.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var h0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(h0||(h0={}));const fm=ne.createContext({token:null,setToken:()=>{},validateToken:()=>{}}),rv=async e=>{try{const t=await fetch("/api/validate-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return t.ok?!0:(console.error("Token validation failed:",t.statusText),!1)}catch(t){return console.error("Error during token validation:",t.message),!1}},iv=({children:e})=>{const[t,r]=ne.useState(localStorage.getItem("ACCESS_TOKEN")),a=h=>{r(h),h?localStorage.setItem("ACCESS_TOKEN",h):localStorage.removeItem("ACCESS_TOKEN")};return O.jsx(fm.Provider,{value:{token:t,setToken:a,validateToken:rv},children:e})},Ws=()=>ne.useContext(fm);function dm(){const[e,t]=ne.useState(!1),[r,a]=ne.useState(!1),{token:h,setToken:d}=Ws(),m=Ai();let v;const E=document.getElementById("root").getAttribute("data-csrf"),w=(F,W)=>{N(F)};ne.useEffect(()=>{if(!(v!=null&&v.getState())){const F={fps:5,qrbox:{width:200,height:200}};v=new hm("reader"),v.start({facingMode:"environment"},F,w).catch(W=>{t(!0),console.warn(`Code scan error = ${W}`)})}});function I(){m("/AdminLandingPage")}function N(F,W){fetch("/api/qr-login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":E},body:JSON.stringify({qr_code:F})}).then(j=>{if(!j.ok)throw new Error(`HTTP error! Status: ${j.status}`);return j.json()}).then(j=>{j.status.toLowerCase()==="success"?(j.token?d(j.token):console.error("Authentication failed"),v.stop(),a(!0)):console.error("Ungltiger QR-Code")}).catch(j=>console.error("Fetch error:",j))}return O.jsxs("div",{children:[O.jsx("h2",{children:"Willkommen im PLS-System"}),O.jsx("h5",{children:"Bitte den QR-Code fr die Anmeldung scannen"}),O.jsx("div",{id:"reader"}),e?O.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera ber die Einstellungen."}):"",r&&O.jsx(Au,{to:"/RoleSelection"}),O.jsx("br",{}),O.jsx("button",{onClick:I,children:"Anmelden als Admin"})]})}function ov(){return O.jsx("div",{children:"404 - Page Not Foundd"})}function sv(){const{token:e,setToken:t}=Ws();return e?O.jsx(Au,{to:"/RoleSelection"}):O.jsx(Au,{to:"/qrAuthenticator"})}function av(){const[e,t]=ne.useState(""),[r,a]=ne.useState("");ne.useState(""),ne.useState(""),Ws();const h=Ai(),d=E=>{t(E.target.value)},m=E=>{a(E.target.value)},v=E=>{switch(E.preventDefault(),r.toUpperCase()){case"TRIAGE":h("/ScanPatient");break;case"LEITSTELLE":h("/SituationRoomTable");break;default:h("/NotFound");break}};return O.jsxs("div",{children:[O.jsx("h3",{children:"Willkommen bei der Rolenauswahl"}),O.jsx("h4",{children:"Sie sind im Einsatz fr"}),O.jsxs("select",{value:e,onChange:d,style:{textAlign:"center"},children:[O.jsx("option",{value:"",children:"Einsatz auswhlen"}),O.jsx("option",{value:"test",children:"test"}),O.jsx("option",{value:"option2",children:"Option 2"}),O.jsx("option",{value:"option3",children:"Option 3"})]}),O.jsx("p",{children:"in Funktion als"}),O.jsxs("select",{value:r,onChange:m,style:{textAlign:"center"},children:[O.jsx("option",{value:"",children:"Rolle auswhlen"}),O.jsx("option",{value:"Einsatzleiter",children:"Einsatzleiter"}),O.jsx("option",{value:"Triage",children:"Triage"}),O.jsx("option",{value:"San-Hist",children:"San-Hist"}),O.jsx("option",{value:"Transport",children:"Transport"}),O.jsx("option",{value:"Betreuung",children:"Betreuung"}),O.jsx("option",{value:"Leitstelle",children:"Leitstelle"})]}),O.jsx("form",{onSubmit:v,style:{position:"absolute",bottom:"50px",left:"0",width:"100%",textAlign:"center",padding:"0"},children:O.jsx("button",{type:"submit",children:"Besttigen"})})]})}function lv(){const[e,t]=ne.useState(!1),[r,a]=ne.useState(!1);Ws();let h;return ne.useEffect(()=>{function d(v,E){v.toUpperCase()==="HALLO MARKO"&&(h.stop(),a(!0)),console.log(`Code matched = ${v}`,E)}const m=(v,E)=>{d(v,E)};if(!(h!=null&&h.getState())){const v={fps:5,qrbox:{width:200,height:200}};h=new hm("reader"),h.start({facingMode:"environment"},v,m).catch(E=>{t(!0),console.warn(`Code scan error = ${E}`)})}}),O.jsxs("div",{children:[O.jsx("h2",{children:"Bitte einen Patienten QR-Code scannen"}),O.jsx("div",{id:"reader"}),e?O.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"Der Zugriff auf die Kamera wurde verweigert. Bitte erlauben Sie den Zugriff auf die Kamera ber die Einstellungen."}):"",r&&O.jsx(Au,{to:"/TriagePage1"})]})}function uv(){const e=Ai(),[t,r]=ne.useState(!1),[a,h]=ne.useState(!1),[d,m]=ne.useState(null),[v,E]=ne.useState({loaded:!1,coordinates:{lat:"",lng:""},error:null});ne.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(se=>{E({loaded:!0,coordinates:{lat:se.coords.latitude,lng:se.coords.longitude},error:null})},se=>{E(z=>({...z,loaded:!0,error:se}))}):E(se=>({...se,loaded:!0,error:{message:"Geolocation is not supported by your browser"}}))},[]);const w=async se=>{try{if(!v.loaded||v.error){console.error("Koordinaten sind nicht verfgbar.");return}const{lat:z,lng:M}=v.coordinates;console.log("Patienten ID: ",d);const B=await P0.post("/api/persons/15/update-triage-color",{triageColor:se,lat:z,lng:M});console.log(B.data.message)}catch(z){console.error("Fehler beim Aktualisieren der Triagefarbe:",z)}},I=()=>{r(!0),w("grn")},N=()=>{h(!0),w("schwarz")},F=()=>{e("/TriagePage2")},W=()=>{e("/ScanPatient")},j=()=>{e("/ShowBodyFront")};function U(){if(!a&&!t)return O.jsxs("div",{children:[O.jsx("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[O.jsx("button",{onClick:I,children:"Patient gehfhig (ohne weitere Verletzungen)"}),O.jsx("button",{onClick:F,children:"Patient nicht gehfhig (und/oder weitere Verletzungen)"})]}),O.jsx("button",{onClick:N,style:{width:"90%",height:"5rem"},children:"eindeutiges Todeszeichen"})]}),O.jsx("div",{style:{justifyContent:"space-between",gap:"10px",marginTop:"50px"}})]});if(t)return O.jsxs("div",{children:[O.jsx("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),O.jsx("p",{style:{border:"2px solid green",padding:"2%",display:"inline-block",color:"green"},children:"Patient wurde mit der Kategorie GRN versehen"}),O.jsx("button",{onClick:W,children:"Nchsten Patienten laden"})]});if(a)return O.jsxs("div",{children:[O.jsx("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:"Patient:In"}),O.jsx("p",{style:{border:"2px solid #000",margin:"5%",padding:"2%",display:"inline-block"},children:"Patient wurde mit der Kategorie SCHWARZ versehen"}),O.jsx("button",{onClick:W,children:"Nchsten Patienten laden"})]})}return O.jsxs("div",{children:[U(),O.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:j,children:""}),O.jsx("h4",{children:"GPS Koordinaten:"}),O.jsxs("p",{children:["Laden: ",v.loaded?"Erfolgreich":"Ldt..."]}),v.loaded&&!v.error&&O.jsxs("div",{children:[O.jsxs("p",{children:["Breitengrad: ",v.coordinates.lat]}),O.jsxs("p",{children:["Lngengrad: ",v.coordinates.lng]})]}),v.error&&O.jsx("div",{children:O.jsxs("p",{children:["Fehler: ",v.error.message]})})]})}function cv(){const e=Ai(),[t,r]=ne.useState(!1),a=()=>{r(!0)},h=()=>{e("/TriagePage3")},d=()=>{e("/ScanPatient")};function m(){if(t){if(t)return O.jsxs("div",{children:[O.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",O.jsx("br",{})," nicht gehfhig"]}),O.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),O.jsx("button",{onClick:d,children:"Nchsten Patienten laden"})]})}else return O.jsxs("div",{children:[O.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",O.jsx("br",{})," nicht gehfhig"]}),O.jsx("div",{children:O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[O.jsx("button",{onClick:h,children:"Atmung suffizient"}),O.jsx("button",{onClick:a,children:"Atmung nicht suffizient"})]})})]})}const v=()=>{e("/ShowBody")};return O.jsxs("div",{children:[m(),O.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:v,children:""})]})}function hv(){const e=Ai(),[t,r]=ne.useState(!1),[a,h]=ne.useState(!1),d=()=>{r(!0)},m=()=>{h(!0)},v=()=>{e("/ScanPatient")};function E(){if(!t&&!a)return O.jsxs("div",{children:[O.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",O.jsx("br",{})," nicht gehfhig ",O.jsx("br",{})," Atmung suffizient"]}),O.jsx("div",{children:O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"4%",padding:"5%",marginBottom:"15%"},children:[O.jsx("button",{onClick:m,children:"Blutung Stillbar"}),O.jsx("button",{onClick:d,children:"Blutung nicht stillbar"})]})})]});if(t)return O.jsxs("div",{children:[O.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",O.jsx("br",{})," nicht gehfhig ",O.jsx("br",{})," Atmung"]}),O.jsx("p",{style:{border:"2px solid red",margin:"5%",padding:"2%",display:"inline-block",color:"red"},children:"Patient wurde mit der Kategorie ROT versehen"}),O.jsx("button",{onClick:v,children:"Nchsten Patienten laden"})]});if(a)return O.jsxs("div",{children:[O.jsxs("p",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",padding:"0"},children:["Patient:In ",O.jsx("br",{})," nicht gehfhig ",O.jsx("br",{})," Atmung"]}),O.jsx("p",{style:{border:"2px solid yellow",margin:"5%",padding:"2%",display:"inline-block",color:"yellow"},children:"Patient wurde mit der Kategorie Gelb versehen"}),O.jsx("button",{onClick:v,children:"Nchsten Patienten laden"})]})}const w=()=>{e("/ShowBody")};return O.jsxs("div",{children:[E(),O.jsx("button",{style:{position:"absolute",bottom:"5%",right:"5%",textAlign:"center",padding:"0",fontSize:"2rem"},onClick:w,children:""})]})}var Zh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,a){a(t)})(ss,function(r){var a="1.9.4";function h(o){var c,g,y,A;for(g=1,y=arguments.length;g<y;g++){A=arguments[g];for(c in A)o[c]=A[c]}return o}var d=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function m(o,c){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var y=g.call(arguments,2);return function(){return o.apply(c,y.length?y.concat(g.call(arguments)):arguments)}}var v=0;function E(o){return"_leaflet_id"in o||(o._leaflet_id=++v),o._leaflet_id}function w(o,c,g){var y,A,R,H;return H=function(){y=!1,A&&(R.apply(g,A),A=!1)},R=function(){y?A=arguments:(o.apply(g,arguments),setTimeout(H,c),y=!0)},R}function I(o,c,g){var y=c[1],A=c[0],R=y-A;return o===y&&g?o:((o-A)%R+R)%R+A}function N(){return!1}function F(o,c){if(c===!1)return o;var g=Math.pow(10,c===void 0?6:c);return Math.round(o*g)/g}function W(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function j(o){return W(o).split(/\s+/)}function U(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?d(o.options):{});for(var g in c)o.options[g]=c[g];return o.options}function se(o,c,g){var y=[];for(var A in o)y.push(encodeURIComponent(g?A.toUpperCase():A)+"="+encodeURIComponent(o[A]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function M(o,c){return o.replace(z,function(g,y){var A=c[y];if(A===void 0)throw new Error("No value provided for variable "+g);return typeof A=="function"&&(A=A(c)),A})}var B=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function D(o,c){for(var g=0;g<o.length;g++)if(o[g]===c)return g;return-1}var ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ie(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var X=0;function le(o){var c=+new Date,g=Math.max(0,16-(c-X));return X=c+g,window.setTimeout(o,g)}var re=window.requestAnimationFrame||ie("RequestAnimationFrame")||le,ze=window.cancelAnimationFrame||ie("CancelAnimationFrame")||ie("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function He(o,c,g){if(g&&re===le)o.call(c);else return re.call(window,m(o,c))}function Se(o){o&&ze.call(window,o)}var Je={__proto__:null,extend:h,create:d,bind:m,get lastId(){return v},stamp:E,throttle:w,wrapNum:I,falseFn:N,formatNum:F,trim:W,splitWords:j,setOptions:U,getParamString:se,template:M,isArray:B,indexOf:D,emptyImageUrl:ue,requestFn:re,cancelFn:ze,requestAnimFrame:He,cancelAnimFrame:Se};function ft(){}ft.extend=function(o){var c=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=c.__super__=this.prototype,y=d(g);y.constructor=c,c.prototype=y;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(c[A]=this[A]);return o.statics&&h(c,o.statics),o.includes&&(Q(o.includes),h.apply(null,[y].concat(o.includes))),h(y,o),delete y.statics,delete y.includes,y.options&&(y.options=g.options?d(g.options):{},h(y.options,o.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,H=y._initHooks.length;R<H;R++)y._initHooks[R].call(this)}},c},ft.include=function(o){var c=this.prototype.options;return h(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},ft.mergeOptions=function(o){return h(this.prototype.options,o),this},ft.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Q(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=B(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $e={on:function(o,c,g){if(typeof o=="object")for(var y in o)this._on(y,o[y],c);else{o=j(o);for(var A=0,R=o.length;A<R;A++)this._on(o[A],c,g)}return this},off:function(o,c,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var y in o)this._off(y,o[y],c);else{o=j(o);for(var A=arguments.length===1,R=0,H=o.length;R<H;R++)A?this._off(o[R]):this._off(o[R],c,g)}return this},_on:function(o,c,g,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,g)===!1){g===this&&(g=void 0);var A={fn:c,ctx:g};y&&(A.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(A)}},_off:function(o,c,g){var y,A,R;if(this._events&&(y=this._events[o],!!y)){if(arguments.length===1){if(this._firingCount)for(A=0,R=y.length;A<R;A++)y[A].fn=N;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var H=this._listens(o,c,g);if(H!==!1){var q=y[H];this._firingCount&&(q.fn=N,this._events[o]=y=y.slice()),y.splice(H,1)}}},fire:function(o,c,g){if(!this.listens(o,g))return this;var y=h({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var A=this._events[o];if(A){this._firingCount=this._firingCount+1||1;for(var R=0,H=A.length;R<H;R++){var q=A[R],ee=q.fn;q.once&&this.off(o,ee,q.ctx),ee.call(q.ctx||this,y)}this._firingCount--}}return g&&this._propagateEvent(y),this},listens:function(o,c,g,y){typeof o!="string"&&console.warn('"string" type argument expected');var A=c;typeof c!="function"&&(y=!!c,A=void 0,g=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,A,g)!==!1)return!0;if(y){for(var H in this._eventParents)if(this._eventParents[H].listens(o,c,g,y))return!0}return!1},_listens:function(o,c,g){if(!this._events)return!1;var y=this._events[o]||[];if(!c)return!!y.length;g===this&&(g=void 0);for(var A=0,R=y.length;A<R;A++)if(y[A].fn===c&&y[A].ctx===g)return A;return!1},once:function(o,c,g){if(typeof o=="object")for(var y in o)this._on(y,o[y],c,!0);else{o=j(o);for(var A=0,R=o.length;A<R;A++)this._on(o[A],c,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[E(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[E(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,h({layer:o.target,propagatedFrom:o.target},o),!0)}};$e.addEventListener=$e.on,$e.removeEventListener=$e.clearAllEventListeners=$e.off,$e.addOneTimeEventListener=$e.once,$e.fireEvent=$e.fire,$e.hasEventListeners=$e.listens;var De=ft.extend($e);function oe(o,c,g){this.x=g?Math.round(o):o,this.y=g?Math.round(c):c}var ke=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(o){return this.clone()._add(pe(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(pe(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new oe(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new oe(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ke(this.x),this.y=ke(this.y),this},distanceTo:function(o){o=pe(o);var c=o.x-this.x,g=o.y-this.y;return Math.sqrt(c*c+g*g)},equals:function(o){return o=pe(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=pe(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+F(this.x)+", "+F(this.y)+")"}};function pe(o,c,g){return o instanceof oe?o:B(o)?new oe(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new oe(o.x,o.y):new oe(o,c,g)}function Be(o,c){if(o)for(var g=c?[o,c]:o,y=0,A=g.length;y<A;y++)this.extend(g[y])}Be.prototype={extend:function(o){var c,g;if(!o)return this;if(o instanceof oe||typeof o[0]=="number"||"x"in o)c=g=pe(o);else if(o=Le(o),c=o.min,g=o.max,!c||!g)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=g.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return pe(this.min.x,this.max.y)},getTopRight:function(){return pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,g;return typeof o[0]=="number"||o instanceof oe?o=pe(o):o=Le(o),o instanceof Be?(c=o.min,g=o.max):c=g=o,c.x>=this.min.x&&g.x<=this.max.x&&c.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=Le(o);var c=this.min,g=this.max,y=o.min,A=o.max,R=A.x>=c.x&&y.x<=g.x,H=A.y>=c.y&&y.y<=g.y;return R&&H},overlaps:function(o){o=Le(o);var c=this.min,g=this.max,y=o.min,A=o.max,R=A.x>c.x&&y.x<g.x,H=A.y>c.y&&y.y<g.y;return R&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,g=this.max,y=Math.abs(c.x-g.x)*o,A=Math.abs(c.y-g.y)*o;return Le(pe(c.x-y,c.y-A),pe(g.x+y,g.y+A))},equals:function(o){return o?(o=Le(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Le(o,c){return!o||o instanceof Be?o:new Be(o,c)}function Tt(o,c){if(o)for(var g=c?[o,c]:o,y=0,A=g.length;y<A;y++)this.extend(g[y])}Tt.prototype={extend:function(o){var c=this._southWest,g=this._northEast,y,A;if(o instanceof rt)y=o,A=o;else if(o instanceof Tt){if(y=o._southWest,A=o._northEast,!y||!A)return this}else return o?this.extend(ge(o)||Ge(o)):this;return!c&&!g?(this._southWest=new rt(y.lat,y.lng),this._northEast=new rt(A.lat,A.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),g.lat=Math.max(A.lat,g.lat),g.lng=Math.max(A.lng,g.lng)),this},pad:function(o){var c=this._southWest,g=this._northEast,y=Math.abs(c.lat-g.lat)*o,A=Math.abs(c.lng-g.lng)*o;return new Tt(new rt(c.lat-y,c.lng-A),new rt(g.lat+y,g.lng+A))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof rt||"lat"in o?o=ge(o):o=Ge(o);var c=this._southWest,g=this._northEast,y,A;return o instanceof Tt?(y=o.getSouthWest(),A=o.getNorthEast()):y=A=o,y.lat>=c.lat&&A.lat<=g.lat&&y.lng>=c.lng&&A.lng<=g.lng},intersects:function(o){o=Ge(o);var c=this._southWest,g=this._northEast,y=o.getSouthWest(),A=o.getNorthEast(),R=A.lat>=c.lat&&y.lat<=g.lat,H=A.lng>=c.lng&&y.lng<=g.lng;return R&&H},overlaps:function(o){o=Ge(o);var c=this._southWest,g=this._northEast,y=o.getSouthWest(),A=o.getNorthEast(),R=A.lat>c.lat&&y.lat<g.lat,H=A.lng>c.lng&&y.lng<g.lng;return R&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=Ge(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ge(o,c){return o instanceof Tt?o:new Tt(o,c)}function rt(o,c,g){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,g!==void 0&&(this.alt=+g)}rt.prototype={equals:function(o,c){if(!o)return!1;o=ge(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+F(this.lat,o)+", "+F(this.lng,o)+")"},distanceTo:function(o){return wt.distance(this,ge(o))},wrap:function(){return wt.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,g=c/Math.cos(Math.PI/180*this.lat);return Ge([this.lat-c,this.lng-g],[this.lat+c,this.lng+g])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function ge(o,c,g){return o instanceof rt?o:B(o)&&typeof o[0]!="object"?o.length===3?new rt(o[0],o[1],o[2]):o.length===2?new rt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new rt(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new rt(o,c,g)}var at={latLngToPoint:function(o,c){var g=this.projection.project(o),y=this.scale(c);return this.transformation._transform(g,y)},pointToLatLng:function(o,c){var g=this.scale(c),y=this.transformation.untransform(o,g);return this.projection.unproject(y)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,g=this.scale(o),y=this.transformation.transform(c.min,g),A=this.transformation.transform(c.max,g);return new Be(y,A)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?I(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?I(o.lat,this.wrapLat,!0):o.lat,y=o.alt;return new rt(g,c,y)},wrapLatLngBounds:function(o){var c=o.getCenter(),g=this.wrapLatLng(c),y=c.lat-g.lat,A=c.lng-g.lng;if(y===0&&A===0)return o;var R=o.getSouthWest(),H=o.getNorthEast(),q=new rt(R.lat-y,R.lng-A),ee=new rt(H.lat-y,H.lng-A);return new Tt(q,ee)}},wt=h({},at,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var g=Math.PI/180,y=o.lat*g,A=c.lat*g,R=Math.sin((c.lat-o.lat)*g/2),H=Math.sin((c.lng-o.lng)*g/2),q=R*R+Math.cos(y)*Math.cos(A)*H*H,ee=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*ee}}),Wr=6378137,Hr={R:Wr,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,g=this.MAX_LATITUDE,y=Math.max(Math.min(g,o.lat),-g),A=Math.sin(y*c);return new oe(this.R*o.lng*c,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(o){var c=180/Math.PI;return new rt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=Wr*Math.PI;return new Be([-o,-o],[o,o])}()};function Bt(o,c,g,y){if(B(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=g,this._d=y}Bt.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new oe((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Ir(o,c,g,y){return new Bt(o,c,g,y)}var lt=h({},wt,{code:"EPSG:3857",projection:Hr,transformation:function(){var o=.5/(Math.PI*Hr.R);return Ir(o,.5,-o,.5)}()}),Vr=h({},lt,{code:"EPSG:900913"});function Yn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ui(o,c){var g="",y,A,R,H,q,ee;for(y=0,R=o.length;y<R;y++){for(q=o[y],A=0,H=q.length;A<H;A++)ee=q[A],g+=(A?"L":"M")+ee.x+" "+ee.y;g+=c?Ae.svg?"z":"x":""}return g||"M0 0"}var Jt=document.documentElement.style,ut="ActiveXObject"in window,it=ut&&!document.addEventListener,Zr="msLaunchUri"in navigator&&!("documentMode"in document),Ie=Ot("webkit"),Gr=Ot("android"),or=Ot("android 2")||Ot("android 3"),sr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zi=Gr&&Ot("Google")&&sr<537&&!("AudioNode"in window),In=!!window.opera,So=!Zr&&Ot("chrome"),ar=Ot("gecko")&&!Ie&&!In&&!ut,an=!So&&Ot("safari"),Gi=Ot("phantom"),Xr="OTransition"in Jt,Hs=navigator.platform.indexOf("Win")===0,Ft=ut&&"transition"in Jt,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!or,Ht="MozPerspective"in Jt,It=!window.L_DISABLE_3D&&(Ft||ye||Ht)&&!Xr&&!Gi,G=typeof orientation<"u"||Ot("mobile"),te=G&&Ie,ce=G&&ye,Te=!window.PointerEvent&&window.MSPointerEvent,we=!!(window.PointerEvent||Te),Fe="ontouchstart"in window||!!window.TouchEvent,Ze=!window.L_NO_TOUCH&&(Fe||we),je=G&&In,Re=G&&ar,vt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qe=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",N,c),window.removeEventListener("testPassiveEventSupport",N,c)}catch{}return o}(),Ke=function(){return!!document.createElement("canvas").getContext}(),dt=!!(document.createElementNS&&Yn("svg").createSVGRect),xt=!!dt&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yr=!dt&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ln=navigator.platform.indexOf("Mac")===0,Kr=navigator.platform.indexOf("Linux")===0;function Ot(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ae={ie:ut,ielt9:it,edge:Zr,webkit:Ie,android:Gr,android23:or,androidStock:Zi,opera:In,chrome:So,gecko:ar,safari:an,phantom:Gi,opera12:Xr,win:Hs,ie3d:Ft,webkit3d:ye,gecko3d:Ht,any3d:It,mobile:G,mobileWebkit:te,mobileWebkit3d:ce,msPointer:Te,pointer:we,touch:Ze,touchNative:Fe,mobileOpera:je,mobileGecko:Re,retina:vt,passiveEvents:Qe,canvas:Ke,svg:dt,vml:Yr,inlineSvg:xt,mac:Ln,linux:Kr},Vt=Ae.msPointer?"MSPointerDown":"pointerdown",Ce=Ae.msPointer?"MSPointerMove":"pointermove",gr=Ae.msPointer?"MSPointerUp":"pointerup",ci=Ae.msPointer?"MSPointerCancel":"pointercancel",ln={touchstart:Vt,touchmove:Ce,touchend:gr,touchcancel:ci},ot={touchstart:hi,touchmove:To,touchend:To,touchcancel:To},$t={},Fn=!1;function zn(o,c,g){return c==="touchstart"&&zt(),ot[c]?(g=ot[c].bind(this,g),o.addEventListener(ln[c],g,!1),g):(console.warn("wrong event specified:",c),N)}function en(o,c,g){if(!ln[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(ln[c],g,!1)}function Si(o){$t[o.pointerId]=o}function Kn(o){$t[o.pointerId]&&($t[o.pointerId]=o)}function gn(o){delete $t[o.pointerId]}function zt(){Fn||(document.addEventListener(Vt,Si,!0),document.addEventListener(Ce,Kn,!0),document.addEventListener(gr,gn,!0),document.addEventListener(ci,gn,!0),Fn=!0)}function To(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var g in $t)c.touches.push($t[g]);c.changedTouches=[c],o(c)}}function hi(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&En(c),To(o,c)}function Vs(o){var c={},g,y;for(y in o)g=o[y],c[y]=g&&g.bind?g.bind(o):g;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var he=200;function ec(o,c){o.addEventListener("dblclick",c);var g=0,y;function A(R){if(R.detail!==1){y=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var H=Yi(R);if(!(H.some(function(ee){return ee instanceof HTMLLabelElement&&ee.attributes.for})&&!H.some(function(ee){return ee instanceof HTMLInputElement||ee instanceof HTMLSelectElement}))){var q=Date.now();q-g<=he?(y++,y===2&&c(Vs(R))):y=1,g=q}}}return o.addEventListener("click",A),{dblclick:c,simDblclick:A}}function qt(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var fi=K(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Io=K(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Et=Io==="webkitTransition"||Io==="OTransition"?Io+"End":"transitionend";function _t(o){return typeof o=="string"?document.getElementById(o):o}function et(o,c){var g=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!g||g==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(o,null);g=y?y[c]:null}return g==="auto"?null:g}function pt(o,c,g){var y=document.createElement(o);return y.className=c||"",g&&g.appendChild(y),y}function Mt(o){var c=o.parentNode;c&&c.removeChild(o)}function Xi(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ut(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function qn(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Zs(o,c){if(o.classList!==void 0)return o.classList.contains(c);var g=qr(o);return g.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(g)}function Pe(o,c){if(o.classList!==void 0)for(var g=j(c),y=0,A=g.length;y<A;y++)o.classList.add(g[y]);else if(!Zs(o,c)){var R=qr(o);Gs(o,(R?R+" ":"")+c)}}function bt(o,c){o.classList!==void 0?o.classList.remove(c):Gs(o,W((" "+qr(o)+" ").replace(" "+c+" "," ")))}function Gs(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function qr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function tt(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&bn(o,c)}function bn(o,c){var g=!1,y="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),g?(g.Enabled=c!==100,g.Opacity=c):o.style.filter+=" progid:"+y+"(opacity="+c+")"}function K(o){for(var c=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in c)return o[g];return!1}function k(o,c,g){var y=c||new oe(0,0);o.style[fi]=(Ae.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(g?" scale("+g+")":"")}function ve(o,c){o._leaflet_pos=c,Ae.any3d?k(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function jt(o){return o._leaflet_pos||new oe(0,0)}var Rn,bo,Ro;if("onselectstart"in document)Rn=function(){Ve(window,"selectstart",En)},bo=function(){Ee(window,"selectstart",En)};else{var Nn=K(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rn=function(){if(Nn){var o=document.documentElement.style;Ro=o[Nn],o[Nn]="none"}},bo=function(){Nn&&(document.documentElement.style[Nn]=Ro,Ro=void 0)}}function Me(){Ve(window,"dragstart",En)}function Dt(){Ee(window,"dragstart",En)}var No,Xs;function Oo(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ti(),No=o,Xs=o.style.outlineStyle,o.style.outlineStyle="none",Ve(window,"keydown",Ti))}function Ti(){No&&(No.style.outlineStyle=Xs,No=void 0,Xs=void 0,Ee(window,"keydown",Ti))}function Jo(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ys(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var mn={__proto__:null,TRANSFORM:fi,TRANSITION:Io,TRANSITION_END:Et,get:_t,getStyle:et,create:pt,remove:Mt,empty:Xi,toFront:Ut,toBack:qn,hasClass:Zs,addClass:Pe,removeClass:bt,setClass:Gs,getClass:qr,setOpacity:tt,testProp:K,setTransform:k,setPosition:ve,getPosition:jt,get disableTextSelection(){return Rn},get enableTextSelection(){return bo},disableImageDrag:Me,enableImageDrag:Dt,preventOutline:Oo,restoreOutline:Ti,getSizedParentNode:Jo,getScale:Ys};function Ve(o,c,g,y){if(c&&typeof c=="object")for(var A in c)hn(o,A,c[A],g);else{c=j(c);for(var R=0,H=c.length;R<H;R++)hn(o,c[R],g,y)}return this}var vn="_leaflet_events";function Ee(o,c,g,y){if(arguments.length===1)ul(o),delete o[vn];else if(c&&typeof c=="object")for(var A in c)Ks(o,A,c[A],g);else if(c=j(c),arguments.length===2)ul(o,function(q){return D(c,q)!==-1});else for(var R=0,H=c.length;R<H;R++)Ks(o,c[R],g,y);return this}function ul(o,c){for(var g in o[vn]){var y=g.split(/\d/)[0];(!c||c(y))&&Ks(o,y,null,null,g)}}var Xe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hn(o,c,g,y){var A=c+E(g)+(y?"_"+E(y):"");if(o[vn]&&o[vn][A])return this;var R=function(q){return g.call(y||o,q||window.event)},H=R;!Ae.touchNative&&Ae.pointer&&c.indexOf("touch")===0?R=zn(o,c,R):Ae.touch&&c==="dblclick"?R=ec(o,R):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(Xe[c]||c,R,Ae.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(R=function(q){q=q||window.event,Ii(o,q)&&H(q)},o.addEventListener(Xe[c],R,!1)):o.addEventListener(c,H,!1):o.attachEvent("on"+c,R),o[vn]=o[vn]||{},o[vn][A]=R}function Ks(o,c,g,y,A){A=A||c+E(g)+(y?"_"+E(y):"");var R=o[vn]&&o[vn][A];if(!R)return this;!Ae.touchNative&&Ae.pointer&&c.indexOf("touch")===0?en(o,c,R):Ae.touch&&c==="dblclick"?qt(o,R):"removeEventListener"in o?o.removeEventListener(Xe[c]||c,R,!1):o.detachEvent("on"+c,R),o[vn][A]=null}function Qr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function $o(o){return hn(o,"wheel",Qr),this}function mr(o){return Ve(o,"mousedown touchstart dblclick contextmenu",Qr),o._leaflet_disable_click=!0,this}function En(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function xr(o){return En(o),Qr(o),this}function Yi(o){if(o.composedPath)return o.composedPath();for(var c=[],g=o.target;g;)c.push(g),g=g.parentNode;return c}function Ki(o,c){if(!c)return new oe(o.clientX,o.clientY);var g=Ys(c),y=g.boundingClientRect;return new oe((o.clientX-y.left)/g.x-c.clientLeft,(o.clientY-y.top)/g.y-c.clientTop)}var cl=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qi(o){return Ae.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/cl:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ii(o,c){var g=c.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var Un={__proto__:null,on:Ve,off:Ee,stopPropagation:Qr,disableScrollPropagation:$o,disableClickPropagation:mr,preventDefault:En,stop:xr,getPropagationPath:Yi,getMousePosition:Ki,getWheelDelta:qi,isExternalTarget:Ii,addListener:Ve,removeListener:Ee},qs=De.extend({run:function(o,c,g,y){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=jt(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=He(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,g=this._duration*1e3;c<g?this._runFrame(this._easeOut(c/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var g=this._startPos.add(this._offset.multiplyBy(o));c&&g._round(),ve(this._el,g),this.fire("step")},_complete:function(){Se(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ct=De.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=U(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ge(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Io&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ve(this._proxy,Et,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,g){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(ge(o),c,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=h({animate:g.animate},g.zoom),g.pan=h({animate:g.animate,duration:g.duration},g.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,g.zoom):this._tryAnimatedPan(o,g.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,g){var y=this.getZoomScale(c),A=this.getSize().divideBy(2),R=o instanceof oe?o:this.latLngToContainerPoint(o),H=R.subtract(A).multiplyBy(1-1/y),q=this.containerPointToLatLng(A.add(H));return this.setView(q,c,{zoom:g})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():Ge(o);var g=pe(c.paddingTopLeft||c.padding||[0,0]),y=pe(c.paddingBottomRight||c.padding||[0,0]),A=this.getBoundsZoom(o,!1,g.add(y));if(A=typeof c.maxZoom=="number"?Math.min(c.maxZoom,A):A,A===1/0)return{center:o.getCenter(),zoom:A};var R=y.subtract(g).divideBy(2),H=this.project(o.getSouthWest(),A),q=this.project(o.getNorthEast(),A),ee=this.unproject(H.add(q).divideBy(2).add(R),A);return{center:ee,zoom:A}},fitBounds:function(o,c){if(o=Ge(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,c);return this.setView(g.center,g.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=pe(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,g){if(g=g||{},g.animate===!1||!Ae.any3d)return this.setView(o,c,g);this._stop();var y=this.project(this.getCenter()),A=this.project(o),R=this.getSize(),H=this._zoom;o=ge(o),c=c===void 0?H:c;var q=Math.max(R.x,R.y),ee=q*this.getZoomScale(H,c),fe=A.distanceTo(y)||1,be=1.42,We=be*be;function st(_n){var _l=_n?-1:1,Rm=_n?ee:q,Nm=ee*ee-q*q+_l*We*We*fe*fe,Om=2*Rm*We*fe,ac=Nm/Om,_d=Math.sqrt(ac*ac+1)-ac,km=_d<1e-9?-18:Math.log(_d);return km}function er(_n){return(Math.exp(_n)-Math.exp(-_n))/2}function On(_n){return(Math.exp(_n)+Math.exp(-_n))/2}function Pr(_n){return er(_n)/On(_n)}var ur=st(0);function is(_n){return q*(On(ur)/On(ur+be*_n))}function Sm(_n){return q*(On(ur)*Pr(ur+be*_n)-er(ur))/We}function Tm(_n){return 1-Math.pow(1-_n,1.5)}var Im=Date.now(),md=(st(1)-ur)/be,bm=g.duration?1e3*g.duration:1e3*md*.8;function xd(){var _n=(Date.now()-Im)/bm,_l=Tm(_n)*md;_n<=1?(this._flyToFrame=He(xd,this),this._move(this.unproject(y.add(A.subtract(y).multiplyBy(Sm(_l)/fe)),H),this.getScaleZoom(q/is(_l),H),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),xd.call(this),this},flyToBounds:function(o,c){var g=this._getBoundsCenterZoom(o,c);return this.flyTo(g.center,g.zoom,c)},setMaxBounds:function(o){return o=Ge(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var g=this.getCenter(),y=this._limitCenter(g,this._zoom,Ge(o));return g.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var g=pe(c.paddingTopLeft||c.padding||[0,0]),y=pe(c.paddingBottomRight||c.padding||[0,0]),A=this.project(this.getCenter()),R=this.project(o),H=this.getPixelBounds(),q=Le([H.min.add(g),H.max.subtract(y)]),ee=q.getSize();if(!q.contains(R)){this._enforcingBounds=!0;var fe=R.subtract(q.getCenter()),be=q.extend(R).getSize().subtract(ee);A.x+=fe.x<0?-be.x:be.x,A.y+=fe.y<0?-be.y:be.y,this.panTo(this.unproject(A),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=h({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),y=c.divideBy(2).round(),A=g.divideBy(2).round(),R=y.subtract(A);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=h({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=m(this._handleGeolocationResponse,this),g=m(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,g,o):navigator.geolocation.getCurrentPosition(c,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,g=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,g=o.coords.longitude,y=new rt(c,g),A=y.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var H=this.getBoundsZoom(A);this.setView(y,R.maxZoom?Math.min(H,R.maxZoom):H)}var q={latlng:y,bounds:A,timestamp:o.timestamp};for(var ee in o.coords)typeof o.coords[ee]=="number"&&(q[ee]=o.coords[ee]);this.fire("locationfound",q)}},addHandler:function(o,c){if(!c)return this;var g=this[o]=new c(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Se(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Mt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),y=pt("div",g,c||this._mapPane);return o&&(this._panes[o]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new Tt(c,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,g){o=Ge(o),g=pe(g||[0,0]);var y=this.getZoom()||0,A=this.getMinZoom(),R=this.getMaxZoom(),H=o.getNorthWest(),q=o.getSouthEast(),ee=this.getSize().subtract(g),fe=Le(this.project(q,y),this.project(H,y)).getSize(),be=Ae.any3d?this.options.zoomSnap:1,We=ee.x/fe.x,st=ee.y/fe.y,er=c?Math.max(We,st):Math.min(We,st);return y=this.getScaleZoom(er,y),be&&(y=Math.round(y/(be/100))*(be/100),y=c?Math.ceil(y/be)*be:Math.floor(y/be)*be),Math.max(A,Math.min(R,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new oe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var g=this._getTopLeftPoint(o,c);return new Be(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var g=this.options.crs;return c=c===void 0?this._zoom:c,g.scale(o)/g.scale(c)},getScaleZoom:function(o,c){var g=this.options.crs;c=c===void 0?this._zoom:c;var y=g.zoom(o*g.scale(c));return isNaN(y)?1/0:y},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ge(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(pe(o),c)},layerPointToLatLng:function(o){var c=pe(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(ge(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ge(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ge(o))},distance:function(o,c){return this.options.crs.distance(ge(o),ge(c))},containerPointToLayerPoint:function(o){return pe(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return pe(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(pe(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(o)))},mouseEventToContainerPoint:function(o){return Ki(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=_t(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ve(c,"scroll",this._onScroll,this),this._containerId=E(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Pe(o,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=et(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new oe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(o.markerPane,"leaflet-zoom-hide"),Pe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,g){ve(this._mapPane,new oe(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var A=this._zoom!==c;this._moveStart(A,g)._move(o,c)._moveEnd(A),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,g,y){c===void 0&&(c=this._zoom);var A=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),y?g&&g.pinch&&this.fire("zoom",g):((A||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Se(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ve(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[E(this._container)]=this;var c=o?Ee:Ve;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Se(this._resizeRequest),this._resizeRequest=He(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var g=[],y,A=c==="mouseout"||c==="mouseover",R=o.target||o.srcElement,H=!1;R;){if(y=this._targets[E(R)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){H=!0;break}if(y&&y.listens(c,!0)&&(A&&!Ii(R,o)||(g.push(y),A))||R===this._container)break;R=R.parentNode}return!g.length&&!H&&!A&&this.listens(c,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var g=o.type;g==="mousedown"&&Oo(c),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,g){if(o.type==="click"){var y=h({},o);y.type="preclick",this._fireDOMEvent(y,y.type,g)}var A=this._findEventTargets(o,c);if(g){for(var R=[],H=0;H<g.length;H++)g[H].listens(c,!0)&&R.push(g[H]);A=R.concat(A)}if(A.length){c==="contextmenu"&&En(o);var q=A[0],ee={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var fe=q.getLatLng&&(!q._radius||q._radius<=10);ee.containerPoint=fe?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(o),ee.layerPoint=this.containerPointToLayerPoint(ee.containerPoint),ee.latlng=fe?q.getLatLng():this.layerPointToLatLng(ee.layerPoint)}for(H=0;H<A.length;H++)if(A[H].fire(c,ee,!0),ee.originalEvent._stopped||A[H].options.bubblingMouseEvents===!1&&D(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return jt(this._mapPane)||new oe(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var g=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var g=this.getSize()._divideBy(2);return this.project(o,c)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,g){var y=this._getNewPixelOrigin(g,c);return this.project(o,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(o,c,g){var y=this._getNewPixelOrigin(g,c);return Le([this.project(o.getSouthWest(),c)._subtract(y),this.project(o.getNorthWest(),c)._subtract(y),this.project(o.getSouthEast(),c)._subtract(y),this.project(o.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,g){if(!g)return o;var y=this.project(o,c),A=this.getSize().divideBy(2),R=new Be(y.subtract(A),y.add(A)),H=this._getBoundsOffset(R,g,c);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?o:this.unproject(y.add(H),c)},_limitOffset:function(o,c){if(!c)return o;var g=this.getPixelBounds(),y=new Be(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(o,c,g){var y=Le(this.project(c.getNorthEast(),g),this.project(c.getSouthWest(),g)),A=y.min.subtract(o.min),R=y.max.subtract(o.max),H=this._rebound(A.x,-R.x),q=this._rebound(A.y,-R.y);return new oe(H,q)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),g=this.getMaxZoom(),y=Ae.any3d?this.options.zoomSnap:1;return y&&(o=Math.round(o/y)*y),Math.max(c,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var g=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,c),!0)},_createAnimProxy:function(){var o=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var g=fi,y=this._proxy.style[g];k(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();k(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),A=this._getCenterOffset(o)._divideBy(1-1/y);return g.animate!==!0&&!this.getSize().contains(A)?!1:(He(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,g,y){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hl(o,c){return new ct(o,c)}var _r=ft.extend({options:{position:"topright"},initialize:function(o){U(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),g=this.getPosition(),y=o._controlCorners[g];return Pe(c,"leaflet-control"),g.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ko=function(o){return new _r(o)};ct.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",g=this._controlContainer=pt("div",c+"control-container",this._container);function y(A,R){var H=c+A+" "+c+R;o[A+R]=pt("div",H,g)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Mt(this._controlCorners[o]);Mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fl=_r.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,g,y){return g<y?-1:y<g?1:0}},initialize:function(o,c,g){U(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in o)this._addLayer(o[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return _r.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(E(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=pt("div",o),g=this.options.collapsed;c.setAttribute("aria-haspopup",!0),mr(c),$o(c);var y=this._section=pt("section",o+"-list");g&&(this._map.on("click",this.collapse,this),Ve(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=pt("a",o+"-toggle",c);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ve(A,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){En(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=pt("div",o+"-base",y),this._separator=pt("div",o+"-separator",y),this._overlaysList=pt("div",o+"-overlays",y),c.appendChild(y)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&E(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:g}),this.options.sortLayers&&this._layers.sort(m(function(y,A){return this.options.sortFunction(y.layer,A.layer,y.name,A.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xi(this._baseLayersList),Xi(this._overlaysList),this._layerControlInputs=[];var o,c,g,y,A=0;for(g=0;g<this._layers.length;g++)y=this._layers[g],this._addItem(y),c=c||y.overlay,o=o||!y.overlay,A+=y.overlay?0:1;return this.options.hideSingleBase&&(o=o&&A>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(E(o.target)),g=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,c)},_createRadioElement:function(o,c){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=g,y.firstChild},_addItem:function(o){var c=document.createElement("label"),g=this._map.hasLayer(o.layer),y;o.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=g):y=this._createRadioElement("leaflet-base-layers_"+E(this),g),this._layerControlInputs.push(y),y.layerId=E(o.layer),Ve(y,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+o.name;var R=document.createElement("span");c.appendChild(R),R.appendChild(y),R.appendChild(A);var H=o.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,g,y=[],A=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)c=o[R],g=this._getLayer(c.layerId).layer,c.checked?y.push(g):c.checked||A.push(g);for(R=0;R<A.length;R++)this._map.hasLayer(A[R])&&this._map.removeLayer(A[R]);for(R=0;R<y.length;R++)this._map.hasLayer(y[R])||this._map.addLayer(y[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,g,y=this._map.getZoom(),A=o.length-1;A>=0;A--)c=o[A],g=this._getLayer(c.layerId).layer,c.disabled=g.options.minZoom!==void 0&&y<g.options.minZoom||g.options.maxZoom!==void 0&&y>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ve(o,"click",En),this.expand();var c=this;setTimeout(function(){Ee(o,"click",En),c._preventClick=!1})}}),Rt=function(o,c,g){return new fl(o,c,g)},es=_r.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",g=pt("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,g,y,A){var R=pt("a",g,y);return R.innerHTML=o,R.href="#",R.title=c,R.setAttribute("role","button"),R.setAttribute("aria-label",c),mr(R),Ve(R,"click",xr),Ve(R,"click",A,this),Ve(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";bt(this._zoomInButton,c),bt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Pe(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Pe(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ct.mergeOptions({zoomControl:!0}),ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new es,this.addControl(this.zoomControl))});var ts=function(o){return new es(o)},Jr=_r.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",g=pt("div",c),y=this.options;return this._addScales(y,c+"-line",g),o.on(y.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,g){o.metric&&(this._mScale=pt("div",c,g)),o.imperial&&(this._iScale=pt("div",c,g))},_update:function(){var o=this._map,c=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),g=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,g,c/o)},_updateImperial:function(o){var c=o*3.2808399,g,y,A;c>5280?(g=c/5280,y=this._getRoundNum(g),this._updateScale(this._iScale,y+" mi",y/g)):(A=this._getRoundNum(c),this._updateScale(this._iScale,A+" ft",A/c))},_updateScale:function(o,c,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),g=o/c;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,c*g}}),tc=function(o){return new Jr(o)},$='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qe=_r.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?$+" ":"")+"Leaflet</a>"},initialize:function(o){U(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),mr(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});ct.mergeOptions({attributionControl:!0}),ct.addInitHook(function(){this.options.attributionControl&&new qe().addTo(this)});var Cn=function(o){return new qe(o)};_r.Layers=fl,_r.Zoom=es,_r.Scale=Jr,_r.Attribution=qe,ko.layers=Rt,ko.zoom=ts,ko.scale=tc,ko.attribution=Cn;var Qn=ft.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qn.addTo=function(o,c){return o.addHandler(c,this),this};var dl={Events:$e},pl=Ae.touch?"touchstart mousedown":"mousedown",di=De.extend({options:{clickTolerance:3},initialize:function(o,c,g,y){U(this,y),this._element=o,this._dragStartTarget=c||o,this._preventOutline=g},enable:function(){this._enabled||(Ve(this._dragStartTarget,pl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(di._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,pl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Zs(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){di._dragging===this&&this.finishDrag();return}if(!(di._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(di._dragging=this,this._preventOutline&&Oo(this._element),Me(),Rn(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,g=Jo(this._element);this._startPoint=new oe(c.clientX,c.clientY),this._startPos=jt(this._element),this._parentScale=Ys(g);var y=o.type==="mousedown";Ve(document,y?"mousemove":"touchmove",this._onMove,this),Ve(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,g=new oe(c.clientX,c.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,En(o),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ve(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),Dt(),bo();var c=this._moved&&this._moving;this._moving=!1,di._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function gl(o,c,g){var y,A=[1,4,2,8],R,H,q,ee,fe,be,We,st;for(R=0,be=o.length;R<be;R++)o[R]._code=Ri(o[R],c);for(q=0;q<4;q++){for(We=A[q],y=[],R=0,be=o.length,H=be-1;R<be;H=R++)ee=o[R],fe=o[H],ee._code&We?fe._code&We||(st=$r(fe,ee,We,c,g),st._code=Ri(st,c),y.push(st)):(fe._code&We&&(st=$r(fe,ee,We,c,g),st._code=Ri(st,c),y.push(st)),y.push(ee));o=y}return o}function ns(o,c){var g,y,A,R,H,q,ee,fe,be;if(!o||o.length===0)throw new Error("latlngs not passed");Jn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var We=ge([0,0]),st=Ge(o),er=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());er<1700&&(We=tn(o));var On=o.length,Pr=[];for(g=0;g<On;g++){var ur=ge(o[g]);Pr.push(c.project(ge([ur.lat-We.lat,ur.lng-We.lng])))}for(q=ee=fe=0,g=0,y=On-1;g<On;y=g++)A=Pr[g],R=Pr[y],H=A.y*R.x-R.y*A.x,ee+=(A.x+R.x)*H,fe+=(A.y+R.y)*H,q+=H*3;q===0?be=Pr[0]:be=[ee/q,fe/q];var is=c.unproject(pe(be));return ge([is.lat+We.lat,is.lng+We.lng])}function tn(o){for(var c=0,g=0,y=0,A=0;A<o.length;A++){var R=ge(o[A]);c+=R.lat,g+=R.lng,y++}return ge([c/y,g/y])}var Qs={__proto__:null,clipPolygon:gl,polygonCenter:ns,centroid:tn};function Zt(o,c){if(!c||!o.length)return o.slice();var g=c*c;return o=nc(o,g),o=kt(o,g),o}function Po(o,c,g){return Math.sqrt(Ni(o,c,g,!0))}function bi(o,c,g){return Ni(o,c,g)}function kt(o,c){var g=o.length,y=typeof Uint8Array!=void 0+""?Uint8Array:Array,A=new y(g);A[0]=A[g-1]=1,Ue(o,A,c,0,g-1);var R,H=[];for(R=0;R<g;R++)A[R]&&H.push(o[R]);return H}function Ue(o,c,g,y,A){var R=0,H,q,ee;for(q=y+1;q<=A-1;q++)ee=Ni(o[q],o[y],o[A],!0),ee>R&&(H=q,R=ee);R>g&&(c[H]=1,Ue(o,c,g,y,H),Ue(o,c,g,H,A))}function nc(o,c){for(var g=[o[0]],y=1,A=0,R=o.length;y<R;y++)br(o[y],o[A])>c&&(g.push(o[y]),A=y);return A<R-1&&g.push(o[R-1]),g}var Lt;function pi(o,c,g,y,A){var R=y?Lt:Ri(o,g),H=Ri(c,g),q,ee,fe;for(Lt=H;;){if(!(R|H))return[o,c];if(R&H)return!1;q=R||H,ee=$r(o,c,q,g,A),fe=Ri(ee,g),q===R?(o=ee,R=fe):(c=ee,H=fe)}}function $r(o,c,g,y,A){var R=c.x-o.x,H=c.y-o.y,q=y.min,ee=y.max,fe,be;return g&8?(fe=o.x+R*(ee.y-o.y)/H,be=ee.y):g&4?(fe=o.x+R*(q.y-o.y)/H,be=q.y):g&2?(fe=ee.x,be=o.y+H*(ee.x-o.x)/R):g&1&&(fe=q.x,be=o.y+H*(q.x-o.x)/R),new oe(fe,be,A)}function Ri(o,c){var g=0;return o.x<c.min.x?g|=1:o.x>c.max.x&&(g|=2),o.y<c.min.y?g|=4:o.y>c.max.y&&(g|=8),g}function br(o,c){var g=c.x-o.x,y=c.y-o.y;return g*g+y*y}function Ni(o,c,g,y){var A=c.x,R=c.y,H=g.x-A,q=g.y-R,ee=H*H+q*q,fe;return ee>0&&(fe=((o.x-A)*H+(o.y-R)*q)/ee,fe>1?(A=g.x,R=g.y):fe>0&&(A+=H*fe,R+=q*fe)),H=o.x-A,q=o.y-R,y?H*H+q*q:new oe(A,R)}function Jn(o){return!B(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function rs(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jn(o)}function Js(o,c){var g,y,A,R,H,q,ee,fe;if(!o||o.length===0)throw new Error("latlngs not passed");Jn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var be=ge([0,0]),We=Ge(o),st=We.getNorthWest().distanceTo(We.getSouthWest())*We.getNorthEast().distanceTo(We.getNorthWest());st<1700&&(be=tn(o));var er=o.length,On=[];for(g=0;g<er;g++){var Pr=ge(o[g]);On.push(c.project(ge([Pr.lat-be.lat,Pr.lng-be.lng])))}for(g=0,y=0;g<er-1;g++)y+=On[g].distanceTo(On[g+1])/2;if(y===0)fe=On[0];else for(g=0,R=0;g<er-1;g++)if(H=On[g],q=On[g+1],A=H.distanceTo(q),R+=A,R>y){ee=(R-y)/A,fe=[q.x-ee*(q.x-H.x),q.y-ee*(q.y-H.y)];break}var ur=c.unproject(pe(fe));return ge([ur.lat+be.lat,ur.lng+be.lng])}var ml={__proto__:null,simplify:Zt,pointToSegmentDistance:Po,closestPointOnSegment:bi,clipSegment:pi,_getEdgeIntersection:$r,_getBitCode:Ri,_sqClosestPointOnSegment:Ni,isFlat:Jn,_flat:rs,polylineCenter:Js},$s={project:function(o){return new oe(o.lng,o.lat)},unproject:function(o){return new rt(o.y,o.x)},bounds:new Be([-180,-90],[180,90])},gi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Be([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,g=this.R,y=o.lat*c,A=this.R_MINOR/g,R=Math.sqrt(1-A*A),H=R*Math.sin(y),q=Math.tan(Math.PI/4-y/2)/Math.pow((1-H)/(1+H),R/2);return y=-g*Math.log(Math.max(q,1e-10)),new oe(o.lng*c*g,y)},unproject:function(o){for(var c=180/Math.PI,g=this.R,y=this.R_MINOR/g,A=Math.sqrt(1-y*y),R=Math.exp(-o.y/g),H=Math.PI/2-2*Math.atan(R),q=0,ee=.1,fe;q<15&&Math.abs(ee)>1e-7;q++)fe=A*Math.sin(H),fe=Math.pow((1-fe)/(1+fe),A/2),ee=Math.PI/2-2*Math.atan(R*fe)-H,H+=ee;return new rt(H*c,o.x*c/g)}},ea={__proto__:null,LonLat:$s,Mercator:gi,SphericalMercator:Hr},rc=h({},wt,{code:"EPSG:3395",projection:gi,transformation:function(){var o=.5/(Math.PI*gi.R);return Ir(o,.5,-o,.5)}()}),Qi=h({},wt,{code:"EPSG:4326",projection:$s,transformation:Ir(1/180,1,-1/180,.5)}),ic=h({},at,{projection:$s,transformation:Ir(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var g=c.lng-o.lng,y=c.lat-o.lat;return Math.sqrt(g*g+y*y)},infinite:!0});at.Earth=wt,at.EPSG3395=rc,at.EPSG3857=lt,at.EPSG900913=Vr,at.EPSG4326=Qi,at.Simple=ic;var xn=De.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[E(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[E(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var g=this.getEvents();c.on(g,this),this.once("remove",function(){c.off(g,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ct.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=E(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=E(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return E(o)in this._layers},eachLayer:function(o,c){for(var g in this._layers)o.call(c,this._layers[g]);return this},_addLayers:function(o){o=o?B(o)?o:[o]:[];for(var c=0,g=o.length;c<g;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[E(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=E(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,g=this._getZoomSpan();for(var y in this._zoomBoundLayers){var A=this._zoomBoundLayers[y].options;o=A.minZoom===void 0?o:Math.min(o,A.minZoom),c=A.maxZoom===void 0?c:Math.max(c,A.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ei=xn.extend({initialize:function(o,c){U(this,c),this._layers={};var g,y;if(o)for(g=0,y=o.length;g<y;g++)this.addLayer(o[g])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),g,y;for(g in this._layers)y=this._layers[g],y[o]&&y[o].apply(y,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var g in this._layers)o.call(c,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return E(o)}}),lr=function(o,c){return new ei(o,c)},Rr=ei.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ei.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ei.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Tt;for(var c in this._layers){var g=this._layers[c];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Nr=function(o,c){return new Rr(o,c)},Ji=ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){U(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(g,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(o,c){var g=this.options,y=g[c+"Size"];typeof y=="number"&&(y=[y,y]);var A=pe(y),R=pe(c==="shadow"&&g.shadowAnchor||g.iconAnchor||A&&A.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(g.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),A&&(o.style.width=A.x+"px",o.style.height=A.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Ae.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function ta(o){return new Ji(o)}var Lo=Ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Lo.imagePath!="string"&&(Lo.imagePath=this._detectIconPath()),(this.options.imagePath||Lo.imagePath)+Ji.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(g,y,A){var R=y.exec(g);return R&&R[A]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=pt("div","leaflet-default-icon-path",document.body),c=et(o,"background-image")||et(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),na=Qn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new di(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,g=c._map,y=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,R=jt(c._icon),H=g.getPixelBounds(),q=g.getPixelOrigin(),ee=Le(H.min._subtract(q).add(A),H.max._subtract(q).subtract(A));if(!ee.contains(R)){var fe=pe((Math.max(ee.max.x,R.x)-ee.max.x)/(H.max.x-ee.max.x)-(Math.min(ee.min.x,R.x)-ee.min.x)/(H.min.x-ee.min.x),(Math.max(ee.max.y,R.y)-ee.max.y)/(H.max.y-ee.max.y)-(Math.min(ee.min.y,R.y)-ee.min.y)/(H.min.y-ee.min.y)).multiplyBy(y);g.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),ve(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=He(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Se(this._panRequest),this._panRequest=He(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,g=c._shadow,y=jt(c._icon),A=c._map.layerPointToLatLng(y);g&&ve(g,y),c._latlng=A,o.latlng=A,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Se(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),$n=xn.extend({options:{icon:new Lo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){U(this,c),this._latlng=ge(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=ge(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),y=!1;g!==this._icon&&(this._icon&&this._removeIcon(),y=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Pe(g,c),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(g,"focus",this._panOnFocus,this);var A=o.icon.createShadow(this._shadow),R=!1;A!==this._shadow&&(this._removeShadow(),R=!0),A&&(Pe(A,c),A.alt=""),this._shadow=A,o.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),Mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ve(this._icon,o),this._shadow&&ve(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),na)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new na(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&tt(this._icon,o),this._shadow&&tt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,g=c.iconSize?pe(c.iconSize):pe(0,0),y=c.iconAnchor?pe(c.iconAnchor):pe(0,0);o.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:g.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oc(o,c){return new $n(o,c)}var Or=xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return U(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mi=Or.extend({options:{fill:!0,radius:10},initialize:function(o,c){U(this,c),this._latlng=ge(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=ge(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return Or.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,g=this._clickTolerance(),y=[o+g,c+g];this._pxBounds=new Be(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mt(o,c){return new mi(o,c)}var $i=mi.extend({initialize:function(o,c,g){if(typeof c=="number"&&(c=h({},g,{radius:c})),U(this,c),this._latlng=ge(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Tt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Or.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,g=this._map,y=g.options.crs;if(y.distance===wt.distance){var A=Math.PI/180,R=this._mRadius/wt.R/A,H=g.project([c+R,o]),q=g.project([c-R,o]),ee=H.add(q).divideBy(2),fe=g.unproject(ee).lat,be=Math.acos((Math.cos(R*A)-Math.sin(c*A)*Math.sin(fe*A))/(Math.cos(c*A)*Math.cos(fe*A)))/A;(isNaN(be)||be===0)&&(be=R/Math.cos(Math.PI/180*c)),this._point=ee.subtract(g.getPixelOrigin()),this._radius=isNaN(be)?0:ee.x-g.project([fe,o-be]).x,this._radiusY=ee.y-H.y}else{var We=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(We).x}this._updateBounds()}});function S(o,c,g){return new $i(o,c,g)}var n=Or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){U(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,g=null,y=Ni,A,R,H=0,q=this._parts.length;H<q;H++)for(var ee=this._parts[H],fe=1,be=ee.length;fe<be;fe++){A=ee[fe-1],R=ee[fe];var We=y(o,A,R,!0);We<c&&(c=We,g=y(o,A,R))}return g&&(g.distance=Math.sqrt(c)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Js(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=ge(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Tt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],g=Jn(o),y=0,A=o.length;y<A;y++)g?(c[y]=ge(o[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(o[y]);return c},_project:function(){var o=new Be;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new oe(o,o);this._rawPxBounds&&(this._pxBounds=new Be([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,g){var y=o[0]instanceof rt,A=o.length,R,H;if(y){for(H=[],R=0;R<A;R++)H[R]=this._map.latLngToLayerPoint(o[R]),g.extend(H[R]);c.push(H)}else for(R=0;R<A;R++)this._projectLatlngs(o[R],c,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,g,y,A,R,H,q,ee;for(g=0,A=0,R=this._rings.length;g<R;g++)for(ee=this._rings[g],y=0,H=ee.length;y<H-1;y++)q=pi(ee[y],ee[y+1],o,y,!0),q&&(c[A]=c[A]||[],c[A].push(q[0]),(q[1]!==ee[y+1]||y===H-2)&&(c[A].push(q[1]),A++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,g=0,y=o.length;g<y;g++)o[g]=Zt(o[g],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var g,y,A,R,H,q,ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,R=this._parts.length;g<R;g++)for(q=this._parts[g],y=0,H=q.length,A=H-1;y<H;A=y++)if(!(!c&&y===0)&&Po(o,q[A],q[y])<=ee)return!0;return!1}});function i(o,c){return new n(o,c)}n._flat=rs;var s=n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ns(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=n.prototype._convertLatLngs.call(this,o),g=c.length;return g>=2&&c[0]instanceof rt&&c[0].equals(c[g-1])&&c.pop(),c},_setLatLngs:function(o){n.prototype._setLatLngs.call(this,o),Jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,g=new oe(c,c);if(o=new Be(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,A=this._rings.length,R;y<A;y++)R=gl(this._rings[y],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,g,y,A,R,H,q,ee,fe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,ee=this._parts.length;R<ee;R++)for(g=this._parts[R],H=0,fe=g.length,q=fe-1;H<fe;q=H++)y=g[H],A=g[q],y.y>o.y!=A.y>o.y&&o.x<(A.x-y.x)*(o.y-y.y)/(A.y-y.y)+y.x&&(c=!c);return c||n.prototype._containsPoint.call(this,o,!0)}});function l(o,c){return new s(o,c)}var u=Rr.extend({initialize:function(o,c){U(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=B(o)?o:o.features,g,y,A;if(c){for(g=0,y=c.length;g<y;g++)A=c[g],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var H=f(o,R);return H?(H.feature=P(o),H.defaultOptions=H.options,this.resetStyle(H),R.onEachFeature&&R.onEachFeature(o,H),this.addLayer(H)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=h({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function f(o,c){var g=o.type==="Feature"?o.geometry:o,y=g?g.coordinates:null,A=[],R=c&&c.pointToLayer,H=c&&c.coordsToLatLng||x,q,ee,fe,be;if(!y&&!g)return null;switch(g.type){case"Point":return q=H(y),p(R,o,q,c);case"MultiPoint":for(fe=0,be=y.length;fe<be;fe++)q=H(y[fe]),A.push(p(R,o,q,c));return new Rr(A);case"LineString":case"MultiLineString":return ee=_(y,g.type==="LineString"?0:1,H),new n(ee,c);case"Polygon":case"MultiPolygon":return ee=_(y,g.type==="Polygon"?1:2,H),new s(ee,c);case"GeometryCollection":for(fe=0,be=g.geometries.length;fe<be;fe++){var We=f({geometry:g.geometries[fe],type:"Feature",properties:o.properties},c);We&&A.push(We)}return new Rr(A);case"FeatureCollection":for(fe=0,be=g.features.length;fe<be;fe++){var st=f(g.features[fe],c);st&&A.push(st)}return new Rr(A);default:throw new Error("Invalid GeoJSON object.")}}function p(o,c,g,y){return o?o(c,g):new $n(g,y&&y.markersInheritOptions&&y)}function x(o){return new rt(o[1],o[0],o[2])}function _(o,c,g){for(var y=[],A=0,R=o.length,H;A<R;A++)H=c?_(o[A],c-1,g):(g||x)(o[A]),y.push(H);return y}function C(o,c){return o=ge(o),o.alt!==void 0?[F(o.lng,c),F(o.lat,c),F(o.alt,c)]:[F(o.lng,c),F(o.lat,c)]}function T(o,c,g,y){for(var A=[],R=0,H=o.length;R<H;R++)A.push(c?T(o[R],Jn(o[R])?0:c-1,g,y):C(o[R],y));return!c&&g&&A.length>0&&A.push(A[0].slice()),A}function b(o,c){return o.feature?h({},o.feature,{geometry:c}):P(c)}function P(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var V={toGeoJSON:function(o){return b(this,{type:"Point",coordinates:C(this.getLatLng(),o)})}};$n.include(V),$i.include(V),mi.include(V),n.include({toGeoJSON:function(o){var c=!Jn(this._latlngs),g=T(this._latlngs,c?1:0,!1,o);return b(this,{type:(c?"Multi":"")+"LineString",coordinates:g})}}),s.include({toGeoJSON:function(o){var c=!Jn(this._latlngs),g=c&&!Jn(this._latlngs[0]),y=T(this._latlngs,g?2:c?1:0,!0,o);return c||(y=[y]),b(this,{type:(g?"Multi":"")+"Polygon",coordinates:y})}}),ei.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(g){c.push(g.toGeoJSON(o).geometry.coordinates)}),b(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var g=c==="GeometryCollection",y=[];return this.eachLayer(function(A){if(A.toGeoJSON){var R=A.toGeoJSON(o);if(g)y.push(R.geometry);else{var H=P(R);H.type==="FeatureCollection"?y.push.apply(y,H.features):y.push(H)}}}),g?b(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Z(o,c){return new u(o,c)}var Y=Z,J=xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,g){this._url=o,this._bounds=Ge(c),U(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ut(this._image),this},bringToBack:function(){return this._map&&qn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ge(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:pt("img");if(Pe(c,"leaflet-image-layer"),this._zoomAnimated&&Pe(c,"leaflet-zoom-animated"),this.options.className&&Pe(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onload=m(this.fire,this,"load"),c.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;k(this._image,g,c)},_reset:function(){var o=this._image,c=new Be(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=c.getSize();ve(o,c.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),me=function(o,c,g){return new J(o,c,g)},xe=J.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:pt("video");if(Pe(c,"leaflet-image-layer"),this._zoomAnimated&&Pe(c,"leaflet-zoom-animated"),this.options.className&&Pe(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onloadeddata=m(this.fire,this,"load"),o){for(var g=c.getElementsByTagName("source"),y=[],A=0;A<g.length;A++)y.push(g[A].src);this._url=g.length>0?y:[c.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var H=pt("source");H.src=this._url[R],c.appendChild(H)}}});function de(o,c,g){return new xe(o,c,g)}var nt=J.extend({_initImage:function(){var o=this._image=this._url;Pe(o,"leaflet-image-layer"),this._zoomAnimated&&Pe(o,"leaflet-zoom-animated"),this.options.className&&Pe(o,this.options.className),o.onselectstart=N,o.onmousemove=N}});function Ye(o,c,g){return new nt(o,c,g)}var Gt=xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof rt||B(o))?(this._latlng=ge(o),U(this,c)):(U(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&tt(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(tt(this._container,0),this._removeTimeout=setTimeout(m(Mt,void 0,this._container),200)):Mt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ge(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ut(this._container),this},bringToBack:function(){return this._map&&qn(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Rr){c=null;var g=this._source._layers;for(var y in g)if(g[y]._map){c=g[y];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=pe(this.options.offset),g=this._getAnchor();this._zoomAnimated?ve(this._container,o.add(g)):c=c.add(o).add(g);var y=this._containerBottom=-c.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});ct.include({_initOverlay:function(o,c,g,y){var A=c;return A instanceof o||(A=new o(y).setContent(c)),g&&A.setLatLng(g),A}}),xn.include({_initOverlay:function(o,c,g,y){var A=g;return A instanceof o?(U(A,y),A._source=this):(A=c&&!y?c:new o(y,this),A.setContent(g)),A}});var jn=Gt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Gt.prototype.openOn.call(this,o)},onAdd:function(o){Gt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Or||this._source.on("preclick",Qr))},onRemove:function(o){Gt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Or||this._source.off("preclick",Qr))},getEvents:function(){var o=Gt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=pt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=pt("div",o+"-content-wrapper",c);if(this._contentNode=pt("div",o+"-content",g),mr(c),$o(this._contentNode),Ve(c,"contextmenu",Qr),this._tipContainer=pt("div",o+"-tip-container",c),this._tip=pt("div",o+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=pt("a",o+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ve(y,"click",function(A){En(A),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),c.width=g+1+"px",c.whiteSpace="",c.height="";var y=o.offsetHeight,A=this.options.maxHeight,R="leaflet-popup-scrolled";A&&y>A?(c.height=A+"px",Pe(o,R)):bt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();ve(this._container,c.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(et(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+c,y=this._containerWidth,A=new oe(this._containerLeft,-g-this._containerBottom);A._add(jt(this._container));var R=o.layerPointToContainerPoint(A),H=pe(this.options.autoPanPadding),q=pe(this.options.autoPanPaddingTopLeft||H),ee=pe(this.options.autoPanPaddingBottomRight||H),fe=o.getSize(),be=0,We=0;R.x+y+ee.x>fe.x&&(be=R.x+y-fe.x+ee.x),R.x-be-q.x<0&&(be=R.x-q.x),R.y+g+ee.y>fe.y&&(We=R.y+g-fe.y+ee.y),R.y-We-q.y<0&&(We=R.y-q.y),(be||We)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([be,We]))}},_getAnchor:function(){return pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wn=function(o,c){return new jn(o,c)};ct.mergeOptions({closePopupOnClick:!0}),ct.include({openPopup:function(o,c,g){return this._initOverlay(jn,o,c,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),xn.include({bindPopup:function(o,c){return this._popup=this._initOverlay(jn,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Rr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){xr(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof Or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var At=Gt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Gt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Gt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Gt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+E(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,g,y=this._map,A=this._container,R=y.latLngToContainerPoint(y.getCenter()),H=y.layerPointToContainerPoint(o),q=this.options.direction,ee=A.offsetWidth,fe=A.offsetHeight,be=pe(this.options.offset),We=this._getAnchor();q==="top"?(c=ee/2,g=fe):q==="bottom"?(c=ee/2,g=0):q==="center"?(c=ee/2,g=fe/2):q==="right"?(c=0,g=fe/2):q==="left"?(c=ee,g=fe/2):H.x<R.x?(q="right",c=0,g=fe/2):(q="left",c=ee+(be.x+We.x)*2,g=fe/2),o=o.subtract(pe(c,g,!0)).add(be).add(We),bt(A,"leaflet-tooltip-right"),bt(A,"leaflet-tooltip-left"),bt(A,"leaflet-tooltip-top"),bt(A,"leaflet-tooltip-bottom"),Pe(A,"leaflet-tooltip-"+q),ve(A,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&tt(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),An=function(o,c){return new At(o,c)};ct.include({openTooltip:function(o,c,g){return this._initOverlay(At,o,c,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),xn.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(At,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[c](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Rr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(Ve(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ve(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,g,y;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),y=this._map.containerPointToLayerPoint(g),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var Hn=Ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Xi(c),c.appendChild(g.html)):c.innerHTML=g.html!==!1?g.html:"",g.bgPos){var y=pe(g.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function eo(o){return new Hn(o)}Ji.Default=Lo;var kr=xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){U(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Mt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ut(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof oe?o:new oe(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,g=-o(-1/0,1/0),y=0,A=c.length,R;y<A;y++)R=c[y].style.zIndex,c[y]!==this._container&&R&&(g=o(g,+R));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){tt(this._container,this.options.opacity);var o=+new Date,c=!1,g=!1;for(var y in this._tiles){var A=this._tiles[y];if(!(!A.current||!A.loaded)){var R=Math.min(1,(o-A.loaded)/200);tt(A.el,R),R<1?c=!0:(A.active?g=!0:this._onOpaqueTile(A),A.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),c&&(Se(this._fadeFrame),this._fadeFrame=He(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=c-Math.abs(o-g),this._onUpdateLevel(g)):(Mt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var y=this._levels[o],A=this._map;return y||(y=this._levels[o]={},y.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=A.project(A.unproject(A.getPixelOrigin()),o).round(),y.zoom=o,this._setZoomTransform(y,A.getCenter(),A.getZoom()),N(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var o,c,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Mt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,g,y){var A=Math.floor(o/2),R=Math.floor(c/2),H=g-1,q=new oe(+A,+R);q.z=+H;var ee=this._tileCoordsToKey(q),fe=this._tiles[ee];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),H>y?this._retainParent(A,R,H,y):!1)},_retainChildren:function(o,c,g,y){for(var A=2*o;A<2*o+2;A++)for(var R=2*c;R<2*c+2;R++){var H=new oe(A,R);H.z=g+1;var q=this._tileCoordsToKey(H),ee=this._tiles[q];if(ee&&ee.active){ee.retain=!0;continue}else ee&&ee.loaded&&(ee.retain=!0);g+1<y&&this._retainChildren(A,R,g+1,y)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,g,y){var A=Math.round(c);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var R=this.options.updateWhenZooming&&A!==this._tileZoom;(!y||R)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,c)},_setZoomTransform:function(o,c,g){var y=this._map.getZoomScale(g,o.zoom),A=o.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,g)).round();Ae.any3d?k(o.el,A,y):ve(o.el,A)},_resetGrid:function(){var o=this._map,c=o.options.crs,g=this._tileSize=this.getTileSize(),y=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],y).x/g.x),Math.ceil(o.project([0,c.wrapLng[1]],y).x/g.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],y).y/g.x),Math.ceil(o.project([c.wrapLat[1],0],y).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,g=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(g,this._tileZoom),A=c.project(o,this._tileZoom).floor(),R=c.getSize().divideBy(y*2);return new Be(A.subtract(R),A.add(R))},_update:function(o){var c=this._map;if(c){var g=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(o),A=this._pxBoundsToTileRange(y),R=A.getCenter(),H=[],q=this.options.keepBuffer,ee=new Be(A.getBottomLeft().subtract([q,-q]),A.getTopRight().add([q,-q]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var be=this._tiles[fe].coords;(be.z!==this._tileZoom||!ee.contains(new oe(be.x,be.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var We=A.min.y;We<=A.max.y;We++)for(var st=A.min.x;st<=A.max.x;st++){var er=new oe(st,We);if(er.z=this._tileZoom,!!this._isValidTile(er)){var On=this._tiles[this._tileCoordsToKey(er)];On?On.current=!0:H.push(er)}}if(H.sort(function(ur,is){return ur.distanceTo(R)-is.distanceTo(R)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pr=document.createDocumentFragment();for(st=0;st<H.length;st++)this._addTile(H[st],Pr);this._level.el.appendChild(Pr)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var g=this._globalTileRange;if(!c.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!c.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(o);return Ge(this.options.bounds).overlaps(y)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,g=this.getTileSize(),y=o.scaleBy(g),A=y.add(g),R=c.unproject(y,o.z),H=c.unproject(A,o.z);return[R,H]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),g=new Tt(c[0],c[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),g=new oe(+c[0],+c[1]);return g.z=+c[2],g},_removeTile:function(o){var c=this._tiles[o];c&&(Mt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Pe(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=N,o.onmousemove=N,Ae.ielt9&&this.options.opacity<1&&tt(o,this.options.opacity)},_addTile:function(o,c){var g=this._getTilePos(o),y=this._tileCoordsToKey(o),A=this.createTile(this._wrapCoords(o),m(this._tileReady,this,o));this._initTile(A),this.createTile.length<2&&He(m(this._tileReady,this,o,null,A)),ve(A,g),this._tiles[y]={el:A,coords:o,current:!0},c.appendChild(A),this.fire("tileloadstart",{tile:A,coords:o})},_tileReady:function(o,c,g){c&&this.fire("tileerror",{error:c,tile:g,coords:o});var y=this._tileCoordsToKey(o);g=this._tiles[y],g&&(g.loaded=+new Date,this._map._fadeAnimated?(tt(g.el,0),Se(this._fadeFrame),this._fadeFrame=He(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),c||(Pe(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?He(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new oe(this._wrapX?I(o.x,this._wrapX):o.x,this._wrapY?I(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new Be(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function sc(o){return new kr(o)}var to=kr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=U(this,c),c.detectRetina&&Ae.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var g=document.createElement("img");return Ve(g,"load",m(this._tileOnLoad,this,c,g)),Ve(g,"error",m(this._tileOnError,this,c,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var c={r:Ae.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=g),c["-y"]=g}return M(this._url,h(c,this.options))},_tileOnLoad:function(o,c){Ae.ielt9?setTimeout(m(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,g){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),o(g,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,g=this.options.zoomReverse,y=this.options.zoomOffset;return g&&(o=c-o),o+y},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=N,c.onerror=N,!c.complete)){c.src=ue;var g=this._tiles[o].coords;Mt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:g})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",ue),kr.prototype._removeTile.call(this,o)},_tileReady:function(o,c,g){if(!(!this._map||g&&g.getAttribute("src")===ue))return kr.prototype._tileReady.call(this,o,c,g)}});function rd(o,c){return new to(o,c)}var id=to.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var g=h({},this.defaultWmsParams);for(var y in c)y in this.options||(g[y]=c[y]);c=U(this,c);var A=c.detectRetina&&Ae.retina?2:1,R=this.getTileSize();g.width=R.x*A,g.height=R.y*A,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,to.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),g=this._crs,y=Le(g.project(c[0]),g.project(c[1])),A=y.min,R=y.max,H=(this._wmsVersion>=1.3&&this._crs===Qi?[A.y,A.x,R.y,R.x]:[A.x,A.y,R.x,R.y]).join(","),q=to.prototype.getTileUrl.call(this,o);return q+se(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(o,c){return h(this.wmsParams,o),c||this.redraw(),this}});function wm(o,c){return new id(o,c)}to.WMS=id,rd.wms=wm;var Oi=xn.extend({options:{padding:.1},initialize:function(o){U(this,o),E(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var g=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,c),R=y.multiplyBy(-g).add(A).subtract(this._map._getNewPixelOrigin(o,c));Ae.any3d?k(this._container,R,g):ve(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),g=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new Be(g,g.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),od=Oi.extend({options:{tolerance:0},getEvents:function(){var o=Oi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ve(o,"mousemove",this._onMouseMove,this),Ve(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ve(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Se(this._redrawRequest),delete this._ctx,Mt(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var o=this._bounds,c=this._container,g=o.getSize(),y=Ae.retina?2:1;ve(c,o.min),c.width=y*g.x,c.height=y*g.y,c.style.width=g.x+"px",c.style.height=g.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[E(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,g=c.next,y=c.prev;g?g.prev=y:this._drawLast=y,y?y.next=g:this._drawFirst=g,delete o._order,delete this._layers[E(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),g=[],y,A;for(A=0;A<c.length;A++){if(y=Number(c[A]),isNaN(y))return;g.push(y)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||He(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Be,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var g=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)o=y.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var g,y,A,R,H=o._parts,q=H.length,ee=this._ctx;if(q){for(ee.beginPath(),g=0;g<q;g++){for(y=0,A=H[g].length;y<A;y++)R=H[g][y],ee[y?"lineTo":"moveTo"](R.x,R.y);c&&ee.closePath()}this._fillStroke(ee,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,g=this._ctx,y=Math.max(Math.round(o._radius),1),A=(Math.max(Math.round(o._radiusY),1)||y)/y;A!==1&&(g.save(),g.scale(1,A)),g.beginPath(),g.arc(c.x,c.y/A,y,0,Math.PI*2,!1),A!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,c){var g=c.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),g,y,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(y=g);this._fireEvent(y?[y]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(bt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var g,y,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(c)&&(y=g);y!==this._hoveredLayer&&(this._handleMouseOut(o),y&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([y],o,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,g){this._map._fireDOMEvent(c,g||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var g=c.next,y=c.prev;if(g)g.prev=y;else return;y?y.next=g:g&&(this._drawFirst=g),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var g=c.next,y=c.prev;if(y)y.next=g;else return;g?g.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function sd(o){return Ae.canvas?new od(o):null}var ra=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),vm={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=ra("shape");Pe(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=ra("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[E(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;Mt(c),o.removeInteractiveTarget(c),delete this._layers[E(o)]},_updateStyle:function(o){var c=o._stroke,g=o._fill,y=o.options,A=o._container;A.stroked=!!y.stroke,A.filled=!!y.fill,y.stroke?(c||(c=o._stroke=ra("stroke")),A.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=B(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(A.removeChild(c),o._stroke=null),y.fill?(g||(g=o._fill=ra("fill")),A.appendChild(g),g.color=y.fillColor||y.color,g.opacity=y.fillOpacity):g&&(A.removeChild(g),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),g=Math.round(o._radius),y=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+g+","+y+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){Ut(o._container)},_bringToBack:function(o){qn(o._container)}},xl=Ae.vml?ra:Yn,ia=Oi.extend({_initContainer:function(){this._container=xl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mt(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var o=this._bounds,c=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,g.setAttribute("width",c.x),g.setAttribute("height",c.y)),ve(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=xl("path");o.options.className&&Pe(c,o.options.className),o.options.interactive&&Pe(c,"leaflet-interactive"),this._updateStyle(o),this._layers[E(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Mt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[E(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,g=o.options;c&&(g.stroke?(c.setAttribute("stroke",g.color),c.setAttribute("stroke-opacity",g.opacity),c.setAttribute("stroke-width",g.weight),c.setAttribute("stroke-linecap",g.lineCap),c.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?c.setAttribute("stroke-dasharray",g.dashArray):c.removeAttribute("stroke-dasharray"),g.dashOffset?c.setAttribute("stroke-dashoffset",g.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),g.fill?(c.setAttribute("fill",g.fillColor||g.color),c.setAttribute("fill-opacity",g.fillOpacity),c.setAttribute("fill-rule",g.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,ui(o._parts,c))},_updateCircle:function(o){var c=o._point,g=Math.max(Math.round(o._radius),1),y=Math.max(Math.round(o._radiusY),1)||g,A="a"+g+","+y+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(c.x-g)+","+c.y+A+g*2+",0 "+A+-g*2+",0 ";this._setPath(o,R)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){Ut(o._path)},_bringToBack:function(o){qn(o._path)}});Ae.vml&&ia.include(vm);function ad(o){return Ae.svg||Ae.vml?new ia(o):null}ct.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&sd(o)||ad(o)}});var ld=s.extend({initialize:function(o,c){s.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ge(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Em(o,c){return new ld(o,c)}ia.create=xl,ia.pointsToPath=ui,u.geometryToLayer=f,u.coordsToLatLng=x,u.coordsToLatLngs=_,u.latLngToCoords=C,u.latLngsToCoords=T,u.getFeature=b,u.asFeature=P,ct.mergeOptions({boxZoom:!0});var ud=Qn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rn(),Me(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ve(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new Be(this._point,this._startPoint),g=c.getSize();ve(this._box,c.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Mt(this._box),bt(this._container,"leaflet-crosshair")),bo(),Dt(),Ee(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var c=new Tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ct.addInitHook("addHandler","boxZoom",ud),ct.mergeOptions({doubleClickZoom:!0});var cd=Qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,g=c.getZoom(),y=c.options.zoomDelta,A=o.originalEvent.shiftKey?g-y:g+y;c.options.doubleClickZoom==="center"?c.setZoom(A):c.setZoomAround(o.containerPoint,A)}});ct.addInitHook("addHandler","doubleClickZoom",cd),ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hd=Qn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new di(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Ge(this._map.options.maxBounds);this._offsetLimit=Le(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),g=this._initialWorldOffset,y=this._draggable._newPos.x,A=(y-c+g)%o+c-g,R=(y+c+g)%o-c-g,H=Math.abs(A+g)<Math.abs(R+g)?A:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(o){var c=this._map,g=c.options,y=!g.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),y)c.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,H=g.easeLinearity,q=A.multiplyBy(H/R),ee=q.distanceTo([0,0]),fe=Math.min(g.inertiaMaxSpeed,ee),be=q.multiplyBy(fe/ee),We=fe/(g.inertiaDeceleration*H),st=be.multiplyBy(-We/2).round();!st.x&&!st.y?c.fire("moveend"):(st=c._limitOffset(st,c.options.maxBounds),He(function(){c.panBy(st,{duration:We,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});ct.addInitHook("addHandler","dragging",hd),ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fd=Qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ve(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,g=o.scrollTop||c.scrollTop,y=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},g=this.keyCodes,y,A;for(y=0,A=g.left.length;y<A;y++)c[g.left[y]]=[-1*o,0];for(y=0,A=g.right.length;y<A;y++)c[g.right[y]]=[o,0];for(y=0,A=g.down.length;y<A;y++)c[g.down[y]]=[0,o];for(y=0,A=g.up.length;y<A;y++)c[g.up[y]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},g=this.keyCodes,y,A;for(y=0,A=g.zoomIn.length;y<A;y++)c[g.zoomIn[y]]=o;for(y=0,A=g.zoomOut.length;y<A;y++)c[g.zoomOut[y]]=-o},_addHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,g=this._map,y;if(c in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(y=this._panKeys[c],o.shiftKey&&(y=pe(y).multiplyBy(3)),g.options.maxBounds&&(y=g._limitOffset(pe(y),g.options.maxBounds)),g.options.worldCopyJump){var A=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(y)));g.panTo(A)}else g.panBy(y)}else if(c in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;xr(o)}}});ct.addInitHook("addHandler","keyboard",fd),ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dd=Qn.extend({addHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=qi(o),g=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var y=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),y),xr(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,R=g?Math.ceil(A/g)*g:A,H=o._limitZoom(c+(this._delta>0?R:-R))-c;this._delta=0,this._startTime=null,H&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+H):o.setZoomAround(this._lastMousePos,c+H))}});ct.addInitHook("addHandler","scrollWheelZoom",dd);var Cm=600;ct.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var pd=Qn.extend({addHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new oe(c.clientX,c.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Ve(document,"touchend",En),Ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Cm),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ee(document,"touchend",En),Ee(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new oe(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});g._simulated=!0,c.target.dispatchEvent(g)}});ct.addInitHook("addHandler","tapHold",pd),ct.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var gd=Qn.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var g=c.mouseEventToContainerPoint(o.touches[0]),y=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(g.add(y)._divideBy(2))),this._startDist=g.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),En(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,g=c.mouseEventToContainerPoint(o.touches[0]),y=c.mouseEventToContainerPoint(o.touches[1]),A=g.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(A,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&A<1||this._zoom>c.getMaxZoom()&&A>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var R=g._add(y)._divideBy(2)._subtract(this._centerPoint);if(A===1&&R.x===0&&R.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Se(this._animRequest);var H=m(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=He(H,this,!0),En(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Se(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ct.addInitHook("addHandler","touchZoom",gd),ct.BoxZoom=ud,ct.DoubleClickZoom=cd,ct.Drag=hd,ct.Keyboard=fd,ct.ScrollWheelZoom=dd,ct.TapHold=pd,ct.TouchZoom=gd,r.Bounds=Be,r.Browser=Ae,r.CRS=at,r.Canvas=od,r.Circle=$i,r.CircleMarker=mi,r.Class=ft,r.Control=_r,r.DivIcon=Hn,r.DivOverlay=Gt,r.DomEvent=Un,r.DomUtil=mn,r.Draggable=di,r.Evented=De,r.FeatureGroup=Rr,r.GeoJSON=u,r.GridLayer=kr,r.Handler=Qn,r.Icon=Ji,r.ImageOverlay=J,r.LatLng=rt,r.LatLngBounds=Tt,r.Layer=xn,r.LayerGroup=ei,r.LineUtil=ml,r.Map=ct,r.Marker=$n,r.Mixin=dl,r.Path=Or,r.Point=oe,r.PolyUtil=Qs,r.Polygon=s,r.Polyline=n,r.Popup=jn,r.PosAnimation=qs,r.Projection=ea,r.Rectangle=ld,r.Renderer=Oi,r.SVG=ia,r.SVGOverlay=nt,r.TileLayer=to,r.Tooltip=At,r.Transformation=Bt,r.Util=Je,r.VideoOverlay=xe,r.bind=m,r.bounds=Le,r.canvas=sd,r.circle=S,r.circleMarker=mt,r.control=ko,r.divIcon=eo,r.extend=h,r.featureGroup=Nr,r.geoJSON=Z,r.geoJson=Y,r.gridLayer=sc,r.icon=ta,r.imageOverlay=me,r.latLng=ge,r.latLngBounds=Ge,r.layerGroup=lr,r.map=hl,r.marker=oc,r.point=pe,r.polygon=l,r.polyline=i,r.popup=Wn,r.rectangle=Em,r.setOptions=U,r.stamp=E,r.svg=ad,r.svgOverlay=Ye,r.tileLayer=rd,r.tooltip=An,r.transformation=Ir,r.version=a,r.videoOverlay=de;var Am=window.L;r.noConflict=function(){return window.L=Am,this},window.L=r})})(Zh,Zh.exports);var ll=Zh.exports;const fv=$h(ll);function pm(e,t){const r=ne.useRef(t);ne.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const dv=1;function pv(e){return Object.freeze({__version:dv,map:e})}function gv(e,t){return Object.freeze({...e,...t})}const gm=ne.createContext(null),mm=gm.Provider;function xm(){const e=ne.useContext(gm);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function mv(e){function t(r,a){const{instance:h,context:d}=e(r).current;return ne.useImperativeHandle(a,()=>h),r.children==null?null:Pa.createElement(mm,{value:d},r.children)}return ne.forwardRef(t)}function xv(e){function t(r,a){const[h,d]=ne.useState(!1),{instance:m}=e(r,d).current;ne.useImperativeHandle(a,()=>m),ne.useEffect(function(){h&&m.update()},[m,h,r.children]);const v=m._contentNode;return v?Xg.createPortal(r.children,v):null}return ne.forwardRef(t)}function _v(e){function t(r,a){const{instance:h}=e(r).current;return ne.useImperativeHandle(a,()=>h),null}return ne.forwardRef(t)}function _m(e,t){const r=ne.useRef();ne.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function ed(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function yv(e,t){return function(a,h){const d=xm(),m=e(ed(a,d),d);return pm(d.map,a.attribution),_m(m.current,a.eventHandlers),t(m.current,d,a,h),m}}function td(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function nd(e,t){return t==null?function(a,h){const d=ne.useRef();return d.current||(d.current=e(a,h)),d}:function(a,h){const d=ne.useRef();d.current||(d.current=e(a,h));const m=ne.useRef(a),{instance:v}=d.current;return ne.useEffect(function(){m.current!==a&&(t(v,a,m.current),m.current=a)},[v,a,h]),d}}function wv(e,t){ne.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var d;(d=t.layerContainer)==null||d.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ym(e){return function(r){const a=xm(),h=e(ed(r,a),a);return pm(a.map,r.attribution),_m(h.current,r.eventHandlers),wv(h.current,a),h}}function vv(e,t){const r=nd(e,t),a=ym(r);return mv(a)}function Ev(e,t){const r=nd(e),a=yv(r,t);return xv(a)}function Cv(e,t){const r=nd(e,t),a=ym(r);return _v(a)}function Av(e,t,r){const{opacity:a,zIndex:h}=t;a!=null&&a!==r.opacity&&e.setOpacity(a),h!=null&&h!==r.zIndex&&e.setZIndex(h)}function Gh(){return Gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gh.apply(this,arguments)}function Sv({bounds:e,boundsOptions:t,center:r,children:a,className:h,id:d,placeholder:m,style:v,whenReady:E,zoom:w,...I},N){const[F]=ne.useState({className:h,id:d,style:v}),[W,j]=ne.useState(null);ne.useImperativeHandle(N,()=>(W==null?void 0:W.map)??null,[W]);const U=ne.useCallback(z=>{if(z!==null&&W===null){const M=new ll.Map(z,I);r!=null&&w!=null?M.setView(r,w):e!=null&&M.fitBounds(e,t),E!=null&&M.whenReady(E),j(pv(M))}},[]);ne.useEffect(()=>()=>{W==null||W.map.remove()},[W]);const se=W?Pa.createElement(mm,{value:W},a):m??null;return Pa.createElement("div",Gh({},F,{ref:U}),se)}const Tv=ne.forwardRef(Sv),Iv=vv(function({position:t,...r},a){const h=new ll.Marker(t,r);return td(h,gv(a,{overlayContainer:h}))},function(t,r,a){r.position!==a.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),bv=Ev(function(t,r){const a=new ll.Popup(t,r.overlayContainer);return td(a,r)},function(t,r,{position:a},h){ne.useEffect(function(){const{instance:m}=t;function v(w){w.popup===m&&(m.update(),h(!0))}function E(w){w.popup===m&&h(!1)}return r.map.on({popupopen:v,popupclose:E}),r.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(r.map)):r.overlayContainer.bindPopup(m),function(){var I;r.map.off({popupopen:v,popupclose:E}),(I=r.overlayContainer)==null||I.unbindPopup(),r.map.removeLayer(m)}},[t,r,h,a])}),Rv=Cv(function({url:t,...r},a){const h=new ll.TileLayer(t,ed(r,a));return td(h,a)},function(t,r,a){Av(t,r,a);const{url:h}=r;h!=null&&h!==a.url&&t.setUrl(h)});function Nv(){const[e,t]=ne.useState([]),[r,a]=ne.useState(!0),[h,d]=ne.useState([48.2715,16.403]),{token:m}=Ws();ne.useEffect(()=>{fetch("/api/persons",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}}).then(W=>W.json()).then(W=>{t(W),v(W),a(!1)}).catch(W=>{console.error("Error fetching persons:",W),a(!1)})},[]);const v=W=>{if(W.length===0)return;let j=0,U=0,se=0;for(let z of W)z.latitude_patient!=null&&z.longitude_patient!=null&&(U+=parseFloat(z.latitude_patient),se+=parseFloat(z.longitude_patient),j++);d([U/j,se/j])},E=W=>{if(W!=null)switch(W.toLowerCase()){case"gelb":return"yellow";case"rot":return"red";case"grn":return"green";case"blau":return"blue";case"schwarz":return"black";default:return"white"}},w=W=>fv.divIcon({className:"custom-div-icon",html:`<div style='background-color:${W};' class='marker-pin'></div>`,iconSize:[30,42],iconAnchor:[15,42]}),I=document.querySelectorAll("table thead th"),N=document.querySelectorAll("table tbody tr:first-child td"),F=()=>e.map(W=>W.latitude_patient!=null&&W.longitude_patient!=null?O.jsx(Iv,{position:[W.latitude_patient,W.longitude_patient],icon:w(E(W.Triagefarbe)),children:O.jsxs(bv,{children:["Nummer: ",W.idpatient,O.jsx("br",{}),"Kontaminiert: ",W.kontaminiert?"Ja":"Nein",O.jsx("br",{})]})},W.idpatient):null);return r?O.jsx("p",{children:"Ldt..."}):e.length===0?O.jsx("p",{children:"Keine Personen gefunden."}):O.jsxs("div",{style:{position:"absolute",top:"13%",left:"0",width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",padding:"0",display:"flex",flexDirection:"column"},children:[O.jsx("h2",{children:"Alle Personen:"}),O.jsxs("div",{children:[O.jsxs("table",{border:"1",children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Nummer"}),O.jsx("th",{children:"Atmung"}),O.jsx("th",{children:"Blutung"}),O.jsx("th",{children:"Radialispuls"}),O.jsx("th",{children:"Triagefarbe"}),O.jsx("th",{children:"Transport"}),O.jsx("th",{children:"Dringend"}),O.jsx("th",{children:"Kontaminiert"}),O.jsx("th",{children:"Name"}),O.jsx("th",{children:"Position (Longitude)"}),O.jsx("th",{children:"Position (Latitude)"}),O.jsx("th",{children:"Erfasst"}),O.jsx("th",{children:"Letztes Update"})]})}),O.jsx("tbody",{children:e.map(W=>O.jsxs("tr",{children:[O.jsx("td",{children:W.idpatient}),O.jsx("td",{children:W.atmung?"Ja":"Nein"}),O.jsx("td",{children:W.blutung?"Ja":"Nein"}),O.jsx("td",{children:W.radialispuls}),O.jsx("td",{children:O.jsx("div",{style:{backgroundColor:E(W.triagefarbe)},children:W.triagefarbe})}),O.jsx("td",{children:W.transport?"Ja":"Nein"}),O.jsx("td",{children:W.dringend?"Ja":"Nein"}),O.jsx("td",{children:W.kontaminiert?"Ja":"Nein"}),O.jsx("td",{children:W.name||"N/A"}),O.jsx("td",{children:W.longitude_patient||"N/A"}),O.jsx("td",{children:W.latitude_patient||"N/A"}),O.jsx("td",{children:W.created_at}),O.jsx("td",{children:W.updated_at})]},W.idpatient))})]}),N.forEach((W,j)=>{W.style.width=window.getComputedStyle(I[j]).width})]}),O.jsxs("div",{style:{height:"400px",width:"100%"},children:[O.jsx("h2",{children:"Karte:"}),O.jsxs(Tv,{center:h,zoom:13,style:{flex:1,height:"400px",width:"100%"},children:[O.jsx(Rv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),F()]})]})]})}function Ov(){const[e,t]=ne.useState({username:"",password:""}),[r,a]=ne.useState(null),h=Ai(),d=v=>{const{name:E,value:w}=v.target;t({...e,[E]:w})},m=v=>{v.preventDefault(),e.username==="admin"&&e.password==="admin"?h("/AdminSettingsPage"):a("Benutzername oder Passwort ist falsch. Bitte versuche es erneut.")};return O.jsx("div",{children:O.jsxs("div",{className:"login-container",children:[O.jsx("h2",{className:"Anmeldung",children:"Benutzeranmeldung"}),O.jsxs("form",{onSubmit:m,children:[O.jsxs("div",{className:"input-container",children:[O.jsx("label",{htmlFor:"username",children:"Benutzername:"}),O.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:d})]}),O.jsxs("div",{className:"input-container",children:[O.jsx("label",{htmlFor:"password",children:"Passwort:"}),O.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:d})]}),O.jsx("button",{type:"submit",className:"login-button",children:"Anmelden"}),r&&O.jsx("p",{style:{color:"red"},className:"error-message",children:r})]})]})})}function kv(){const e=Ai();function t(){e("/CreatePatientQrCodePage")}return O.jsxs("div",{children:[O.jsx("button",{onClick:t,children:"Patienten QR-Codes erzeugen"}),O.jsx("button",{children:"Admin-User erstellen"})]})}function Pv(){const[e,t]=ne.useState("");function r(h){isNaN(h.target.value)||t(h.target.value)}function a(){}return O.jsxs("div",{children:[O.jsx("h2",{children:"Patienten QR-Codes generieren"}),O.jsx("p",{children:"Bitte auswhlen wie viele Patienten QR-Codes generiert werden sollen"}),O.jsx("input",{style:{width:"300px"},type:"number",id:"numberInput",value:e,onChange:r,placeholder:"Bitte hier die Anzahl eingeben"}),O.jsx("button",{onClick:a,children:"Generieren"})]})}const yr=({element:e})=>{const{token:t,validateToken:r}=Ws(),[a,h]=ne.useState(!1);return ne.useEffect(()=>{(async()=>{if(t)try{const m=await r(t);h(m)}catch(m){console.error("Error validating token:",m),h(!1)}})()},[t,r]),a?O.jsx(O.Fragment,{children:e}):O.jsx(dm,{})},Nt=({id:e,onClick:t})=>{const[r,a]=ne.useState(!1),h=()=>{a(!r),t(e,!r)},d=()=>{switch(e){case"kopf":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"kopf",cx:"52.273449",cy:"20.800844",rx:"21.162607",ry:"18.630329"});case"hals":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"hals",width:"14.108405",height:"11.214372",x:"44.495739",y:"38.345917"});case"brust_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"brust_links",width:"19.004412",height:"34.00441",x:"51.497795",y:"49.497795"});case"brust_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"brust_rechts",width:"19.004412",height:"34.00441",x:"32.497795",y:"49.497795"});case"leiste_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"leiste_links",width:"19.17296",height:"23.152252",x:"51.5",y:"82.5"});case"leiste_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"leiste_rechts",width:"19.004314",height:"23.156567",x:"32.497841",y:"82.497841"});case"schulter_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_links",cx:"73.978683",cy:"50.102921",rx:"6.3306942",ry:"5.6071858"});case"schulter_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_rechts",cx:"28.035931",cy:"49.017662",rx:"6.3306942",ry:"5.6071858"});case"huefte_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_links",cx:"72.53167",cy:"106.53654",rx:"6.3306942",ry:"5.6071858"});case"huefte_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_rechts",cx:"30.568203",cy:"107.98357",rx:"6.3306942",ry:"5.6071858"});case"oberschenkel_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_rechts",width:"7.5968332",height:"37.260658",x:"45.877144",y:"104.16055",transform:"rotate(11.084325)"});case"unterschenkel_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_links",width:"7.5968332",height:"31.472595",x:"74.883072",y:"154.83069"});case"oberschenkel_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_links",width:"7.5968332",height:"37.260658",x:"47.448467",y:"122.23477",transform:"rotate(-10.379456)"});case"unterschenkel_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_rechts",width:"7.5968332",height:"31.472595",x:"16.278927",y:"155.19244"});case"knie_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_links",cx:"79.404991",cy:"150.67052",rx:"6.3306942",ry:"5.6071858"});case"knie_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_rechts",cx:"20.077335",cy:"151.03227",rx:"6.3306942",ry:"5.6071858"});case"oberarm_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_links",width:"5.608892",height:"25.70512",x:"31.055252",y:"85.254852",transform:"matrix(0.84710696,-0.53142243,0.57047303,0.82131633,0,0)"});case"oberarm_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_rechts",width:"5.3013601",height:"29.510719",x:"43.3629",y:"30.410044",transform:"matrix(0.85927699,0.51151056,-0.44289859,0.89657171,0,0)"});case"ellbogen_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_rechts",cx:"11.937879",cy:"79.766754",rx:"5.0645556",ry:"4.521924"});case"ellbogen_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_links",cx:"94.056038",cy:"75.425705",rx:"5.7880635",ry:"4.883678"});case"fuss_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_rechts",cx:"18.087696",cy:"191.72961",rx:"7.9585872",ry:"6.5115709"});case"fuss_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_links",cx:"79.947617",cy:"191.0061",rx:"7.9585872",ry:"6.5115709"});case"auge_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"auge_rechts",cx:"42.68697",cy:"15.736297",rx:"5.0645552",ry:"4.521924"});case"auge_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"auge_links",cx:"60.051159",cy:"16.098051",rx:"5.0645552",ry:"4.521924"});case"mund":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"mund",width:"19.17296",height:"6.5115709",x:"41.963459",y:"25.322775"});case"unterarm_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_links",width:"5.7880635",height:"31.472595",x:"91.885506",y:"78.138855"});case"unterarm_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_rechts",width:"5.7880635",height:"31.472595",x:"8.3203363",y:"81.39463"});case"hand_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_links",cx:"94.056023",cy:"112.50549",rx:"7.9585872",ry:"6.5115709"});case"hand_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_rechts",cx:"10.852616",cy:"116.48479",rx:"7.9585872",ry:"6.5115709"});case"genital":return O.jsx("path",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"genital",d:"m 36.785142,106.2725 h 29.999996 l -15.23523,12.96018 z","sodipodi:nodetypes":"cccc"});default:return null}};return O.jsx("g",{onClick:h,style:{cursor:"pointer"},children:d()})},Lv=()=>{const[e,t]=ne.useState({}),r=Ai(),a=(d,m)=>{t({...e,[d]:m})},h=()=>{r("/ShowBodyBack")};return O.jsxs("div",{className:"bodyparts-container",style:{paddingTop:"40px"},children:[O.jsx("h1",{children:"Front"}),O.jsxs("svg",{className:"body-svg",viewBox:"0 0 105 201",preserveAspectRatio:"xMidYMid meet",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[O.jsxs("g",{className:"first-layer",children:[O.jsx(Nt,{id:"hals",onClick:a}),O.jsx(Nt,{id:"brust_links",onClick:a}),O.jsx(Nt,{id:"brust_rechts",onClick:a}),O.jsx(Nt,{id:"leiste_links",onClick:a}),O.jsx(Nt,{id:"leiste_rechts",onClick:a}),O.jsx(Nt,{id:"oberschenkel_rechts",onClick:a}),O.jsx(Nt,{id:"unterschenkel_links",onClick:a}),O.jsx(Nt,{id:"oberschenkel_links",onClick:a}),O.jsx(Nt,{id:"unterschenkel_rechts",onClick:a}),O.jsx(Nt,{id:"oberarm_links",onClick:a}),O.jsx(Nt,{id:"oberarm_rechts",onClick:a}),O.jsx(Nt,{id:"unterarm_links",onClick:a}),O.jsx(Nt,{id:"unterarm_rechts",onClick:a}),O.jsx(Nt,{id:"genital",onClick:a})]}),O.jsxs("g",{className:"second-layer",children:[O.jsx(Nt,{id:"kopf",onClick:a}),O.jsx(Nt,{id:"schulter_links",onClick:a}),O.jsx(Nt,{id:"schulter_rechts",onClick:a}),O.jsx(Nt,{id:"huefte_links",onClick:a}),O.jsx(Nt,{id:"huefte_rechts",onClick:a}),O.jsx(Nt,{id:"knie_links",onClick:a}),O.jsx(Nt,{id:"knie_rechts",onClick:a}),O.jsx(Nt,{id:"ellbogen_rechts",onClick:a}),O.jsx(Nt,{id:"ellbogen_links",onClick:a}),O.jsx(Nt,{id:"fuss_rechts",onClick:a}),O.jsx(Nt,{id:"fuss_links",onClick:a}),O.jsx(Nt,{id:"auge_rechts",onClick:a}),O.jsx(Nt,{id:"auge_links",onClick:a}),O.jsx(Nt,{id:"mund",onClick:a}),O.jsx(Nt,{id:"hand_links",onClick:a}),O.jsx(Nt,{id:"hand_rechts",onClick:a})]})]}),O.jsxs("div",{children:[O.jsx("h2",{children:"Clicked Body Parts"}),O.jsx("ul",{children:Object.entries(e).map(([d,m])=>O.jsx("li",{children:`${d}: ${m?"Clicked":"Not Clicked"}`},d))})]}),O.jsx("button",{onClick:h,children:"Go to Back"})]})},St=({id:e,onClick:t})=>{const[r,a]=ne.useState(!1),h=()=>{a(!r),t(e,!r)},d=()=>{switch(e){case"hals":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"hals",width:"14.108405",height:"11.214372",x:"43.410477",y:"38.345917"});case"ruecken_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"ruecken_links",width:"11.937881",height:"43.410473",x:"30.387331",y:"49.560295"});case"oberschenkel_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_links",width:"7.5968332",height:"37.260658",x:"44.81213",y:"104.36919",transform:"rotate(11.084325)"});case"unterschenkel_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_rechts",width:"7.5968332",height:"31.472595",x:"73.797806",y:"154.83069"});case"oberschenkel_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberschenkel_rechts",width:"7.5968332",height:"37.260658",x:"46.380962",y:"122.03924",transform:"rotate(-10.379456)"});case"unterschenkel_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterschenkel_links",width:"7.5968332",height:"31.472595",x:"15.193666",y:"155.19244"});case"oberarm_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_rechts",width:"5.608892",height:"25.70512",x:"30.162931",y:"84.677483",transform:"matrix(0.84710696,-0.53142243,0.57047303,0.82131633,0,0)"});case"oberarm_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"oberarm_links",width:"5.3013601",height:"29.510719",x:"42.386909",y:"30.966864",transform:"matrix(0.85927699,0.51151056,-0.44289859,0.89657171,0,0)"});case"unterarm_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_rechts",width:"5.7880635",height:"31.472595",x:"90.80024",y:"78.138855"});case"unterarm_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"unterarm_links",width:"5.7880635",height:"31.472595",x:"7.235074",y:"81.39463"});case"becken_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"becken_rechts",width:"12.113685",height:"18.625257",x:"58.154491",y:"93.244614"});case"ruecken_rechts":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"ruecken_rechts",width:"11.937881",height:"43.410473",x:"58.242386",y:"49.560295"});case"becken_links":return O.jsx("rect",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"becken_links",width:"11.763668",height:"18.636993",x:"29.93181",y:"93.238747"});case"genital":return O.jsx("path",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"genital",d:"m 34.092779,113.31881 h 30 l -15.235231,12.96018 z","sodipodi:nodetypes":"cccc"});case"huefte_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_links",cx:"28.035913",cy:"113.40987",rx:"6.3306942",ry:"5.6071858"});case"huefte_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"huefte_rechts",cx:"69.999382",cy:"113.77161",rx:"6.3306942",ry:"5.6071858"});case"knie_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_rechts",cx:"77.234451",cy:"150.67052",rx:"6.3306942",ry:"5.6071858"});case"hand_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_links",cx:"9.767354",cy:"116.48479",rx:"7.9585872",ry:"6.5115709"});case"hand_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"hand_rechts",cx:"92.970757",cy:"112.50549",rx:"7.9585872",ry:"6.5115709"});case"fuss_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_links",cx:"17.002436",cy:"191.72961",rx:"7.9585872",ry:"6.5115709"});case"ellbogen_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_rechts",cx:"92.970772",cy:"75.425705",rx:"5.7880635",ry:"4.883678"});case"ellbogen_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"ellbogen_links",cx:"10.852616",cy:"79.766754",rx:"5.0645556",ry:"4.521924"});case"knie_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"knie_links",cx:"18.992075",cy:"151.03227",rx:"6.3306942",ry:"5.6071858"});case"schulter_links":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_links",cx:"26.95067",cy:"49.017662",rx:"6.3306942",ry:"5.6071858"});case"kopf":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"kopf",cx:"51.188187",cy:"20.800844",rx:"21.162607",ry:"18.630329"});case"schulter_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"schulter_rechts",cx:"72.893417",cy:"50.102921",rx:"6.3306942",ry:"5.6071858"});case"fuss_rechts":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"fuss_rechts",cx:"78.86235",cy:"191.0061",rx:"7.9585872",ry:"6.5115709"});case"brustwirbel":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"brustwirbel",cx:"50.392338",cy:"70.472542",rx:"6.5475974",ry:"20.232826"});case"lendenwirbel":return O.jsx("ellipse",{style:{fill:r?"red":"#808080",stroke:"black",strokeWidth:1},id:"lendenwirbel",cx:"50.00864",cy:"101.80787",rx:"7.0820742",ry:"9.7679596"});default:return null}};return O.jsx("g",{onClick:h,style:{cursor:"pointer"},children:d()})},Mv=()=>{const[e,t]=ne.useState({}),r=Ai(),a=(d,m)=>{t({...e,[d]:m})},h=()=>{r("/ShowBodyFront")};return O.jsxs("div",{className:"bodyparts-container",style:{paddingTop:"40px"},children:[O.jsx("h1",{children:"Back"}),O.jsxs("svg",{className:"body-svg",viewBox:"0 0 103 202",preserveAspectRatio:"xMidYMid meet",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[O.jsxs("g",{className:"first-layer",children:[O.jsx(St,{id:"kopf",onClick:a}),O.jsx(St,{id:"hals",onClick:a}),O.jsx(St,{id:"ruecken_rechts",onClick:a}),O.jsx(St,{id:"oberschenkel_rechts",onClick:a}),O.jsx(St,{id:"unterschenkel_links",onClick:a}),O.jsx(St,{id:"oberschenkel_links",onClick:a}),O.jsx(St,{id:"unterschenkel_rechts",onClick:a}),O.jsx(St,{id:"oberarm_links",onClick:a}),O.jsx(St,{id:"oberarm_rechts",onClick:a}),O.jsx(St,{id:"unterarm_links",onClick:a}),O.jsx(St,{id:"unterarm_rechts",onClick:a}),O.jsx(St,{id:"becken_links",onClick:a}),O.jsx(St,{id:"ruecken_links",onClick:a}),O.jsx(St,{id:"becken_rechts",onClick:a}),O.jsx(St,{id:"genital",onClick:a}),O.jsx(St,{id:"huefte_rechts",onClick:a}),O.jsx(St,{id:"huefte_links",onClick:a}),O.jsx(St,{id:"knie_links",onClick:a}),O.jsx(St,{id:"knie_rechts",onClick:a}),O.jsx(St,{id:"ellbogen_rechts",onClick:a}),O.jsx(St,{id:"ellbogen_links",onClick:a}),O.jsx(St,{id:"fuss_rechts",onClick:a}),O.jsx(St,{id:"fuss_links",onClick:a}),O.jsx(St,{id:"auge_rechts",onClick:a}),O.jsx(St,{id:"auge_links",onClick:a}),O.jsx(St,{id:"mund",onClick:a}),O.jsx(St,{id:"hand_links",onClick:a}),O.jsx(St,{id:"hand_rechts",onClick:a}),O.jsx(St,{id:"schulter_rechts",onClick:a}),O.jsx(St,{id:"schulter_links",onClick:a}),O.jsx(St,{id:"brustwirbel",onClick:a}),O.jsx(St,{id:"lendenwirbel",onClick:a})]}),O.jsx("g",{className:"second-layer"})]}),O.jsxs("div",{children:[O.jsx("h2",{children:"Clicked Body Parts"}),O.jsx("ul",{children:Object.entries(e).map(([d,m])=>O.jsx("li",{children:`${d}: ${m?"Clicked":"Not Clicked"}`},d))})]}),O.jsx("button",{onClick:h,children:"Go to Front"})]})},Dv=Aw([{path:"/",element:O.jsx(yr,{element:O.jsx(sv,{})})},{path:"/qrAuthenticator",element:O.jsx(yr,{element:O.jsx(dm,{})})},{path:"/TriagePage1",element:O.jsx(yr,{element:O.jsx(uv,{})})},{path:"/TriagePage2",element:O.jsx(yr,{element:O.jsx(cv,{})})},{path:"/TriagePage3",element:O.jsx(yr,{element:O.jsx(hv,{})})},{path:"/RoleSelection",element:O.jsx(yr,{element:O.jsx(av,{})})},{path:"/ScanPatient",element:O.jsx(yr,{element:O.jsx(lv,{})})},{path:"/SituationRoomTable",element:O.jsx(yr,{element:O.jsx(Nv,{})})},{path:"/AdminLandingPage",element:O.jsx(yr,{element:O.jsx(Ov,{})})},{path:"/AdminSettingsPage",element:O.jsx(yr,{element:O.jsx(kv,{})})},{path:"/CreatePatientQrCodePage",element:O.jsx(yr,{element:O.jsx(Pv,{})})},{path:"/ShowBodyFront",element:O.jsx(yr,{element:O.jsx(Lv,{})})},{path:"/ShowBodyBack",element:O.jsx(yr,{element:O.jsx(Mv,{})})},{path:"*",element:O.jsx(ov,{})}]);function Bv(){return O.jsx("div",{className:"header",children:O.jsx("h2",{children:"PLS"})})}Gc.createRoot(document.getElementById("root")).render(O.jsx(Pa.StrictMode,{children:O.jsxs(iv,{children:[O.jsx(Bv,{}),O.jsx(Ow,{router:Dv})]})}));
